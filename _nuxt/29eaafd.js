(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{444:function(e,t,r){e.exports=r.p+"img/logo-06.8c72d74.svg"},492:function(e,t,r){var content=r(620);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(62).default)("73e5c1f1",content,!0,{sourceMap:!1})},618:function(e,t,r){e.exports=r.p+"img/photo.cac05f9.svg"},619:function(e,t,r){"use strict";r(492)},620:function(e,t,r){var o=r(61)(!1);o.push([e.i,"#wedding-design-system[data-v-2f663260]{background-color:var(--color-background-strong);width:100%;height:100%}.title[data-v-2f663260]{height:15%;justify-content:center}.title[data-v-2f663260],form[data-v-2f663260]{display:flex;align-items:center}form[data-v-2f663260]{height:85%;flex-direction:column;justify-content:space-around}.background-img[data-v-2f663260]{width:75%}#imageInput[data-v-2f663260]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}#imageInput+label[data-v-2f663260]{display:flex;flex-direction:column;align-items:center;cursor:pointer;-webkit-animation:blink 1s infinite alternate;animation:blink 1s infinite alternate}#imageInput+label[data-v-2f663260]:focus,#imageInput+label[data-v-2f663260]:hover{background-color:var(--color-primary);color:var(--color-white)}#imageInput+label img[data-v-2f663260]{height:4rem}#imageInput+label:focus img[data-v-2f663260],#imageInput+label:hover img[data-v-2f663260]{filter:invert(1)}.preview-container[data-v-2f663260]{width:80vw;height:70%;border:1px solid var(--color-black);overflow-y:scroll;border-radius:.25rem}.preview-item[data-v-2f663260]{display:flex;align-items:center;justify-content:space-between;box-sizing:border-box;padding:.75rem;grid-gap:.5rem;gap:.5rem}.preview-img[data-v-2f663260]{-o-object-fit:cover;object-fit:cover;overflow:hidden;height:30vw;width:30vw;border-radius:.5rem}.preview-progression-container[data-v-2f663260]{display:flex;flex-direction:column;align-items:center;justify-content:center;grid-gap:.25rem;gap:.25rem;width:30vw}.preview-progression[data-v-2f663260]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:.5rem;height:.5rem;width:30vw}.preview-progression[data-v-2f663260]::-webkit-progress-bar{background-color:var(--color-background-light);border-radius:.5rem}.preview-progression[data-v-2f663260]::-webkit-progress-value{background-color:var(--color-primary);border-radius:.5rem;-webkit-transition:all .3s ease;transition:all .3s ease}.preview-progression[data-v-2f663260]::-moz-progress-bar{background-color:var(--color-primary);border-radius:.5rem;-moz-transition:all .3s ease;transition:all .3s ease}@media (orientation:landscape){.background-img[data-v-2f663260]{height:50%;width:auto}}",""]),e.exports=o},688:function(e,t,r){"use strict";r.r(t);r(52);var o=r(18),n=r(162),c=(r(51),r(35),r(16),r(43),r(46),r(37),r(22),r(127),r(38),r(615),r(165),r(30),r(36),r(27),r(54),r(55),r(480)),l=r(509),d=r(444),f=r.n(d),v=r(618),h=r.n(v);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y={layout:"mariage",data:function(){return{assets:[],Logo:f.a,firebaseApp:null,firebaseStorage:null,PhotoIcon:h.a}},head:function(){return{htmlAttrs:{lang:this.$i18n.locale},title:"Mariage AgnÃ¨s et Florent - 19 AoÃ»t 2022"}},mounted:function(){var e={apiKey:this.$config.FIREBASE_API_KEY,authDomain:this.$config.FIREBASE_AUTH_DOMAIN,projectId:this.$config.FIREBASE_PROJECT_ID,storageBucket:this.$config.FIREBASE_STORAGE_BUCKET,messagingSenderId:this.$config.FIREBASE_MESSAGING_SENDER_ID,appId:this.$config.FIREBASE_APP_ID};this.firebaseApp=Object(c.a)(e),this.firebaseStorage=Object(l.b)(this.firebaseApp)},methods:{handleImageChange:function(e){var t=this;this.assets=[].concat(Object(n.a)(this.assets),Object(n.a)(Array.from(e.target.files).map((function(e){var r="/photos/".concat(e.lastModified,"-").concat(e.name);return t.assets.find((function(e){return e.firestoreUrl===r}))?null:{firestoreUrl:r,objectUrl:URL.createObjectURL(e),rawFile:e,status:"starting",uploadPct:0}})).filter(Boolean))),this.assets.filter((function(e){return"starting"===e.status})).forEach((function(e){t.uploadOnePhoto(e)}))},uploadOnePhoto:function(e){var t,r=this,o=Object(l.d)(this.firebaseStorage,e.firestoreUrl),n=Object(l.e)(o,e.rawFile,{customMetadata:{userAgent:window.navigator.userAgent,lastModified:e.rawFile.lastModified,lastModifiedDate:null===(t=e.rawFile.lastModifiedDate)||void 0===t?void 0:t.toISOString(),originalName:e.rawFile.name}});this.assets=this.assets.map((function(a){return e.firestoreUrl===a.firestoreUrl?w(w({},a),{},{status:"running"}):a})),n.on("state_changed",(function(t){r.assets=r.assets.map((function(a){return e.firestoreUrl===a.firestoreUrl?w(w({},a),{},{status:t.state,uploadPct:t.bytesTransferred/t.totalBytes*100}):a}))}),(function(t){r.assets=r.assets.map((function(a){return e.firestoreUrl===a.firestoreUrl?w(w({},a),{},{status:"error",error:t}):a}))}),(function(){r.assets=r.assets.map((function(a){return e.firestoreUrl===a.firestoreUrl?w(w({},a),{},{status:"success"}):a}))}))},handleUploadingPhoto:function(){}}},_=(r(619),r(50)),component=Object(_.a)(y,(function(){var e=this,t=e._self._c;return t("main",{attrs:{id:"wedding-design-system"}},[t("h1",{staticClass:"title typography-title-2"},[e._v("Partage de photos et vidÃ©os")]),e._v(" "),t("form",{on:{submit:function(t){return t.preventDefault(),e.handleUploadingPhoto.apply(null,arguments)}}},[e.assets.length?e._e():t("img",{staticClass:"background-img",attrs:{src:e.Logo,alt:""}}),e._v(" "),e.assets.length?t("section",{staticClass:"preview-container"},e._l(e.assets,(function(r){return t("article",{key:r.firestoreUrl,staticClass:"preview-item"},[t("img",{staticClass:"preview-img",attrs:{src:r.objectUrl,alt:""}}),e._v(" "),["starting","running","paused"].includes(r.status)?t("div",{staticClass:"preview-progression-container"},[t("span",{staticClass:"typography-paragraph"},[e._v(e._s("paused"===r.status?"En pause":"En cours"))]),e._v(" "),t("progress",{staticClass:"preview-progression",attrs:{max:"100"},domProps:{value:r.uploadPct}})]):e._e(),e._v(" "),"error"===r.status?t("div",{staticClass:"preview-progression-container"},[e._v("\n          Une erreur est survenu.\n          "+e._s(r.error.message)+"\n        ")]):e._e(),e._v(" "),"success"===r.status?t("div",{staticClass:"preview-progression-container"},[e._v("\n          ChargÃ© ! ðŸŽ‰\n        ")]):e._e()])})),0):e._e(),e._v(" "),t("input",{attrs:{id:"imageInput",type:"file",accept:"image/*",capture:"user",multiple:""},on:{change:e.handleImageChange}}),e._v(" "),t("label",{staticClass:"button",attrs:{for:"imageInput"}},[t("img",{attrs:{alt:"",src:e.PhotoIcon}}),e._v("\n      Prendre une photo\n    ")])])])}),[],!1,null,"2f663260",null);t.default=component.exports}}]);