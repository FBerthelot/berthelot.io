import{_ as M}from"./D-o4zoSN.js";import{s as N,g as R}from"./BAQarUfx.js";import{_ as T,e as O,C as A,f as S,L as F,g as q,y as V,c as u,o as r,a as t,j as c,t as s,i as n,z as p,ab as g,A as C,F as L,r as H,d as w,ac as z,s as E,E as W,h as B,v as j,k as Y}from"./DQxsgHZ-.js";import{c as G,_ as J,b as K,a as Q}from"./BALnjeyb.js";import"./D-DAG1LE.js";const X=""+new URL("cocktail.D5wN-rzN.svg",import.meta.url).href,Z=""+new URL("diner.DcCjSaaP.svg",import.meta.url).href,tt=""+new URL("cant.Dpnp7VEJ.png",import.meta.url).href,et=""+new URL("no-pets.DYWNGvLk.svg",import.meta.url).href,it=""+new URL("hotel.gJ1EVom-.svg",import.meta.url).href;function U(o){const i=o;i.__i18n=i.__i18n||[],i.__i18n.push({locale:"",resource:{fr:{hello:{t:0,b:{t:2,i:[{t:3,v:"Bonjour "},{t:4,k:"names"},{t:3,v:"&nbsp;!"}]}},ultimatum:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"On souhaiterait avoir ta rÃ©ponse avant le 30 avril 2023."},{t:2,i:[{t:3}],s:"On souhaiterait avoir votre rÃ©ponse avant le 30 avril 2023."}]}},attending:{question:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Viens-tu ?"},{t:2,i:[{t:3}],s:"Venez-vous ?"}]}},instruction:{t:0,b:{t:2,i:[{t:3}],s:"Plusieurs choix possibles"}},cityHall:{t:0,b:{t:2,i:[{t:3}],s:"Ã€ la mairie"}},cityHallDate:{t:0,b:{t:2,i:[{t:3}],s:"19 aoÃ»t 2023"}},church:{t:0,b:{t:2,i:[{t:3}],s:"Ã€ l'Ã©glise"}},churchDate:{t:0,b:{t:2,i:[{t:3}],s:"19 aoÃ»t 2023"}},wineReception:{t:0,b:{t:2,i:[{t:3}],s:"Au vin d'honneur"}},wineReceptionDate:{t:0,b:{t:2,i:[{t:3}],s:"19 aoÃ»t 2023"}},party:{t:0,b:{t:2,i:[{t:3}],s:"Ã€ la soirÃ©e"}},partyDate:{t:0,b:{t:2,i:[{t:3}],s:"19 aoÃ»t 2023"}},cant:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Je ne peux pas venir."},{t:2,i:[{t:3}],s:"Nous ne pouvons pas venir."}]}},after:{t:0,b:{t:2,i:[{t:3}],s:"Le lendemain"}},afterDate:{t:0,b:{t:2,i:[{t:3}],s:"20 aoÃ»t 2023"}},error:{required:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Merci de nous confirmer ta prÃ©sence."},{t:2,i:[{t:3}],s:"Merci de nous confirmer votre prÃ©sence."}]}}}},meal:{title:{t:0,b:{t:2,i:[{t:3}],s:"Choix du plat"}},subtitle:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Merci de choisir ce que tu souhaites manger pour le plat principal (uniquement disponible pour les menus adultes)."},{t:2,i:[{t:3}],s:"Merci de choisir ce que vous souhaitez manger pour le plat principal (uniquement disponible pour les menus adultes)."}]}},meat:{t:0,b:{t:2,i:[{t:3}],s:"Viande rouge saignante"}},fish:{t:0,b:{t:2,i:[{t:3}],s:"Poisson"}},children:{t:0,b:{t:2,i:[{t:3}],s:"Menu enfant"}},allergies:{t:0,b:{t:2,i:[{t:3}],s:"Une allergie ? Un rÃ©gime particulier ?"}},error:{required:{t:0,b:{t:2,i:[{t:3,v:"On a besoin de savoir ce que "},{t:4,k:"name"},{t:3,v:" mangera pour ne pas gÃ¢cher."}]}}}},plus1:{question:{t:0,b:{t:2,i:[{t:3}],s:"Viens-tu accompagnÃ© ?"}},questionName:{t:0,b:{t:2,i:[{t:3}],s:"Peux-tu nous dire son prÃ©nom ?"}},yes:{t:0,b:{t:2,i:[{t:3}],s:"Oui"}},no:{t:0,b:{t:2,i:[{t:3}],s:"Non"}},error:{required:{t:0,b:{t:2,i:[{t:3}],s:"Merci de nous confirmer qu'il ou elle vient."}}},errorName:{required:{t:0,b:{t:2,i:[{t:3}],s:"On a besoin du prÃ©nom de ton/ta +1. ;)"}}}},children:{question:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Ton/tes enfant(s) vien(nen)t-il(s) ?"},{t:2,i:[{t:3}],s:"Votre/Vos enfant(s) vien(nen)t-il(s) ?"}]}},yes:{t:0,b:{t:2,i:[{t:3}],s:"Oui"}},no:{t:0,b:{t:2,i:[{t:3}],s:"Non"}},error:{required:{t:0,b:{t:2,i:[{t:3}],s:"Merci de nous confirmer la prÃ©sence ou non des enfants."}}}},comment:{question:{t:0,b:{t:2,i:[{t:3}],s:"Un commentaire ?"}},error:{required:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"N'hÃ©sites pas Ã  nous laisser un petit commentaire, Ã§a nous fera plaisir. ðŸ˜‡"},{t:2,i:[{t:3}],s:"N'hÃ©sitez pas Ã  nous laisser un petit commentaire, Ã§a nous fera plaisir. ðŸ˜‡"}]}}}},pet:{p1:{t:0,b:{t:2,i:[{t:3}],s:"Attention, nos amis les animaux ne sont malheureusement pas autorisÃ©s."}},p2:{t:0,b:{t:2,i:[{t:3}],s:"Il faudra prÃ©voir de les faire garder pour le weekend."}}},housing:{p1:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"N'oublies pas de rÃ©server dÃ¨s que possible un logement pour le weekend du 19 aoÃ»t 2023 ! Granville est un lieu trÃ¨s touristique l'Ã©tÃ©."},{t:2,i:[{t:3}],s:"N'oubliez pas de rÃ©server dÃ¨s que possible un logement pour le weekend du 19 aoÃ»t 2023 ! Granville est un lieu trÃ¨s touristique l'Ã©tÃ©."}]}}},parker:{p1:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Un service de taxi sera Ã  ta disposition gratuitement pour que tu puisses rentrer dormir en sÃ©curitÃ©."},{t:2,i:[{t:3}],s:"Un service de taxi sera Ã  votre disposition gratuitement pour que vous puissiez rentrer dormir en sÃ©curitÃ©."}]}},p2:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Il sera disponible pour te ramener entre 1h et 5h du matin, si ton logement est situÃ© dans un rayon de 10 km autour du ChÃ¢teau de la CrÃªte."},{t:2,i:[{t:3}],s:"Il sera disponible pour vous ramener entre 1h et 5h du matin, si votre logement est situÃ© dans un rayon de 10 km autour du ChÃ¢teau de la CrÃªte."}]}},p3:{t:0,b:{t:2,i:[{t:3}],s:"Le lendemain, il repassera chercher les conducteurs entre 11 et 12h pour les ramener au ChÃ¢teau."}}},cgu:{p1:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Une fois la rÃ©ponse envoyÃ©e, tu ne pourras plus rÃ©utiliser ce formulaire pour la modifier. Si besoin, il faudra nous contacter directement :"},{t:2,i:[{t:3}],s:"Une fois la rÃ©ponse envoyÃ©e, vous ne pourrez plus rÃ©utiliser ce formulaire pour la modifier. Si besoin, il faudra nous contacter directement :"}]}},email:{t:0,b:{t:2,i:[{t:3},{t:9},{t:3},{t:9},{t:3}],s:"Par mail vallee_a@hotmail.fr / florent@berthelot.io"}},phone:{t:0,b:{t:2,i:[{t:3}],s:" Par tÃ©lÃ©phone au 06 03 65 21 38 / 06 50 99 96 18"}},error:{required:{t:0,b:{t:2,i:[{t:3}],s:"Il faut lire le petit message Ã  la fin et cocher cette case. ;)"}}}},submit:{text:{t:0,b:{t:2,i:[{t:3}],s:"Envoyer la rÃ©ponse"}},loading:{t:0,b:{t:2,i:[{t:3}],s:"Envoi..."}},error:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Une erreur est survenue lors de l'envoi du formulaire, rÃ©essaye !"},{t:2,i:[{t:3}],s:"Une erreur est survenue lors de l'envoi du formulaire, rÃ©essayez !"}]}}}},en:{hello:{t:0,b:{t:2,i:[{t:3,v:"Hello "},{t:4,k:"names"},{t:3,v:"!"}]}},ultimatum:{t:0,b:{t:2,i:[{t:3}],s:"Please answer before the 30th of April 2023."}},attending:{question:{t:0,b:{t:2,i:[{t:3}],s:"Will you come?"}},instruction:{t:0,b:{t:2,i:[{t:3}],s:"Several choices possible"}},cityHall:{t:0,b:{t:2,i:[{t:3}],s:"To the town hall"}},cityHallDate:{t:0,b:{t:2,i:[{t:3}],s:"19th of August 2023"}},church:{t:0,b:{t:2,i:[{t:3}],s:"To the church"}},churchDate:{t:0,b:{t:2,i:[{t:3}],s:"19th of August 2023"}},wineReception:{t:0,b:{t:2,i:[{t:3}],s:"To the reception"}},wineReceptionDate:{t:0,b:{t:2,i:[{t:3}],s:"19th of August 2023"}},party:{t:0,b:{t:2,i:[{t:3}],s:"To the dinner and party"}},partyDate:{t:0,b:{t:2,i:[{t:3}],s:"19th of August 2023"}},cant:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"I can't come."},{t:2,i:[{t:3}],s:"We can't come."}]}},after:{t:0,b:{t:2,i:[{t:3}],s:"The post-wedding brunch"}},afterDate:{t:0,b:{t:2,i:[{t:3}],s:"20th of August 2023"}},error:{required:{t:0,b:{t:2,i:[{t:3}],s:"Please confirm your attendance."}}}},meal:{title:{t:0,b:{t:2,i:[{t:3}],s:"Choice of main course"}},subtitle:{t:0,b:{t:2,i:[{t:3}],s:"Please choose your main course (only available for adult menus)."}},meat:{t:0,b:{t:2,i:[{t:3}],s:"Red meat cooked rare"}},fish:{t:0,b:{t:2,i:[{t:3}],s:"Fish"}},children:{t:0,b:{t:2,i:[{t:3}],s:"Kids' menu"}},allergies:{t:0,b:{t:2,i:[{t:3}],s:"Any allergy? Any special diet?"}},error:{required:{t:0,b:{t:2,i:[{t:3,v:"We need to know what "},{t:4,k:"name"},{t:3,v:" would prefer eating to avoid waste."}]}}}},plus1:{question:{t:0,b:{t:2,i:[{t:3}],s:"Will you come accompanied?"}},questionName:{t:0,b:{t:2,i:[{t:3}],s:"What's their name?"}},yes:{t:0,b:{t:2,i:[{t:3}],s:"Yes"}},no:{t:0,b:{t:2,i:[{t:3}],s:"No"}},error:{required:{t:0,b:{t:2,i:[{t:3}],s:"Please confirm their attendance."}}},errorName:{required:{t:0,b:{t:2,i:[{t:3}],s:"We need their name for the seating plan. ;)"}}}},children:{question:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Is your child attending?"},{t:2,i:[{t:3}],s:"Are your children attending?"}]}},yes:{t:0,b:{t:2,i:[{t:3}],s:"Yes"}},no:{t:0,b:{t:2,i:[{t:3}],s:"No"}},error:{required:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Please confirm the attendance of your child."},{t:2,i:[{t:3}],s:"Please confirm the attendance of your children."}]}}}},comment:{question:{t:0,b:{t:2,i:[{t:3}],s:"A comment?"}},error:{required:{t:0,b:{t:2,i:[{t:3}],s:"Don't hesitate to leave a small comment, we'll love it. ðŸ˜‡"}}}},pet:{p1:{t:0,b:{t:2,i:[{t:3}],s:"Warning, pets are unfortunately not allowed."}},p2:{t:0,b:{t:2,i:[{t:3}],s:"You will have to plan ahead to have them looked after for the weekend."}}},housing:{p1:{t:0,b:{t:2,i:[{t:3}],s:"Don't forget to book as soon as possible your accomodation for the weekend of the 19th of August 2023! Granville is a very touristic area in Summer."}}},parker:{p1:{t:0,b:{t:2,i:[{t:3}],s:" A taxi service will be available free of charge so you can go back safely for the night."}},p2:{t:0,b:{t:2,i:[{t:3}],s:" The taxi will be able to take you back between 1:00am and 5:00am, if your chosen accommodation is located within 10 km around the ChÃ¢teau de la CrÃªte."}},p3:{t:0,b:{t:2,i:[{t:3}],s:" The next day, the taxi will come back to pick up the drivers from 11:00am to 12:00pm and take them back to the ChÃ¢teau."}}},cgu:{p1:{t:0,b:{t:2,i:[{t:3}],s:"Once your answer is sent, you won't be able to use this form to change it. If needed, please contact us directly:"}},email:{t:0,b:{t:2,i:[{t:3},{t:9},{t:3},{t:9},{t:3}],s:"By email vallee_a@hotmail.fr / florent@berthelot.io"}},phone:{t:0,b:{t:2,i:[{t:3}],s:" By phone at (+33) 6 03 65 21 38 / (+33) 6 50 99 96 18"}},error:{required:{t:0,b:{t:2,i:[{t:3}],s:"You have to read the little message at the end and tick this box. ;)"}}}},submit:{text:{t:0,b:{t:2,i:[{t:3}],s:"Send the answer"}},loading:{t:0,b:{t:2,i:[{t:3}],s:"Sending..."}},error:{t:0,b:{t:2,i:[{t:3}],s:"An error occured while sending the form, try again!"}}}}}})}const nt={id:"answer-main",class:"main"},st={class:"title"},ot={class:"subtitle"},at={id:"attending",class:"question-container"},lt={class:"question"},rt={class:"question-instruction"},ut={class:"answers checkboxes"},ct={key:0},dt=["checked"],mt={class:"checkbox-content"},ht={class:"option-title"},vt={class:"option-date"},pt={key:1},bt=["checked"],gt={class:"checkbox-content"},ft={class:"option-title"},yt={class:"option-date"},_t={key:2},kt=["checked"],qt={class:"checkbox-content"},wt={class:"option-title"},xt={class:"option-date"},Ct={key:3},Vt=["checked"],Ut={class:"checkbox-content"},Pt={class:"option-title"},Tt={class:"option-date"},Ot={key:4},At=["checked"],Dt={class:"checkbox-content"},It={class:"option-title"},$t={class:"option-date"},Mt=["checked"],Nt={class:"checkbox-content"},Rt={class:"option-title"},St={key:0,class:"error"},Ft={key:0,id:"plus1Invited",class:"question-container"},Lt={class:"question"},Ht={class:"answers checkboxes checkboxes--small"},zt={class:"checkbox-content"},Et={class:"checkbox-content"},Wt={key:0,class:"error"},Bt={key:1,id:"plus1Name",class:"question-container",rules:"required"},jt={class:"question"},Yt={key:0,class:"error"},Gt={key:2,id:"children",class:"question-container"},Jt={class:"question"},Kt={class:"answers checkboxes checkboxes--small"},Qt={class:"checkbox-content"},Xt={class:"checkbox-content"},Zt={key:0,class:"error"},te={key:3,id:"meal",class:"title"},ee={key:4,class:"subtitle"},ie={key:5,class:"meal-people"},ne={class:"question-container"},se={class:"question"},oe={class:"answers checkboxes checkboxes--small"},ae={key:0},le=["onUpdate:modelValue","name"],re={class:"checkbox-content"},ue={key:1},ce=["onUpdate:modelValue","name"],de={class:"checkbox-content"},me={key:2},he=["onUpdate:modelValue","name"],ve={class:"checkbox-content"},pe={key:0,class:"error"},be={key:6,class:"question-container"},ge={class:"question"},fe=["placeholder"],ye={key:7,class:"infos"},_e={class:"info"},ke={key:0,class:"info"},qe={key:1,class:"info"},we={class:"question-container"},xe={id:"comment"},Ce={class:"question"},Ve=["placeholder"],Ue={key:0,class:"error"},Pe={id:"cgu",class:"cgu-container"},Te={class:"cgu-label"},Oe={key:0,class:"error"},Ae={class:"action"},De=["disabled"],Ie={class:"error"},D={__name:"MariageInvitationAnswerForm",props:{invitation:{required:!0,type:Object}},setup(o){const{t:i}=O({useScope:"local"}),_=A(),k=S(),e=F({attending:[],plus1:null,plus1Name:null,plus1Meal:null,children:null,mealComment:null,cgu:!1,comment:"",...o.invitation.people.reduce((m,a)=>({...m,[`meal-${a}`]:["0 - 3 ans","4 - 12 ans"].includes(o.invitation.ages[a])?"child":null}),{})}),d=q(!1),b=q({loading:!1,error:null}),x=V(()=>{const m=o.invitation.people?.filter(a=>!o.invitation.children.includes(a));return e.plus1==="yes"&&e.plus1Name&&m.push(e.plus1Name),(e.children==="true"||!o.invitation.questionOnChildren)&&m.push(...o.invitation.children),m}),h=V(()=>{const m=x.value.reduce((v,y)=>({...v,[y]:o.invitation.invitedTo.party&&!e.attending.includes("cant")&&!e[`meal-${y}`]?"required":!1}),{}),a=Object.values(m).reduce((v,y)=>v&&!y,!0),l={attending:e.attending?.length?!1:"required",plus1Invited:o.invitation.plus1Invited&&!e.attending.includes("cant")&&!e.plus1?"required":!1,plus1Name:!e.attending.includes("cant")&&e.plus1==="yes"&&!e.plus1Name?"required":!1,children:!e.attending.includes("cant")&&o.invitation.questionOnChildren&&!e.children?"required":!1,meal:a?!1:m,comment:e.comment?!1:"required",cgu:e.cgu?!1:"required"};return{valid:Object.values(l).reduce((v,y)=>v&&!y,!0),errors:l}}),f=m=>{e.attending.includes("cant")?e.attending=m.target.value==="cant"?[]:[m.target.value]:m.target.value==="cant"?e.attending=[m.target.value]:e.attending.includes(m.target.value)?e.attending=e.attending.filter(a=>a!==m.target.value):e.attending=[...e.attending,m.target.value]},$=async()=>{if(d.value||(d.value=!0),!h.value.valid){const m=["attending","plus1Invited","plus1Name","children","meal","comment","cgu"].find(a=>!!h.value.errors[a]);window.document.querySelector(`#${m}`)?.scrollIntoView({behavior:"smooth"});return}b.value.loading=!0;try{await N(o.invitation.id,x.value,e,o.invitation),window.localStorage.setItem("answered","true"),await W(k(`/mariage/${_.params.invite}?noAnimation=true`))}catch(m){console.error(m),b.value.error=m}b.value.loading=!1};return(m,a)=>(r(),u("main",nt,[t("form",{onSubmit:E($,["prevent"])},[t("h2",st,s(n(i)("hello",{names:o.invitation.name})),1),t("p",ot,s(n(i)("ultimatum",o.invitation.nbOfPeople)),1),t("fieldset",at,[t("div",lt,s(n(i)("attending.question",o.invitation.nbOfPeople)),1),t("div",rt,s(n(i)("attending.instruction",o.invitation.nbOfPeople)),1),t("div",ut,[o.invitation.invitedTo.cityHall?(r(),u("label",ct,[t("input",{checked:e.attending.includes("cityHall"),type:"checkbox",name:"attending",value:"cityHall",onChange:f},null,40,dt),t("div",mt,[a[8]||(a[8]=t("img",{class:"option-icon",src:G,alt:""},null,-1)),t("div",ht,s(n(i)("attending.cityHall")),1),t("div",vt,s(n(i)("attending.cityHallDate")),1)])])):c("",!0),o.invitation.invitedTo.church?(r(),u("label",pt,[t("input",{checked:e.attending.includes("church"),type:"checkbox",name:"attending",value:"church",onChange:f},null,40,bt),t("div",gt,[a[9]||(a[9]=t("img",{class:"option-icon",src:J,alt:""},null,-1)),t("div",ft,s(n(i)("attending.church")),1),t("div",yt,s(n(i)("attending.churchDate")),1)])])):c("",!0),o.invitation.invitedTo.wineReception?(r(),u("label",_t,[t("input",{checked:e.attending.includes("wineReception"),type:"checkbox",name:"attending",value:"wineReception",onChange:f},null,40,kt),t("div",qt,[a[10]||(a[10]=t("img",{class:"option-icon",src:X,alt:""},null,-1)),t("div",wt,s(n(i)("attending.wineReception")),1),t("div",xt,s(n(i)("attending.wineReceptionDate")),1)])])):c("",!0),o.invitation.invitedTo.party?(r(),u("label",Ct,[t("input",{checked:e.attending.includes("party"),type:"checkbox",name:"attending",value:"party",onChange:f},null,40,Vt),t("div",Ut,[a[11]||(a[11]=t("img",{class:"option-icon",src:Z,alt:""},null,-1)),t("div",Pt,s(n(i)("attending.party")),1),t("div",Tt,s(n(i)("attending.partyDate")),1)])])):c("",!0),o.invitation.invitedTo.after?(r(),u("label",Ot,[t("input",{checked:e.attending.includes("after"),type:"checkbox",name:"attending",value:"after",onChange:f},null,40,At),t("div",Dt,[a[12]||(a[12]=t("img",{class:"option-icon",src:K,alt:""},null,-1)),t("div",It,s(n(i)("attending.after")),1),t("div",$t,s(n(i)("attending.afterDate")),1)])])):c("",!0),t("label",null,[t("input",{checked:e.attending.includes("cant"),type:"checkbox",name:"attending",value:"cant",onChange:f},null,40,Mt),t("div",Nt,[a[13]||(a[13]=t("img",{class:"option-icon",src:tt,alt:""},null,-1)),t("div",Rt,s(n(i)("attending.cant",o.invitation.nbOfPeople)),1)])])]),d.value?(r(),u("span",St,s(h.value.errors.attending?n(i)("attending.error."+h.value.errors.attending,o.invitation.nbOfPeople):""),1)):c("",!0)]),o.invitation.plus1Invited&&!e.attending.includes("cant")?(r(),u("fieldset",Ft,[t("span",Lt,s(n(i)("plus1.question")),1),t("div",Ht,[t("label",null,[p(t("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>e.plus1=l),type:"radio",name:"plus1",value:"yes"},null,512),[[g,e.plus1]]),t("div",zt,s(n(i)("plus1.yes")),1)]),t("label",null,[p(t("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>e.plus1=l),type:"radio",name:"plus1",value:"no"},null,512),[[g,e.plus1]]),t("div",Et,s(n(i)("plus1.no")),1)])]),d.value?(r(),u("span",Wt,s(h.value.errors.plus1Invited?n(i)("plus1.error."+h.value.errors.plus1Invited):""),1)):c("",!0)])):c("",!0),e.plus1==="yes"&&!e.attending.includes("cant")?(r(),u("label",Bt,[t("span",jt,s(n(i)("plus1.questionName")),1),p(t("input",{"onUpdate:modelValue":a[2]||(a[2]=l=>e.plus1Name=l),type:"text",name:"plus1Name",class:"plus1-input"},null,512),[[C,e.plus1Name]]),d.value?(r(),u("div",Yt,s(h.value.errors.plus1Name?n(i)("plus1.errorName."+h.value.errors.plus1Name):""),1)):c("",!0)])):c("",!0),o.invitation.questionOnChildren&&!e.attending.includes("cant")?(r(),u("fieldset",Gt,[t("span",Jt,s(n(i)("children.question",o.invitation.children.length)),1),t("div",Kt,[t("label",null,[p(t("input",{"onUpdate:modelValue":a[3]||(a[3]=l=>e.children=l),type:"radio",name:"children",value:"true"},null,512),[[g,e.children]]),t("div",Qt,s(n(i)("children.yes")),1)]),t("label",null,[p(t("input",{"onUpdate:modelValue":a[4]||(a[4]=l=>e.children=l),type:"radio",name:"children",value:"false"},null,512),[[g,e.children]]),t("div",Xt,s(n(i)("children.no")),1)])]),d.value?(r(),u("div",Zt,s(h.value.errors.children?n(i)("children.error."+h.value.errors.children,o.invitation.children.length):""),1)):c("",!0)])):c("",!0),!e.attending.includes("cant")&&o.invitation.invitedTo.party?(r(),u("h3",te,s(n(i)("meal.title")),1)):c("",!0),!e.attending.includes("cant")&&o.invitation.invitedTo.party?(r(),u("p",ee,s(n(i)("meal.subtitle",o.invitation.nbOfPeople)),1)):c("",!0),!e.attending.includes("cant")&&o.invitation.invitedTo.party?(r(),u("ul",ie,[(r(!0),u(L,null,H(x.value,l=>(r(),u("li",{key:l},[t("fieldset",ne,[t("div",se,s(l),1),t("div",oe,[["0 - 3 ans","4 - 12 ans"].includes(o.invitation.ages[l])?c("",!0):(r(),u("label",ae,[p(t("input",{"onUpdate:modelValue":v=>e[`meal-${l}`]=v,type:"radio",name:`meal-${l}`,value:"meat"},null,8,le),[[g,e[`meal-${l}`]]]),t("div",re,s(n(i)("meal.meat")),1)])),["0 - 3 ans","4 - 12 ans"].includes(o.invitation.ages[l])?c("",!0):(r(),u("label",ue,[p(t("input",{"onUpdate:modelValue":v=>e[`meal-${l}`]=v,type:"radio",name:`meal-${l}`,value:"fish"},null,8,ce),[[g,e[`meal-${l}`]]]),t("div",de,s(n(i)("meal.fish")),1)])),o.invitation.children.includes(l)?(r(),u("label",me,[p(t("input",{"onUpdate:modelValue":v=>e[`meal-${l}`]=v,type:"radio",name:`meal-${l}`,value:"child"},null,8,he),[[g,e[`meal-${l}`]]]),t("div",ve,s(n(i)("meal.children")),1)])):c("",!0)])]),d.value?(r(),u("div",pe,s(h.value.errors.meal&&h.value.errors.meal[l]?n(i)("meal.error."+h.value.errors.meal[l],{name:l}):""),1)):c("",!0)]))),128))])):c("",!0),!e.attending.includes("cant")&&o.invitation.invitedTo.party?(r(),u("label",be,[t("span",ge,s(n(i)("meal.allergies")),1),p(t("textarea",{"onUpdate:modelValue":a[5]||(a[5]=l=>e.mealComment=l),name:"mealComment",placeholder:o.invitation.placeholderAllergies},null,8,fe),[[C,e.mealComment]])])):c("",!0),e.attending.includes("cant")?c("",!0):(r(),u("section",ye,[t("ul",null,[t("li",_e,[a[15]||(a[15]=t("img",{src:et,class:"info-icon",alt:""},null,-1)),t("div",null,[w(s(n(i)("pet.p1"))+" ",1),a[14]||(a[14]=t("br",null,null,-1)),w(" "+s(n(i)("pet.p2")),1)])]),o.invitation.invitedTo.party?(r(),u("li",ke,[a[16]||(a[16]=t("img",{src:it,class:"info-icon",alt:""},null,-1)),t("div",null,s(n(i)("housing.p1",o.invitation.nbOfPeople)),1)])):c("",!0),o.invitation.invitedTo.party?(r(),u("li",qe,[a[17]||(a[17]=t("img",{src:Q,class:"info-icon",alt:""},null,-1)),t("div",null,[t("div",null,s(n(i)("parker.p1",o.invitation.nbOfPeople)),1),t("div",null,s(n(i)("parker.p2",o.invitation.nbOfPeople)),1),t("div",null,s(n(i)("parker.p3",o.invitation.nbOfPeople)),1)])])):c("",!0)])])),t("div",we,[t("label",xe,[t("span",Ce,s(n(i)("comment.question")),1),p(t("textarea",{"onUpdate:modelValue":a[6]||(a[6]=l=>e.comment=l),name:"comment",placeholder:o.invitation.placeholderComment},null,8,Ve),[[C,e.comment]])]),d.value?(r(),u("div",Ue,s(h.value.errors.comment?n(i)("comment.error."+h.value.errors.comment,o.invitation.nbOfPeople):""),1)):c("",!0)]),t("div",Pe,[t("label",Te,[p(t("input",{"onUpdate:modelValue":a[7]||(a[7]=l=>e.cgu=l),type:"checkbox",name:"cgu",value:"true"},null,512),[[z,e.cgu]]),t("div",null,[w(s(n(i)("cgu.p1",o.invitation.nbOfPeople))+" ",1),t("ul",null,[t("li",null,s(n(i)("cgu.email")),1),t("li",null,s(n(i)("cgu.phone")),1)])])]),d.value?(r(),u("div",Oe,s(h.value.errors.cgu?n(i)("cgu.error."+h.value.errors.cgu):""),1)):c("",!0)]),t("div",Ae,[t("button",{class:"anwser-button",type:"submit",disabled:b.value.loading},s(b.value.loading?n(i)("submit.loading"):n(i)("submit.text",o.invitation.nbOfPeople)),9,De),t("span",Ie,s(b.value.error?n(i)("submit.error",o.invitation.nbOfPeople):""),1)])],32)]))}};typeof U=="function"&&U(D);const $e=T(D,[["__scopeId","data-v-e2a254b0"]]);function P(o){const i=o;i.__i18n=i.__i18n||[],i.__i18n.push({locale:"",resource:{fr:{meta:{title:{t:0,b:{t:2,i:[{t:3}],s:"Mariage AgnÃ¨s et Florent - 19 AoÃ»t 2023"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Voici une invitation pour notre mariage."}}},loader_alt:{t:0,b:{t:2,i:[{t:3}],s:"Chargement..."}},fatal_error:{p1:{t:0,b:{t:2,i:[{t:3}],s:"Une erreur est survenue ! ðŸ˜±"}},p2:{t:0,b:{t:2,i:[{t:3}],s:"Merci de nous contacter par"}},mail:{t:0,b:{t:2,i:[{t:3}],s:"email"}},p3:{t:0,b:{t:2,i:[{t:3}],s:"ou par"}},phone:{t:0,b:{t:2,i:[{t:3}],s:"tÃ©lÃ©phone."}}}},en:{meta:{title:{t:0,b:{t:2,i:[{t:3}],s:"Mariage AgnÃ¨s et Florent - 19 AoÃ»t 2023"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Voici une invitation pour notre mariage."}}},loader_alt:{t:0,b:{t:2,i:[{t:3}],s:"Chargement..."}},fatal_error:{p1:{t:0,b:{t:2,i:[{t:3}],s:"Une erreur est survenue ! ðŸ˜±"}},p2:{t:0,b:{t:2,i:[{t:3}],s:"Merci de nous contacter par"}},mail:{t:0,b:{t:2,i:[{t:3}],s:"email"}},p3:{t:0,b:{t:2,i:[{t:3}],s:"ou par"}},phone:{t:0,b:{t:2,i:[{t:3}],s:"tÃ©lÃ©phone."}}}}}})}const Me={id:"wedding-page"},Ne={key:0,class:"error-container"},Re={href:"mailto:florent@berthelot.io"},Se={href:"tel:+33650999618"},Fe={key:1,class:"loading"},Le=["alt"],I={__name:"answer",setup(o){const i=q({}),_=q(!0),k=q(null),e=A(),{t:d}=O({useScope:"local"});return B({ogType:"website",title:d("meta.title"),ogTitle:d("meta.title"),twitterTitle:d("meta.title"),description:d("meta.description"),ogDescription:d("meta.description"),twitterDescription:d("meta.description"),twitterCard:"summary"}),j(()=>{try{if(i.value=R(e.params.invite),!i.value)throw new Error("Invite Not Found !")}catch(b){k.value=b}finally{_.value=!1}}),(b,x)=>(r(),u("div",Me,[k.value?(r(),u("div",Ne,[t("p",null,s(n(d)("fatal_error.p1")),1),t("p",null,[w(s(n(d)("fatal_error.p2"))+" ",1),t("a",Re,s(n(d)("fatal_error.mail")),1),w(" "+s(n(d)("fatal_error.p3"))+" ",1),t("a",Se,s(n(d)("fatal_error.phone")),1)])])):c("",!0),_.value?(r(),u("div",Fe,[t("img",{src:M,alt:n(d)("loader_alt")},null,8,Le)])):c("",!0),!_.value&&!k.value?(r(),Y($e,{key:2,invitation:i.value},null,8,["invitation"])):c("",!0)]))}};typeof P=="function"&&P(I);const je=T(I,[["__scopeId","data-v-1931befd"]]);export{je as default};
