var Lce=Object.defineProperty;var RI=e=>{throw TypeError(e)};var Nce=(e,t,r)=>t in e?Lce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var sr=(e,t,r)=>Nce(e,typeof t!="symbol"?t+"":t,r),Ice=(e,t,r)=>t.has(e)||RI("Cannot "+r);var DI=(e,t,r)=>t.has(e)?RI("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r);var F0=(e,t,r)=>(Ice(e,t,"access private method"),r);var Mce={},Rce=Object.create,D5=Object.defineProperty,Dce=Object.getOwnPropertyDescriptor,zB=Object.getOwnPropertyNames,Oce=Object.getPrototypeOf,Pce=Object.prototype.hasOwnProperty,l=(e,t)=>D5(e,"name",{value:t,configurable:!0}),qn=(e,t)=>function(){return t||(0,e[zB(e)[0]])((t={exports:{}}).exports,t),t.exports},il=(e,t)=>{for(var r in t)D5(e,r,{get:t[r],enumerable:!0})},UB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of zB(t))Pce.call(e,i)||i===r||D5(e,i,{get:()=>t[i],enumerable:!(n=Dce(t,i))||n.enumerable});return e},O5=(e,t,r)=>(UB(e,t,"default"),r),Ei=(e,t,r)=>(r=e!=null?Rce(Oce(e)):{},UB(D5(r,"default",{value:e,enumerable:!0}),e)),PS=qn({"../../node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/dayjs.min.js"(e,t){(function(r,n){typeof e=="object"&&t!==void 0?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis<"u"?globalThis:r||self).dayjs=n()})(e,function(){var r=6e4,n=36e5,i="millisecond",a="second",s="minute",o="hour",u="day",h="week",d="month",p="quarter",f="year",g="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:l(function(S){var N=["th","st","nd","rd"],A=S%100;return"["+S+(N[(A-20)%10]||N[A]||N[0])+"]"},"ordinal")},b=l(function(S,N,A){var M=String(S);return!M||M.length>=N?S:""+Array(N+1-M.length).join(A)+S},"m"),w={s:b,z:l(function(S){var N=-S.utcOffset(),A=Math.abs(N),M=Math.floor(A/60),O=A%60;return(N<=0?"+":"-")+b(M,2,"0")+":"+b(O,2,"0")},"z"),m:l(function S(N,A){if(N.date()<A.date())return-S(A,N);var M=12*(A.year()-N.year())+(A.month()-N.month()),O=N.clone().add(M,d),I=A-O<0,P=N.clone().add(M+(I?-1:1),d);return+(-(M+(A-O)/(I?O-P:P-O))||0)},"t"),a:l(function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},"a"),p:l(function(S){return{M:d,y:f,w:h,d:u,D:g,h:o,m:s,s:a,ms:i,Q:p}[S]||String(S||"").toLowerCase().replace(/s$/,"")},"p"),u:l(function(S){return S===void 0},"u")},T="en",k={};k[T]=x;var R="$isDayjsObject",C=l(function(S){return S instanceof D||!(!S||!S[R])},"S"),E=l(function S(N,A,M){var O;if(!N)return T;if(typeof N=="string"){var I=N.toLowerCase();k[I]&&(O=I),A&&(k[I]=A,O=I);var P=N.split("-");if(!O&&P.length>1)return S(P[0])}else{var $=N.name;k[$]=N,O=$}return!M&&O&&(T=O),O||!M&&T},"t"),_=l(function(S,N){if(C(S))return S.clone();var A=typeof N=="object"?N:{};return A.date=S,A.args=arguments,new D(A)},"O"),L=w;L.l=E,L.i=C,L.w=function(S,N){return _(S,{locale:N.$L,utc:N.$u,x:N.$x,$offset:N.$offset})};var D=function(){function S(A){this.$L=E(A.locale,null,!0),this.parse(A),this.$x=this.$x||A.x||{},this[R]=!0}l(S,"M");var N=S.prototype;return N.parse=function(A){this.$d=function(M){var O=M.date,I=M.utc;if(O===null)return new Date(NaN);if(L.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var P=O.match(y);if(P){var $=P[2]-1||0,z=(P[7]||"0").substring(0,3);return I?new Date(Date.UTC(P[1],$,P[3]||1,P[4]||0,P[5]||0,P[6]||0,z)):new Date(P[1],$,P[3]||1,P[4]||0,P[5]||0,P[6]||0,z)}}return new Date(O)}(A),this.init()},N.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},N.$utils=function(){return L},N.isValid=function(){return this.$d.toString()!==m},N.isSame=function(A,M){var O=_(A);return this.startOf(M)<=O&&O<=this.endOf(M)},N.isAfter=function(A,M){return _(A)<this.startOf(M)},N.isBefore=function(A,M){return this.endOf(M)<_(A)},N.$g=function(A,M,O){return L.u(A)?this[M]:this.set(O,A)},N.unix=function(){return Math.floor(this.valueOf()/1e3)},N.valueOf=function(){return this.$d.getTime()},N.startOf=function(A,M){var O=this,I=!!L.u(M)||M,P=L.p(A),$=l(function(H,X){var Q=L.w(O.$u?Date.UTC(O.$y,X,H):new Date(O.$y,X,H),O);return I?Q:Q.endOf(u)},"l"),z=l(function(H,X){return L.w(O.toDate()[H].apply(O.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(X)),O)},"$"),G=this.$W,q=this.$M,J=this.$D,ie="set"+(this.$u?"UTC":"");switch(P){case f:return I?$(1,0):$(31,11);case d:return I?$(1,q):$(0,q+1);case h:var te=this.$locale().weekStart||0,W=(G<te?G+7:G)-te;return $(I?J-W:J+(6-W),q);case u:case g:return z(ie+"Hours",0);case o:return z(ie+"Minutes",1);case s:return z(ie+"Seconds",2);case a:return z(ie+"Milliseconds",3);default:return this.clone()}},N.endOf=function(A){return this.startOf(A,!1)},N.$set=function(A,M){var O,I=L.p(A),P="set"+(this.$u?"UTC":""),$=(O={},O[u]=P+"Date",O[g]=P+"Date",O[d]=P+"Month",O[f]=P+"FullYear",O[o]=P+"Hours",O[s]=P+"Minutes",O[a]=P+"Seconds",O[i]=P+"Milliseconds",O)[I],z=I===u?this.$D+(M-this.$W):M;if(I===d||I===f){var G=this.clone().set(g,1);G.$d[$](z),G.init(),this.$d=G.set(g,Math.min(this.$D,G.daysInMonth())).$d}else $&&this.$d[$](z);return this.init(),this},N.set=function(A,M){return this.clone().$set(A,M)},N.get=function(A){return this[L.p(A)]()},N.add=function(A,M){var O,I=this;A=Number(A);var P=L.p(M),$=l(function(q){var J=_(I);return L.w(J.date(J.date()+Math.round(q*A)),I)},"y");if(P===d)return this.set(d,this.$M+A);if(P===f)return this.set(f,this.$y+A);if(P===u)return $(1);if(P===h)return $(7);var z=(O={},O[s]=r,O[o]=n,O[a]=1e3,O)[P]||1,G=this.$d.getTime()+A*z;return L.w(G,this)},N.subtract=function(A,M){return this.add(-1*A,M)},N.format=function(A){var M=this,O=this.$locale();if(!this.isValid())return O.invalidDate||m;var I=A||"YYYY-MM-DDTHH:mm:ssZ",P=L.z(this),$=this.$H,z=this.$m,G=this.$M,q=O.weekdays,J=O.months,ie=O.meridiem,te=l(function(X,Q,ne,ee){return X&&(X[Q]||X(M,I))||ne[Q].slice(0,ee)},"h"),W=l(function(X){return L.s($%12||12,X,"0")},"d"),H=ie||function(X,Q,ne){var ee=X<12?"AM":"PM";return ne?ee.toLowerCase():ee};return I.replace(v,function(X,Q){return Q||function(ne){switch(ne){case"YY":return String(M.$y).slice(-2);case"YYYY":return L.s(M.$y,4,"0");case"M":return G+1;case"MM":return L.s(G+1,2,"0");case"MMM":return te(O.monthsShort,G,J,3);case"MMMM":return te(J,G);case"D":return M.$D;case"DD":return L.s(M.$D,2,"0");case"d":return String(M.$W);case"dd":return te(O.weekdaysMin,M.$W,q,2);case"ddd":return te(O.weekdaysShort,M.$W,q,3);case"dddd":return q[M.$W];case"H":return String($);case"HH":return L.s($,2,"0");case"h":return W(1);case"hh":return W(2);case"a":return H($,z,!0);case"A":return H($,z,!1);case"m":return String(z);case"mm":return L.s(z,2,"0");case"s":return String(M.$s);case"ss":return L.s(M.$s,2,"0");case"SSS":return L.s(M.$ms,3,"0");case"Z":return P}return null}(X)||P.replace(":","")})},N.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},N.diff=function(A,M,O){var I,P=this,$=L.p(M),z=_(A),G=(z.utcOffset()-this.utcOffset())*r,q=this-z,J=l(function(){return L.m(P,z)},"D");switch($){case f:I=J()/12;break;case d:I=J();break;case p:I=J()/3;break;case h:I=(q-G)/6048e5;break;case u:I=(q-G)/864e5;break;case o:I=q/n;break;case s:I=q/r;break;case a:I=q/1e3;break;default:I=q}return O?I:L.a(I)},N.daysInMonth=function(){return this.endOf(d).$D},N.$locale=function(){return k[this.$L]},N.locale=function(A,M){if(!A)return this.$L;var O=this.clone(),I=E(A,M,!0);return I&&(O.$L=I),O},N.clone=function(){return L.w(this.$d,this)},N.toDate=function(){return new Date(this.valueOf())},N.toJSON=function(){return this.isValid()?this.toISOString():null},N.toISOString=function(){return this.$d.toISOString()},N.toString=function(){return this.$d.toUTCString()},S}(),B=D.prototype;return _.prototype=B,[["$ms",i],["$s",a],["$m",s],["$H",o],["$W",u],["$M",d],["$y",f],["$D",g]].forEach(function(S){B[S[1]]=function(N){return this.$g(N,S[0],S[1])}}),_.extend=function(S,N){return S.$i||(S(N,D,_),S.$i=!0),_},_.locale=E,_.isDayjs=C,_.unix=function(S){return _(1e3*S)},_.en=k[T],_.Ls=k,_.p={},_})}}),Bce=Ei(PS()),mo={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},re={trace:l((...e)=>{},"trace"),debug:l((...e)=>{},"debug"),info:l((...e)=>{},"info"),warn:l((...e)=>{},"warn"),error:l((...e)=>{},"error"),fatal:l((...e)=>{},"fatal")},BS=l(function(e="fatal"){let t=mo.fatal;typeof e=="string"?e.toLowerCase()in mo&&(t=mo[e]):typeof e=="number"&&(t=e),re.trace=()=>{},re.debug=()=>{},re.info=()=>{},re.warn=()=>{},re.error=()=>{},re.fatal=()=>{},t<=mo.fatal&&(re.fatal=console.error?console.error.bind(console,Da("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Da("FATAL"))),t<=mo.error&&(re.error=console.error?console.error.bind(console,Da("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Da("ERROR"))),t<=mo.warn&&(re.warn=console.warn?console.warn.bind(console,Da("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Da("WARN"))),t<=mo.info&&(re.info=console.info?console.info.bind(console,Da("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Da("INFO"))),t<=mo.debug&&(re.debug=console.debug?console.debug.bind(console,Da("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Da("DEBUG"))),t<=mo.trace&&(re.trace=console.debug?console.debug.bind(console,Da("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Da("TRACE")))},"setLogLevel"),Da=l(e=>`%c${(0,Bce.default)().format("ss.SSS")} : ${e} : `,"format"),GB=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Pm=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,$ce=/\s*%%.*\n/gm,_d,qB=(_d=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},l(_d,"UnknownDiagramError"),_d),qg={},$S=l(function(e,t){e=e.replace(GB,"").replace(Pm,"").replace($ce,`
`);for(const[r,{detector:n}]of Object.entries(qg))if(n(e,t))return r;throw new qB(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),jB=l((...e)=>{for(const{id:t,detector:r,loader:n}of e)YB(t,r,n)},"registerLazyLoadedDiagrams"),YB=l((e,t,r)=>{qg[e]&&re.warn(`Detector with key ${e} already exists. Overwriting.`),qg[e]={detector:t,loader:r},re.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),Fce=l(e=>qg[e].loader,"getDiagramLoader"),sT=l((e,t,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(a=>sT(e,a,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(a=>{e.includes(a)||e.push(a)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(a=>{typeof t[a]!="object"||e[a]!==void 0&&typeof e[a]!="object"?(n||typeof e[a]!="object"&&typeof t[a]!="object")&&(e[a]=t[a]):(e[a]===void 0&&(e[a]=Array.isArray(t[a])?[]:{}),e[a]=sT(e[a],t[a],{depth:r-1,clobber:n}))}),e)},"assignWithDepth"),Pn=sT,px={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:l(e=>e>=255?255:e<0?0:e,"r"),g:l(e=>e>=255?255:e<0?0:e,"g"),b:l(e=>e>=255?255:e<0?0:e,"b"),h:l(e=>e%360,"h"),s:l(e=>e>=100?100:e<0?0:e,"s"),l:l(e=>e>=100?100:e<0?0:e,"l"),a:l(e=>e>=1?1:e<0?0:e,"a")},toLinear:l(e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},"toLinear"),hue2rgb:l((e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e),"hue2rgb"),hsl2rgb:l(({h:e,s:t,l:r},n)=>{if(!t)return 2.55*r;e/=360,t/=100;const i=(r/=100)<.5?r*(1+t):r+t-r*t,a=2*r-i;switch(n){case"r":return 255*px.hue2rgb(a,i,e+1/3);case"g":return 255*px.hue2rgb(a,i,e);case"b":return 255*px.hue2rgb(a,i,e-1/3)}},"hsl2rgb"),rgb2hsl:l(({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;const i=Math.max(e,t,r),a=Math.min(e,t,r),s=(i+a)/2;if(n==="l")return 100*s;if(i===a)return 0;const o=i-a;if(n==="s")return 100*(s>.5?o/(2-i-a):o/(i+a));switch(i){case e:return 60*((t-r)/o+(t<r?6:0));case t:return 60*((r-e)/o+2);case r:return 60*((e-t)/o+4);default:return-1}},"rgb2hsl")},Ut={channel:px,lang:{clamp:l((e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),"clamp"),round:l(e=>Math.round(1e10*e)/1e10,"round")},unit:{dec2hex:l(e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`},"dec2hex")}},wl={};for(let e=0;e<=255;e++)wl[e]=Ut.unit.dec2hex(e);var WB,oT=0,Ch=1,Oc=2,Ed,zce=(Ed=class{constructor(){this.type=oT}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=oT}is(t){return this.type===t}},l(Ed,"Type"),Ed),Cd,Uce=(Cd=class{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new zce}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=oT,this}_ensureHSL(){const t=this.data,{h:r,s:n,l:i}=t;r===void 0&&(t.h=Ut.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=Ut.channel.rgb2hsl(t,"s")),i===void 0&&(t.l=Ut.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:n,b:i}=t;r===void 0&&(t.r=Ut.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=Ut.channel.hsl2rgb(t,"g")),i===void 0&&(t.b=Ut.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return this.type.is(Oc)||r===void 0?(this._ensureHSL(),Ut.channel.hsl2rgb(t,"r")):r}get g(){const t=this.data,r=t.g;return this.type.is(Oc)||r===void 0?(this._ensureHSL(),Ut.channel.hsl2rgb(t,"g")):r}get b(){const t=this.data,r=t.b;return this.type.is(Oc)||r===void 0?(this._ensureHSL(),Ut.channel.hsl2rgb(t,"b")):r}get h(){const t=this.data,r=t.h;return this.type.is(Ch)||r===void 0?(this._ensureRGB(),Ut.channel.rgb2hsl(t,"h")):r}get s(){const t=this.data,r=t.s;return this.type.is(Ch)||r===void 0?(this._ensureRGB(),Ut.channel.rgb2hsl(t,"s")):r}get l(){const t=this.data,r=t.l;return this.type.is(Ch)||r===void 0?(this._ensureRGB(),Ut.channel.rgb2hsl(t,"l")):r}get a(){return this.data.a}set r(t){this.type.set(Ch),this.changed=!0,this.data.r=t}set g(t){this.type.set(Ch),this.changed=!0,this.data.g=t}set b(t){this.type.set(Ch),this.changed=!0,this.data.b=t}set h(t){this.type.set(Oc),this.changed=!0,this.data.h=t}set s(t){this.type.set(Oc),this.changed=!0,this.data.s=t}set l(t){this.type.set(Oc),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}},l(Cd,"Channels"),Cd),P5=new Uce({r:0,g:0,b:0,a:0},"transparent"),HB={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:l(e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(HB.re);if(!t)return;const r=t[1],n=parseInt(r,16),i=r.length,a=i%4==0,s=i>4,o=s?1:17,u=s?8:4,h=a?0:-1,d=s?255:15;return P5.set({r:(n>>u*(h+3)&d)*o,g:(n>>u*(h+2)&d)*o,b:(n>>u*(h+1)&d)*o,a:a?(n&d)*o/255:1},e)},"parse"),stringify:l(e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`#${wl[Math.round(t)]}${wl[Math.round(r)]}${wl[Math.round(n)]}${wl[Math.round(255*i)]}`:`#${wl[Math.round(t)]}${wl[Math.round(r)]}${wl[Math.round(n)]}`},"stringify")},Bm=HB,fx={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:l(e=>{const t=e.match(fx.hueRe);if(t){const[,r,n]=t;switch(n){case"grad":return Ut.channel.clamp.h(.9*parseFloat(r));case"rad":return Ut.channel.clamp.h(180*parseFloat(r)/Math.PI);case"turn":return Ut.channel.clamp.h(360*parseFloat(r))}}return Ut.channel.clamp.h(parseFloat(e))},"_hue2deg"),parse:l(e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(fx.re);if(!r)return;const[,n,i,a,s,o]=r;return P5.set({h:fx._hue2deg(n),s:Ut.channel.clamp.s(parseFloat(i)),l:Ut.channel.clamp.l(parseFloat(a)),a:s?Ut.channel.clamp.a(o?parseFloat(s)/100:parseFloat(s)):1},e)},"parse"),stringify:l(e=>{const{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${Ut.lang.round(t)}, ${Ut.lang.round(r)}%, ${Ut.lang.round(n)}%, ${i})`:`hsl(${Ut.lang.round(t)}, ${Ut.lang.round(r)}%, ${Ut.lang.round(n)}%)`},"stringify")},dv=fx,gx={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:l(e=>{e=e.toLowerCase();const t=gx.colors[e];if(t)return Bm.parse(t)},"parse"),stringify:l(e=>{const t=Bm.stringify(e);for(const r in gx.colors)if(gx.colors[r]===t)return r},"stringify")},OI=gx,VB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:l(e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(VB.re);if(!r)return;const[,n,i,a,s,o,u,h,d]=r;return P5.set({r:Ut.channel.clamp.r(i?2.55*parseFloat(n):parseFloat(n)),g:Ut.channel.clamp.g(s?2.55*parseFloat(a):parseFloat(a)),b:Ut.channel.clamp.b(u?2.55*parseFloat(o):parseFloat(o)),a:h?Ut.channel.clamp.a(d?parseFloat(h)/100:parseFloat(h)):1},e)},"parse"),stringify:l(e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${Ut.lang.round(t)}, ${Ut.lang.round(r)}, ${Ut.lang.round(n)}, ${Ut.lang.round(i)})`:`rgb(${Ut.lang.round(t)}, ${Ut.lang.round(r)}, ${Ut.lang.round(n)})`},"stringify")},pv=VB,Ls={format:{keyword:OI,hex:Bm,rgb:pv,rgba:pv,hsl:dv,hsla:dv},parse:l(e=>{if(typeof e!="string")return e;const t=Bm.parse(e)||pv.parse(e)||dv.parse(e)||OI.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},"parse"),stringify:l(e=>!e.changed&&e.color?e.color:e.type.is(Oc)||e.data.r===void 0?dv.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?pv.stringify(e):Bm.stringify(e),"stringify")},Gce=l((e,t)=>{const r=Ls.parse(e);for(const n in t)r[n]=Ut.channel.clamp[n](t[n]);return Ls.stringify(r)},"change"),XB=Gce,qce=l((e,t,r=0,n=1)=>{if(typeof e!="number")return XB(e,{a:t});const i=P5.set({r:Ut.channel.clamp.r(e),g:Ut.channel.clamp.g(t),b:Ut.channel.clamp.b(r),a:Ut.channel.clamp.a(n)});return Ls.stringify(i)},"rgba"),mu=qce,KB=l((e,t)=>Ut.lang.round(Ls.parse(e)[t]),"channel"),jce=l(e=>{const{r:t,g:r,b:n}=Ls.parse(e),i=.2126*Ut.channel.toLinear(t)+.7152*Ut.channel.toLinear(r)+.0722*Ut.channel.toLinear(n);return Ut.lang.round(i)},"luminance"),Yce=jce,Wce=l(e=>Yce(e)>=.5,"isLight"),pc=l(e=>!Wce(e),"isDark"),ZB=l((e,t,r)=>{const n=Ls.parse(e),i=n[t],a=Ut.channel.clamp[t](i+r);return i!==a&&(n[t]=a),Ls.stringify(n)},"adjustChannel"),wt=l((e,t)=>ZB(e,"l",t),"lighten"),Lt=l((e,t)=>ZB(e,"l",-t),"darken"),Hce=l((e,t)=>{const r=Ls.parse(e),n={};for(const i in t)t[i]&&(n[i]=r[i]+t[i]);return XB(e,n)},"adjust"),Ne=Hce,Vce=l((e,t,r=50)=>{const{r:n,g:i,b:a,a:s}=Ls.parse(e),{r:o,g:u,b:h,a:d}=Ls.parse(t),p=r/100,f=2*p-1,g=s-d,m=((f*g==-1?f:(f+g)/(1+f*g))+1)/2,y=1-m;return mu(n*m+o*y,i*m+u*y,a*m+h*y,s*p+d*(1-p))},"mix"),ct=l((e,t=100)=>{const r=Ls.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,Vce(r,e,t)},"invert"),Ii=l((e,t)=>Ne(e,t?{s:-40,l:10}:{s:-40,l:-10}),"mkBorder"),Sd,Xce=(Sd=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var r,n,i,a,s,o,u,h,d,p,f;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Ne(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Ne(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Ii(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Ii(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Ii(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Ii(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||ct(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||ct(this.tertiaryColor),this.lineColor=this.lineColor||ct(this.background),this.arrowheadColor=this.arrowheadColor||ct(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Lt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Lt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||ct(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||wt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ne(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ne(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ne(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ne(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ne(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ne(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Ne(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ne(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ne(this.primaryColor,{h:330}),this.darkMode)for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScale"+g]=Lt(this["cScale"+g],75);else for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScale"+g]=Lt(this["cScale"+g],25);for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScaleInv"+g]=this["cScaleInv"+g]||ct(this["cScale"+g]);for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this.darkMode?this["cScalePeer"+g]=this["cScalePeer"+g]||wt(this["cScale"+g],10):this["cScalePeer"+g]=this["cScalePeer"+g]||Lt(this["cScale"+g],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScaleLabel"+g]=this["cScaleLabel"+g]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let g=0;g<5;g++)this["surface"+g]=this["surface"+g]||Ne(this.mainBkg,{h:180,s:-15,l:t*(5+3*g)}),this["surfacePeer"+g]=this["surfacePeer"+g]||Ne(this.mainBkg,{h:180,s:-15,l:t*(8+3*g)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Ne(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Ne(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Ne(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Ne(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Ne(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Ne(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ne(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ne(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Ne(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Ne(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ne(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ne(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ne(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Ne(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Ne(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ne(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ne(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ne(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ne(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ne(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ne(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||pc(this.quadrant1Fill)?wt(this.quadrant1Fill):Lt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((r=this.xyChart)==null?void 0:r.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((u=this.xyChart)==null?void 0:u.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((h=this.xyChart)==null?void 0:h.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((d=this.xyChart)==null?void 0:d.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((p=this.xyChart)==null?void 0:p.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((f=this.xyChart)==null?void 0:f.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Lt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ne(this.primaryColor,{h:-30}),this.git4=this.git4||Ne(this.primaryColor,{h:-60}),this.git5=this.git5||Ne(this.primaryColor,{h:-90}),this.git6=this.git6||Ne(this.primaryColor,{h:60}),this.git7=this.git7||Ne(this.primaryColor,{h:120}),this.darkMode?(this.git0=wt(this.git0,25),this.git1=wt(this.git1,25),this.git2=wt(this.git2,25),this.git3=wt(this.git3,25),this.git4=wt(this.git4,25),this.git5=wt(this.git5,25),this.git6=wt(this.git6,25),this.git7=wt(this.git7,25)):(this.git0=Lt(this.git0,25),this.git1=Lt(this.git1,25),this.git2=Lt(this.git2,25),this.git3=Lt(this.git3,25),this.git4=Lt(this.git4,25),this.git5=Lt(this.git5,25),this.git6=Lt(this.git6,25),this.git7=Lt(this.git7,25)),this.gitInv0=this.gitInv0||ct(this.git0),this.gitInv1=this.gitInv1||ct(this.git1),this.gitInv2=this.gitInv2||ct(this.git2),this.gitInv3=this.gitInv3||ct(this.git3),this.gitInv4=this.gitInv4||ct(this.git4),this.gitInv5=this.gitInv5||ct(this.git5),this.gitInv6=this.gitInv6||ct(this.git6),this.gitInv7=this.gitInv7||ct(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||"#ffffff",this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||"#f2f2f2"}calculate(t){if(typeof t!="object")return void this.updateColors();const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},l(Sd,"Theme"),Sd),Kce=l(e=>{const t=new Xce;return t.calculate(e),t},"getThemeVariables"),Ad,Zce=(Ad=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=wt(this.primaryColor,16),this.tertiaryColor=Ne(this.primaryColor,{h:-160}),this.primaryBorderColor=ct(this.background),this.secondaryBorderColor=Ii(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ii(this.tertiaryColor,this.darkMode),this.primaryTextColor=ct(this.primaryColor),this.secondaryTextColor=ct(this.secondaryColor),this.tertiaryTextColor=ct(this.tertiaryColor),this.lineColor=ct(this.background),this.textColor=ct(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=wt(ct("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=mu(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Lt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Lt(this.sectionBkgColor,10),this.taskBorderColor=mu(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=mu(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,r,n,i,a,s,o,u,h,d,p;this.secondBkg=wt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=wt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=wt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ne(this.primaryColor,{h:64}),this.fillType3=Ne(this.secondaryColor,{h:64}),this.fillType4=Ne(this.primaryColor,{h:-64}),this.fillType5=Ne(this.secondaryColor,{h:-64}),this.fillType6=Ne(this.primaryColor,{h:128}),this.fillType7=Ne(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ne(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ne(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ne(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ne(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ne(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ne(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ne(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ne(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ne(this.primaryColor,{h:330});for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||ct(this["cScale"+f]);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScalePeer"+f]=this["cScalePeer"+f]||wt(this["cScale"+f],10);for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||Ne(this.mainBkg,{h:30,s:-30,l:-(4*f-10)}),this["surfacePeer"+f]=this["surfacePeer"+f]||Ne(this.mainBkg,{h:30,s:-30,l:-(4*f-7)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["pie"+f]=this["cScale"+f];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ne(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ne(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ne(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ne(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ne(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ne(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||pc(this.quadrant1Fill)?wt(this.quadrant1Fill):Lt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((p=this.xyChart)==null?void 0:p.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Lt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=wt(this.secondaryColor,20),this.git1=wt(this.pie2||this.secondaryColor,20),this.git2=wt(this.pie3||this.tertiaryColor,20),this.git3=wt(this.pie4||Ne(this.primaryColor,{h:-30}),20),this.git4=wt(this.pie5||Ne(this.primaryColor,{h:-60}),20),this.git5=wt(this.pie6||Ne(this.primaryColor,{h:-90}),10),this.git6=wt(this.pie7||Ne(this.primaryColor,{h:60}),10),this.git7=wt(this.pie8||Ne(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||ct(this.git0),this.gitInv1=this.gitInv1||ct(this.git1),this.gitInv2=this.gitInv2||ct(this.git2),this.gitInv3=this.gitInv3||ct(this.git3),this.gitInv4=this.gitInv4||ct(this.git4),this.gitInv5=this.gitInv5||ct(this.git5),this.gitInv6=this.gitInv6||ct(this.git6),this.gitInv7=this.gitInv7||ct(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ct(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ct(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||wt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||wt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object")return void this.updateColors();const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},l(Ad,"Theme"),Ad),Qce=l(e=>{const t=new Zce;return t.calculate(e),t},"getThemeVariables"),Ld,Jce=(Ld=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Ne(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Ne(this.primaryColor,{h:-160}),this.primaryBorderColor=Ii(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ii(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ii(this.tertiaryColor,this.darkMode),this.primaryTextColor=ct(this.primaryColor),this.secondaryTextColor=ct(this.secondaryColor),this.tertiaryTextColor=ct(this.tertiaryColor),this.lineColor=ct(this.background),this.textColor=ct(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=mu(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,r,n,i,a,s,o,u,h,d,p;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ne(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ne(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ne(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ne(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ne(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ne(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ne(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ne(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ne(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Lt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Lt(this.tertiaryColor,40);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=Lt(this["cScale"+f],10),this["cScalePeer"+f]=this["cScalePeer"+f]||Lt(this["cScale"+f],25);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||Ne(this["cScale"+f],{h:180});for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||Ne(this.mainBkg,{h:30,l:-(5+5*f)}),this["surfacePeer"+f]=this["surfacePeer"+f]||Ne(this.mainBkg,{h:30,l:-(7+5*f)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||ct(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||ct(this.labelTextColor);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=wt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ne(this.primaryColor,{h:64}),this.fillType3=Ne(this.secondaryColor,{h:64}),this.fillType4=Ne(this.primaryColor,{h:-64}),this.fillType5=Ne(this.secondaryColor,{h:-64}),this.fillType6=Ne(this.primaryColor,{h:128}),this.fillType7=Ne(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Ne(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Ne(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ne(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ne(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Ne(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Ne(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Ne(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Ne(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Ne(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Ne(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ne(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ne(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ne(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ne(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ne(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ne(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||pc(this.quadrant1Fill)?wt(this.quadrant1Fill):Lt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((p=this.xyChart)==null?void 0:p.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ne(this.primaryColor,{h:-30}),this.git4=this.git4||Ne(this.primaryColor,{h:-60}),this.git5=this.git5||Ne(this.primaryColor,{h:-90}),this.git6=this.git6||Ne(this.primaryColor,{h:60}),this.git7=this.git7||Ne(this.primaryColor,{h:120}),this.darkMode?(this.git0=wt(this.git0,25),this.git1=wt(this.git1,25),this.git2=wt(this.git2,25),this.git3=wt(this.git3,25),this.git4=wt(this.git4,25),this.git5=wt(this.git5,25),this.git6=wt(this.git6,25),this.git7=wt(this.git7,25)):(this.git0=Lt(this.git0,25),this.git1=Lt(this.git1,25),this.git2=Lt(this.git2,25),this.git3=Lt(this.git3,25),this.git4=Lt(this.git4,25),this.git5=Lt(this.git5,25),this.git6=Lt(this.git6,25),this.git7=Lt(this.git7,25)),this.gitInv0=this.gitInv0||Lt(ct(this.git0),25),this.gitInv1=this.gitInv1||ct(this.git1),this.gitInv2=this.gitInv2||ct(this.git2),this.gitInv3=this.gitInv3||ct(this.git3),this.gitInv4=this.gitInv4||ct(this.git4),this.gitInv5=this.gitInv5||ct(this.git5),this.gitInv6=this.gitInv6||ct(this.git6),this.gitInv7=this.gitInv7||ct(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ct(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ct(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||"#ffffff",this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||"#f2f2f2"}calculate(t){if(typeof t!="object")return void this.updateColors();const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},l(Ld,"Theme"),Ld),FS=l(e=>{const t=new Jce;return t.calculate(e),t},"getThemeVariables"),Nd,eue=(Nd=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=wt("#cde498",10),this.primaryBorderColor=Ii(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ii(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ii(this.tertiaryColor,this.darkMode),this.primaryTextColor=ct(this.primaryColor),this.secondaryTextColor=ct(this.secondaryColor),this.tertiaryTextColor=ct(this.primaryColor),this.lineColor=ct(this.background),this.textColor=ct(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,n,i,a,s,o,u,h,d,p;this.actorBorder=Lt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ne(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ne(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ne(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ne(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ne(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ne(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ne(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ne(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ne(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Lt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Lt(this.tertiaryColor,40);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=Lt(this["cScale"+f],10),this["cScalePeer"+f]=this["cScalePeer"+f]||Lt(this["cScale"+f],25);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||Ne(this["cScale"+f],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||Ne(this.mainBkg,{h:30,s:-30,l:-(5+5*f)}),this["surfacePeer"+f]=this["surfacePeer"+f]||Ne(this.mainBkg,{h:30,s:-30,l:-(8+5*f)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ne(this.primaryColor,{h:64}),this.fillType3=Ne(this.secondaryColor,{h:64}),this.fillType4=Ne(this.primaryColor,{h:-64}),this.fillType5=Ne(this.secondaryColor,{h:-64}),this.fillType6=Ne(this.primaryColor,{h:128}),this.fillType7=Ne(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ne(this.primaryColor,{l:-30}),this.pie5=this.pie5||Ne(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ne(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Ne(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ne(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ne(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ne(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Ne(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Ne(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ne(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ne(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ne(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ne(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ne(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ne(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||pc(this.quadrant1Fill)?wt(this.quadrant1Fill):Lt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((p=this.xyChart)==null?void 0:p.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ne(this.primaryColor,{h:-30}),this.git4=this.git4||Ne(this.primaryColor,{h:-60}),this.git5=this.git5||Ne(this.primaryColor,{h:-90}),this.git6=this.git6||Ne(this.primaryColor,{h:60}),this.git7=this.git7||Ne(this.primaryColor,{h:120}),this.darkMode?(this.git0=wt(this.git0,25),this.git1=wt(this.git1,25),this.git2=wt(this.git2,25),this.git3=wt(this.git3,25),this.git4=wt(this.git4,25),this.git5=wt(this.git5,25),this.git6=wt(this.git6,25),this.git7=wt(this.git7,25)):(this.git0=Lt(this.git0,25),this.git1=Lt(this.git1,25),this.git2=Lt(this.git2,25),this.git3=Lt(this.git3,25),this.git4=Lt(this.git4,25),this.git5=Lt(this.git5,25),this.git6=Lt(this.git6,25),this.git7=Lt(this.git7,25)),this.gitInv0=this.gitInv0||ct(this.git0),this.gitInv1=this.gitInv1||ct(this.git1),this.gitInv2=this.gitInv2||ct(this.git2),this.gitInv3=this.gitInv3||ct(this.git3),this.gitInv4=this.gitInv4||ct(this.git4),this.gitInv5=this.gitInv5||ct(this.git5),this.gitInv6=this.gitInv6||ct(this.git6),this.gitInv7=this.gitInv7||ct(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ct(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ct(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||"#ffffff",this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||"#f2f2f2"}calculate(t){if(typeof t!="object")return void this.updateColors();const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},l(Nd,"Theme"),Nd),tue=l(e=>{const t=new eue;return t.calculate(e),t},"getThemeVariables"),Id,rue=(Id=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=wt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Ne(this.primaryColor,{h:-160}),this.primaryBorderColor=Ii(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ii(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ii(this.tertiaryColor,this.darkMode),this.primaryTextColor=ct(this.primaryColor),this.secondaryTextColor=ct(this.secondaryColor),this.tertiaryTextColor=ct(this.tertiaryColor),this.lineColor=ct(this.background),this.textColor=ct(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,n,i,a,s,o,u,h,d,p;this.secondBkg=wt(this.contrast,55),this.border2=this.contrast,this.actorBorder=wt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||ct(this["cScale"+f]);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this.darkMode?this["cScalePeer"+f]=this["cScalePeer"+f]||wt(this["cScale"+f],10):this["cScalePeer"+f]=this["cScalePeer"+f]||Lt(this["cScale"+f],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||Ne(this.mainBkg,{l:-(5+5*f)}),this["surfacePeer"+f]=this["surfacePeer"+f]||Ne(this.mainBkg,{l:-(8+5*f)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=wt(this.contrast,30),this.sectionBkgColor2=wt(this.contrast,30),this.taskBorderColor=Lt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=wt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Lt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ne(this.primaryColor,{h:64}),this.fillType3=Ne(this.secondaryColor,{h:64}),this.fillType4=Ne(this.primaryColor,{h:-64}),this.fillType5=Ne(this.secondaryColor,{h:-64}),this.fillType6=Ne(this.primaryColor,{h:128}),this.fillType7=Ne(this.secondaryColor,{h:128});for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["pie"+f]=this["cScale"+f];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ne(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ne(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ne(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ne(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ne(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ne(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||pc(this.quadrant1Fill)?wt(this.quadrant1Fill):Lt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((p=this.xyChart)==null?void 0:p.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Lt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Ne(this.primaryColor,{h:-30}),this.git4=this.pie5||Ne(this.primaryColor,{h:-60}),this.git5=this.pie6||Ne(this.primaryColor,{h:-90}),this.git6=this.pie7||Ne(this.primaryColor,{h:60}),this.git7=this.pie8||Ne(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||ct(this.git0),this.gitInv1=this.gitInv1||ct(this.git1),this.gitInv2=this.gitInv2||ct(this.git2),this.gitInv3=this.gitInv3||ct(this.git3),this.gitInv4=this.gitInv4||ct(this.git4),this.gitInv5=this.gitInv5||ct(this.git5),this.gitInv6=this.gitInv6||ct(this.git6),this.gitInv7=this.gitInv7||ct(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||"#ffffff",this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||"#f2f2f2"}calculate(t){if(typeof t!="object")return void this.updateColors();const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},l(Id,"Theme"),Id),Po={base:{getThemeVariables:Kce},dark:{getThemeVariables:Qce},default:{getThemeVariables:FS},forest:{getThemeVariables:tue},neutral:{getThemeVariables:l(e=>{const t=new rue;return t.calculate(e),t},"getThemeVariables")}},hl={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},QB={...hl,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:Po.default.getThemeVariables(),sequence:{...hl.sequence,messageFont:l(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:l(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:l(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...hl.gantt,tickInterval:void 0,useWidth:void 0},c4:{...hl.c4,useWidth:void 0,personFont:l(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:l(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:l(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:l(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:l(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:l(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:l(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:l(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:l(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:l(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:l(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:l(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:l(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:l(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:l(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:l(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:l(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:l(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:l(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:l(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:l(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:l(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...hl.pie,useWidth:984},xyChart:{...hl.xyChart,useWidth:void 0},requirement:{...hl.requirement,useWidth:void 0},packet:{...hl.packet}},JB=l((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...JB(e[n],"")]:[...r,t+n],[]),"keyify"),nue=new Set(JB(QB,"")),lr=QB,Eb=l(e=>{if(re.debug("sanitizeDirective called with",e),typeof e=="object"&&e!=null)if(Array.isArray(e))e.forEach(t=>Eb(t));else{for(const t of Object.keys(e)){if(re.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!nue.has(t)||e[t]==null){re.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){re.debug("sanitizing object",t),Eb(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)t.includes(n)&&(re.debug("sanitizing css option",t),e[t]=iue(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}re.debug("After sanitization",e)}},"sanitizeDirective"),iue=l(e=>{let t=0,r=0;for(const n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),jg=Object.freeze(lr),Xi=Pn({},jg),hy=[],Cb=Pn({},jg),B5=l((e,t)=>{let r=Pn({},e),n={};for(const i of t)r$(i),n=Pn(n,i);if(r=Pn(r,n),n.theme&&n.theme in Po){const i=Pn({},WB),a=Pn(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in Po&&(r.themeVariables=Po[r.theme].getThemeVariables(a))}return n$(Cb=r),Cb},"updateCurrentConfig"),aue=l(e=>(Xi=Pn({},jg),Xi=Pn(Xi,e),e.theme&&Po[e.theme]&&(Xi.themeVariables=Po[e.theme].getThemeVariables(e.themeVariables)),B5(Xi,hy),Xi),"setSiteConfig"),sue=l(e=>{WB=Pn({},e)},"saveConfigFromInitialize"),oue=l(e=>(Xi=Pn(Xi,e),B5(Xi,hy),Xi),"updateSiteConfig"),e$=l(()=>Pn({},Xi),"getSiteConfig"),t$=l(e=>(n$(e),Pn(Cb,e),Zr()),"setConfig"),Zr=l(()=>Pn({},Cb),"getConfig"),r$=l(e=>{e&&(["secure",...Xi.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(re.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&r$(e[t])}))},"sanitize"),lue=l(e=>{var t;Eb(e),e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),hy.push(e),B5(Xi,hy)},"addDirective"),Sb=l((e=Xi)=>{B5(e,hy=[])},"reset"),cue={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},PI={},uue=l(e=>{PI[e]||(re.warn(cue[e]),PI[e]=!0)},"issueWarning"),n$=l(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&uue("LAZY_LOAD_DEPRECATED")},"checkConfig"),{entries:i$,setPrototypeOf:BI,isFrozen:hue,getPrototypeOf:due,getOwnPropertyDescriptor:pue}=Object,{freeze:Oi,seal:ts,create:a$}=Object,{apply:lT,construct:cT}=typeof Reflect<"u"&&Reflect;Oi||(Oi=l(function(e){return e},"freeze")),ts||(ts=l(function(e){return e},"seal")),lT||(lT=l(function(e,t,r){return e.apply(t,r)},"apply")),cT||(cT=l(function(e,t){return new e(...t)},"construct"));var fv=oa(Array.prototype.forEach),$I=oa(Array.prototype.pop),z0=oa(Array.prototype.push),mx=oa(String.prototype.toLowerCase),Dw=oa(String.prototype.toString),FI=oa(String.prototype.match),U0=oa(String.prototype.replace),fue=oa(String.prototype.indexOf),gue=oa(String.prototype.trim),gs=oa(Object.prototype.hasOwnProperty),Si=oa(RegExp.prototype.test),G0=s$(TypeError);function oa(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return lT(e,t,n)}}function s$(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return cT(e,r)}}function Qt(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mx;BI&&BI(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const a=r(i);a!==i&&(hue(t)||(t[n]=a),i=a)}e[i]=!0}return e}function o$(e){for(let t=0;t<e.length;t++)gs(e,t)||(e[t]=null);return e}function Cl(e){const t=a$(null);for(const[r,n]of i$(e))gs(e,r)&&(Array.isArray(n)?t[r]=o$(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Cl(n):t[r]=n);return t}function Bh(e,t){for(;e!==null;){const n=pue(e,t);if(n){if(n.get)return oa(n.get);if(typeof n.value=="function")return oa(n.value)}e=due(e)}function r(){return null}return l(r,"fallbackValue"),r}l(oa,"unapply"),l(s$,"unconstruct"),l(Qt,"addToSet"),l(o$,"cleanArray"),l(Cl,"clone"),l(Bh,"lookupGetter");var zI=Oi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ow=Oi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Pw=Oi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mue=Oi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Bw=Oi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),yue=Oi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),UI=Oi(["#text"]),GI=Oi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),$w=Oi(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qI=Oi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),gv=Oi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vue=ts(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xue=ts(/<%[\w\W]*|[\w\W]*%>/gm),bue=ts(/\${[\w\W]*}/gm),wue=ts(/^data-[\-\w.\u00B7-\uFFFF]/),kue=ts(/^aria-[\-\w]+$/),l$=ts(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Tue=ts(/^(?:\w+script|data):/i),_ue=ts(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),c$=ts(/^html$/i),Eue=ts(/^[a-z][.\w]*(-[.\w]+)+$/i),jI=Object.freeze({__proto__:null,ARIA_ATTR:kue,ATTR_WHITESPACE:_ue,CUSTOM_ELEMENT:Eue,DATA_ATTR:wue,DOCTYPE_NAME:c$,ERB_EXPR:xue,IS_ALLOWED_URI:l$,IS_SCRIPT_OR_DATA:Tue,MUSTACHE_EXPR:vue,TMPLIT_EXPR:bue}),Cue=1,Sue=3,Aue=7,Lue=8,Nue=9,Iue=l(function(){return typeof window>"u"?null:window},"getGlobal"),Mue=l(function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(r=t.getAttribute(n));const i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML:a=>a,createScriptURL:a=>a})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},"_createTrustedTypesPolicy");function zS(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Iue();const t=l(me=>zS(me),"DOMPurify");if(t.version="3.2.1",t.removed=[],!e||!e.document||e.document.nodeType!==Nue)return t.isSupported=!1,t;let{document:r}=e;const n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:o,Element:u,NodeFilter:h,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:f,trustedTypes:g}=e,m=u.prototype,y=Bh(m,"cloneNode"),v=Bh(m,"remove"),x=Bh(m,"nextSibling"),b=Bh(m,"childNodes"),w=Bh(m,"parentNode");if(typeof s=="function"){const me=r.createElement("template");me.content&&me.content.ownerDocument&&(r=me.content.ownerDocument)}let T,k="";const{implementation:R,createNodeIterator:C,createDocumentFragment:E,getElementsByTagName:_}=r,{importNode:L}=n;let D={};t.isSupported=typeof i$=="function"&&typeof w=="function"&&R&&R.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:B,ERB_EXPR:S,TMPLIT_EXPR:N,DATA_ATTR:A,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:O,ATTR_WHITESPACE:I,CUSTOM_ELEMENT:P}=jI;let{IS_ALLOWED_URI:$}=jI,z=null;const G=Qt({},[...zI,...Ow,...Pw,...Bw,...UI]);let q=null;const J=Qt({},[...GI,...$w,...qI,...gv]);let ie=Object.seal(a$(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),te=null,W=null,H=!0,X=!0,Q=!1,ne=!0,ee=!1,pe=!0,j=!1,ce=!1,le=!1,Ae=!1,Se=!1,ze=!1,Pe=!0,Ve=!1;const Ue="user-content-";let Ge=!0,V=!1,ue={},oe=null;const we=Qt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let K=null;const ve=Qt({},["audio","video","img","source","image","track"]);let Y=null;const he=Qt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),se="http://www.w3.org/1998/Math/MathML",be="http://www.w3.org/2000/svg",Te="http://www.w3.org/1999/xhtml";let _e=Te,Re=!1,ke=null;const Be=Qt({},[se,be,Te],Dw);let Oe=Qt({},["mi","mo","mn","ms","mtext"]),ft=Qt({},["annotation-xml"]);const Et=Qt({},["title","style","font","a","script"]);let Ye=null;const bt=["application/xhtml+xml","text/html"],at="text/html";let De=null,rt=null;const Je=r.createElement("form"),Ze=l(function(me){return me instanceof RegExp||me instanceof Function},"isRegexOrFunction"),ht=l(function(){let me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!rt||rt!==me){if(me&&typeof me=="object"||(me={}),me=Cl(me),Ye=bt.indexOf(me.PARSER_MEDIA_TYPE)===-1?at:me.PARSER_MEDIA_TYPE,De=Ye==="application/xhtml+xml"?Dw:mx,z=gs(me,"ALLOWED_TAGS")?Qt({},me.ALLOWED_TAGS,De):G,q=gs(me,"ALLOWED_ATTR")?Qt({},me.ALLOWED_ATTR,De):J,ke=gs(me,"ALLOWED_NAMESPACES")?Qt({},me.ALLOWED_NAMESPACES,Dw):Be,Y=gs(me,"ADD_URI_SAFE_ATTR")?Qt(Cl(he),me.ADD_URI_SAFE_ATTR,De):he,K=gs(me,"ADD_DATA_URI_TAGS")?Qt(Cl(ve),me.ADD_DATA_URI_TAGS,De):ve,oe=gs(me,"FORBID_CONTENTS")?Qt({},me.FORBID_CONTENTS,De):we,te=gs(me,"FORBID_TAGS")?Qt({},me.FORBID_TAGS,De):{},W=gs(me,"FORBID_ATTR")?Qt({},me.FORBID_ATTR,De):{},ue=!!gs(me,"USE_PROFILES")&&me.USE_PROFILES,H=me.ALLOW_ARIA_ATTR!==!1,X=me.ALLOW_DATA_ATTR!==!1,Q=me.ALLOW_UNKNOWN_PROTOCOLS||!1,ne=me.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ee=me.SAFE_FOR_TEMPLATES||!1,pe=me.SAFE_FOR_XML!==!1,j=me.WHOLE_DOCUMENT||!1,Ae=me.RETURN_DOM||!1,Se=me.RETURN_DOM_FRAGMENT||!1,ze=me.RETURN_TRUSTED_TYPE||!1,le=me.FORCE_BODY||!1,Pe=me.SANITIZE_DOM!==!1,Ve=me.SANITIZE_NAMED_PROPS||!1,Ge=me.KEEP_CONTENT!==!1,V=me.IN_PLACE||!1,$=me.ALLOWED_URI_REGEXP||l$,_e=me.NAMESPACE||Te,Oe=me.MATHML_TEXT_INTEGRATION_POINTS||Oe,ft=me.HTML_INTEGRATION_POINTS||ft,ie=me.CUSTOM_ELEMENT_HANDLING||{},me.CUSTOM_ELEMENT_HANDLING&&Ze(me.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ie.tagNameCheck=me.CUSTOM_ELEMENT_HANDLING.tagNameCheck),me.CUSTOM_ELEMENT_HANDLING&&Ze(me.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ie.attributeNameCheck=me.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),me.CUSTOM_ELEMENT_HANDLING&&typeof me.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ie.allowCustomizedBuiltInElements=me.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ee&&(X=!1),Se&&(Ae=!0),ue&&(z=Qt({},UI),q=[],ue.html===!0&&(Qt(z,zI),Qt(q,GI)),ue.svg===!0&&(Qt(z,Ow),Qt(q,$w),Qt(q,gv)),ue.svgFilters===!0&&(Qt(z,Pw),Qt(q,$w),Qt(q,gv)),ue.mathMl===!0&&(Qt(z,Bw),Qt(q,qI),Qt(q,gv))),me.ADD_TAGS&&(z===G&&(z=Cl(z)),Qt(z,me.ADD_TAGS,De)),me.ADD_ATTR&&(q===J&&(q=Cl(q)),Qt(q,me.ADD_ATTR,De)),me.ADD_URI_SAFE_ATTR&&Qt(Y,me.ADD_URI_SAFE_ATTR,De),me.FORBID_CONTENTS&&(oe===we&&(oe=Cl(oe)),Qt(oe,me.FORBID_CONTENTS,De)),Ge&&(z["#text"]=!0),j&&Qt(z,["html","head","body"]),z.table&&(Qt(z,["tbody"]),delete te.tbody),me.TRUSTED_TYPES_POLICY){if(typeof me.TRUSTED_TYPES_POLICY.createHTML!="function")throw G0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof me.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw G0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=me.TRUSTED_TYPES_POLICY,k=T.createHTML("")}else T===void 0&&(T=Mue(g,i)),T!==null&&typeof k=="string"&&(k=T.createHTML(""));Oi&&Oi(me),rt=me}},"_parseConfig"),mt=Qt({},[...Ow,...Pw,...mue]),yt=Qt({},[...Bw,...yue]),Xe=l(function(me){let ot=w(me);ot&&ot.tagName||(ot={namespaceURI:_e,tagName:"template"});const tt=mx(me.tagName),er=mx(ot.tagName);return!!ke[me.namespaceURI]&&(me.namespaceURI===be?ot.namespaceURI===Te?tt==="svg":ot.namespaceURI===se?tt==="svg"&&(er==="annotation-xml"||Oe[er]):!!mt[tt]:me.namespaceURI===se?ot.namespaceURI===Te?tt==="math":ot.namespaceURI===be?tt==="math"&&ft[er]:!!yt[tt]:me.namespaceURI===Te?!(ot.namespaceURI===be&&!ft[er])&&!(ot.namespaceURI===se&&!Oe[er])&&!yt[tt]&&(Et[tt]||!mt[tt]):!(Ye!=="application/xhtml+xml"||!ke[me.namespaceURI]))},"_checkValidNamespace"),Fe=l(function(me){z0(t.removed,{element:me});try{w(me).removeChild(me)}catch{v(me)}},"_forceRemove"),pt=l(function(me,ot){try{z0(t.removed,{attribute:ot.getAttributeNode(me),from:ot})}catch{z0(t.removed,{attribute:null,from:ot})}if(ot.removeAttribute(me),me==="is"&&!q[me])if(Ae||Se)try{Fe(ot)}catch{}else try{ot.setAttribute(me,"")}catch{}},"_removeAttribute"),Rt=l(function(me){let ot=null,tt=null;if(le)me="<remove></remove>"+me;else{const dr=FI(me,/^[\r\n\t ]+/);tt=dr&&dr[0]}Ye==="application/xhtml+xml"&&_e===Te&&(me='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+me+"</body></html>");const er=T?T.createHTML(me):me;if(_e===Te)try{ot=new f().parseFromString(er,Ye)}catch{}if(!ot||!ot.documentElement){ot=R.createDocument(_e,"template",null);try{ot.documentElement.innerHTML=Re?k:er}catch{}}const vr=ot.body||ot.documentElement;return me&&tt&&vr.insertBefore(r.createTextNode(tt),vr.childNodes[0]||null),_e===Te?_.call(ot,j?"html":"body")[0]:j?ot.documentElement:vr},"_initDocument"),Ft=l(function(me){return C.call(me.ownerDocument||me,me,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},"_createNodeIterator"),Sr=l(function(me){return me instanceof p&&(typeof me.nodeName!="string"||typeof me.textContent!="string"||typeof me.removeChild!="function"||!(me.attributes instanceof d)||typeof me.removeAttribute!="function"||typeof me.setAttribute!="function"||typeof me.namespaceURI!="string"||typeof me.insertBefore!="function"||typeof me.hasChildNodes!="function")},"_isClobbered"),wn=l(function(me){return typeof o=="function"&&me instanceof o},"_isNode");function Wt(me,ot,tt){D[me]&&fv(D[me],er=>{er.call(t,ot,tt,rt)})}l(Wt,"_executeHook");const Zt=l(function(me){let ot=null;if(Wt("beforeSanitizeElements",me,null),Sr(me))return Fe(me),!0;const tt=De(me.nodeName);if(Wt("uponSanitizeElement",me,{tagName:tt,allowedTags:z}),me.hasChildNodes()&&!wn(me.firstElementChild)&&Si(/<[/\w]/g,me.innerHTML)&&Si(/<[/\w]/g,me.textContent)||me.nodeType===Aue||pe&&me.nodeType===Lue&&Si(/<[/\w]/g,me.data))return Fe(me),!0;if(!z[tt]||te[tt]){if(!te[tt]&&rr(tt)&&(ie.tagNameCheck instanceof RegExp&&Si(ie.tagNameCheck,tt)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(tt)))return!1;if(Ge&&!oe[tt]){const er=w(me)||me.parentNode,vr=b(me)||me.childNodes;if(vr&&er)for(let dr=vr.length-1;dr>=0;--dr){const ma=y(vr[dr],!0);ma.__removalCount=(me.__removalCount||0)+1,er.insertBefore(ma,x(me))}}return Fe(me),!0}return me instanceof u&&!Xe(me)?(Fe(me),!0):tt!=="noscript"&&tt!=="noembed"&&tt!=="noframes"||!Si(/<\/no(script|embed|frames)/i,me.innerHTML)?(ee&&me.nodeType===Sue&&(ot=me.textContent,fv([B,S,N],er=>{ot=U0(ot,er," ")}),me.textContent!==ot&&(z0(t.removed,{element:me.cloneNode()}),me.textContent=ot)),Wt("afterSanitizeElements",me,null),!1):(Fe(me),!0)},"_sanitizeElements"),Or=l(function(me,ot,tt){if(Pe&&(ot==="id"||ot==="name")&&(tt in r||tt in Je))return!1;if(!(X&&!W[ot]&&Si(A,ot))){if(!(H&&Si(M,ot))){if(!q[ot]||W[ot]){if(!(rr(me)&&(ie.tagNameCheck instanceof RegExp&&Si(ie.tagNameCheck,me)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(me))&&(ie.attributeNameCheck instanceof RegExp&&Si(ie.attributeNameCheck,ot)||ie.attributeNameCheck instanceof Function&&ie.attributeNameCheck(ot))||ot==="is"&&ie.allowCustomizedBuiltInElements&&(ie.tagNameCheck instanceof RegExp&&Si(ie.tagNameCheck,tt)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(tt))))return!1}else if(!Y[ot]){if(!Si($,U0(tt,I,""))){if((ot!=="src"&&ot!=="xlink:href"&&ot!=="href"||me==="script"||fue(tt,"data:")!==0||!K[me])&&!(Q&&!Si(O,U0(tt,I,"")))){if(tt)return!1}}}}}return!0},"_isValidAttribute"),rr=l(function(me){return me!=="annotation-xml"&&FI(me,P)},"_isBasicCustomElement"),Hr=l(function(me){Wt("beforeSanitizeAttributes",me,null);const{attributes:ot}=me;if(!ot)return;const tt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q,forceKeepAttr:void 0};let er=ot.length;for(;er--;){const vr=ot[er],{name:dr,namespaceURI:ma,value:Zn}=vr,Vr=De(dr);let st=dr==="value"?Zn:gue(Zn);if(tt.attrName=Vr,tt.attrValue=st,tt.keepAttr=!0,tt.forceKeepAttr=void 0,Wt("uponSanitizeAttribute",me,tt),st=tt.attrValue,!Ve||Vr!=="id"&&Vr!=="name"||(pt(dr,me),st=Ue+st),pe&&Si(/((--!?|])>)|<\/(style|title)/i,st)){pt(dr,me);continue}if(tt.forceKeepAttr||(pt(dr,me),!tt.keepAttr))continue;if(!ne&&Si(/\/>/i,st)){pt(dr,me);continue}ee&&fv([B,S,N],$e=>{st=U0(st,$e," ")});const We=De(me.nodeName);if(Or(We,Vr,st)){if(T&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!ma)switch(g.getAttributeType(We,Vr)){case"TrustedHTML":st=T.createHTML(st);break;case"TrustedScriptURL":st=T.createScriptURL(st)}try{ma?me.setAttributeNS(ma,dr,st):me.setAttribute(dr,st),Sr(me)?Fe(me):$I(t.removed)}catch{}}}Wt("afterSanitizeAttributes",me,null)},"_sanitizeAttributes"),Tr=l(function me(ot){let tt=null;const er=Ft(ot);for(Wt("beforeSanitizeShadowDOM",ot,null);tt=er.nextNode();)Wt("uponSanitizeShadowNode",tt,null),Zt(tt)||(tt.content instanceof a&&me(tt.content),Hr(tt));Wt("afterSanitizeShadowDOM",ot,null)},"_sanitizeShadowDOM");return t.sanitize=function(me){let ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=null,er=null,vr=null,dr=null;if(Re=!me,Re&&(me="<!-->"),typeof me!="string"&&!wn(me)){if(typeof me.toString!="function")throw G0("toString is not a function");if(typeof(me=me.toString())!="string")throw G0("dirty is not a string, aborting")}if(!t.isSupported)return me;if(ce||ht(ot),t.removed=[],typeof me=="string"&&(V=!1),V){if(me.nodeName){const Vr=De(me.nodeName);if(!z[Vr]||te[Vr])throw G0("root node is forbidden and cannot be sanitized in-place")}}else if(me instanceof o)tt=Rt("<!---->"),er=tt.ownerDocument.importNode(me,!0),er.nodeType===Cue&&er.nodeName==="BODY"||er.nodeName==="HTML"?tt=er:tt.appendChild(er);else{if(!Ae&&!ee&&!j&&me.indexOf("<")===-1)return T&&ze?T.createHTML(me):me;if(tt=Rt(me),!tt)return Ae?null:ze?k:""}tt&&le&&Fe(tt.firstChild);const ma=Ft(V?me:tt);for(;vr=ma.nextNode();)Zt(vr)||(vr.content instanceof a&&Tr(vr.content),Hr(vr));if(V)return me;if(Ae){if(Se)for(dr=E.call(tt.ownerDocument);tt.firstChild;)dr.appendChild(tt.firstChild);else dr=tt;return(q.shadowroot||q.shadowrootmode)&&(dr=L.call(n,dr,!0)),dr}let Zn=j?tt.outerHTML:tt.innerHTML;return j&&z["!doctype"]&&tt.ownerDocument&&tt.ownerDocument.doctype&&tt.ownerDocument.doctype.name&&Si(c$,tt.ownerDocument.doctype.name)&&(Zn="<!DOCTYPE "+tt.ownerDocument.doctype.name+`>
`+Zn),ee&&fv([B,S,N],Vr=>{Zn=U0(Zn,Vr," ")}),T&&ze?T.createHTML(Zn):Zn},t.setConfig=function(){let me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ht(me),ce=!0},t.clearConfig=function(){rt=null,ce=!1},t.isValidAttribute=function(me,ot,tt){rt||ht({});const er=De(me),vr=De(ot);return Or(er,vr,tt)},t.addHook=function(me,ot){typeof ot=="function"&&(D[me]=D[me]||[],z0(D[me],ot))},t.removeHook=function(me){if(D[me])return $I(D[me])},t.removeHooks=function(me){D[me]&&(D[me]=[])},t.removeAllHooks=function(){D={}},t}l(zS,"createDOMPurify");var Yg=zS(),y0=/<br\s*\/?>/gi,Rue=l(e=>e?d$(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),Due=(()=>{let e=!1;return()=>{e||(u$(),e=!0)}})();function u$(){const e="data-temp-href-target";Yg.addHook("beforeSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),Yg.addHook("afterSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}l(u$,"setupDompurifyHooks");var h$=l(e=>(Due(),Yg.sanitize(e)),"removeScript"),YI=l((e,t)=>{var r;if(((r=t.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=t.securityLevel;n==="antiscript"||n==="strict"?e=h$(e):n!=="loose"&&(e=(e=(e=d$(e)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),e=$ue(e))}return e},"sanitizeMore"),Ir=l((e,t)=>e&&(e=t.dompurifyConfig?Yg.sanitize(YI(e,t),t.dompurifyConfig).toString():Yg.sanitize(YI(e,t),{FORBID_TAGS:["style"]}).toString()),"sanitizeText"),Oue=l((e,t)=>typeof e=="string"?Ir(e,t):e.flat().map(r=>Ir(r,t)),"sanitizeTextOrArray"),Pue=l(e=>y0.test(e),"hasBreaks"),Bue=l(e=>e.split(y0),"splitBreaks"),$ue=l(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),d$=l(e=>e.replace(y0,"#br#"),"breakToPlaceholder"),Fue=l(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},"getUrl"),Mr=l(e=>e!==!1&&!["false","null","0"].includes(String(e).trim().toLowerCase()),"evaluate"),zue=l(function(...e){const t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),Uue=l(function(...e){const t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),Pc=l(function(e){const t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let i=t[n];if(i===","&&n>0&&n+1<t.length){const a=t[n-1],s=t[n+1];Gue(a,s)&&(i=a+","+s,n++,r.pop())}r.push(que(i))}return r.join("")},"parseGenericTypes"),uT=l((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),Gue=l((e,t)=>{const r=uT(e,"~"),n=uT(t,"~");return r===1&&n===1},"shouldCombineSets"),que=l(e=>{const t=uT(e,"~");let r=!1;if(t<=1)return e;t%2!=0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const n=[...e];let i=n.indexOf("~"),a=n.lastIndexOf("~");for(;i!==-1&&a!==-1&&i!==a;)n[i]="<",n[a]=">",i=n.indexOf("~"),a=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),WI=l(()=>window.MathMLElement!==void 0,"isMathMLSupported"),hT=/\$\$(.*)\$\$/g,Ti=l(e=>{var t;return(((t=e.match(hT))==null?void 0:t.length)??0)>0},"hasKatex"),y2=l(async(e,t)=>{var i;e=await v2(e,t);const r=document.createElement("div");r.innerHTML=e,r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",(i=document.querySelector("body"))==null||i.insertAdjacentElement("beforeend",r);const n={width:r.clientWidth,height:r.clientHeight};return r.remove(),n},"calculateMathMLDimensions"),v2=l(async(e,t)=>{if(!Ti(e))return e;if(!(WI()||t.legacyMathML||t.forceLegacyMathML))return e.replace(hT,"MathML is unsupported in this environment.");const{default:r}=await Promise.resolve().then(function(){return Iye}),n=t.forceLegacyMathML||!WI()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(y0).map(i=>Ti(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(hT,(i,a)=>r.renderToString(a,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),He={getRows:Rue,sanitizeText:Ir,sanitizeTextOrArray:Oue,hasBreaks:Pue,splitBreaks:Bue,lineBreakRegex:y0,removeScript:h$,getUrl:Fue,evaluate:Mr,getMax:zue,getMin:Uue},jue=l(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),Yue=l(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},"calculateSvgSizeAttrs"),Ci=l(function(e,t,r,n){const i=Yue(t,r,n);jue(e,i)},"configureSvgSize"),v0=l(function(e,t,r,n){const i=t.node().getBBox(),a=i.width,s=i.height;re.info(`SVG bounds: ${a}x${s}`,i);let o=0,u=0;re.info(`Graph bounds: ${o}x${u}`,e),o=a+2*r,u=s+2*r,re.info(`Calculated bounds: ${o}x${u}`),Ci(t,u,o,n);const h=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",h)},"setupGraphViewbox"),yx={},Wue=l((e,t,r)=>{let n="";return e in yx&&yx[e]?n=yx[e](r):re.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${t}
`},"getStyles"),Hue=l((e,t)=>{t!==void 0&&(yx[e]=t)},"addStylesForDiagram"),Vue=Wue,US={};il(US,{clear:()=>Hn,getAccDescription:()=>hi,getAccTitle:()=>ci,getDiagramTitle:()=>di,setAccDescription:()=>ui,setAccTitle:()=>Vn,setDiagramTitle:()=>Fi});var GS="",qS="",jS="",YS=l(e=>Ir(e,Zr()),"sanitizeText"),Hn=l(()=>{GS="",jS="",qS=""},"clear"),Vn=l(e=>{GS=YS(e).replace(/^\s+/g,"")},"setAccTitle"),ci=l(()=>GS,"getAccTitle"),ui=l(e=>{jS=YS(e).replace(/\n\s+/g,`
`)},"setAccDescription"),hi=l(()=>jS,"getAccDescription"),Fi=l(e=>{qS=YS(e)},"setDiagramTitle"),di=l(()=>qS,"getDiagramTitle"),HI=re,Xue=BS,ye=Zr,VI=t$,p$=jg,f$=l(e=>Ir(e,ye()),"sanitizeText"),g$=v0,Kue=l(()=>US,"getCommonDb"),Ab={},Lb=l((e,t,r)=>{var n;Ab[e]&&HI.warn(`Diagram with id ${e} already registered. Overwriting.`),Ab[e]=t,r&&YB(e,r),Hue(e,t.styles),(n=t.injectUtils)==null||n.call(t,HI,Xue,ye,f$,g$,Kue(),()=>{})},"registerDiagram"),dT=l(e=>{if(e in Ab)return Ab[e];throw new Zue(e)},"getDiagram"),Md,Zue=(Md=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},l(Md,"DiagramNotFoundError"),Md);function m$(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function y$(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function $m(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function v$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $5(e){let t,r,n;function i(o,u,h=0,d=o.length){if(h<d){if(t(u,u)!==0)return d;do{const p=h+d>>>1;r(o[p],u)<0?h=p+1:d=p}while(h<d)}return h}function a(o,u,h=0,d=o.length){if(h<d){if(t(u,u)!==0)return d;do{const p=h+d>>>1;r(o[p],u)<=0?h=p+1:d=p}while(h<d)}return h}function s(o,u,h=0,d=o.length){const p=i(o,u,h,d-1);return p>h&&n(o[p-1],u)>-n(o[p],u)?p-1:p}return e.length!==2?(t=$m,r=l((o,u)=>$m(e(o),u),"compare2"),n=l((o,u)=>e(o)-u,"delta")):(t=e===$m||e===v$?e:x$,r=e,n=e),l(i,"left"),l(a,"right"),l(s,"center"),{left:i,center:s,right:a}}function x$(){return 0}function b$(e){return e===null?NaN:+e}l(m$,"max"),l(y$,"min"),l($m,"ascending"),l(v$,"descending"),l($5,"bisector"),l(x$,"zero"),l(b$,"number");var w$=$5($m),Que=w$.right;w$.left,$5(b$).center;var Jue=Que,Rd,XI=(Rd=class extends Map{constructor(t,r=_$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(pT(this,t))}has(t){return super.has(pT(this,t))}set(t,r){return super.set(k$(this,t),r)}delete(t){return super.delete(T$(this,t))}},l(Rd,"InternMap"),Rd);function pT({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function k$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function T$({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function _$(e){return e!==null&&typeof e=="object"?e.valueOf():e}l(pT,"intern_get"),l(k$,"intern_set"),l(T$,"intern_delete"),l(_$,"keyof");var ehe=Math.sqrt(50),the=Math.sqrt(10),rhe=Math.sqrt(2);function dy(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=ehe?10:a>=the?5:a>=rhe?2:1;let o,u,h;return i<0?(h=Math.pow(10,-i)/s,o=Math.round(e*h),u=Math.round(t*h),o/h<e&&++o,u/h>t&&--u,h=-h):(h=Math.pow(10,i)*s,o=Math.round(e/h),u=Math.round(t/h),o*h<e&&++o,u*h>t&&--u),u<o&&.5<=r&&r<2?dy(e,t,2*r):[o,u,h]}function E$(e,t,r){if(!((r=+r)>0))return[];if((e=+e)==(t=+t))return[e];const n=t<e,[i,a,s]=n?dy(t,e,r):dy(e,t,r);if(!(a>=i))return[];const o=a-i+1,u=new Array(o);if(n)if(s<0)for(let h=0;h<o;++h)u[h]=(a-h)/-s;else for(let h=0;h<o;++h)u[h]=(a-h)*s;else if(s<0)for(let h=0;h<o;++h)u[h]=(i+h)/-s;else for(let h=0;h<o;++h)u[h]=(i+h)*s;return u}function Nb(e,t,r){return dy(e=+e,t=+t,r=+r)[2]}function Ib(e,t,r){r=+r;const n=(t=+t)<(e=+e),i=n?Nb(t,e,r):Nb(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function C$(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((t-e)/r)),a=new Array(i);++n<i;)a[n]=e+n*r;return a}function S$(e){return e}l(dy,"tickSpec"),l(E$,"ticks"),l(Nb,"tickIncrement"),l(Ib,"tickStep"),l(C$,"range"),l(S$,"default");function A$(e){return"translate("+e+",0)"}function L$(e){return"translate(0,"+e+")"}function N$(e){return t=>+e(t)}function I$(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function M$(){return!this.__axis}function WS(e,t){var r=[],n=null,i=null,a=6,s=6,o=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,h=e===1||e===4?-1:1,d=e===4||e===2?"x":"y",p=e===1||e===3?A$:L$;function f(g){var m=n??(t.ticks?t.ticks.apply(t,r):t.domain()),y=i??(t.tickFormat?t.tickFormat.apply(t,r):S$),v=Math.max(a,0)+o,x=t.range(),b=+x[0]+u,w=+x[x.length-1]+u,T=(t.bandwidth?I$:N$)(t.copy(),u),k=g.selection?g.selection():g,R=k.selectAll(".domain").data([null]),C=k.selectAll(".tick").data(m,t).order(),E=C.exit(),_=C.enter().append("g").attr("class","tick"),L=C.select("line"),D=C.select("text");R=R.merge(R.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(_),L=L.merge(_.append("line").attr("stroke","currentColor").attr(d+"2",h*a)),D=D.merge(_.append("text").attr("fill","currentColor").attr(d,h*v).attr("dy",e===1?"0em":e===3?"0.71em":"0.32em")),g!==k&&(R=R.transition(g),C=C.transition(g),L=L.transition(g),D=D.transition(g),E=E.transition(g).attr("opacity",1e-6).attr("transform",function(B){return isFinite(B=T(B))?p(B+u):this.getAttribute("transform")}),_.attr("opacity",1e-6).attr("transform",function(B){var S=this.parentNode.__axis;return p((S&&isFinite(S=S(B))?S:T(B))+u)})),E.remove(),R.attr("d",e===4||e===2?s?"M"+h*s+","+b+"H"+u+"V"+w+"H"+h*s:"M"+u+","+b+"V"+w:s?"M"+b+","+h*s+"V"+u+"H"+w+"V"+h*s:"M"+b+","+u+"H"+w),C.attr("opacity",1).attr("transform",function(B){return p(T(B)+u)}),L.attr(d+"2",h*a),D.attr(d,h*v).text(y),k.filter(M$).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===2?"start":e===4?"end":"middle"),k.each(function(){this.__axis=T})}return l(f,"axis"),f.scale=function(g){return arguments.length?(t=g,f):t},f.ticks=function(){return r=Array.from(arguments),f},f.tickArguments=function(g){return arguments.length?(r=g==null?[]:Array.from(g),f):r.slice()},f.tickValues=function(g){return arguments.length?(n=g==null?null:Array.from(g),f):n&&n.slice()},f.tickFormat=function(g){return arguments.length?(i=g,f):i},f.tickSize=function(g){return arguments.length?(a=s=+g,f):a},f.tickSizeInner=function(g){return arguments.length?(a=+g,f):a},f.tickSizeOuter=function(g){return arguments.length?(s=+g,f):s},f.tickPadding=function(g){return arguments.length?(o=+g,f):o},f.offset=function(g){return arguments.length?(u=+g,f):u},f}function R$(e){return WS(1,e)}function D$(e){return WS(3,e)}function O$(){}function F5(e){return e==null?O$:function(){return this.querySelector(e)}}function P$(e){typeof e!="function"&&(e=F5(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a,s,o=t[i],u=o.length,h=n[i]=new Array(u),d=0;d<u;++d)(a=o[d])&&(s=e.call(a,a.__data__,d,o))&&("__data__"in a&&(s.__data__=a.__data__),h[d]=s);return new ra(n,this._parents)}function B$(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function $$(){return[]}function HS(e){return e==null?$$:function(){return this.querySelectorAll(e)}}function F$(e){return function(){return B$(e.apply(this,arguments))}}function z$(e){e=typeof e=="function"?F$(e):HS(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var s,o=t[a],u=o.length,h=0;h<u;++h)(s=o[h])&&(n.push(e.call(s,s.__data__,h,o)),i.push(s));return new ra(n,i)}function VS(e){return function(){return this.matches(e)}}function XS(e){return function(t){return t.matches(e)}}l(A$,"translateX"),l(L$,"translateY"),l(N$,"number"),l(I$,"center"),l(M$,"entering"),l(WS,"axis"),l(R$,"axisTop"),l(D$,"axisBottom"),l(O$,"none"),l(F5,"default"),l(P$,"default"),l(B$,"array"),l($$,"empty"),l(HS,"default"),l(F$,"arrayAll"),l(z$,"default"),l(VS,"default"),l(XS,"childMatcher");var nhe=Array.prototype.find;function U$(e){return function(){return nhe.call(this.children,e)}}function G$(){return this.firstElementChild}function q$(e){return this.select(e==null?G$:U$(typeof e=="function"?e:XS(e)))}l(U$,"childFind"),l(G$,"childFirst"),l(q$,"default");var ihe=Array.prototype.filter;function j$(){return Array.from(this.children)}function Y$(e){return function(){return ihe.call(this.children,e)}}function W$(e){return this.selectAll(e==null?j$:Y$(typeof e=="function"?e:XS(e)))}function H$(e){typeof e!="function"&&(e=VS(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a,s=t[i],o=s.length,u=n[i]=[],h=0;h<o;++h)(a=s[h])&&e.call(a,a.__data__,h,s)&&u.push(a);return new ra(n,this._parents)}function KS(e){return new Array(e.length)}function V$(){return new ra(this._enter||this._groups.map(KS),this._parents)}function Fm(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function X$(e){return function(){return e}}function K$(e,t,r,n,i,a){for(var s,o=0,u=t.length,h=a.length;o<h;++o)(s=t[o])?(s.__data__=a[o],n[o]=s):r[o]=new Fm(e,a[o]);for(;o<u;++o)(s=t[o])&&(i[o]=s)}function Z$(e,t,r,n,i,a,s){var o,u,h,d=new Map,p=t.length,f=a.length,g=new Array(p);for(o=0;o<p;++o)(u=t[o])&&(g[o]=h=s.call(u,u.__data__,o,t)+"",d.has(h)?i[o]=u:d.set(h,u));for(o=0;o<f;++o)h=s.call(e,a[o],o,a)+"",(u=d.get(h))?(n[o]=u,u.__data__=a[o],d.delete(h)):r[o]=new Fm(e,a[o]);for(o=0;o<p;++o)(u=t[o])&&d.get(g[o])===u&&(i[o]=u)}function Q$(e){return e.__data__}function J$(e,t){if(!arguments.length)return Array.from(this,Q$);var r=t?Z$:K$,n=this._parents,i=this._groups;typeof e!="function"&&(e=X$(e));for(var a=i.length,s=new Array(a),o=new Array(a),u=new Array(a),h=0;h<a;++h){var d=n[h],p=i[h],f=p.length,g=eF(e.call(d,d&&d.__data__,h,n)),m=g.length,y=o[h]=new Array(m),v=s[h]=new Array(m),x=u[h]=new Array(f);r(d,p,y,v,x,g,t);for(var b,w,T=0,k=0;T<m;++T)if(b=y[T]){for(T>=k&&(k=T+1);!(w=v[k])&&++k<m;);b._next=w||null}}return(s=new ra(s,n))._enter=o,s._exit=u,s}function eF(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tF(){return new ra(this._exit||this._groups.map(KS),this._parents)}function rF(e,t,r){var n=this.enter(),i=this,a=this.exit();return typeof e=="function"?(n=e(n))&&(n=n.selection()):n=n.append(e+""),t!=null&&(i=t(i))&&(i=i.selection()),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function nF(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,s=Math.min(i,a),o=new Array(i),u=0;u<s;++u)for(var h,d=r[u],p=n[u],f=d.length,g=o[u]=new Array(f),m=0;m<f;++m)(h=d[m]||p[m])&&(g[m]=h);for(;u<i;++u)o[u]=r[u];return new ra(o,this._parents)}function iF(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n,i=e[t],a=i.length-1,s=i[a];--a>=0;)(n=i[a])&&(s&&4^n.compareDocumentPosition(s)&&s.parentNode.insertBefore(n,s),s=n);return this}function aF(e){function t(p,f){return p&&f?e(p.__data__,f.__data__):!p-!f}e||(e=sF),l(t,"compareNode");for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var s,o=r[a],u=o.length,h=i[a]=new Array(u),d=0;d<u;++d)(s=o[d])&&(h[d]=s);h.sort(t)}return new ra(i,this._parents).order()}function sF(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function oF(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function lF(){return Array.from(this)}function cF(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var s=n[i];if(s)return s}return null}function uF(){let e=0;for(const t of this)++e;return e}function hF(){return!this.node()}function dF(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i,a=t[r],s=0,o=a.length;s<o;++s)(i=a[s])&&e.call(i,i.__data__,s,a);return this}l(j$,"children"),l(Y$,"childrenFilter"),l(W$,"default"),l(H$,"default"),l(KS,"default"),l(V$,"default"),l(Fm,"EnterNode"),Fm.prototype={constructor:Fm,appendChild:l(function(e){return this._parent.insertBefore(e,this._next)},"appendChild"),insertBefore:l(function(e,t){return this._parent.insertBefore(e,t)},"insertBefore"),querySelector:l(function(e){return this._parent.querySelector(e)},"querySelector"),querySelectorAll:l(function(e){return this._parent.querySelectorAll(e)},"querySelectorAll")},l(X$,"default"),l(K$,"bindIndex"),l(Z$,"bindKey"),l(Q$,"datum"),l(J$,"default"),l(eF,"arraylike"),l(tF,"default"),l(rF,"default"),l(nF,"default"),l(iF,"default"),l(aF,"default"),l(sF,"ascending"),l(oF,"default"),l(lF,"default"),l(cF,"default"),l(uF,"default"),l(hF,"default"),l(dF,"default");var fT="http://www.w3.org/1999/xhtml",KI={svg:"http://www.w3.org/2000/svg",xhtml:fT,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function x2(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),KI.hasOwnProperty(t)?{space:KI[t],local:e}:e}function pF(e){return function(){this.removeAttribute(e)}}function fF(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gF(e,t){return function(){this.setAttribute(e,t)}}function mF(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yF(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function vF(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function xF(e,t){var r=x2(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?fF:pF:typeof t=="function"?r.local?vF:yF:r.local?mF:gF)(r,t))}function ZS(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function bF(e){return function(){this.style.removeProperty(e)}}function wF(e,t,r){return function(){this.style.setProperty(e,t,r)}}function kF(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function TF(e,t,r){return arguments.length>1?this.each((t==null?bF:typeof t=="function"?kF:wF)(e,t,r??"")):$u(this.node(),e)}function $u(e,t){return e.style.getPropertyValue(t)||ZS(e).getComputedStyle(e,null).getPropertyValue(t)}function _F(e){return function(){delete this[e]}}function EF(e,t){return function(){this[e]=t}}function CF(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function SF(e,t){return arguments.length>1?this.each((t==null?_F:typeof t=="function"?CF:EF)(e,t)):this.node()[e]}function QS(e){return e.trim().split(/^|\s+/)}function z5(e){return e.classList||new gT(e)}function gT(e){this._node=e,this._names=QS(e.getAttribute("class")||"")}function JS(e,t){for(var r=z5(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function e8(e,t){for(var r=z5(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function AF(e){return function(){JS(this,e)}}function LF(e){return function(){e8(this,e)}}function NF(e,t){return function(){(t.apply(this,arguments)?JS:e8)(this,e)}}function IF(e,t){var r=QS(e+"");if(arguments.length<2){for(var n=z5(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?NF:t?AF:LF)(r,t))}function MF(){this.textContent=""}function RF(e){return function(){this.textContent=e}}function DF(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function OF(e){return arguments.length?this.each(e==null?MF:(typeof e=="function"?DF:RF)(e)):this.node().textContent}function PF(){this.innerHTML=""}function BF(e){return function(){this.innerHTML=e}}function $F(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function FF(e){return arguments.length?this.each(e==null?PF:(typeof e=="function"?$F:BF)(e)):this.node().innerHTML}function zF(){this.nextSibling&&this.parentNode.appendChild(this)}function UF(){return this.each(zF)}function GF(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qF(){return this.each(GF)}function jF(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===fT&&t.documentElement.namespaceURI===fT?t.createElement(e):t.createElementNS(r,e)}}function YF(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function t8(e){var t=x2(e);return(t.local?YF:jF)(t)}function WF(e){var t=typeof e=="function"?e:t8(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function HF(){return null}function VF(e,t){var r=typeof e=="function"?e:t8(e),n=t==null?HF:typeof t=="function"?t:F5(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function XF(){var e=this.parentNode;e&&e.removeChild(this)}function KF(){return this.each(XF)}function ZF(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function QF(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function JF(e){return this.select(e?QF:ZF)}function ez(e){return arguments.length?this.property("__data__",e):this.node().__data__}function tz(e){return function(t){e.call(this,t,this.__data__)}}function rz(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function nz(e){return function(){var t=this.__on;if(t){for(var r,n=0,i=-1,a=t.length;n<a;++n)r=t[n],e.type&&r.type!==e.type||r.name!==e.name?t[++i]=r:this.removeEventListener(r.type,r.listener,r.options);++i?t.length=i:delete this.__on}}}function iz(e,t,r){return function(){var n,i=this.__on,a=tz(t);if(i){for(var s=0,o=i.length;s<o;++s)if((n=i[s]).type===e.type&&n.name===e.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=a,n.options=r),void(n.value=t)}this.addEventListener(e.type,a,r),n={type:e.type,name:e.name,value:t,listener:a,options:r},i?i.push(n):this.__on=[n]}}function az(e,t,r){var n,i,a=rz(e+""),s=a.length;if(!(arguments.length<2)){for(o=t?iz:nz,n=0;n<s;++n)this.each(o(a[n],t,r));return this}var o=this.node().__on;if(o){for(var u,h=0,d=o.length;h<d;++h)for(n=0,u=o[h];n<s;++n)if((i=a[n]).type===u.type&&i.name===u.name)return u.value}}function r8(e,t,r){var n=ZS(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function sz(e,t){return function(){return r8(this,e,t)}}function oz(e,t){return function(){return r8(this,e,t.apply(this,arguments))}}function lz(e,t){return this.each((typeof t=="function"?oz:sz)(e,t))}function*cz(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n,i=e[t],a=0,s=i.length;a<s;++a)(n=i[a])&&(yield n)}l(x2,"default"),l(pF,"attrRemove"),l(fF,"attrRemoveNS"),l(gF,"attrConstant"),l(mF,"attrConstantNS"),l(yF,"attrFunction"),l(vF,"attrFunctionNS"),l(xF,"default"),l(ZS,"default"),l(bF,"styleRemove"),l(wF,"styleConstant"),l(kF,"styleFunction"),l(TF,"default"),l($u,"styleValue"),l(_F,"propertyRemove"),l(EF,"propertyConstant"),l(CF,"propertyFunction"),l(SF,"default"),l(QS,"classArray"),l(z5,"classList"),l(gT,"ClassList"),gT.prototype={add:l(function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},"add"),remove:l(function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},"remove"),contains:l(function(e){return this._names.indexOf(e)>=0},"contains")},l(JS,"classedAdd"),l(e8,"classedRemove"),l(AF,"classedTrue"),l(LF,"classedFalse"),l(NF,"classedFunction"),l(IF,"default"),l(MF,"textRemove"),l(RF,"textConstant"),l(DF,"textFunction"),l(OF,"default"),l(PF,"htmlRemove"),l(BF,"htmlConstant"),l($F,"htmlFunction"),l(FF,"default"),l(zF,"raise"),l(UF,"default"),l(GF,"lower"),l(qF,"default"),l(jF,"creatorInherit"),l(YF,"creatorFixed"),l(t8,"default"),l(WF,"default"),l(HF,"constantNull"),l(VF,"default"),l(XF,"remove"),l(KF,"default"),l(ZF,"selection_cloneShallow"),l(QF,"selection_cloneDeep"),l(JF,"default"),l(ez,"default"),l(tz,"contextListener"),l(rz,"parseTypenames"),l(nz,"onRemove"),l(iz,"onAdd"),l(az,"default"),l(r8,"dispatchEvent"),l(sz,"dispatchConstant"),l(oz,"dispatchFunction"),l(lz,"default"),l(cz,"default");var uz=[null];function ra(e,t){this._groups=e,this._parents=t}function mT(){return new ra([[document.documentElement]],uz)}function ZI(){return this}l(ra,"Selection"),l(mT,"selection"),l(ZI,"selection_selection"),ra.prototype=mT.prototype={constructor:ra,select:P$,selectAll:z$,selectChild:q$,selectChildren:W$,filter:H$,data:J$,enter:V$,exit:tF,join:rF,merge:nF,selection:ZI,order:iF,sort:aF,call:oF,nodes:lF,node:cF,size:uF,empty:hF,each:dF,attr:xF,style:TF,property:SF,classed:IF,text:OF,html:FF,raise:UF,lower:qF,append:WF,insert:VF,remove:KF,clone:JF,datum:ez,on:az,dispatch:lz,[Symbol.iterator]:cz};var py=mT;function Qe(e){return typeof e=="string"?new ra([[document.querySelector(e)]],[document.documentElement]):new ra([[e]],uz)}function hd(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function fy(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function $l(){}l(Qe,"default"),l(hd,"default"),l(fy,"extend"),l($l,"Color");var mv=1/.7,dd="\\s*([+-]?\\d+)\\s*",gy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",no="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ahe=/^#([0-9a-f]{3,8})$/,she=new RegExp(`^rgb\\(${dd},${dd},${dd}\\)$`),ohe=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),lhe=new RegExp(`^rgba\\(${dd},${dd},${dd},${gy}\\)$`),che=new RegExp(`^rgba\\(${no},${no},${no},${gy}\\)$`),uhe=new RegExp(`^hsl\\(${gy},${no},${no}\\)$`),hhe=new RegExp(`^hsla\\(${gy},${no},${no},${gy}\\)$`),QI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Fw(){return this.rgb().formatHex()}function JI(){return this.rgb().formatHex8()}function eM(){return i8(this).formatHsl()}function zw(){return this.rgb().formatRgb()}function Vl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ahe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?yT(t):r===3?new si(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):r===8?im(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):r===4?im(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=she.exec(e))?new si(t[1],t[2],t[3],1):(t=ohe.exec(e))?new si(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=lhe.exec(e))?im(t[1],t[2],t[3],t[4]):(t=che.exec(e))?im(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=uhe.exec(e))?vT(t[1],t[2]/100,t[3]/100,1):(t=hhe.exec(e))?vT(t[1],t[2]/100,t[3]/100,t[4]):QI.hasOwnProperty(e)?yT(QI[e]):e==="transparent"?new si(NaN,NaN,NaN,0):null}function yT(e){return new si(e>>16&255,e>>8&255,255&e,1)}function im(e,t,r,n){return n<=0&&(e=t=r=NaN),new si(e,t,r,n)}function n8(e){return e instanceof $l||(e=Vl(e)),e?new si((e=e.rgb()).r,e.g,e.b,e.opacity):new si}function my(e,t,r,n){return arguments.length===1?n8(e):new si(e,t,r,n??1)}function si(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function Uw(){return`#${Il(this.r)}${Il(this.g)}${Il(this.b)}`}function tM(){return`#${Il(this.r)}${Il(this.g)}${Il(this.b)}${Il(255*(isNaN(this.opacity)?1:this.opacity))}`}function Gw(){const e=am(this.opacity);return`${e===1?"rgb(":"rgba("}${Nl(this.r)}, ${Nl(this.g)}, ${Nl(this.b)}${e===1?")":`, ${e})`}`}function am(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Nl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Il(e){return((e=Nl(e))<16?"0":"")+e.toString(16)}function vT(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ha(e,t,r,n)}function i8(e){if(e instanceof Ha)return new Ha(e.h,e.s,e.l,e.opacity);if(e instanceof $l||(e=Vl(e)),!e)return new Ha;if(e instanceof Ha)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,u=(a+i)/2;return o?(s=t===a?(r-n)/o+6*(r<n):r===a?(n-t)/o+2:(t-r)/o+4,o/=u<.5?a+i:2-a-i,s*=60):o=u>0&&u<1?0:s,new Ha(s,o,u,e.opacity)}function rM(e,t,r,n){return arguments.length===1?i8(e):new Ha(e,t,r,n??1)}function Ha(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function qw(e){return(e=(e||0)%360)<0?e+360:e}function q0(e){return Math.max(0,Math.min(1,e||0))}function yv(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}hd($l,Vl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Fw,formatHex:Fw,formatHex8:JI,formatHsl:eM,formatRgb:zw,toString:zw}),l(Fw,"color_formatHex"),l(JI,"color_formatHex8"),l(eM,"color_formatHsl"),l(zw,"color_formatRgb"),l(Vl,"color"),l(yT,"rgbn"),l(im,"rgba"),l(n8,"rgbConvert"),l(my,"rgb"),l(si,"Rgb"),hd(si,my,fy($l,{brighter(e){return e=e==null?mv:Math.pow(mv,e),new si(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?.7:Math.pow(.7,e),new si(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new si(Nl(this.r),Nl(this.g),Nl(this.b),am(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Uw,formatHex:Uw,formatHex8:tM,formatRgb:Gw,toString:Gw})),l(Uw,"rgb_formatHex"),l(tM,"rgb_formatHex8"),l(Gw,"rgb_formatRgb"),l(am,"clampa"),l(Nl,"clampi"),l(Il,"hex"),l(vT,"hsla"),l(i8,"hslConvert"),l(rM,"hsl"),l(Ha,"Hsl"),hd(Ha,rM,fy($l,{brighter(e){return e=e==null?mv:Math.pow(mv,e),new Ha(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?.7:Math.pow(.7,e),new Ha(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new si(yv(e>=240?e-240:e+120,i,n),yv(e,i,n),yv(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ha(qw(this.h),q0(this.s),q0(this.l),am(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=am(this.opacity);return`${e===1?"hsl(":"hsla("}${qw(this.h)}, ${100*q0(this.s)}%, ${100*q0(this.l)}%${e===1?")":`, ${e})`}`}})),l(qw,"clamph"),l(q0,"clampt"),l(yv,"hsl2rgb");var dhe=Math.PI/180,phe=180/Math.PI,hz=4/29,xT=6/29,dz=3*xT*xT;function a8(e){if(e instanceof ks)return new ks(e.l,e.a,e.b,e.opacity);if(e instanceof Zs)return bT(e);e instanceof si||(e=n8(e));var t,r,n=xx(e.r),i=xx(e.g),a=xx(e.b),s=vx((.2225045*n+.7168786*i+.0606169*a)/1);return n===i&&i===a?t=r=s:(t=vx((.4360747*n+.3850649*i+.1430804*a)/.96422),r=vx((.0139322*n+.0971045*i+.7141733*a)/.82521)),new ks(116*s-16,500*(t-s),200*(s-r),e.opacity)}function nM(e,t,r,n){return arguments.length===1?a8(e):new ks(e,t,r,n??1)}function ks(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function vx(e){return e>.008856451679035631?Math.pow(e,1/3):e/dz+hz}function vv(e){return e>xT?e*e*e:dz*(e-hz)}function xv(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function xx(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function pz(e){if(e instanceof Zs)return new Zs(e.h,e.c,e.l,e.opacity);if(e instanceof ks||(e=a8(e)),e.a===0&&e.b===0)return new Zs(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*phe;return new Zs(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Mb(e,t,r,n){return arguments.length===1?pz(e):new Zs(e,t,r,n??1)}function Zs(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function bT(e){if(isNaN(e.h))return new ks(e.l,0,0,e.opacity);var t=e.h*dhe;return new ks(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}l(a8,"labConvert"),l(nM,"lab"),l(ks,"Lab"),hd(ks,nM,fy($l,{brighter(e){return new ks(this.l+18*(e??1),this.a,this.b,this.opacity)},darker(e){return new ks(this.l-18*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return new si(xv(3.1338561*(t=.96422*vv(t))-1.6168667*(e=1*vv(e))-.4906146*(r=.82521*vv(r))),xv(-.9787684*t+1.9161415*e+.033454*r),xv(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}})),l(vx,"xyz2lab"),l(vv,"lab2xyz"),l(xv,"lrgb2rgb"),l(xx,"rgb2lrgb"),l(pz,"hclConvert"),l(Mb,"hcl"),l(Zs,"Hcl"),l(bT,"hcl2lab"),hd(Zs,Mb,fy($l,{brighter(e){return new Zs(this.h,this.c,this.l+18*(e??1),this.opacity)},darker(e){return new Zs(this.h,this.c,this.l-18*(e??1),this.opacity)},rgb(){return bT(this).rgb()}}));var U5=l(e=>()=>e,"default");function s8(e,t){return function(r){return e+r*t}}function fz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function gz(e,t){var r=t-e;return r?s8(e,r>180||r<-180?r-360*Math.round(r/360):r):U5(isNaN(e)?t:e)}function mz(e){return(e=+e)==1?pd:function(t,r){return r-t?fz(t,r,e):U5(isNaN(t)?r:t)}}function pd(e,t){var r=t-e;return r?s8(e,r):U5(isNaN(e)?t:e)}function yz(e){return function(t,r){var n=e((t=Mb(t)).h,(r=Mb(r)).h),i=pd(t.c,r.c),a=pd(t.l,r.l),s=pd(t.opacity,r.opacity);return function(o){return t.h=n(o),t.c=i(o),t.l=a(o),t.opacity=s(o),t+""}}}l(s8,"linear"),l(fz,"exponential"),l(gz,"hue"),l(mz,"gamma"),l(pd,"nogamma"),l(yz,"hcl");var fhe=yz(gz);function jw(e,t,r,n,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*r+(1+3*e+3*a-3*s)*n+s*i)/6}l(jw,"basis"),l(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],s=n>0?e[n-1]:2*i-a,o=n<t-1?e[n+2]:2*a-i;return jw((r-n/t)*t,s,i,a,o)}},"default"),l(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],s=e[(n+1)%t],o=e[(n+2)%t];return jw((r-n/t)*t,i,a,s,o)}},"default");var Rb=l(function e(t){var r=mz(t);function n(i,a){var s=r((i=my(i)).r,(a=my(a)).r),o=r(i.g,a.g),u=r(i.b,a.b),h=pd(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=u(d),i.opacity=h(d),i+""}}return l(n,"rgb"),n.gamma=e,n},"rgbGamma")(1);function vz(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}}function xz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bz(e,t){var r,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=new Array(i),s=new Array(n);for(r=0;r<i;++r)a[r]=G5(e[r],t[r]);for(;r<n;++r)s[r]=t[r];return function(o){for(r=0;r<i;++r)s[r]=a[r](o);return s}}function wz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ya(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function kz(e,t){var r,n={},i={};for(r in e!==null&&typeof e=="object"||(e={}),t!==null&&typeof t=="object"||(t={}),t)r in e?n[r]=G5(e[r],t[r]):i[r]=t[r];return function(a){for(r in n)i[r]=n[r](a);return i}}l(function(e){return function(t){var r,n,i=t.length,a=new Array(i),s=new Array(i),o=new Array(i);for(r=0;r<i;++r)n=my(t[r]),a[r]=n.r||0,s[r]=n.g||0,o[r]=n.b||0;return a=e(a),s=e(s),o=e(o),n.opacity=1,function(u){return n.r=a(u),n.g=s(u),n.b=o(u),n+""}}},"rgbSpline"),l(vz,"default"),l(xz,"isNumberArray"),l(bz,"genericArray"),l(wz,"default"),l(Ya,"default"),l(kz,"default");var wT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yw=new RegExp(wT.source,"g");function Tz(e){return function(){return e}}function _z(e){return function(t){return e(t)+""}}function o8(e,t){var r,n,i,a=wT.lastIndex=Yw.lastIndex=0,s=-1,o=[],u=[];for(e+="",t+="";(r=wT.exec(e))&&(n=Yw.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,u.push({i:s,x:Ya(r,n)})),a=Yw.lastIndex;return a<t.length&&(i=t.slice(a),o[s]?o[s]+=i:o[++s]=i),o.length<2?u[0]?_z(u[0].x):Tz(t):(t=u.length,function(h){for(var d,p=0;p<t;++p)o[(d=u[p]).i]=d.x(h);return o.join("")})}function G5(e,t){var r,n=typeof t;return t==null||n==="boolean"?U5(t):(n==="number"?Ya:n==="string"?(r=Vl(t))?(t=r,Rb):o8:t instanceof Vl?Rb:t instanceof Date?wz:xz(t)?vz:Array.isArray(t)?bz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kz:Ya)(e,t)}function Ez(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}l(Tz,"zero"),l(_z,"one"),l(o8,"default"),l(G5,"default"),l(Ez,"default");var bv,iM=180/Math.PI,kT={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function l8(e,t,r,n,i,a){var s,o,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,u/=o),e*n<t*r&&(e=-e,t=-t,u=-u,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*iM,skewX:Math.atan(u)*iM,scaleX:s,scaleY:o}}function Cz(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?kT:l8(t.a,t.b,t.c,t.d,t.e,t.f)}function Sz(e){return e==null?kT:(bv||(bv=document.createElementNS("http://www.w3.org/2000/svg","g")),bv.setAttribute("transform",e),(e=bv.transform.baseVal.consolidate())?l8((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):kT)}function c8(e,t,r,n){function i(h){return h.length?h.pop()+" ":""}function a(h,d,p,f,g,m){if(h!==p||d!==f){var y=g.push("translate(",null,t,null,r);m.push({i:y-4,x:Ya(h,p)},{i:y-2,x:Ya(d,f)})}else(p||f)&&g.push("translate("+p+t+f+r)}function s(h,d,p,f){h!==d?(h-d>180?d+=360:d-h>180&&(h+=360),f.push({i:p.push(i(p)+"rotate(",null,n)-2,x:Ya(h,d)})):d&&p.push(i(p)+"rotate("+d+n)}function o(h,d,p,f){h!==d?f.push({i:p.push(i(p)+"skewX(",null,n)-2,x:Ya(h,d)}):d&&p.push(i(p)+"skewX("+d+n)}function u(h,d,p,f,g,m){if(h!==p||d!==f){var y=g.push(i(g)+"scale(",null,",",null,")");m.push({i:y-4,x:Ya(h,p)},{i:y-2,x:Ya(d,f)})}else p===1&&f===1||g.push(i(g)+"scale("+p+","+f+")")}return l(i,"pop"),l(a,"translate"),l(s,"rotate"),l(o,"skewX"),l(u,"scale"),function(h,d){var p=[],f=[];return h=e(h),d=e(d),a(h.translateX,h.translateY,d.translateX,d.translateY,p,f),s(h.rotate,d.rotate,p,f),o(h.skewX,d.skewX,p,f),u(h.scaleX,h.scaleY,d.scaleX,d.scaleY,p,f),h=d=null,function(g){for(var m,y=-1,v=f.length;++y<v;)p[(m=f[y]).i]=m.x(g);return p.join("")}}}l(l8,"default"),l(Cz,"parseCss"),l(Sz,"parseSvg"),l(c8,"interpolateTransform");var ghe=c8(Cz,"px, ","px)","deg)"),mhe=c8(Sz,", ",")",")");function b2(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}l(b2,"initRange");var aM=Symbol("implicit");function w2(){var e=new XI,t=[],r=[],n=aM;function i(a){let s=e.get(a);if(s===void 0){if(n!==aM)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return l(i,"scale"),i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new XI;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return w2(t,r).unknown(n)},b2.apply(i,arguments),i}function Az(e){return function(){return e}}function Lz(e){return+e}l(w2,"ordinal"),l(Az,"constants"),l(Lz,"number");var sM=[0,1];function su(e){return e}function Db(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Az(isNaN(t)?NaN:.5)}function Nz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Iz(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Db(i,n),a=r(s,a)):(n=Db(n,i),a=r(a,s)),function(o){return a(n(o))}}function Mz(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Db(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var u=Jue(e,o,1,n)-1;return a[u](i[u](o))}}function u8(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rz(){var e,t,r,n,i,a,s=sM,o=sM,u=G5,h=su;function d(){var f=Math.min(s.length,o.length);return h!==su&&(h=Nz(s[0],s[f-1])),n=f>2?Mz:Iz,i=a=null,p}function p(f){return f==null||isNaN(f=+f)?r:(i||(i=n(s.map(e),o,u)))(e(h(f)))}return l(d,"rescale"),l(p,"scale"),p.invert=function(f){return h(t((a||(a=n(o,s.map(e),Ya)))(f)))},p.domain=function(f){return arguments.length?(s=Array.from(f,Lz),d()):s.slice()},p.range=function(f){return arguments.length?(o=Array.from(f),d()):o.slice()},p.rangeRound=function(f){return o=Array.from(f),u=Ez,d()},p.clamp=function(f){return arguments.length?(h=!!f||su,d()):h!==su},p.interpolate=function(f){return arguments.length?(u=f,d()):u},p.unknown=function(f){return arguments.length?(r=f,p):r},function(f,g){return e=f,t=g,d()}}function h8(){return Rz()(su,su)}function Dz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Fu(e){return(e=yy(Math.abs(e)))?e[1]:NaN}function Oz(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],u=0;i>0&&o>0&&(u+o+1>n&&(o=Math.max(1,n-u)),a.push(r.substring(i-=o,i+o)),!((u+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Pz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}l(su,"identity"),l(Db,"normalize"),l(Nz,"clamper"),l(Iz,"bimap"),l(Mz,"polymap"),l(u8,"copy"),l(Rz,"transformer"),l(h8,"continuous"),l(Dz,"default"),l(yy,"formatDecimalParts"),l(Fu,"default"),l(Oz,"default"),l(Pz,"default");var Bz,yhe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vy(e){if(!(t=yhe.exec(e)))throw new Error("invalid format: "+e);var t;return new bx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function bx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}function $z(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":i===0&&(i=n),t=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}function Fz(e,t){var r=yy(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(Bz=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+yy(e,Math.max(0,t+a-1))[0]}function TT(e,t){var r=yy(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}l(vy,"formatSpecifier"),vy.prototype=bx.prototype,l(bx,"FormatSpecifier"),bx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type},l($z,"default"),l(Fz,"default"),l(TT,"default");var oM={"%":l((e,t)=>(100*e).toFixed(t),"%"),b:l(e=>Math.round(e).toString(2),"b"),c:l(e=>e+"","c"),d:Dz,e:l((e,t)=>e.toExponential(t),"e"),f:l((e,t)=>e.toFixed(t),"f"),g:l((e,t)=>e.toPrecision(t),"g"),o:l(e=>Math.round(e).toString(8),"o"),p:l((e,t)=>TT(100*e,t),"p"),r:TT,s:Fz,X:l(e=>Math.round(e).toString(16).toUpperCase(),"X"),x:l(e=>Math.round(e).toString(16),"x")};function _T(e){return e}l(_T,"default");var wv,zz,Uz,lM=Array.prototype.map,cM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Gz(e){var t=e.grouping===void 0||e.thousands===void 0?_T:Oz(lM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?_T:Pz(lM.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(p){var f=(p=vy(p)).fill,g=p.align,m=p.sign,y=p.symbol,v=p.zero,x=p.width,b=p.comma,w=p.precision,T=p.trim,k=p.type;k==="n"?(b=!0,k="g"):oM[k]||(w===void 0&&(w=12),T=!0,k="g"),(v||f==="0"&&g==="=")&&(v=!0,f="0",g="=");var R=y==="$"?r:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",C=y==="$"?n:/[%p]/.test(k)?s:"",E=oM[k],_=/[defgprs%]/.test(k);function L(D){var B,S,N,A=R,M=C;if(k==="c")M=E(D)+M,D="";else{var O=(D=+D)<0||1/D<0;if(D=isNaN(D)?u:E(Math.abs(D),w),T&&(D=$z(D)),O&&+D==0&&m!=="+"&&(O=!1),A=(O?m==="("?m:o:m==="-"||m==="("?"":m)+A,M=(k==="s"?cM[8+Bz/3]:"")+M+(O&&m==="("?")":""),_){for(B=-1,S=D.length;++B<S;)if(48>(N=D.charCodeAt(B))||N>57){M=(N===46?i+D.slice(B+1):D.slice(B))+M,D=D.slice(0,B);break}}}b&&!v&&(D=t(D,1/0));var I=A.length+D.length+M.length,P=I<x?new Array(x-I+1).join(f):"";switch(b&&v&&(D=t(P+D,P.length?x-M.length:1/0),P=""),g){case"<":D=A+D+M+P;break;case"=":D=A+P+D+M;break;case"^":D=P.slice(0,I=P.length>>1)+A+D+M+P.slice(I);break;default:D=P+A+D+M}return a(D)}return w=w===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w)),l(L,"format"),L.toString=function(){return p+""},L}function d(p,f){var g=h(((p=vy(p)).type="f",p)),m=3*Math.max(-8,Math.min(8,Math.floor(Fu(f)/3))),y=Math.pow(10,-m),v=cM[8+m/3];return function(x){return g(y*x)+v}}return l(h,"newFormat"),l(d,"formatPrefix"),{format:h,formatPrefix:d}}function uM(e){return wv=Gz(e),zz=wv.format,Uz=wv.formatPrefix,wv}function qz(e){return Math.max(0,-Fu(Math.abs(e)))}function jz(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Fu(t)/3)))-Fu(Math.abs(e)))}function Yz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fu(t)-Fu(e))+1}function Wz(e,t,r,n){var i,a=Ib(e,t,r);switch((n=vy(n??",f")).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return n.precision!=null||isNaN(i=jz(a,s))||(n.precision=i),Uz(n,s);case"":case"e":case"g":case"p":case"r":n.precision!=null||isNaN(i=Yz(a,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=i-(n.type==="e"));break;case"f":case"%":n.precision!=null||isNaN(i=qz(a))||(n.precision=i-2*(n.type==="%"))}return zz(n)}function Hz(e){var t=e.domain;return e.ticks=function(r){var n=t();return E$(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Wz(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n,i,a=t(),s=0,o=a.length-1,u=a[s],h=a[o],d=10;for(h<u&&(i=u,u=h,h=i,i=s,s=o,o=i);d-- >0;){if((i=Nb(u,h,r))===n)return a[s]=u,a[o]=h,t(a);if(i>0)u=Math.floor(u/i)*i,h=Math.ceil(h/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,h=Math.floor(h*i)/i}n=i}return e},e}function zu(){var e=h8();return e.copy=function(){return u8(e,zu())},b2.apply(e,arguments),Hz(e)}l(Gz,"default"),uM({thousands:",",grouping:[3],currency:["$",""]}),l(uM,"defaultLocale"),l(qz,"default"),l(jz,"default"),l(Yz,"default"),l(Wz,"tickFormat"),l(Hz,"linearish"),l(zu,"linear");var Ww=new Date,Hw=new Date;function Sn(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return l(i,"interval"),i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const u=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s&&o>0))return u;let h;do u.push(h=new Date(+a)),t(a,o),e(a);while(h<a&&a<s);return u},i.filter=a=>Sn(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Ww.setTime(+a),Hw.setTime(+s),e(Ww),e(Hw),Math.floor(r(Ww,Hw))),i.every=a=>(a=Math.floor(a),isFinite(a)&&a>0?a>1?i.filter(n?s=>n(s)%a==0:s=>i.count(0,s)%a==0):i:null)),i}l(Sn,"timeInterval");var fd=Sn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fd.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Sn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):fd:null),fd.range;var Ml=Sn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+1e3*t)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds());Ml.range;var xy=Sn(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},(e,t)=>{e.setTime(+e+6e4*t)},(e,t)=>(t-e)/6e4,e=>e.getMinutes());xy.range;var Vz=Sn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+6e4*t)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes());Vz.range;var by=Sn(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())},(e,t)=>{e.setTime(+e+36e5*t)},(e,t)=>(t-e)/36e5,e=>e.getHours());by.range;var Xz=Sn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+36e5*t)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours());Xz.range;var Uu=Sn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5,e=>e.getDate()-1);Uu.range;var d8=Sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1);d8.range;var Kz=Sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5));function fc(e){return Sn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+7*r)},(t,r)=>(r-t-6e4*(r.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5)}Kz.range,l(fc,"timeWeekday");var k2=fc(0),wy=fc(1),Zz=fc(2),Qz=fc(3),Gu=fc(4),Jz=fc(5),eU=fc(6);function gc(e){return Sn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+7*r)},(t,r)=>(r-t)/6048e5)}k2.range,wy.range,Zz.range,Qz.range,Gu.range,Jz.range,eU.range,l(gc,"utcWeekday");var p8=gc(0),Ob=gc(1),vhe=gc(2),xhe=gc(3),Wg=gc(4),bhe=gc(5),whe=gc(6);p8.range,Ob.range,vhe.range,xhe.range,Wg.range,bhe.range,whe.range;var ky=Sn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());ky.range;var tU=Sn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());tU.range;var zo=Sn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());zo.every=e=>isFinite(e=Math.floor(e))&&e>0?Sn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,zo.range;var Fl=Sn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function ET(e,t,r,n,i,a){const s=[[Ml,1,1e3],[Ml,5,5e3],[Ml,15,15e3],[Ml,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[n,1,864e5],[n,2,1728e5],[r,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function o(h,d,p){const f=d<h;f&&([h,d]=[d,h]);const g=p&&typeof p.range=="function"?p:u(h,d,p),m=g?g.range(h,+d+1):[];return f?m.reverse():m}function u(h,d,p){const f=Math.abs(d-h)/p,g=$5(([,,v])=>v).right(s,f);if(g===s.length)return e.every(Ib(h/31536e6,d/31536e6,p));if(g===0)return fd.every(Math.max(Ib(h,d,p),1));const[m,y]=s[f/s[g-1][2]<s[g][2]/f?g-1:g];return m.every(y)}return l(o,"ticks"),l(u,"tickInterval"),[o,u]}Fl.every=e=>isFinite(e=Math.floor(e))&&e>0?Sn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,Fl.range,l(ET,"ticker"),ET(Fl,tU,p8,Kz,Xz,Vz);var[khe,The]=ET(zo,ky,k2,Uu,by,xy);function wx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function kx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $h(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function rU(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,u=e.shortMonths,h=Fh(i),d=zh(i),p=Fh(a),f=zh(a),g=Fh(s),m=zh(s),y=Fh(o),v=zh(o),x=Fh(u),b=zh(u),w={a:O,A:I,b:P,B:$,c:null,d:NT,e:NT,f:TU,g:RU,G:OU,H:bU,I:wU,j:kU,L:f8,m:_U,M:EU,p:z,q:G,Q:RT,s:DT,S:CU,u:SU,U:AU,V:LU,w:NU,W:IU,x:null,X:null,y:MU,Y:DU,Z:PU,"%":MT},T={a:q,A:J,b:ie,B:te,c:null,d:IT,e:IT,f:zU,g:KU,G:QU,H:BU,I:$U,j:FU,L:m8,m:UU,M:GU,p:W,q:H,Q:RT,s:DT,S:qU,u:jU,U:YU,V:WU,w:HU,W:VU,x:null,X:null,y:XU,Y:ZU,Z:JU,"%":MT},k={a:L,A:D,b:B,B:S,c:N,d:AT,e:AT,f:mU,g:ST,G:CT,H:LT,I:LT,j:dU,L:gU,m:hU,M:pU,p:_,q:uU,Q:vU,s:xU,S:fU,u:aU,U:sU,V:oU,w:iU,W:lU,x:A,X:M,y:ST,Y:CT,Z:cU,"%":yU};function R(X,Q){return function(ne){var ee,pe,j,ce=[],le=-1,Ae=0,Se=X.length;for(ne instanceof Date||(ne=new Date(+ne));++le<Se;)X.charCodeAt(le)===37&&(ce.push(X.slice(Ae,le)),(pe=hM[ee=X.charAt(++le)])!=null?ee=X.charAt(++le):pe=ee==="e"?" ":"0",(j=Q[ee])&&(ee=j(ne,pe)),ce.push(ee),Ae=le+1);return ce.push(X.slice(Ae,le)),ce.join("")}}function C(X,Q){return function(ne){var ee,pe,j=$h(1900,void 0,1);if(E(j,X,ne+="",0)!=ne.length)return null;if("Q"in j)return new Date(j.Q);if("s"in j)return new Date(1e3*j.s+("L"in j?j.L:0));if(Q&&!("Z"in j)&&(j.Z=0),"p"in j&&(j.H=j.H%12+12*j.p),j.m===void 0&&(j.m="q"in j?j.q:0),"V"in j){if(j.V<1||j.V>53)return null;"w"in j||(j.w=1),"Z"in j?(pe=(ee=kx($h(j.y,0,1))).getUTCDay(),ee=pe>4||pe===0?Ob.ceil(ee):Ob(ee),ee=d8.offset(ee,7*(j.V-1)),j.y=ee.getUTCFullYear(),j.m=ee.getUTCMonth(),j.d=ee.getUTCDate()+(j.w+6)%7):(pe=(ee=wx($h(j.y,0,1))).getDay(),ee=pe>4||pe===0?wy.ceil(ee):wy(ee),ee=Uu.offset(ee,7*(j.V-1)),j.y=ee.getFullYear(),j.m=ee.getMonth(),j.d=ee.getDate()+(j.w+6)%7)}else("W"in j||"U"in j)&&("w"in j||(j.w="u"in j?j.u%7:"W"in j?1:0),pe="Z"in j?kx($h(j.y,0,1)).getUTCDay():wx($h(j.y,0,1)).getDay(),j.m=0,j.d="W"in j?(j.w+6)%7+7*j.W-(pe+5)%7:j.w+7*j.U-(pe+6)%7);return"Z"in j?(j.H+=j.Z/100|0,j.M+=j.Z%100,kx(j)):wx(j)}}function E(X,Q,ne,ee){for(var pe,j,ce=0,le=Q.length,Ae=ne.length;ce<le;){if(ee>=Ae)return-1;if((pe=Q.charCodeAt(ce++))===37){if(pe=Q.charAt(ce++),!(j=k[pe in hM?Q.charAt(ce++):pe])||(ee=j(X,ne,ee))<0)return-1}else if(pe!=ne.charCodeAt(ee++))return-1}return ee}function _(X,Q,ne){var ee=h.exec(Q.slice(ne));return ee?(X.p=d.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function L(X,Q,ne){var ee=g.exec(Q.slice(ne));return ee?(X.w=m.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function D(X,Q,ne){var ee=p.exec(Q.slice(ne));return ee?(X.w=f.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function B(X,Q,ne){var ee=x.exec(Q.slice(ne));return ee?(X.m=b.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function S(X,Q,ne){var ee=y.exec(Q.slice(ne));return ee?(X.m=v.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function N(X,Q,ne){return E(X,t,Q,ne)}function A(X,Q,ne){return E(X,r,Q,ne)}function M(X,Q,ne){return E(X,n,Q,ne)}function O(X){return s[X.getDay()]}function I(X){return a[X.getDay()]}function P(X){return u[X.getMonth()]}function $(X){return o[X.getMonth()]}function z(X){return i[+(X.getHours()>=12)]}function G(X){return 1+~~(X.getMonth()/3)}function q(X){return s[X.getUTCDay()]}function J(X){return a[X.getUTCDay()]}function ie(X){return u[X.getUTCMonth()]}function te(X){return o[X.getUTCMonth()]}function W(X){return i[+(X.getUTCHours()>=12)]}function H(X){return 1+~~(X.getUTCMonth()/3)}return w.x=R(r,w),w.X=R(n,w),w.c=R(t,w),T.x=R(r,T),T.X=R(n,T),T.c=R(t,T),l(R,"newFormat"),l(C,"newParse"),l(E,"parseSpecifier"),l(_,"parsePeriod"),l(L,"parseShortWeekday"),l(D,"parseWeekday"),l(B,"parseShortMonth"),l(S,"parseMonth"),l(N,"parseLocaleDateTime"),l(A,"parseLocaleDate"),l(M,"parseLocaleTime"),l(O,"formatShortWeekday"),l(I,"formatWeekday"),l(P,"formatShortMonth"),l($,"formatMonth"),l(z,"formatPeriod"),l(G,"formatQuarter"),l(q,"formatUTCShortWeekday"),l(J,"formatUTCWeekday"),l(ie,"formatUTCShortMonth"),l(te,"formatUTCMonth"),l(W,"formatUTCPeriod"),l(H,"formatUTCQuarter"),{format:l(function(X){var Q=R(X+="",w);return Q.toString=function(){return X},Q},"format"),parse:l(function(X){var Q=C(X+="",!1);return Q.toString=function(){return X},Q},"parse"),utcFormat:l(function(X){var Q=R(X+="",T);return Q.toString=function(){return X},Q},"utcFormat"),utcParse:l(function(X){var Q=C(X+="",!0);return Q.toString=function(){return X},Q},"utcParse")}}l(wx,"localDate"),l(kx,"utcDate"),l($h,"newDate"),l(rU,"formatLocale");var Sh,Pb,hM={"-":"",_:" ",0:"0"},Xn=/^\s*\d+/,_he=/^%/,Ehe=/[\\^$*+?|[\]().{}]/g;function hr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function nU(e){return e.replace(Ehe,"\\$&")}function Fh(e){return new RegExp("^(?:"+e.map(nU).join("|")+")","i")}function zh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function iU(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function aU(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function sU(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function oU(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function lU(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function CT(e,t,r){var n=Xn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function ST(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function cU(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function uU(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function hU(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function AT(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function dU(e,t,r){var n=Xn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function LT(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function pU(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function fU(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function gU(e,t,r){var n=Xn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function mU(e,t,r){var n=Xn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function yU(e,t,r){var n=_he.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function vU(e,t,r){var n=Xn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function xU(e,t,r){var n=Xn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function NT(e,t){return hr(e.getDate(),t,2)}function bU(e,t){return hr(e.getHours(),t,2)}function wU(e,t){return hr(e.getHours()%12||12,t,2)}function kU(e,t){return hr(1+Uu.count(zo(e),e),t,3)}function f8(e,t){return hr(e.getMilliseconds(),t,3)}function TU(e,t){return f8(e,t)+"000"}function _U(e,t){return hr(e.getMonth()+1,t,2)}function EU(e,t){return hr(e.getMinutes(),t,2)}function CU(e,t){return hr(e.getSeconds(),t,2)}function SU(e){var t=e.getDay();return t===0?7:t}function AU(e,t){return hr(k2.count(zo(e)-1,e),t,2)}function g8(e){var t=e.getDay();return t>=4||t===0?Gu(e):Gu.ceil(e)}function LU(e,t){return e=g8(e),hr(Gu.count(zo(e),e)+(zo(e).getDay()===4),t,2)}function NU(e){return e.getDay()}function IU(e,t){return hr(wy.count(zo(e)-1,e),t,2)}function MU(e,t){return hr(e.getFullYear()%100,t,2)}function RU(e,t){return hr((e=g8(e)).getFullYear()%100,t,2)}function DU(e,t){return hr(e.getFullYear()%1e4,t,4)}function OU(e,t){var r=e.getDay();return hr((e=r>=4||r===0?Gu(e):Gu.ceil(e)).getFullYear()%1e4,t,4)}function PU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+hr(t/60|0,"0",2)+hr(t%60,"0",2)}function IT(e,t){return hr(e.getUTCDate(),t,2)}function BU(e,t){return hr(e.getUTCHours(),t,2)}function $U(e,t){return hr(e.getUTCHours()%12||12,t,2)}function FU(e,t){return hr(1+d8.count(Fl(e),e),t,3)}function m8(e,t){return hr(e.getUTCMilliseconds(),t,3)}function zU(e,t){return m8(e,t)+"000"}function UU(e,t){return hr(e.getUTCMonth()+1,t,2)}function GU(e,t){return hr(e.getUTCMinutes(),t,2)}function qU(e,t){return hr(e.getUTCSeconds(),t,2)}function jU(e){var t=e.getUTCDay();return t===0?7:t}function YU(e,t){return hr(p8.count(Fl(e)-1,e),t,2)}function y8(e){var t=e.getUTCDay();return t>=4||t===0?Wg(e):Wg.ceil(e)}function WU(e,t){return e=y8(e),hr(Wg.count(Fl(e),e)+(Fl(e).getUTCDay()===4),t,2)}function HU(e){return e.getUTCDay()}function VU(e,t){return hr(Ob.count(Fl(e)-1,e),t,2)}function XU(e,t){return hr(e.getUTCFullYear()%100,t,2)}function KU(e,t){return hr((e=y8(e)).getUTCFullYear()%100,t,2)}function ZU(e,t){return hr(e.getUTCFullYear()%1e4,t,4)}function QU(e,t){var r=e.getUTCDay();return hr((e=r>=4||r===0?Wg(e):Wg.ceil(e)).getUTCFullYear()%1e4,t,4)}function JU(){return"+0000"}function MT(){return"%"}function RT(e){return+e}function DT(e){return Math.floor(+e/1e3)}function dM(e){return Sh=rU(e),Pb=Sh.format,Sh.parse,Sh.utcFormat,Sh.utcParse,Sh}function eG(e,t){var r,n=0,i=(e=e.slice()).length-1,a=e[n],s=e[i];return s<a&&(r=n,n=i,i=r,r=a,a=s,s=r),e[n]=t.floor(a),e[i]=t.ceil(s),e}function tG(e){return new Date(e)}function rG(e){return e instanceof Date?+e:+new Date(+e)}function v8(e,t,r,n,i,a,s,o,u,h){var d=h8(),p=d.invert,f=d.domain,g=h(".%L"),m=h(":%S"),y=h("%I:%M"),v=h("%I %p"),x=h("%a %d"),b=h("%b %d"),w=h("%B"),T=h("%Y");function k(R){return(u(R)<R?g:o(R)<R?m:s(R)<R?y:a(R)<R?v:n(R)<R?i(R)<R?x:b:r(R)<R?w:T)(R)}return l(k,"tickFormat"),d.invert=function(R){return new Date(p(R))},d.domain=function(R){return arguments.length?f(Array.from(R,rG)):f().map(tG)},d.ticks=function(R){var C=f();return e(C[0],C[C.length-1],R??10)},d.tickFormat=function(R,C){return C==null?k:h(C)},d.nice=function(R){var C=f();return R&&typeof R.range=="function"||(R=t(C[0],C[C.length-1],R??10)),R?f(eG(C,R)):d},d.copy=function(){return u8(d,v8(e,t,r,n,i,a,s,o,u,h))},d}function nG(){return b2.apply(v8(khe,The,zo,ky,k2,Uu,by,xy,Ml,Pb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Bb(){var e,t,r=w2().unknown(void 0),n=r.domain,i=r.range,a=0,s=1,o=!1,u=0,h=0,d=.5;function p(){var f=n().length,g=s<a,m=g?s:a,y=g?a:s;e=(y-m)/Math.max(1,f-u+2*h),o&&(e=Math.floor(e)),m+=(y-m-e*(f-u))*d,t=e*(1-u),o&&(m=Math.round(m),t=Math.round(t));var v=C$(f).map(function(x){return m+e*x});return i(g?v.reverse():v)}return delete r.unknown,l(p,"rescale"),r.domain=function(f){return arguments.length?(n(f),p()):n()},r.range=function(f){return arguments.length?([a,s]=f,a=+a,s=+s,p()):[a,s]},r.rangeRound=function(f){return[a,s]=f,a=+a,s=+s,o=!0,p()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(f){return arguments.length?(o=!!f,p()):o},r.padding=function(f){return arguments.length?(u=Math.min(1,h=+f),p()):u},r.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),p()):u},r.paddingOuter=function(f){return arguments.length?(h=+f,p()):h},r.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),p()):d},r.copy=function(){return Bb(n(),[a,s]).round(o).paddingInner(u).paddingOuter(h).align(d)},b2.apply(p(),arguments)}function iG(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(6*n,6*++n);return r}l(hr,"pad"),l(nU,"requote"),l(Fh,"formatRe"),l(zh,"formatLookup"),l(iU,"parseWeekdayNumberSunday"),l(aU,"parseWeekdayNumberMonday"),l(sU,"parseWeekNumberSunday"),l(oU,"parseWeekNumberISO"),l(lU,"parseWeekNumberMonday"),l(CT,"parseFullYear"),l(ST,"parseYear"),l(cU,"parseZone"),l(uU,"parseQuarter"),l(hU,"parseMonthNumber"),l(AT,"parseDayOfMonth"),l(dU,"parseDayOfYear"),l(LT,"parseHour24"),l(pU,"parseMinutes"),l(fU,"parseSeconds"),l(gU,"parseMilliseconds"),l(mU,"parseMicroseconds"),l(yU,"parseLiteralPercent"),l(vU,"parseUnixTimestamp"),l(xU,"parseUnixTimestampSeconds"),l(NT,"formatDayOfMonth"),l(bU,"formatHour24"),l(wU,"formatHour12"),l(kU,"formatDayOfYear"),l(f8,"formatMilliseconds"),l(TU,"formatMicroseconds"),l(_U,"formatMonthNumber"),l(EU,"formatMinutes"),l(CU,"formatSeconds"),l(SU,"formatWeekdayNumberMonday"),l(AU,"formatWeekNumberSunday"),l(g8,"dISO"),l(LU,"formatWeekNumberISO"),l(NU,"formatWeekdayNumberSunday"),l(IU,"formatWeekNumberMonday"),l(MU,"formatYear"),l(RU,"formatYearISO"),l(DU,"formatFullYear"),l(OU,"formatFullYearISO"),l(PU,"formatZone"),l(IT,"formatUTCDayOfMonth"),l(BU,"formatUTCHour24"),l($U,"formatUTCHour12"),l(FU,"formatUTCDayOfYear"),l(m8,"formatUTCMilliseconds"),l(zU,"formatUTCMicroseconds"),l(UU,"formatUTCMonthNumber"),l(GU,"formatUTCMinutes"),l(qU,"formatUTCSeconds"),l(jU,"formatUTCWeekdayNumberMonday"),l(YU,"formatUTCWeekNumberSunday"),l(y8,"UTCdISO"),l(WU,"formatUTCWeekNumberISO"),l(HU,"formatUTCWeekdayNumberSunday"),l(VU,"formatUTCWeekNumberMonday"),l(XU,"formatUTCYear"),l(KU,"formatUTCYearISO"),l(ZU,"formatUTCFullYear"),l(QU,"formatUTCFullYearISO"),l(JU,"formatUTCZone"),l(MT,"formatLiteralPercent"),l(RT,"formatUnixTimestamp"),l(DT,"formatUnixTimestampSeconds"),dM({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),l(dM,"defaultLocale"),l(eG,"nice"),l(tG,"date"),l(rG,"number"),l(v8,"calendar"),l(nG,"time"),l(Bb,"band"),l(iG,"default");var Che=iG("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function on(e){return l(function(){return e},"constant")}l(on,"default");var pM=Math.abs,fi=Math.atan2,Ec=Math.cos,She=Math.max,Vw=Math.min,Fs=Math.sin,td=Math.sqrt,Ty=Math.PI,$b=Ty/2,Tx=2*Ty;function aG(e){return e>1?0:e<-1?Ty:Math.acos(e)}function OT(e){return e>=1?$b:e<=-1?-$b:Math.asin(e)}l(aG,"acos"),l(OT,"asin");var PT=Math.PI,BT=2*PT,Ahe=BT-1e-6;function x8(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function sG(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return x8;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}l(x8,"append"),l(sG,"appendRound");var Dd,b8=(Dd=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?x8:sG(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,(a=+a)<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,u=n-t,h=i-r,d=s-t,p=o-r,f=d*d+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>1e-6)if(Math.abs(p*u-h*d)>1e-6&&a){let g=n-s,m=i-o,y=u*u+h*h,v=g*g+m*m,x=Math.sqrt(y),b=Math.sqrt(f),w=a*Math.tan((PT-Math.acos((y+f-v)/(2*x*b)))/2),T=w/b,k=w/x;Math.abs(T-1)>1e-6&&this._append`L${t+T*d},${r+T*p}`,this._append`A${a},${a},0,0,${+(p*g>d*m)},${this._x1=t+k*u},${this._y1=r+k*h}`}else this._append`L${this._x1=t},${this._y1=r}`}arc(t,r,n,i,a,s){if(t=+t,r=+r,s=!!s,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),u=n*Math.sin(i),h=t+o,d=r+u,p=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${h},${d}`:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-d)>1e-6)&&this._append`L${h},${d}`,n&&(f<0&&(f=f%BT+BT),f>Ahe?this._append`A${n},${n},0,1,${p},${t-o},${r-u}A${n},${n},0,1,${p},${this._x1=h},${this._y1=d}`:f>1e-6&&this._append`A${n},${n},0,${+(f>=PT)},${p},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}},l(Dd,"Path"),Dd);function fM(){return new b8}function w8(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new b8(t)}function oG(e){return e.innerRadius}function lG(e){return e.outerRadius}function cG(e){return e.startAngle}function uG(e){return e.endAngle}function hG(e){return e&&e.padAngle}function dG(e,t,r,n,i,a,s,o){var u=r-e,h=n-t,d=s-i,p=o-a,f=p*u-d*h;if(!(f*f<1e-12))return[e+(f=(d*(t-a)-p*(e-i))/f)*u,t+f*h]}function sm(e,t,r,n,i,a,s){var o=e-r,u=t-n,h=(s?a:-a)/td(o*o+u*u),d=h*u,p=-h*o,f=e+d,g=t+p,m=r+d,y=n+p,v=(f+m)/2,x=(g+y)/2,b=m-f,w=y-g,T=b*b+w*w,k=i-a,R=f*y-m*g,C=(w<0?-1:1)*td(She(0,k*k*T-R*R)),E=(R*w-b*C)/T,_=(-R*b-w*C)/T,L=(R*w+b*C)/T,D=(-R*b+w*C)/T,B=E-v,S=_-x,N=L-v,A=D-x;return B*B+S*S>N*N+A*A&&(E=L,_=D),{cx:E,cy:_,x01:-d,y01:-p,x11:E*(i/k-1),y11:_*(i/k-1)}}function qu(){var e=oG,t=lG,r=on(0),n=null,i=cG,a=uG,s=hG,o=null,u=w8(h);function h(){var d,p,f=+e.apply(this,arguments),g=+t.apply(this,arguments),m=i.apply(this,arguments)-$b,y=a.apply(this,arguments)-$b,v=pM(y-m),x=y>m;if(o||(o=d=u()),g<f&&(p=g,g=f,f=p),g>1e-12)if(v>Tx-1e-12)o.moveTo(g*Ec(m),g*Fs(m)),o.arc(0,0,g,m,y,!x),f>1e-12&&(o.moveTo(f*Ec(y),f*Fs(y)),o.arc(0,0,f,y,m,x));else{var b,w,T=m,k=y,R=m,C=y,E=v,_=v,L=s.apply(this,arguments)/2,D=L>1e-12&&(n?+n.apply(this,arguments):td(f*f+g*g)),B=Vw(pM(g-f)/2,+r.apply(this,arguments)),S=B,N=B;if(D>1e-12){var A=OT(D/f*Fs(L)),M=OT(D/g*Fs(L));(E-=2*A)>1e-12?(R+=A*=x?1:-1,C-=A):(E=0,R=C=(m+y)/2),(_-=2*M)>1e-12?(T+=M*=x?1:-1,k-=M):(_=0,T=k=(m+y)/2)}var O=g*Ec(T),I=g*Fs(T),P=f*Ec(C),$=f*Fs(C);if(B>1e-12){var z,G=g*Ec(k),q=g*Fs(k),J=f*Ec(R),ie=f*Fs(R);if(v<Ty)if(z=dG(O,I,J,ie,G,q,P,$)){var te=O-z[0],W=I-z[1],H=G-z[0],X=q-z[1],Q=1/Fs(aG((te*H+W*X)/(td(te*te+W*W)*td(H*H+X*X)))/2),ne=td(z[0]*z[0]+z[1]*z[1]);S=Vw(B,(f-ne)/(Q-1)),N=Vw(B,(g-ne)/(Q+1))}else S=N=0}_>1e-12?N>1e-12?(b=sm(J,ie,O,I,g,N,x),w=sm(G,q,P,$,g,N,x),o.moveTo(b.cx+b.x01,b.cy+b.y01),N<B?o.arc(b.cx,b.cy,N,fi(b.y01,b.x01),fi(w.y01,w.x01),!x):(o.arc(b.cx,b.cy,N,fi(b.y01,b.x01),fi(b.y11,b.x11),!x),o.arc(0,0,g,fi(b.cy+b.y11,b.cx+b.x11),fi(w.cy+w.y11,w.cx+w.x11),!x),o.arc(w.cx,w.cy,N,fi(w.y11,w.x11),fi(w.y01,w.x01),!x))):(o.moveTo(O,I),o.arc(0,0,g,T,k,!x)):o.moveTo(O,I),f>1e-12&&E>1e-12?S>1e-12?(b=sm(P,$,G,q,f,-S,x),w=sm(O,I,J,ie,f,-S,x),o.lineTo(b.cx+b.x01,b.cy+b.y01),S<B?o.arc(b.cx,b.cy,S,fi(b.y01,b.x01),fi(w.y01,w.x01),!x):(o.arc(b.cx,b.cy,S,fi(b.y01,b.x01),fi(b.y11,b.x11),!x),o.arc(0,0,f,fi(b.cy+b.y11,b.cx+b.x11),fi(w.cy+w.y11,w.cx+w.x11),x),o.arc(w.cx,w.cy,S,fi(w.y11,w.x11),fi(w.y01,w.x01),!x))):o.arc(0,0,f,C,R,x):o.lineTo(P,$)}else o.moveTo(0,0);if(o.closePath(),d)return o=null,d+""||null}return l(h,"arc"),h.centroid=function(){var d=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,p=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Ty/2;return[Ec(p)*d,Fs(p)*d]},h.innerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:on(+d),h):e},h.outerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:on(+d),h):t},h.cornerRadius=function(d){return arguments.length?(r=typeof d=="function"?d:on(+d),h):r},h.padRadius=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:on(+d),h):n},h.startAngle=function(d){return arguments.length?(i=typeof d=="function"?d:on(+d),h):i},h.endAngle=function(d){return arguments.length?(a=typeof d=="function"?d:on(+d),h):a},h.padAngle=function(d){return arguments.length?(s=typeof d=="function"?d:on(+d),h):s},h.context=function(d){return arguments.length?(o=d??null,h):o},h}function $T(e){this._context=e}function k8(e){return new $T(e)}function T8(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pG(e){return e[0]}function fG(e){return e[1]}function Xl(e,t){var r=on(!0),n=null,i=k8,a=null,s=w8(o);function o(u){var h,d,p,f=(u=T8(u)).length,g=!1;for(n==null&&(a=i(p=s())),h=0;h<=f;++h)!(h<f&&r(d=u[h],h,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(d,h,u),+t(d,h,u));if(p)return a=null,p+""||null}return e=typeof e=="function"?e:e===void 0?pG:on(e),t=typeof t=="function"?t:t===void 0?fG:on(t),l(o,"line"),o.x=function(u){return arguments.length?(e=typeof u=="function"?u:on(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:on(+u),o):t},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:on(!!u),o):r},o.curve=function(u){return arguments.length?(i=u,n!=null&&(a=i(n)),o):i},o.context=function(u){return arguments.length?(u==null?n=a=null:a=i(n=u),o):n},o}function gG(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function mG(e){return e}function yG(){var e=mG,t=gG,r=null,n=on(0),i=on(Tx),a=on(0);function s(o){var u,h,d,p,f,g=(o=T8(o)).length,m=0,y=new Array(g),v=new Array(g),x=+n.apply(this,arguments),b=Math.min(Tx,Math.max(-Tx,i.apply(this,arguments)-x)),w=Math.min(Math.abs(b)/g,a.apply(this,arguments)),T=w*(b<0?-1:1);for(u=0;u<g;++u)(f=v[y[u]=u]=+e(o[u],u,o))>0&&(m+=f);for(t!=null?y.sort(function(k,R){return t(v[k],v[R])}):r!=null&&y.sort(function(k,R){return r(o[k],o[R])}),u=0,d=m?(b-g*T)/m:0;u<g;++u,x=p)h=y[u],p=x+((f=v[h])>0?f*d:0)+T,v[h]={data:o[h],index:u,value:f,startAngle:x,endAngle:p,padAngle:w};return v}return l(s,"pie"),s.value=function(o){return arguments.length?(e=typeof o=="function"?o:on(+o),s):e},s.sortValues=function(o){return arguments.length?(t=o,r=null,s):t},s.sort=function(o){return arguments.length?(r=o,t=null,s):r},s.startAngle=function(o){return arguments.length?(n=typeof o=="function"?o:on(+o),s):n},s.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:on(+o),s):i},s.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:on(+o),s):a},s}l(fM,"path"),fM.prototype=b8.prototype,l(w8,"withPath"),l(oG,"arcInnerRadius"),l(lG,"arcOuterRadius"),l(cG,"arcStartAngle"),l(uG,"arcEndAngle"),l(hG,"arcPadAngle"),l(dG,"intersect"),l(sm,"cornerTangents"),l(qu,"default"),l($T,"Linear"),$T.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._point=0},"lineStart"),lineEnd:l(function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}},"point")},l(k8,"default"),l(T8,"default"),l(pG,"x"),l(fG,"y"),l(Xl,"default"),l(gG,"default"),l(mG,"default"),l(yG,"default");var Od,vG=(Od=class{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r)}this._x0=t,this._y0=r}},l(Od,"Bump"),Od);function xG(e){return new vG(e,!0)}function bG(e){return new vG(e,!1)}function j0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function _y(e){this._context=e}function x0(e){return new _y(e)}function Bo(){}function FT(e){this._context=e}function wG(e){return new FT(e)}function zT(e){this._context=e}function kG(e){return new zT(e)}function UT(e,t){this._basis=new _y(e),this._beta=t}l(xG,"bumpX"),l(bG,"bumpY"),l(j0,"point"),l(_y,"Basis"),_y.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 3:j0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:j0(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},l(x0,"default"),l(Bo,"default"),l(FT,"BasisClosed"),FT.prototype={areaStart:Bo,areaEnd:Bo,lineStart:l(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:j0(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},l(wG,"default"),l(zT,"BasisOpen"),zT.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},"lineStart"),lineEnd:l(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:j0(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},l(kG,"default"),l(UT,"Bundle"),UT.prototype={lineStart:l(function(){this._x=[],this._y=[],this._basis.lineStart()},"lineStart"),lineEnd:l(function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n,i=e[0],a=t[0],s=e[r]-i,o=t[r]-a,u=-1;++u<=r;)n=u/r,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+n*s),this._beta*t[u]+(1-this._beta)*(a+n*o));this._x=this._y=null,this._basis.lineEnd()},"lineEnd"),point:l(function(e,t){this._x.push(+e),this._y.push(+t)},"point")};var Lhe=l(function e(t){function r(n){return t===1?new _y(n):new UT(n,t)}return l(r,"bundle"),r.beta=function(n){return e(+n)},r},"custom")(.85);function zm(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Fb(e,t){this._context=e,this._k=(1-t)/6}l(zm,"point"),l(Fb,"Cardinal"),Fb.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:zm(this,this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:zm(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")};var Nhe=l(function e(t){function r(n){return new Fb(n,t)}return l(r,"cardinal"),r.tension=function(n){return e(+n)},r},"custom")(0);function zb(e,t){this._context=e,this._k=(1-t)/6}l(zb,"CardinalClosed"),zb.prototype={areaStart:Bo,areaEnd:Bo,lineStart:l(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:zm(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")};var Ihe=l(function e(t){function r(n){return new zb(n,t)}return l(r,"cardinal"),r.tension=function(n){return e(+n)},r},"custom")(0);function Ub(e,t){this._context=e,this._k=(1-t)/6}l(Ub,"CardinalOpen"),Ub.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},"lineStart"),lineEnd:l(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zm(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")};var Mhe=l(function e(t){function r(n){return new Ub(n,t)}return l(r,"cardinal"),r.tension=function(n){return e(+n)},r},"custom")(0);function Gb(e,t,r){var n=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>1e-12){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>1e-12){var h=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*h+e._x1*e._l23_2a-t*e._l12_2a)/d,s=(s*h+e._y1*e._l23_2a-r*e._l12_2a)/d}e._context.bezierCurveTo(n,i,a,s,e._x2,e._y2)}function GT(e,t){this._context=e,this._alpha=t}l(Gb,"point"),l(GT,"CatmullRom"),GT.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Gb(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")};var Rhe=l(function e(t){function r(n){return t?new GT(n,t):new Fb(n,0)}return l(r,"catmullRom"),r.alpha=function(n){return e(+n)},r},"custom")(.5);function qT(e,t){this._context=e,this._alpha=t}l(qT,"CatmullRomClosed"),qT.prototype={areaStart:Bo,areaEnd:Bo,lineStart:l(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},"lineEnd"),point:l(function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Gb(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")};var Dhe=l(function e(t){function r(n){return t?new qT(n,t):new zb(n,0)}return l(r,"catmullRom"),r.alpha=function(n){return e(+n)},r},"custom")(.5);function jT(e,t){this._context=e,this._alpha=t}l(jT,"CatmullRomOpen"),jT.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:l(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Gb(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")};var Ohe=l(function e(t){function r(n){return t?new jT(n,t):new Ub(n,0)}return l(r,"catmullRom"),r.alpha=function(n){return e(+n)},r},"custom")(.5);function YT(e){this._context=e}function TG(e){return new YT(e)}function WT(e){return e<0?-1:1}function Xw(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(WT(a)+WT(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Kw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function kv(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function om(e){this._context=e}function HT(e){this._context=new VT(e)}function VT(e){this._context=e}function _G(e){return new om(e)}function EG(e){return new HT(e)}function XT(e){this._context=e}function Zw(e){var t,r,n=e.length-1,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function CG(e){return new XT(e)}function Ey(e,t){this._context=e,this._t=t}function SG(e){return new Ey(e,.5)}function AG(e){return new Ey(e,0)}function LG(e){return new Ey(e,1)}l(YT,"LinearClosed"),YT.prototype={areaStart:Bo,areaEnd:Bo,lineStart:l(function(){this._point=0},"lineStart"),lineEnd:l(function(){this._point&&this._context.closePath()},"lineEnd"),point:l(function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))},"point")},l(TG,"default"),l(WT,"sign"),l(Xw,"slope3"),l(Kw,"slope2"),l(kv,"point"),l(om,"MonotoneX"),om.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kv(this,this._t0,Kw(this,this._t0))}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,kv(this,Kw(this,r=Xw(this,e,t)),r);break;default:kv(this,this._t0,r=Xw(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}},"point")},l(HT,"MonotoneY"),(HT.prototype=Object.create(om.prototype)).point=function(e,t){om.prototype.point.call(this,t,e)},l(VT,"ReflectContext"),VT.prototype={moveTo:l(function(e,t){this._context.moveTo(t,e)},"moveTo"),closePath:l(function(){this._context.closePath()},"closePath"),lineTo:l(function(e,t){this._context.lineTo(t,e)},"lineTo"),bezierCurveTo:l(function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)},"bezierCurveTo")},l(_G,"monotoneX"),l(EG,"monotoneY"),l(XT,"Natural"),XT.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x=[],this._y=[]},"lineStart"),lineEnd:l(function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Zw(e),i=Zw(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},"lineEnd"),point:l(function(e,t){this._x.push(+e),this._y.push(+t)},"point")},l(Zw,"controlPoints"),l(CG,"default"),l(Ey,"Step"),Ey.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x=this._y=NaN,this._point=0},"lineStart"),lineEnd:l(function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t},"point")},l(SG,"default"),l(AG,"stepBefore"),l(LG,"stepAfter");var Phe={value:l(()=>{},"value")};function KT(){for(var e,t=0,r=arguments.length,n={};t<r;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new lm(n)}function lm(e){this._=e}function gM(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function mM(e,t){for(var r,n=0,i=e.length;n<i;++n)if((r=e[n]).name===t)return r.value}function Qw(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=Phe,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}l(KT,"dispatch"),l(lm,"Dispatch"),l(gM,"parseTypenames"),lm.prototype=KT.prototype={constructor:lm,on:l(function(e,t){var r,n=this._,i=gM(e+"",n),a=-1,s=i.length;if(!(arguments.length<2)){if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(r=(e=i[a]).type)n[r]=Qw(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Qw(n[r],e.name,null);return this}for(;++a<s;)if((r=(e=i[a]).type)&&(r=mM(n[r],e.name)))return r},"on"),copy:l(function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new lm(e)},"copy"),call:l(function(e,t){if((r=arguments.length-2)>0)for(var r,n,i=new Array(r),a=0;a<r;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,r=(n=this._[e]).length;a<r;++a)n[a].value.apply(t,i)},"call"),apply:l(function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)},"apply")},l(mM,"get"),l(Qw,"set");var qb,cm,Bhe=KT,Hg=0,um=0,Y0=0,jb=0,ju=0,q5=0,Cy=typeof performance=="object"&&performance.now?performance:Date,NG=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Yb(){return ju||(NG(IG),ju=Cy.now()+q5)}function IG(){ju=0}function Um(){this._call=this._time=this._next=null}function ZT(e,t,r){var n=new Um;return n.restart(e,t,r),n}function MG(){Yb(),++Hg;for(var e,t=qb;t;)(e=ju-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Hg}function QT(){ju=(jb=Cy.now())+q5,Hg=um=0;try{MG()}finally{Hg=0,DG(),ju=0}}function RG(){var e=Cy.now(),t=e-jb;t>1e3&&(q5-=t,jb=e)}function DG(){for(var e,t,r=qb,n=1/0;r;)r._call?(n>r._time&&(n=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:qb=t);cm=e,_x(n)}function _x(e){Hg||(um&&(um=clearTimeout(um)),e-ju>24?(e<1/0&&(um=setTimeout(QT,e-Cy.now()-q5)),Y0&&(Y0=clearInterval(Y0))):(Y0||(jb=Cy.now(),Y0=setInterval(RG,1e3)),Hg=1,NG(QT)))}function JT(e,t,r){var n=new Um;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}l(Yb,"now"),l(IG,"clearNow"),l(Um,"Timer"),Um.prototype=ZT.prototype={constructor:Um,restart:l(function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Yb():+r)+(t==null?0:+t),this._next||cm===this||(cm?cm._next=this:qb=this,cm=this),this._call=e,this._time=r,_x()},"restart"),stop:l(function(){this._call&&(this._call=null,this._time=1/0,_x())},"stop")},l(ZT,"timer"),l(MG,"timerFlush"),l(QT,"wake"),l(RG,"poke"),l(DG,"nap"),l(_x,"sleep"),l(JT,"default");var $he=Bhe("start","end","cancel","interrupt"),Fhe=[];function T2(e,t,r,n,i,a){var s=e.__transition;if(s){if(r in s)return}else e.__transition={};OG(e,r,{name:t,index:n,group:i,on:$he,tween:Fhe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function j5(e,t){var r=os(e,t);if(r.state>0)throw new Error("too late; already scheduled");return r}function Rs(e,t){var r=os(e,t);if(r.state>3)throw new Error("too late; already running");return r}function os(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function OG(e,t,r){var n,i=e.__transition;function a(h){r.state=1,r.timer.restart(s,r.delay,r.time),r.delay<=h&&s(h-r.delay)}function s(h){var d,p,f,g;if(r.state!==1)return u();for(d in i)if((g=i[d]).name===r.name){if(g.state===3)return JT(s);g.state===4?(g.state=6,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete i[d]):+d<t&&(g.state=6,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete i[d])}if(JT(function(){r.state===3&&(r.state=4,r.timer.restart(o,r.delay,r.time),o(h))}),r.state=2,r.on.call("start",e,e.__data__,r.index,r.group),r.state===2){for(r.state=3,n=new Array(f=r.tween.length),d=0,p=-1;d<f;++d)(g=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(n[++p]=g);n.length=p+1}}function o(h){for(var d=h<r.duration?r.ease.call(null,h/r.duration):(r.timer.restart(u),r.state=5,1),p=-1,f=n.length;++p<f;)n[p].call(e,d);r.state===5&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){for(var h in r.state=6,r.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=r,r.timer=ZT(a,0,r.time),l(a,"schedule"),l(s,"start"),l(o,"tick"),l(u,"stop")}function PG(e,t){var r,n,i,a=e.__transition,s=!0;if(a){for(i in t=t==null?null:t+"",a)(r=a[i]).name===t?(n=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(n?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete a[i]):s=!1;s&&delete e.__transition}}function BG(e){return this.each(function(){PG(this,e)})}function $G(e,t){var r,n;return function(){var i=Rs(this,e),a=i.tween;if(a!==r){for(var s=0,o=(n=r=a).length;s<o;++s)if(n[s].name===t){(n=n.slice()).splice(s,1);break}}i.tween=n}}function FG(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=Rs(this,e),s=a.tween;if(s!==n){i=(n=s).slice();for(var o={name:t,value:r},u=0,h=i.length;u<h;++u)if(i[u].name===t){i[u]=o;break}u===h&&i.push(o)}a.tween=i}}function zG(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n,i=os(this.node(),r).tween,a=0,s=i.length;a<s;++a)if((n=i[a]).name===e)return n.value;return null}return this.each((t==null?$G:FG)(r,e,t))}function Y5(e,t,r){var n=e._id;return e.each(function(){var i=Rs(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return os(i,n).value[t]}}function _8(e,t){var r;return(typeof t=="number"?Ya:t instanceof Vl?Rb:(r=Vl(t))?(t=r,Rb):o8)(e,t)}function UG(e){return function(){this.removeAttribute(e)}}function GG(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qG(e,t,r){var n,i,a=r+"";return function(){var s=this.getAttribute(e);return s===a?null:s===n?i:i=t(n=s,r)}}function jG(e,t,r){var n,i,a=r+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===n?i:i=t(n=s,r)}}function YG(e,t,r){var n,i,a;return function(){var s,o,u=r(this);if(u!=null)return(s=this.getAttribute(e))===(o=u+"")?null:s===n&&o===i?a:(i=o,a=t(n=s,u));this.removeAttribute(e)}}function WG(e,t,r){var n,i,a;return function(){var s,o,u=r(this);if(u!=null)return(s=this.getAttributeNS(e.space,e.local))===(o=u+"")?null:s===n&&o===i?a:(i=o,a=t(n=s,u));this.removeAttributeNS(e.space,e.local)}}function HG(e,t){var r=x2(e),n=r==="transform"?mhe:_8;return this.attrTween(e,typeof t=="function"?(r.local?WG:YG)(r,n,Y5(this,"attr."+e,t)):t==null?(r.local?GG:UG)(r):(r.local?jG:qG)(r,n,t))}function VG(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function XG(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function KG(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&XG(e,a)),r}return l(i,"tween"),i._value=t,i}function ZG(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&VG(e,a)),r}return l(i,"tween"),i._value=t,i}function QG(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=x2(e);return this.tween(r,(n.local?KG:ZG)(n,t))}function JG(e,t){return function(){j5(this,e).delay=+t.apply(this,arguments)}}function eq(e,t){return t=+t,function(){j5(this,e).delay=t}}function tq(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?JG:eq)(t,e)):os(this.node(),t).delay}function rq(e,t){return function(){Rs(this,e).duration=+t.apply(this,arguments)}}function nq(e,t){return t=+t,function(){Rs(this,e).duration=t}}function iq(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rq:nq)(t,e)):os(this.node(),t).duration}function aq(e,t){if(typeof t!="function")throw new Error;return function(){Rs(this,e).ease=t}}function sq(e){var t=this._id;return arguments.length?this.each(aq(t,e)):os(this.node(),t).ease}function oq(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Rs(this,e).ease=r}}function lq(e){if(typeof e!="function")throw new Error;return this.each(oq(this._id,e))}function cq(e){typeof e!="function"&&(e=VS(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a,s=t[i],o=s.length,u=n[i]=[],h=0;h<o;++h)(a=s[h])&&e.call(a,a.__data__,h,s)&&u.push(a);return new so(n,this._parents,this._name,this._id)}function uq(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),s=new Array(n),o=0;o<a;++o)for(var u,h=t[o],d=r[o],p=h.length,f=s[o]=new Array(p),g=0;g<p;++g)(u=h[g]||d[g])&&(f[g]=u);for(;o<n;++o)s[o]=t[o];return new so(s,this._parents,this._name,this._id)}function hq(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function dq(e,t,r){var n,i,a=hq(t)?j5:Rs;return function(){var s=a(this,e),o=s.on;o!==n&&(i=(n=o).copy()).on(t,r),s.on=i}}function pq(e,t){var r=this._id;return arguments.length<2?os(this.node(),r).on.on(e):this.each(dq(r,e,t))}function fq(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function gq(){return this.on("end.remove",fq(this._id))}function mq(e){var t=this._name,r=this._id;typeof e!="function"&&(e=F5(e));for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s)for(var o,u,h=n[s],d=h.length,p=a[s]=new Array(d),f=0;f<d;++f)(o=h[f])&&(u=e.call(o,o.__data__,f,h))&&("__data__"in o&&(u.__data__=o.__data__),p[f]=u,T2(p[f],t,r,f,p,os(o,r)));return new so(a,this._parents,t,r)}function yq(e){var t=this._name,r=this._id;typeof e!="function"&&(e=HS(e));for(var n=this._groups,i=n.length,a=[],s=[],o=0;o<i;++o)for(var u,h=n[o],d=h.length,p=0;p<d;++p)if(u=h[p]){for(var f,g=e.call(u,u.__data__,p,h),m=os(u,r),y=0,v=g.length;y<v;++y)(f=g[y])&&T2(f,t,r,y,g,m);a.push(g),s.push(u)}return new so(a,s,t,r)}l(T2,"default"),l(j5,"init"),l(Rs,"set"),l(os,"get"),l(OG,"create"),l(PG,"default"),l(BG,"default"),l($G,"tweenRemove"),l(FG,"tweenFunction"),l(zG,"default"),l(Y5,"tweenValue"),l(_8,"default"),l(UG,"attrRemove"),l(GG,"attrRemoveNS"),l(qG,"attrConstant"),l(jG,"attrConstantNS"),l(YG,"attrFunction"),l(WG,"attrFunctionNS"),l(HG,"default"),l(VG,"attrInterpolate"),l(XG,"attrInterpolateNS"),l(KG,"attrTweenNS"),l(ZG,"attrTween"),l(QG,"default"),l(JG,"delayFunction"),l(eq,"delayConstant"),l(tq,"default"),l(rq,"durationFunction"),l(nq,"durationConstant"),l(iq,"default"),l(aq,"easeConstant"),l(sq,"default"),l(oq,"easeVarying"),l(lq,"default"),l(cq,"default"),l(uq,"default"),l(hq,"start"),l(dq,"onFunction"),l(pq,"default"),l(fq,"removeFunction"),l(gq,"default"),l(mq,"default"),l(yq,"default");var zhe=py.prototype.constructor;function vq(){return new zhe(this._groups,this._parents)}function xq(e,t){var r,n,i;return function(){var a=$u(this,e),s=(this.style.removeProperty(e),$u(this,e));return a===s?null:a===r&&s===n?i:i=t(r=a,n=s)}}function E8(e){return function(){this.style.removeProperty(e)}}function bq(e,t,r){var n,i,a=r+"";return function(){var s=$u(this,e);return s===a?null:s===n?i:i=t(n=s,r)}}function wq(e,t,r){var n,i,a;return function(){var s=$u(this,e),o=r(this),u=o+"";return o==null&&(this.style.removeProperty(e),u=o=$u(this,e)),s===u?null:s===n&&u===i?a:(i=u,a=t(n=s,o))}}function kq(e,t){var r,n,i,a,s="style."+t,o="end."+s;return function(){var u=Rs(this,e),h=u.on,d=u.value[s]==null?a||(a=E8(t)):void 0;h===r&&i===d||(n=(r=h).copy()).on(o,i=d),u.on=n}}function Tq(e,t,r){var n=(e+="")=="transform"?ghe:_8;return t==null?this.styleTween(e,xq(e,n)).on("end.style."+e,E8(e)):typeof t=="function"?this.styleTween(e,wq(e,n,Y5(this,"style."+e,t))).each(kq(this._id,e)):this.styleTween(e,bq(e,n,t),r).on("end.style."+e,null)}function _q(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function Eq(e,t,r){var n,i;function a(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&_q(e,s,r)),n}return l(a,"tween"),a._value=t,a}function Cq(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Eq(e,t,r??""))}function Sq(e){return function(){this.textContent=e}}function Aq(e){return function(){var t=e(this);this.textContent=t??""}}function Lq(e){return this.tween("text",typeof e=="function"?Aq(Y5(this,"text",e)):Sq(e==null?"":e+""))}function Nq(e){return function(t){this.textContent=e.call(this,t)}}function Iq(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&Nq(i)),t}return l(n,"tween"),n._value=e,n}function Mq(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Iq(e))}function Rq(){for(var e=this._name,t=this._id,r=C8(),n=this._groups,i=n.length,a=0;a<i;++a)for(var s,o=n[a],u=o.length,h=0;h<u;++h)if(s=o[h]){var d=os(s,t);T2(s,e,r,h,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new so(n,this._parents,e,r)}function Dq(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(a,s){var o={value:s},u={value:l(function(){--i==0&&a()},"value")};r.each(function(){var h=Rs(this,n),d=h.on;d!==e&&((t=(e=d).copy())._.cancel.push(o),t._.interrupt.push(o),t._.end.push(u)),h.on=t}),i===0&&a()})}l(vq,"default"),l(xq,"styleNull"),l(E8,"styleRemove"),l(bq,"styleConstant"),l(wq,"styleFunction"),l(kq,"styleMaybeRemove"),l(Tq,"default"),l(_q,"styleInterpolate"),l(Eq,"styleTween"),l(Cq,"default"),l(Sq,"textConstant"),l(Aq,"textFunction"),l(Lq,"default"),l(Nq,"textInterpolate"),l(Iq,"textTween"),l(Mq,"default"),l(Rq,"default"),l(Dq,"default");var Uhe=0;function so(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Oq(e){return py().transition(e)}function C8(){return++Uhe}l(so,"Transition"),l(Oq,"transition"),l(C8,"newId");var yo=py.prototype;function Pq(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}so.prototype=Oq.prototype={constructor:so,select:mq,selectAll:yq,selectChild:yo.selectChild,selectChildren:yo.selectChildren,filter:cq,merge:uq,selection:vq,transition:Rq,call:yo.call,nodes:yo.nodes,node:yo.node,size:yo.size,empty:yo.empty,each:yo.each,on:pq,attr:HG,attrTween:QG,style:Tq,styleTween:Cq,text:Lq,textTween:Mq,remove:gq,tween:zG,delay:tq,duration:iq,ease:sq,easeVarying:lq,end:Dq,[Symbol.iterator]:yo[Symbol.iterator]},l(Pq,"cubicInOut");var Ghe={time:null,delay:0,duration:250,ease:Pq};function Bq(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function yM(e){var t,r;e instanceof so?(t=e._id,e=e._name):(t=C8(),(r=Ghe).time=Yb(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var s,o=n[a],u=o.length,h=0;h<u;++h)(s=o[h])&&T2(s,e,t,h,o,r||Bq(s,t));return new so(n,this._parents,e,t)}function Jw(e){return[+e[0],+e[1]]}function eu(e,t,r){this.k=e,this.x=t,this.y=r}l(Bq,"inherit"),l(yM,"default"),py.prototype.interrupt=BG,py.prototype.transition=yM,l(Jw,"number1"),l(function(e){return[Jw(e[0]),Jw(e[1])]},"number2"),l(function(e){return{type:e}},"type"),l(eu,"Transform"),eu.prototype={constructor:eu,scale:l(function(e){return e===1?this:new eu(this.k*e,this.x,this.y)},"scale"),translate:l(function(e,t){return e===0&t===0?this:new eu(this.k,this.x+this.k*e,this.y+this.k*t)},"translate"),apply:l(function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},"apply"),applyX:l(function(e){return e*this.k+this.x},"applyX"),applyY:l(function(e){return e*this.k+this.y},"applyY"),invert:l(function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},"invert"),invertX:l(function(e){return(e-this.x)/this.k},"invertX"),invertY:l(function(e){return(e-this.y)/this.k},"invertY"),rescaleX:l(function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},"rescaleX"),rescaleY:l(function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},"rescaleY"),toString:l(function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"},"toString")};var qhe=new eu(1,0,0);function vM(e){for(;!e.__zoom;)if(!(e=e.parentNode))return qhe;return e.__zoom}vM.prototype=eu.prototype,l(vM,"transform");/*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.1/LICENSE *)
*/var mc=l(e=>{var n;const{securityLevel:t}=ye();let r=Qe("body");if(t==="sandbox"){const i=Qe(`#i${e}`);r=Qe((((n=i.node())==null?void 0:n.contentDocument)??document).body)}return r.select(`#${e}`)},"selectSvgElement");function S8(e){return e==null}function $q(e){return typeof e=="object"&&e!==null}function Fq(e){return Array.isArray(e)?e:S8(e)?[]:[e]}function zq(e,t){var r,n,i,a;if(t)for(r=0,n=(a=Object.keys(t)).length;r<n;r+=1)e[i=a[r]]=t[i];return e}function Uq(e,t){var r,n="";for(r=0;r<t;r+=1)n+=e;return n}function Gq(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}l(S8,"isNothing"),l($q,"isObject"),l(Fq,"toArray"),l(zq,"extend"),l(Uq,"repeat"),l(Gq,"isNegativeZero");var Bn={isNothing:S8,isObject:$q,toArray:Fq,repeat:Uq,isNegativeZero:Gq,extend:zq};function e_(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function Uh(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=e_(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}l(e_,"formatError"),l(Uh,"YAMLException$1"),Uh.prototype=Object.create(Error.prototype),Uh.prototype.constructor=Uh,Uh.prototype.toString=l(function(e){return this.name+": "+e_(this,e)},"toString");var Qi=Uh;function Ex(e,t,r,n,i){var a="",s="",o=Math.floor(i/2)-1;return n-t>o&&(t=n-o+(a=" ... ").length),r-n>o&&(r=n+o-(s=" ...").length),{str:a+e.slice(t,r).replace(/\t/g,"")+s,pos:n-t+a.length}}function Cx(e,t){return Bn.repeat(" ",t-e.length)+e}function qq(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r,n=/\r?\n|\r|\0/g,i=[0],a=[],s=-1;r=n.exec(e.buffer);)a.push(r.index),i.push(r.index+r[0].length),e.position<=r.index&&s<0&&(s=i.length-2);s<0&&(s=i.length-1);var o,u,h="",d=Math.min(e.line+t.linesAfter,a.length).toString().length,p=t.maxLength-(t.indent+d+3);for(o=1;o<=t.linesBefore&&!(s-o<0);o++)u=Ex(e.buffer,i[s-o],a[s-o],e.position-(i[s]-i[s-o]),p),h=Bn.repeat(" ",t.indent)+Cx((e.line-o+1).toString(),d)+" | "+u.str+`
`+h;for(u=Ex(e.buffer,i[s],a[s],e.position,p),h+=Bn.repeat(" ",t.indent)+Cx((e.line+1).toString(),d)+" | "+u.str+`
`,h+=Bn.repeat("-",t.indent+d+3+u.pos)+`^
`,o=1;o<=t.linesAfter&&!(s+o>=a.length);o++)u=Ex(e.buffer,i[s+o],a[s+o],e.position-(i[s]-i[s+o]),p),h+=Bn.repeat(" ",t.indent)+Cx((e.line+o+1).toString(),d)+" | "+u.str+`
`;return h.replace(/\n$/,"")}l(Ex,"getLine"),l(Cx,"padStart"),l(qq,"makeSnippet");var jhe=qq,Yhe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Whe=["scalar","sequence","mapping"];function jq(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function Yq(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(Yhe.indexOf(r)===-1)throw new Qi('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=jq(t.styleAliases||null),Whe.indexOf(this.kind)===-1)throw new Qi('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}l(jq,"compileStyleAliases"),l(Yq,"Type$1");var ki=Yq;function ek(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(a,s){a.tag===n.tag&&a.kind===n.kind&&a.multi===n.multi&&(i=s)}),r[i]=n}),r}function xM(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function n(i){i.multi?(r.multi[i.kind].push(i),r.multi.fallback.push(i)):r[i.kind][i.tag]=r.fallback[i.tag]=i}for(l(n,"collectType"),e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return r}function Sx(e){return this.extend(e)}l(ek,"compileList"),l(xM,"compileMap"),l(Sx,"Schema$1"),Sx.prototype.extend=l(function(e){var t=[],r=[];if(e instanceof ki)r.push(e);else if(Array.isArray(e))r=r.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new Qi("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit))}t.forEach(function(i){if(!(i instanceof ki))throw new Qi("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(i.loadKind&&i.loadKind!=="scalar")throw new Qi("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(i.multi)throw new Qi("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(i){if(!(i instanceof ki))throw new Qi("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(Sx.prototype);return n.implicit=(this.implicit||[]).concat(t),n.explicit=(this.explicit||[]).concat(r),n.compiledImplicit=ek(n,"implicit"),n.compiledExplicit=ek(n,"explicit"),n.compiledTypeMap=xM(n.compiledImplicit,n.compiledExplicit),n},"extend");var Hhe=Sx,Vhe=new ki("tag:yaml.org,2002:str",{kind:"scalar",construct:l(function(e){return e!==null?e:""},"construct")}),Xhe=new ki("tag:yaml.org,2002:seq",{kind:"sequence",construct:l(function(e){return e!==null?e:[]},"construct")}),Khe=new ki("tag:yaml.org,2002:map",{kind:"mapping",construct:l(function(e){return e!==null?e:{}},"construct")}),Zhe=new Hhe({explicit:[Vhe,Xhe,Khe]});function Wq(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Hq(){return null}function Vq(e){return e===null}l(Wq,"resolveYamlNull"),l(Hq,"constructYamlNull"),l(Vq,"isNull");var Qhe=new ki("tag:yaml.org,2002:null",{kind:"scalar",resolve:Wq,construct:Hq,predicate:Vq,represent:{canonical:l(function(){return"~"},"canonical"),lowercase:l(function(){return"null"},"lowercase"),uppercase:l(function(){return"NULL"},"uppercase"),camelcase:l(function(){return"Null"},"camelcase"),empty:l(function(){return""},"empty")},defaultStyle:"lowercase"});function Xq(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Kq(e){return e==="true"||e==="True"||e==="TRUE"}function Zq(e){return Object.prototype.toString.call(e)==="[object Boolean]"}l(Xq,"resolveYamlBoolean"),l(Kq,"constructYamlBoolean"),l(Zq,"isBoolean");var Jhe=new ki("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Xq,construct:Kq,predicate:Zq,represent:{lowercase:l(function(e){return e?"true":"false"},"lowercase"),uppercase:l(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:l(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function Qq(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Jq(e){return 48<=e&&e<=55}function ej(e){return 48<=e&&e<=57}function tj(e){if(e===null)return!1;var t,r=e.length,n=0,i=!1;if(!r)return!1;if((t=e[n])!=="-"&&t!=="+"||(t=e[++n]),t==="0"){if(n+1===r)return!0;if((t=e[++n])==="b"){for(n++;n<r;n++)if((t=e[n])!=="_"){if(t!=="0"&&t!=="1")return!1;i=!0}return i&&t!=="_"}if(t==="x"){for(n++;n<r;n++)if((t=e[n])!=="_"){if(!Qq(e.charCodeAt(n)))return!1;i=!0}return i&&t!=="_"}if(t==="o"){for(n++;n<r;n++)if((t=e[n])!=="_"){if(!Jq(e.charCodeAt(n)))return!1;i=!0}return i&&t!=="_"}}if(t==="_")return!1;for(;n<r;n++)if((t=e[n])!=="_"){if(!ej(e.charCodeAt(n)))return!1;i=!0}return!(!i||t==="_")}function rj(e){var t,r=e,n=1;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),(t=r[0])!=="-"&&t!=="+"||(t==="-"&&(n=-1),t=(r=r.slice(1))[0]),r==="0")return 0;if(t==="0"){if(r[1]==="b")return n*parseInt(r.slice(2),2);if(r[1]==="x")return n*parseInt(r.slice(2),16);if(r[1]==="o")return n*parseInt(r.slice(2),8)}return n*parseInt(r,10)}function nj(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!Bn.isNegativeZero(e)}l(Qq,"isHexCode"),l(Jq,"isOctCode"),l(ej,"isDecCode"),l(tj,"resolveYamlInteger"),l(rj,"constructYamlInteger"),l(nj,"isInteger");var ede=new ki("tag:yaml.org,2002:int",{kind:"scalar",resolve:tj,construct:rj,predicate:nj,represent:{binary:l(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:l(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:l(function(e){return e.toString(10)},"decimal"),hexadecimal:l(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),tde=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function ij(e){return e!==null&&!(!tde.test(e)||e[e.length-1]==="_")}function aj(e){var t,r;return r=(t=e.replace(/_/g,"").toLowerCase())[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}l(ij,"resolveYamlFloat"),l(aj,"constructYamlFloat");var rde=/^[-+]?[0-9]+e/;function sj(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Bn.isNegativeZero(e))return"-0.0";return r=e.toString(10),rde.test(r)?r.replace("e",".e"):r}function oj(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||Bn.isNegativeZero(e))}l(sj,"representYamlFloat"),l(oj,"isFloat");var nde=new ki("tag:yaml.org,2002:float",{kind:"scalar",resolve:ij,construct:aj,predicate:oj,represent:sj,defaultStyle:"lowercase"}),lj=Zhe.extend({implicit:[Qhe,Jhe,ede,nde]}),ide=lj,cj=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),uj=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function hj(e){return e!==null&&(cj.exec(e)!==null||uj.exec(e)!==null)}function dj(e){var t,r,n,i,a,s,o,u,h=0,d=null;if((t=cj.exec(e))===null&&(t=uj.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(a=+t[4],s=+t[5],o=+t[6],t[7]){for(h=t[7].slice(0,3);h.length<3;)h+="0";h=+h}return t[9]&&(d=6e4*(60*+t[10]+ +(t[11]||0)),t[9]==="-"&&(d=-d)),u=new Date(Date.UTC(r,n,i,a,s,o,h)),d&&u.setTime(u.getTime()-d),u}function pj(e){return e.toISOString()}l(hj,"resolveYamlTimestamp"),l(dj,"constructYamlTimestamp"),l(pj,"representYamlTimestamp");var ade=new ki("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:hj,construct:dj,instanceOf:Date,represent:pj});function fj(e){return e==="<<"||e===null}l(fj,"resolveYamlMerge");var sde=new ki("tag:yaml.org,2002:merge",{kind:"scalar",resolve:fj}),A8=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function gj(e){if(e===null)return!1;var t,r,n=0,i=e.length,a=A8;for(r=0;r<i;r++)if(!((t=a.indexOf(e.charAt(r)))>64)){if(t<0)return!1;n+=6}return n%8==0}function mj(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,a=A8,s=0,o=[];for(t=0;t<i;t++)t%4==0&&t&&(o.push(s>>16&255),o.push(s>>8&255),o.push(255&s)),s=s<<6|a.indexOf(n.charAt(t));return(r=i%4*6)===0?(o.push(s>>16&255),o.push(s>>8&255),o.push(255&s)):r===18?(o.push(s>>10&255),o.push(s>>2&255)):r===12&&o.push(s>>4&255),new Uint8Array(o)}function yj(e){var t,r,n="",i=0,a=e.length,s=A8;for(t=0;t<a;t++)t%3==0&&t&&(n+=s[i>>18&63],n+=s[i>>12&63],n+=s[i>>6&63],n+=s[63&i]),i=(i<<8)+e[t];return(r=a%3)===0?(n+=s[i>>18&63],n+=s[i>>12&63],n+=s[i>>6&63],n+=s[63&i]):r===2?(n+=s[i>>10&63],n+=s[i>>4&63],n+=s[i<<2&63],n+=s[64]):r===1&&(n+=s[i>>2&63],n+=s[i<<4&63],n+=s[64],n+=s[64]),n}function vj(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}l(gj,"resolveYamlBinary"),l(mj,"constructYamlBinary"),l(yj,"representYamlBinary"),l(vj,"isBinary");var ode=new ki("tag:yaml.org,2002:binary",{kind:"scalar",resolve:gj,construct:mj,predicate:vj,represent:yj}),lde=Object.prototype.hasOwnProperty,cde=Object.prototype.toString;function xj(e){if(e===null)return!0;var t,r,n,i,a,s=[],o=e;for(t=0,r=o.length;t<r;t+=1){if(n=o[t],a=!1,cde.call(n)!=="[object Object]")return!1;for(i in n)if(lde.call(n,i)){if(a)return!1;a=!0}if(!a||s.indexOf(i)!==-1)return!1;s.push(i)}return!0}function bj(e){return e!==null?e:[]}l(xj,"resolveYamlOmap"),l(bj,"constructYamlOmap");var ude=new ki("tag:yaml.org,2002:omap",{kind:"sequence",resolve:xj,construct:bj}),hde=Object.prototype.toString;function wj(e){if(e===null)return!0;var t,r,n,i,a,s=e;for(a=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],hde.call(n)!=="[object Object]"||(i=Object.keys(n)).length!==1)return!1;a[t]=[i[0],n[i[0]]]}return!0}function kj(e){if(e===null)return[];var t,r,n,i,a,s=e;for(a=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),a[t]=[i[0],n[i[0]]];return a}l(wj,"resolveYamlPairs"),l(kj,"constructYamlPairs");var dde=new ki("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:wj,construct:kj}),pde=Object.prototype.hasOwnProperty;function Tj(e){if(e===null)return!0;var t,r=e;for(t in r)if(pde.call(r,t)&&r[t]!==null)return!1;return!0}function _j(e){return e!==null?e:{}}l(Tj,"resolveYamlSet"),l(_j,"constructYamlSet");var fde=new ki("tag:yaml.org,2002:set",{kind:"mapping",resolve:Tj,construct:_j}),Ej=ide.extend({implicit:[ade,sde],explicit:[ode,ude,dde,fde]}),Kl=Object.prototype.hasOwnProperty,gde=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,mde=/[\x85\u2028\u2029]/,yde=/[,\[\]\{\}]/,Cj=/^(?:!|!!|![a-z\-]+!)$/i,Sj=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function t_(e){return Object.prototype.toString.call(e)}function _s(e){return e===10||e===13}function zl(e){return e===9||e===32}function Mi(e){return e===9||e===32||e===10||e===13}function ou(e){return e===44||e===91||e===93||e===123||e===125}function Aj(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function Lj(e){return e===120?2:e===117?4:e===85?8:0}function Nj(e){return 48<=e&&e<=57?e-48:-1}function r_(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}function Ij(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}l(t_,"_class"),l(_s,"is_EOL"),l(zl,"is_WHITE_SPACE"),l(Mi,"is_WS_OR_EOL"),l(ou,"is_FLOW_INDICATOR"),l(Aj,"fromHexCode"),l(Lj,"escapedHexLen"),l(Nj,"fromDecimalCode"),l(r_,"simpleEscapeSequence"),l(Ij,"charFromCodepoint");var Cc,Mj=new Array(256),Rj=new Array(256);for(Cc=0;Cc<256;Cc++)Mj[Cc]=r_(Cc)?1:0,Rj[Cc]=r_(Cc);function Dj(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Ej,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function L8(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=jhe(r),new Qi(t,r)}function St(e,t){throw L8(e,t)}function Sy(e,t){e.onWarning&&e.onWarning.call(null,L8(e,t))}l(Dj,"State$1"),l(L8,"generateError"),l(St,"throwError"),l(Sy,"throwWarning");var bM={YAML:l(function(e,t,r){var n,i,a;e.version!==null&&St(e,"duplication of %YAML directive"),r.length!==1&&St(e,"YAML directive accepts exactly one argument"),(n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))===null&&St(e,"ill-formed argument of the YAML directive"),i=parseInt(n[1],10),a=parseInt(n[2],10),i!==1&&St(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&Sy(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:l(function(e,t,r){var n,i;r.length!==2&&St(e,"TAG directive accepts exactly two arguments"),n=r[0],i=r[1],Cj.test(n)||St(e,"ill-formed tag handle (first argument) of the TAG directive"),Kl.call(e.tagMap,n)&&St(e,'there is a previously declared suffix for "'+n+'" tag handle'),Sj.test(i)||St(e,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch{St(e,"tag prefix is malformed: "+i)}e.tagMap[n]=i},"handleTagDirective")};function $o(e,t,r,n){var i,a,s,o;if(t<r){if(o=e.input.slice(t,r),n)for(i=0,a=o.length;i<a;i+=1)(s=o.charCodeAt(i))===9||32<=s&&s<=1114111||St(e,"expected valid JSON character");else gde.test(o)&&St(e,"the stream contains non-printable characters");e.result+=o}}function n_(e,t,r,n){var i,a,s,o;for(Bn.isObject(r)||St(e,"cannot merge mappings; the provided source object is unacceptable"),s=0,o=(i=Object.keys(r)).length;s<o;s+=1)a=i[s],Kl.call(t,a)||(t[a]=r[a],n[a]=!0)}function lu(e,t,r,n,i,a,s,o,u){var h,d;if(Array.isArray(i))for(h=0,d=(i=Array.prototype.slice.call(i)).length;h<d;h+=1)Array.isArray(i[h])&&St(e,"nested arrays are not supported inside keys"),typeof i=="object"&&t_(i[h])==="[object Object]"&&(i[h]="[object Object]");if(typeof i=="object"&&t_(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(h=0,d=a.length;h<d;h+=1)n_(e,t,a[h],r);else n_(e,t,a,r);else e.json||Kl.call(r,i)||!Kl.call(t,i)||(e.line=s||e.line,e.lineStart=o||e.lineStart,e.position=u||e.position,St(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete r[i];return t}function W5(e){var t;(t=e.input.charCodeAt(e.position))===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):St(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function xn(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;zl(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(!_s(i))break;for(W5(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return r!==-1&&n!==0&&e.lineIndent<r&&Sy(e,"deficient indentation"),n}function _2(e){var t,r=e.position;return!((t=e.input.charCodeAt(r))!==45&&t!==46||t!==e.input.charCodeAt(r+1)||t!==e.input.charCodeAt(r+2)||(r+=3,(t=e.input.charCodeAt(r))!==0&&!Mi(t)))}function H5(e,t){t===1?e.result+=" ":t>1&&(e.result+=Bn.repeat(`
`,t-1))}function Oj(e,t,r){var n,i,a,s,o,u,h,d,p=e.kind,f=e.result;if(Mi(d=e.input.charCodeAt(e.position))||ou(d)||d===35||d===38||d===42||d===33||d===124||d===62||d===39||d===34||d===37||d===64||d===96||(d===63||d===45)&&(Mi(n=e.input.charCodeAt(e.position+1))||r&&ou(n)))return!1;for(e.kind="scalar",e.result="",i=a=e.position,s=!1;d!==0;){if(d===58){if(Mi(n=e.input.charCodeAt(e.position+1))||r&&ou(n))break}else if(d===35){if(Mi(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&_2(e)||r&&ou(d))break;if(_s(d)){if(o=e.line,u=e.lineStart,h=e.lineIndent,xn(e,!1,-1),e.lineIndent>=t){s=!0,d=e.input.charCodeAt(e.position);continue}e.position=a,e.line=o,e.lineStart=u,e.lineIndent=h;break}}s&&($o(e,i,a,!1),H5(e,e.line-o),i=a=e.position,s=!1),zl(d)||(a=e.position+1),d=e.input.charCodeAt(++e.position)}return $o(e,i,a,!1),!!e.result||(e.kind=p,e.result=f,!1)}function Pj(e,t){var r,n,i;if((r=e.input.charCodeAt(e.position))!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39){if($o(e,n,e.position,!0),(r=e.input.charCodeAt(++e.position))!==39)return!0;n=e.position,e.position++,i=e.position}else _s(r)?($o(e,n,i,!0),H5(e,xn(e,!1,t)),n=i=e.position):e.position===e.lineStart&&_2(e)?St(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);St(e,"unexpected end of the stream within a single quoted scalar")}function Bj(e,t){var r,n,i,a,s,o;if((o=e.input.charCodeAt(e.position))!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(o=e.input.charCodeAt(e.position))!==0;){if(o===34)return $o(e,r,e.position,!0),e.position++,!0;if(o===92){if($o(e,r,e.position,!0),_s(o=e.input.charCodeAt(++e.position)))xn(e,!1,t);else if(o<256&&Mj[o])e.result+=Rj[o],e.position++;else if((s=Lj(o))>0){for(i=s,a=0;i>0;i--)(s=Aj(o=e.input.charCodeAt(++e.position)))>=0?a=(a<<4)+s:St(e,"expected hexadecimal character");e.result+=Ij(a),e.position++}else St(e,"unknown escape sequence");r=n=e.position}else _s(o)?($o(e,r,n,!0),H5(e,xn(e,!1,t)),r=n=e.position):e.position===e.lineStart&&_2(e)?St(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}St(e,"unexpected end of the stream within a double quoted scalar")}function $j(e,t){var r,n,i,a,s,o,u,h,d,p,f,g,m=!0,y=e.tag,v=e.anchor,x=Object.create(null);if((g=e.input.charCodeAt(e.position))===91)s=93,h=!1,a=[];else{if(g!==123)return!1;s=125,h=!0,a={}}for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),g=e.input.charCodeAt(++e.position);g!==0;){if(xn(e,!0,t),(g=e.input.charCodeAt(e.position))===s)return e.position++,e.tag=y,e.anchor=v,e.kind=h?"mapping":"sequence",e.result=a,!0;m?g===44&&St(e,"expected the node content, but found ','"):St(e,"missed comma between flow collection entries"),f=null,o=u=!1,g===63&&Mi(e.input.charCodeAt(e.position+1))&&(o=u=!0,e.position++,xn(e,!0,t)),r=e.line,n=e.lineStart,i=e.position,Yu(e,t,1,!1,!0),p=e.tag,d=e.result,xn(e,!0,t),g=e.input.charCodeAt(e.position),!u&&e.line!==r||g!==58||(o=!0,g=e.input.charCodeAt(++e.position),xn(e,!0,t),Yu(e,t,1,!1,!0),f=e.result),h?lu(e,a,x,p,d,f,r,n,i):o?a.push(lu(e,null,x,p,d,f,r,n,i)):a.push(d),xn(e,!0,t),(g=e.input.charCodeAt(e.position))===44?(m=!0,g=e.input.charCodeAt(++e.position)):m=!1}St(e,"unexpected end of the stream within a flow collection")}function Fj(e,t){var r,n,i,a,s=1,o=!1,u=!1,h=t,d=0,p=!1;if((a=e.input.charCodeAt(e.position))===124)n=!1;else{if(a!==62)return!1;n=!0}for(e.kind="scalar",e.result="";a!==0;)if((a=e.input.charCodeAt(++e.position))===43||a===45)s===1?s=a===43?3:2:St(e,"repeat of a chomping mode identifier");else{if(!((i=Nj(a))>=0))break;i===0?St(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?St(e,"repeat of an indentation width identifier"):(h=t+i-1,u=!0)}if(zl(a)){do a=e.input.charCodeAt(++e.position);while(zl(a));if(a===35)do a=e.input.charCodeAt(++e.position);while(!_s(a)&&a!==0)}for(;a!==0;){for(W5(e),e.lineIndent=0,a=e.input.charCodeAt(e.position);(!u||e.lineIndent<h)&&a===32;)e.lineIndent++,a=e.input.charCodeAt(++e.position);if(!u&&e.lineIndent>h&&(h=e.lineIndent),_s(a))d++;else{if(e.lineIndent<h){s===3?e.result+=Bn.repeat(`
`,o?1+d:d):s===1&&o&&(e.result+=`
`);break}for(n?zl(a)?(p=!0,e.result+=Bn.repeat(`
`,o?1+d:d)):p?(p=!1,e.result+=Bn.repeat(`
`,d+1)):d===0?o&&(e.result+=" "):e.result+=Bn.repeat(`
`,d):e.result+=Bn.repeat(`
`,o?1+d:d),o=!0,u=!0,d=0,r=e.position;!_s(a)&&a!==0;)a=e.input.charCodeAt(++e.position);$o(e,r,e.position,!1)}}return!0}function i_(e,t){var r,n,i=e.tag,a=e.anchor,s=[],o=!1;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),n=e.input.charCodeAt(e.position);n!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,St(e,"tab characters must not be used in indentation")),n===45)&&Mi(e.input.charCodeAt(e.position+1));)if(o=!0,e.position++,xn(e,!0,-1)&&e.lineIndent<=t)s.push(null),n=e.input.charCodeAt(e.position);else if(r=e.line,Yu(e,t,3,!1,!0),s.push(e.result),xn(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&n!==0)St(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!o&&(e.tag=i,e.anchor=a,e.kind="sequence",e.result=s,!0)}function zj(e,t,r){var n,i,a,s,o,u,h,d=e.tag,p=e.anchor,f={},g=Object.create(null),m=null,y=null,v=null,x=!1,b=!1;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),h=e.input.charCodeAt(e.position);h!==0;){if(x||e.firstTabInLine===-1||(e.position=e.firstTabInLine,St(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),a=e.line,h!==63&&h!==58||!Mi(n)){if(s=e.line,o=e.lineStart,u=e.position,!Yu(e,r,2,!1,!0))break;if(e.line===a){for(h=e.input.charCodeAt(e.position);zl(h);)h=e.input.charCodeAt(++e.position);if(h===58)Mi(h=e.input.charCodeAt(++e.position))||St(e,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(lu(e,f,g,m,y,null,s,o,u),m=y=v=null),b=!0,x=!1,i=!1,m=e.tag,y=e.result;else{if(!b)return e.tag=d,e.anchor=p,!0;St(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!b)return e.tag=d,e.anchor=p,!0;St(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else h===63?(x&&(lu(e,f,g,m,y,null,s,o,u),m=y=v=null),b=!0,x=!0,i=!0):x?(x=!1,i=!0):St(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,h=n;if((e.line===a||e.lineIndent>t)&&(x&&(s=e.line,o=e.lineStart,u=e.position),Yu(e,t,4,!0,i)&&(x?y=e.result:v=e.result),x||(lu(e,f,g,m,y,v,s,o,u),m=y=v=null),xn(e,!0,-1),h=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&h!==0)St(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return x&&lu(e,f,g,m,y,null,s,o,u),b&&(e.tag=d,e.anchor=p,e.kind="mapping",e.result=f),b}function Uj(e){var t,r,n,i,a=!1,s=!1;if((i=e.input.charCodeAt(e.position))!==33)return!1;if(e.tag!==null&&St(e,"duplication of a tag property"),(i=e.input.charCodeAt(++e.position))===60?(a=!0,i=e.input.charCodeAt(++e.position)):i===33?(s=!0,r="!!",i=e.input.charCodeAt(++e.position)):r="!",t=e.position,a){do i=e.input.charCodeAt(++e.position);while(i!==0&&i!==62);e.position<e.length?(n=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):St(e,"unexpected end of the stream within a verbatim tag")}else{for(;i!==0&&!Mi(i);)i===33&&(s?St(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),Cj.test(r)||St(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),yde.test(n)&&St(e,"tag suffix cannot contain flow indicator characters")}n&&!Sj.test(n)&&St(e,"tag name cannot contain such characters: "+n);try{n=decodeURIComponent(n)}catch{St(e,"tag name is malformed: "+n)}return a?e.tag=n:Kl.call(e.tagMap,r)?e.tag=e.tagMap[r]+n:r==="!"?e.tag="!"+n:r==="!!"?e.tag="tag:yaml.org,2002:"+n:St(e,'undeclared tag handle "'+r+'"'),!0}function Gj(e){var t,r;if((r=e.input.charCodeAt(e.position))!==38)return!1;for(e.anchor!==null&&St(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Mi(r)&&!ou(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&St(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function qj(e){var t,r,n;if((n=e.input.charCodeAt(e.position))!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Mi(n)&&!ou(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&St(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Kl.call(e.anchorMap,r)||St(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],xn(e,!0,-1),!0}function Yu(e,t,r,n,i){var a,s,o,u,h,d,p,f,g,m=1,y=!1,v=!1;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=o=r===4||r===3,n&&xn(e,!0,-1)&&(y=!0,e.lineIndent>t?m=1:e.lineIndent===t?m=0:e.lineIndent<t&&(m=-1)),m===1)for(;Uj(e)||Gj(e);)xn(e,!0,-1)?(y=!0,o=a,e.lineIndent>t?m=1:e.lineIndent===t?m=0:e.lineIndent<t&&(m=-1)):o=!1;if(o&&(o=y||i),m!==1&&r!==4||(f=r===1||r===2?t:t+1,g=e.position-e.lineStart,m===1?o&&(i_(e,g)||zj(e,g,f))||$j(e,f)?v=!0:(s&&Fj(e,f)||Pj(e,f)||Bj(e,f)?v=!0:qj(e)?(v=!0,e.tag===null&&e.anchor===null||St(e,"alias node should not have any properties")):Oj(e,f,r===1)&&(v=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):m===0&&(v=o&&i_(e,g))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&St(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,h=e.implicitTypes.length;u<h;u+=1)if((p=e.implicitTypes[u]).resolve(e.result)){e.result=p.construct(e.result),e.tag=p.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Kl.call(e.typeMap[e.kind||"fallback"],e.tag))p=e.typeMap[e.kind||"fallback"][e.tag];else for(p=null,u=0,h=(d=e.typeMap.multi[e.kind||"fallback"]).length;u<h;u+=1)if(e.tag.slice(0,d[u].tag.length)===d[u].tag){p=d[u];break}p||St(e,"unknown tag !<"+e.tag+">"),e.result!==null&&p.kind!==e.kind&&St(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+p.kind+'", not "'+e.kind+'"'),p.resolve(e.result,e.tag)?(e.result=p.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):St(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||v}function jj(e){var t,r,n,i,a=e.position,s=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(i=e.input.charCodeAt(e.position))!==0&&(xn(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||i!==37));){for(s=!0,i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!Mi(i);)i=e.input.charCodeAt(++e.position);for(n=[],(r=e.input.slice(t,e.position)).length<1&&St(e,"directive name must not be less than one character in length");i!==0;){for(;zl(i);)i=e.input.charCodeAt(++e.position);if(i===35){do i=e.input.charCodeAt(++e.position);while(i!==0&&!_s(i));break}if(_s(i))break;for(t=e.position;i!==0&&!Mi(i);)i=e.input.charCodeAt(++e.position);n.push(e.input.slice(t,e.position))}i!==0&&W5(e),Kl.call(bM,r)?bM[r](e,r,n):Sy(e,'unknown document directive "'+r+'"')}xn(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,xn(e,!0,-1)):s&&St(e,"directives end mark is expected"),Yu(e,e.lineIndent-1,4,!1,!0),xn(e,!0,-1),e.checkLineBreaks&&mde.test(e.input.slice(a,e.position))&&Sy(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&_2(e)?e.input.charCodeAt(e.position)===46&&(e.position+=3,xn(e,!0,-1)):e.position<e.length-1&&St(e,"end of the stream or a document separator is expected")}function N8(e,t){t=t||{},(e=String(e)).length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Dj(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,St(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)jj(r);return r.documents}function Yj(e,t,r){t!==null&&typeof t=="object"&&r===void 0&&(r=t,t=null);var n=N8(e,r);if(typeof t!="function")return n;for(var i=0,a=n.length;i<a;i+=1)t(n[i])}function Wj(e,t){var r=N8(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Qi("expected a single document in the stream, but found more")}}l($o,"captureSegment"),l(n_,"mergeMappings"),l(lu,"storeMappingPair"),l(W5,"readLineBreak"),l(xn,"skipSeparationSpace"),l(_2,"testDocumentSeparator"),l(H5,"writeFoldedLines"),l(Oj,"readPlainScalar"),l(Pj,"readSingleQuotedScalar"),l(Bj,"readDoubleQuotedScalar"),l($j,"readFlowCollection"),l(Fj,"readBlockScalar"),l(i_,"readBlockSequence"),l(zj,"readBlockMapping"),l(Uj,"readTagProperty"),l(Gj,"readAnchorProperty"),l(qj,"readAlias"),l(Yu,"composeNode"),l(jj,"readDocument"),l(N8,"loadDocuments"),l(Yj,"loadAll$1"),l(Wj,"load$1");var vde={loadAll:Yj,load:Wj},Hj=Object.prototype.toString,Vj=Object.prototype.hasOwnProperty,xde={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},bde=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],wde=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Xj(e,t){var r,n,i,a,s,o,u;if(t===null)return{};for(r={},i=0,a=(n=Object.keys(t)).length;i<a;i+=1)s=n[i],o=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),(u=e.compiledTypeMap.fallback[s])&&Vj.call(u.styleAliases,o)&&(o=u.styleAliases[o]),r[s]=o;return r}function Kj(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else{if(!(e<=4294967295))throw new Qi("code point within a string may not be greater than 0xFFFFFFFF");r="U",n=8}return"\\"+r+Bn.repeat("0",n-t.length)+t}l(Xj,"compileStyleMap"),l(Kj,"encodeHex");function Zj(e){this.schema=e.schema||Ej,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Bn.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Xj(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?2:1,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function a_(e,t){for(var r,n=Bn.repeat(" ",t),i=0,a=-1,s="",o=e.length;i<o;)(a=e.indexOf(`
`,i))===-1?(r=e.slice(i),i=o):(r=e.slice(i,a+1),i=a+1),r.length&&r!==`
`&&(s+=n),s+=r;return s}function Wb(e,t){return`
`+Bn.repeat(" ",e.indent*t)}function Qj(e,t){var r,n;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(e.implicitTypes[r].resolve(t))return!0;return!1}function Ay(e){return e===32||e===9}function Vg(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==65279||65536<=e&&e<=1114111}function s_(e){return Vg(e)&&e!==65279&&e!==13&&e!==10}function o_(e,t,r){var n=s_(e),i=n&&!Ay(e);return(r?n:n&&e!==44&&e!==91&&e!==93&&e!==123&&e!==125)&&e!==35&&!(t===58&&!i)||s_(t)&&!Ay(t)&&e===35||t===58&&i}function Jj(e){return Vg(e)&&e!==65279&&!Ay(e)&&e!==45&&e!==63&&e!==58&&e!==44&&e!==91&&e!==93&&e!==123&&e!==125&&e!==35&&e!==38&&e!==42&&e!==33&&e!==124&&e!==61&&e!==62&&e!==39&&e!==34&&e!==37&&e!==64&&e!==96}function eY(e){return!Ay(e)&&e!==58}function rd(e,t){var r,n=e.charCodeAt(t);return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1))>=56320&&r<=57343?1024*(n-55296)+r-56320+65536:n}function I8(e){return/^\n* /.test(e)}l(Zj,"State"),l(a_,"indentString"),l(Wb,"generateNextLine"),l(Qj,"testImplicitResolving"),l(Ay,"isWhitespace"),l(Vg,"isPrintable"),l(s_,"isNsCharOrWhitespace"),l(o_,"isPlainSafe"),l(Jj,"isPlainSafeFirst"),l(eY,"isPlainSafeLast"),l(rd,"codePointAt"),l(I8,"needIndentIndicator");function tY(e,t,r,n,i,a,s,o){var u,h=0,d=null,p=!1,f=!1,g=n!==-1,m=-1,y=Jj(rd(e,0))&&eY(rd(e,e.length-1));if(t||s)for(u=0;u<e.length;h>=65536?u+=2:u++){if(!Vg(h=rd(e,u)))return 5;y=y&&o_(h,d,o),d=h}else{for(u=0;u<e.length;h>=65536?u+=2:u++){if((h=rd(e,u))===10)p=!0,g&&(f=f||u-m-1>n&&e[m+1]!==" ",m=u);else if(!Vg(h))return 5;y=y&&o_(h,d,o),d=h}f=f||g&&u-m-1>n&&e[m+1]!==" "}return p||f?r>9&&I8(e)?5:s?a===2?5:2:f?4:3:!y||s||i(e)?a===2?5:2:1}function rY(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===2?'""':"''";if(!e.noCompatMode&&(bde.indexOf(t)!==-1||wde.test(t)))return e.quotingType===2?'"'+t+'"':"'"+t+"'";var a=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),o=n||e.flowLevel>-1&&r>=e.flowLevel;function u(h){return Qj(e,h)}switch(l(u,"testAmbiguity"),tY(t,o,e.indent,s,u,e.quotingType,e.forceQuotes&&!n,i)){case 1:return t;case 2:return"'"+t.replace(/'/g,"''")+"'";case 3:return"|"+l_(t,e.indent)+c_(a_(t,a));case 4:return">"+l_(t,e.indent)+c_(a_(nY(t,s),a));case 5:return'"'+iY(t)+'"';default:throw new Qi("impossible error: invalid scalar style")}}()}function l_(e,t){var r=I8(e)?String(t):"",n=e[e.length-1]===`
`;return r+(n&&(e[e.length-2]===`
`||e===`
`)?"+":n?"":"-")+`
`}function c_(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function nY(e,t){for(var r,n,i,a=/(\n+)([^\n]*)/g,s=(r=(r=e.indexOf(`
`))!==-1?r:e.length,a.lastIndex=r,u_(e.slice(0,r),t)),o=e[0]===`
`||e[0]===" ";i=a.exec(e);){var u=i[1],h=i[2];n=h[0]===" ",s+=u+(o||n||h===""?"":`
`)+u_(h,t),o=n}return s}function u_(e,t){if(e===""||e[0]===" ")return e;for(var r,n,i=/ [^ ]/g,a=0,s=0,o=0,u="";r=i.exec(e);)(o=r.index)-a>t&&(n=s>a?s:o,u+=`
`+e.slice(a,n),a=n+1),s=o;return u+=`
`,e.length-a>t&&s>a?u+=e.slice(a,s)+`
`+e.slice(s+1):u+=e.slice(a),u.slice(1)}function iY(e){for(var t,r="",n=0,i=0;i<e.length;n>=65536?i+=2:i++)n=rd(e,i),!(t=xde[n])&&Vg(n)?(r+=e[i],n>=65536&&(r+=e[i+1])):r+=t||Kj(n);return r}function aY(e,t,r){var n,i,a,s="",o=e.tag;for(n=0,i=r.length;n<i;n+=1)a=r[n],e.replacer&&(a=e.replacer.call(r,String(n),a)),(oo(e,t,a,!1,!1)||a===void 0&&oo(e,t,null,!1,!1))&&(s!==""&&(s+=","+(e.condenseFlow?"":" ")),s+=e.dump);e.tag=o,e.dump="["+s+"]"}function h_(e,t,r,n){var i,a,s,o="",u=e.tag;for(i=0,a=r.length;i<a;i+=1)s=r[i],e.replacer&&(s=e.replacer.call(r,String(i),s)),(oo(e,t+1,s,!0,!0,!1,!0)||s===void 0&&oo(e,t+1,null,!0,!0,!1,!0))&&(n&&o===""||(o+=Wb(e,t)),e.dump&&e.dump.charCodeAt(0)===10?o+="-":o+="- ",o+=e.dump);e.tag=u,e.dump=o||"[]"}function sY(e,t,r){var n,i,a,s,o,u="",h=e.tag,d=Object.keys(r);for(n=0,i=d.length;n<i;n+=1)o="",u!==""&&(o+=", "),e.condenseFlow&&(o+='"'),s=r[a=d[n]],e.replacer&&(s=e.replacer.call(r,a,s)),oo(e,t,a,!1,!1)&&(e.dump.length>1024&&(o+="? "),o+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),oo(e,t,s,!1,!1)&&(u+=o+=e.dump));e.tag=h,e.dump="{"+u+"}"}function oY(e,t,r,n){var i,a,s,o,u,h,d="",p=e.tag,f=Object.keys(r);if(e.sortKeys===!0)f.sort();else if(typeof e.sortKeys=="function")f.sort(e.sortKeys);else if(e.sortKeys)throw new Qi("sortKeys must be a boolean or a function");for(i=0,a=f.length;i<a;i+=1)h="",n&&d===""||(h+=Wb(e,t)),o=r[s=f[i]],e.replacer&&(o=e.replacer.call(r,s,o)),oo(e,t+1,s,!0,!0,!0)&&((u=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024)&&(e.dump&&e.dump.charCodeAt(0)===10?h+="?":h+="? "),h+=e.dump,u&&(h+=Wb(e,t)),oo(e,t+1,o,!0,u)&&(e.dump&&e.dump.charCodeAt(0)===10?h+=":":h+=": ",d+=h+=e.dump));e.tag=p,e.dump=d||"{}"}function d_(e,t,r){var n,i,a,s,o,u;for(a=0,s=(i=r?e.explicitTypes:e.implicitTypes).length;a<s;a+=1)if(((o=i[a]).instanceOf||o.predicate)&&(!o.instanceOf||typeof t=="object"&&t instanceof o.instanceOf)&&(!o.predicate||o.predicate(t))){if(r?o.multi&&o.representName?e.tag=o.representName(t):e.tag=o.tag:e.tag="?",o.represent){if(u=e.styleMap[o.tag]||o.defaultStyle,Hj.call(o.represent)==="[object Function]")n=o.represent(t,u);else{if(!Vj.call(o.represent,u))throw new Qi("!<"+o.tag+'> tag resolver accepts not "'+u+'" style');n=o.represent[u](t,u)}e.dump=n}return!0}return!1}function oo(e,t,r,n,i,a,s){e.tag=null,e.dump=r,d_(e,r,!1)||d_(e,r,!0);var o,u=Hj.call(e.dump),h=n;n&&(n=e.flowLevel<0||e.flowLevel>t);var d,p,f=u==="[object Object]"||u==="[object Array]";if(f&&(p=(d=e.duplicates.indexOf(r))!==-1),(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0)&&(i=!1),p&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(f&&p&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),u==="[object Object]")n&&Object.keys(e.dump).length!==0?(oY(e,t,e.dump,i),p&&(e.dump="&ref_"+d+e.dump)):(sY(e,t,e.dump),p&&(e.dump="&ref_"+d+" "+e.dump));else if(u==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?h_(e,t-1,e.dump,i):h_(e,t,e.dump,i),p&&(e.dump="&ref_"+d+e.dump)):(aY(e,t,e.dump),p&&(e.dump="&ref_"+d+" "+e.dump));else{if(u!=="[object String]"){if(u==="[object Undefined]"||e.skipInvalid)return!1;throw new Qi("unacceptable kind of an object to dump "+u)}e.tag!=="?"&&rY(e,e.dump,t,a,h)}e.tag!==null&&e.tag!=="?"&&(o=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),o=e.tag[0]==="!"?"!"+o:o.slice(0,18)==="tag:yaml.org,2002:"?"!!"+o.slice(18):"!<"+o+">",e.dump=o+" "+e.dump)}return!0}function wM(e,t){var r,n,i=[],a=[];for(Hb(e,i,a),r=0,n=a.length;r<n;r+=1)t.duplicates.push(i[a[r]]);t.usedDuplicates=new Array(n)}function Hb(e,t,r){var n,i,a;if(e!==null&&typeof e=="object")if((i=t.indexOf(e))!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,a=e.length;i<a;i+=1)Hb(e[i],t,r);else for(i=0,a=(n=Object.keys(e)).length;i<a;i+=1)Hb(e[n[i]],t,r)}l(tY,"chooseScalarStyle"),l(rY,"writeScalar"),l(l_,"blockHeader"),l(c_,"dropEndingNewline"),l(nY,"foldString"),l(u_,"foldLine"),l(iY,"escapeString"),l(aY,"writeFlowSequence"),l(h_,"writeBlockSequence"),l(sY,"writeFlowMapping"),l(oY,"writeBlockMapping"),l(d_,"detectType"),l(oo,"writeNode"),l(wM,"getDuplicateReferences"),l(Hb,"inspectNode"),l(function(e,t){var r=new Zj(t=t||{});r.noRefs||wM(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),oo(r,0,n,!0,!0)?r.dump+`
`:""},"dump$1"),l(function(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}},"renamed");var M8=lj,R8=vde.load,E2=l(({flowchart:e})=>{var n,i;const t=((n=e==null?void 0:e.subGraphTitleMargin)==null?void 0:n.top)??0,r=((i=e==null?void 0:e.subGraphTitleMargin)==null?void 0:i.bottom)??0;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:t+r}},"getSubGraphTitleMargins"),kde=qn({"../../node_modules/.pnpm/ms@2.1.3/node_modules/ms/index.js"(e,t){var r=1e3,n=60*r,i=60*n,a=24*i;function s(d){if(!((d=String(d)).length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(p){var f=parseFloat(p[1]);switch((p[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*f;case"weeks":case"week":case"w":return 6048e5*f;case"days":case"day":case"d":return f*a;case"hours":case"hour":case"hrs":case"hr":case"h":return f*i;case"minutes":case"minute":case"mins":case"min":case"m":return f*n;case"seconds":case"second":case"secs":case"sec":case"s":return f*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function o(d){var p=Math.abs(d);return p>=a?Math.round(d/a)+"d":p>=i?Math.round(d/i)+"h":p>=n?Math.round(d/n)+"m":p>=r?Math.round(d/r)+"s":d+"ms"}function u(d){var p=Math.abs(d);return p>=a?h(d,p,a,"day"):p>=i?h(d,p,i,"hour"):p>=n?h(d,p,n,"minute"):p>=r?h(d,p,r,"second"):d+" ms"}function h(d,p,f,g){var m=p>=1.5*f;return Math.round(d/f)+" "+g+(m?"s":"")}t.exports=function(d,p){p=p||{};var f=typeof d;if(f==="string"&&d.length>0)return s(d);if(f==="number"&&isFinite(d))return p.long?u(d):o(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))},l(s,"parse"),l(o,"fmtShort"),l(u,"fmtLong"),l(h,"plural")}}),Tde=qn({"../../node_modules/.pnpm/debug@4.3.7_supports-color@8.1.1/node_modules/debug/src/common.js"(e,t){function r(n){function i(g){let m=0;for(let y=0;y<g.length;y++)m=(m<<5)-m+g.charCodeAt(y),m|=0;return a.colors[Math.abs(m)%a.colors.length]}function a(g){let m,y,v,x=null;function b(...w){if(!b.enabled)return;const T=b,k=Number(new Date),R=k-(m||k);T.diff=R,T.prev=m,T.curr=k,m=k,w[0]=a.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let C=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(E,_)=>{if(E==="%%")return"%";C++;const L=a.formatters[_];if(typeof L=="function"){const D=w[C];E=L.call(T,D),w.splice(C,1),C--}return E}),a.formatArgs.call(T,w),(T.log||a.log).apply(T,w)}return l(b,"debug"),b.namespace=g,b.useColors=a.useColors(),b.color=a.selectColor(g),b.extend=s,b.destroy=a.destroy,Object.defineProperty(b,"enabled",{enumerable:!0,configurable:!1,get:l(()=>x!==null?x:(y!==a.namespaces&&(y=a.namespaces,v=a.enabled(g)),v),"get"),set:l(w=>{x=w},"set")}),typeof a.init=="function"&&a.init(b),b}function s(g,m){const y=a(this.namespace+(m===void 0?":":m)+g);return y.log=this.log,y}function o(g){let m;a.save(g),a.namespaces=g,a.names=[],a.skips=[];const y=(typeof g=="string"?g:"").split(/[\s,]+/),v=y.length;for(m=0;m<v;m++)y[m]&&((g=y[m].replace(/\*/g,".*?"))[0]==="-"?a.skips.push(new RegExp("^"+g.slice(1)+"$")):a.names.push(new RegExp("^"+g+"$")))}function u(){const g=[...a.names.map(d),...a.skips.map(d).map(m=>"-"+m)].join(",");return a.enable(""),g}function h(g){if(g[g.length-1]==="*")return!0;let m,y;for(m=0,y=a.skips.length;m<y;m++)if(a.skips[m].test(g))return!1;for(m=0,y=a.names.length;m<y;m++)if(a.names[m].test(g))return!0;return!1}function d(g){return g.toString().substring(2,g.toString().length-2).replace(/\.\*\?$/,"*")}function p(g){return g instanceof Error?g.stack||g.message:g}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a.debug=a,a.default=a,a.coerce=p,a.disable=u,a.enable=o,a.enabled=h,a.humanize=kde(),a.destroy=f,Object.keys(n).forEach(g=>{a[g]=n[g]}),a.names=[],a.skips=[],a.formatters={},l(i,"selectColor"),a.selectColor=i,l(a,"createDebug"),l(s,"extend"),l(o,"enable"),l(u,"disable"),l(h,"enabled"),l(d,"toNamespace"),l(p,"coerce"),l(f,"destroy"),a.enable(a.load()),a}l(r,"setup"),t.exports=r}}),_de=qn({"../../node_modules/.pnpm/debug@4.3.7_supports-color@8.1.1/node_modules/debug/src/browser.js"(e,t){function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;u.splice(1,0,h,"color: inherit");let d=0,p=0;u[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(d++,f==="%c"&&(p=d))}),u.splice(p,0,h)}function i(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function a(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=Mce.DEBUG),u}function s(){try{return localStorage}catch{}}e.formatArgs=n,e.save=i,e.load=a,e.useColors=r,e.storage=s(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],l(r,"useColors"),l(n,"formatArgs"),e.log=console.debug||console.log||(()=>{}),l(i,"save"),l(a,"load"),l(s,"localstorage"),t.exports=Tde()(e);var{formatters:o}=t.exports;o.j=function(u){try{return JSON.stringify(u)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}}),Ede=Object.freeze({left:0,top:0,width:16,height:16}),Vb=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),lY=Object.freeze({...Ede,...Vb}),Cde=Object.freeze({...lY,body:"",hidden:!1}),Sde=Object.freeze({width:null,height:null}),Ade=Object.freeze({...Sde,...Vb}),tk=/^[a-z0-9]+(-[a-z0-9]+)*$/,Lde=l((e,t,r,n="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),u=i.pop(),h={provider:i.length>0?i[0]:n,prefix:u,name:o};return t&&!rk(h)?null:h}const a=i[0],s=a.split("-");if(s.length>1){const o={provider:n,prefix:s.shift(),name:s.join("-")};return t&&!rk(o)?null:o}if(r&&n===""){const o={provider:n,prefix:"",name:a};return t&&!rk(o,r)?null:o}return null},"stringToIcon"),rk=l((e,t)=>!!e&&!(e.provider!==""&&!e.provider.match(tk)||!(t&&e.prefix===""||e.prefix.match(tk))||!e.name.match(tk)),"validateIconName");function cY(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}function p_(e,t){const r=cY(e,t);for(const n in Cde)n in Vb?n in e&&!(n in r)&&(r[n]=Vb[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function uY(e,t){const r=e.icons,n=e.aliases||Object.create(null),i=Object.create(null);function a(s){if(r[s])return i[s]=[];if(!(s in i)){i[s]=null;const o=n[s]&&n[s].parent,u=o&&a(o);u&&(i[s]=[o].concat(u))}return i[s]}return l(a,"resolve"),(t||Object.keys(r).concat(Object.keys(n))).forEach(a),i}function f_(e,t,r){const n=e.icons,i=e.aliases||Object.create(null);let a={};function s(o){a=p_(n[o]||i[o],a)}return l(s,"parse"),s(t),r.forEach(s),p_(e,a)}function hY(e,t){if(e.icons[t])return f_(e,t,[]);const r=uY(e,[t])[t];return r?f_(e,t,r):null}l(cY,"mergeIconTransformations"),l(p_,"mergeIconData"),l(uY,"getIconsTree"),l(f_,"internalGetIconData"),l(hY,"getIconData");var Nde=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Ide=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function g_(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const n=e.split(Nde);if(n===null||!n.length)return e;const i=[];let a=n.shift(),s=Ide.test(a);for(;;){if(s){const o=parseFloat(a);isNaN(o)?i.push(a):i.push(Math.ceil(o*t*r)/r)}else i.push(a);if(a=n.shift(),a===void 0)return i.join("");s=!s}}function dY(e,t="defs"){let r="";const n=e.indexOf("<"+t);for(;n>=0;){const i=e.indexOf(">",n),a=e.indexOf("</"+t);if(i===-1||a===-1)break;const s=e.indexOf(">",a);if(s===-1)break;r+=e.slice(i+1,a).trim(),e=e.slice(0,n).trim()+e.slice(s+1)}return{defs:r,content:e}}function pY(e,t){return e?"<defs>"+e+"</defs>"+t:t}function fY(e,t,r){const n=dY(e);return pY(n.defs,t+n.content+r)}l(g_,"calculateSize"),l(dY,"splitSVGDefs"),l(pY,"mergeDefsAndContent"),l(fY,"wrapSVGContent");var Mde=l(e=>e==="unset"||e==="undefined"||e==="none","isUnsetKeyword");function gY(e,t){const r={...lY,...e},n={...Ade,...t},i={left:r.left,top:r.top,width:r.width,height:r.height};let a=r.body;[r,n].forEach(y=>{const v=[],x=y.hFlip,b=y.vFlip;let w,T=y.rotate;switch(x?b?T+=2:(v.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),v.push("scale(-1 1)"),i.top=i.left=0):b&&(v.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),v.push("scale(1 -1)"),i.top=i.left=0),T<0&&(T-=4*Math.floor(T/4)),T%=4,T){case 1:w=i.height/2+i.top,v.unshift("rotate(90 "+w.toString()+" "+w.toString()+")");break;case 2:v.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:w=i.width/2+i.left,v.unshift("rotate(-90 "+w.toString()+" "+w.toString()+")")}T%2==1&&(i.left!==i.top&&(w=i.left,i.left=i.top,i.top=w),i.width!==i.height&&(w=i.width,i.width=i.height,i.height=w)),v.length&&(a=fY(a,'<g transform="'+v.join(" ")+'">',"</g>"))});const s=n.width,o=n.height,u=i.width,h=i.height;let d,p;s===null?(p=o===null?"1em":o==="auto"?h:o,d=g_(p,u/h)):(d=s==="auto"?u:s,p=o===null?g_(d,h/u):o==="auto"?h:o);const f={},g=l((y,v)=>{Mde(v)||(f[y]=v.toString())},"setAttr");g("width",d),g("height",p);const m=[i.left,i.top,u,h];return f.viewBox=m.join(" "),{attributes:f,viewBox:m,body:a}}l(gY,"iconToSVG");var Rde=/\sid="(\S+)"/g,Dde="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16),Ode=0;function mY(e,t=Dde){const r=[];let n;for(;n=Rde.exec(e);)r.push(n[1]);if(!r.length)return e;const i="suffix"+(16777216*Math.random()|Date.now()).toString(16);return r.forEach(a=>{const s=typeof t=="function"?t(a):t+(Ode++).toString(),o=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+s+i+"$3")}),e=e.replace(new RegExp(i,"g"),"")}function yY(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}l(mY,"replaceIDs"),l(yY,"iconToHTML"),Ei(_de());var vY={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},m_=new Map,xY=new Map,bY=l(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(re.debug("Registering icon pack:",t.name),"loader"in t)xY.set(t.name,t.loader);else{if(!("icons"in t))throw re.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.');m_.set(t.name,t.icons)}}},"registerIconPacks"),Pde=l(async(e,t)=>{const r=Lde(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);const n=r.prefix||t;if(!n)throw new Error(`Icon name must contain a prefix: ${e}`);let i=m_.get(n);if(!i){const s=xY.get(n);if(!s)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await s(),prefix:n},m_.set(n,i)}catch(o){throw re.error(o),new Error(`Failed to load icon set: ${r.prefix}`)}}const a=hY(i,r.name);if(!a)throw new Error(`Icon not found: ${e}`);return a},"getRegisteredIconData"),Wu=l(async(e,t)=>{let r;try{r=await Pde(e,t==null?void 0:t.fallbackPrefix)}catch(i){re.error(i),r=vY}const n=gY(r,t);return yY(mY(n.body),n.attributes)},"getIconSVG"),Bde=qn({"../../node_modules/.pnpm/@braintree+sanitize-url@7.1.0/node_modules/@braintree/sanitize-url/dist/constants.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BLANK_URL=e.relativeFirstCharacters=e.whitespaceEscapeCharsRegex=e.urlSchemeRegex=e.ctrlCharactersRegex=e.htmlCtrlEntityRegex=e.htmlEntitiesRegex=e.invalidProtocolRegex=void 0,e.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,e.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,e.htmlCtrlEntityRegex=/&(newline|tab);/gi,e.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,e.urlSchemeRegex=/^.+(:|&colon;)/gim,e.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,e.relativeFirstCharacters=[".","/"],e.BLANK_URL="about:blank"}}),C2=qn({"../../node_modules/.pnpm/@braintree+sanitize-url@7.1.0/node_modules/@braintree/sanitize-url/dist/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=void 0;var t=Bde();function r(o){return t.relativeFirstCharacters.indexOf(o[0])>-1}function n(o){return o.replace(t.ctrlCharactersRegex,"").replace(t.htmlEntitiesRegex,function(u,h){return String.fromCharCode(h)})}function i(o){return URL.canParse(o)}function a(o){try{return decodeURIComponent(o)}catch{return o}}function s(o){if(!o)return t.BLANK_URL;var u,h=a(o.trim());do u=(h=a(h=n(h).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim())).match(t.ctrlCharactersRegex)||h.match(t.htmlEntitiesRegex)||h.match(t.htmlCtrlEntityRegex)||h.match(t.whitespaceEscapeCharsRegex);while(u&&u.length>0);var d=h;if(!d)return t.BLANK_URL;if(r(d))return d;var p=d.trimStart(),f=p.match(t.urlSchemeRegex);if(!f)return d;var g=f[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(g))return t.BLANK_URL;var m=p.replace(/\\/g,"/");if(g==="mailto:"||g.includes("://"))return m;if(g==="http:"||g==="https:"){if(!i(m))return t.BLANK_URL;var y=new URL(m);return y.protocol=y.protocol.toLowerCase(),y.hostname=y.hostname.toLowerCase(),y.toString()}return m}l(r,"isRelativeUrlWithoutProtocol"),l(n,"decodeHtmlCharacters"),l(i,"isValidUrl"),l(a,"decodeURI"),l(s,"sanitizeUrl"),e.sanitizeUrl=s}}),wY=typeof global=="object"&&global&&global.Object===Object&&global,$de=typeof self=="object"&&self&&self.Object===Object&&self,Ds=wY||$de||Function("return this")(),rs=Ds.Symbol,kY=Object.prototype,Fde=kY.hasOwnProperty,zde=kY.toString,W0=rs?rs.toStringTag:void 0;function TY(e){var t=Fde.call(e,W0),r=e[W0];try{e[W0]=void 0;var n=!0}catch{}var i=zde.call(e);return n&&(t?e[W0]=r:delete e[W0]),i}l(TY,"getRawTag");var Ude=TY,Gde=Object.prototype.toString;function _Y(e){return Gde.call(e)}l(_Y,"objectToString");var qde=_Y,kM=rs?rs.toStringTag:void 0;function EY(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":kM&&kM in Object(e)?Ude(e):qde(e)}l(EY,"baseGetTag");var al=EY;function CY(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}l(CY,"isObject");var la=CY;function SY(e){if(!la(e))return!1;var t=al(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"}l(SY,"isFunction");var TM,ns=SY,nk=Ds["__core-js_shared__"],_M=(TM=/[^.]+$/.exec(nk&&nk.keys&&nk.keys.IE_PROTO||""))?"Symbol(src)_1."+TM:"";function AY(e){return!!_M&&_M in e}l(AY,"isMasked");var jde=AY,Yde=Function.prototype.toString;function LY(e){if(e!=null){try{return Yde.call(e)}catch{}try{return e+""}catch{}}return""}l(LY,"toSource");var uh=LY,Wde=/^\[object .+?Constructor\]$/,Hde=Function.prototype,Vde=Object.prototype,Xde=Hde.toString,Kde=Vde.hasOwnProperty,Zde=RegExp("^"+Xde.call(Kde).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function NY(e){return!(!la(e)||jde(e))&&(ns(e)?Zde:Wde).test(uh(e))}l(NY,"baseIsNative");var Qde=NY;function IY(e,t){return e==null?void 0:e[t]}l(IY,"getValue");var Jde=IY;function MY(e,t){var r=Jde(e,t);return Qde(r)?r:void 0}l(MY,"getNative");var hh=MY,Ly=hh(Object,"create");function RY(){this.__data__=Ly?Ly(null):{},this.size=0}l(RY,"hashClear");var epe=RY;function DY(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}l(DY,"hashDelete");var tpe=DY,rpe=Object.prototype.hasOwnProperty;function OY(e){var t=this.__data__;if(Ly){var r=t[e];return r==="__lodash_hash_undefined__"?void 0:r}return rpe.call(t,e)?t[e]:void 0}l(OY,"hashGet");var npe=OY,ipe=Object.prototype.hasOwnProperty;function PY(e){var t=this.__data__;return Ly?t[e]!==void 0:ipe.call(t,e)}l(PY,"hashHas");var ape=PY;function BY(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ly&&t===void 0?"__lodash_hash_undefined__":t,this}l(BY,"hashSet");var spe=BY;function Bc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l(Bc,"Hash"),Bc.prototype.clear=epe,Bc.prototype.delete=tpe,Bc.prototype.get=npe,Bc.prototype.has=ape,Bc.prototype.set=spe;var EM=Bc;function $Y(){this.__data__=[],this.size=0}l($Y,"listCacheClear");var ope=$Y;function FY(e,t){return e===t||e!=e&&t!=t}l(FY,"eq");var b0=FY;function zY(e,t){for(var r=e.length;r--;)if(b0(e[r][0],t))return r;return-1}l(zY,"assocIndexOf");var V5=zY,lpe=Array.prototype.splice;function UY(e){var t=this.__data__,r=V5(t,e);return!(r<0)&&(r==t.length-1?t.pop():lpe.call(t,r,1),--this.size,!0)}l(UY,"listCacheDelete");var cpe=UY;function GY(e){var t=this.__data__,r=V5(t,e);return r<0?void 0:t[r][1]}l(GY,"listCacheGet");var upe=GY;function qY(e){return V5(this.__data__,e)>-1}l(qY,"listCacheHas");var hpe=qY;function jY(e,t){var r=this.__data__,n=V5(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}l(jY,"listCacheSet");var dpe=jY;function $c(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l($c,"ListCache"),$c.prototype.clear=ope,$c.prototype.delete=cpe,$c.prototype.get=upe,$c.prototype.has=hpe,$c.prototype.set=dpe;var X5=$c,Ny=hh(Ds,"Map");function YY(){this.size=0,this.__data__={hash:new EM,map:new(Ny||X5),string:new EM}}l(YY,"mapCacheClear");var ppe=YY;function WY(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}l(WY,"isKeyable");var fpe=WY;function HY(e,t){var r=e.__data__;return fpe(t)?r[typeof t=="string"?"string":"hash"]:r.map}l(HY,"getMapData");var K5=HY;function VY(e){var t=K5(this,e).delete(e);return this.size-=t?1:0,t}l(VY,"mapCacheDelete");var gpe=VY;function XY(e){return K5(this,e).get(e)}l(XY,"mapCacheGet");var mpe=XY;function KY(e){return K5(this,e).has(e)}l(KY,"mapCacheHas");var ype=KY;function ZY(e,t){var r=K5(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}l(ZY,"mapCacheSet");var vpe=ZY;function Fc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l(Fc,"MapCache"),Fc.prototype.clear=ppe,Fc.prototype.delete=gpe,Fc.prototype.get=mpe,Fc.prototype.has=ype,Fc.prototype.set=vpe;var Z5=Fc;function Xb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var r=l(function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s},"memoized");return r.cache=new(Xb.Cache||Z5),r}l(Xb,"memoize"),Xb.Cache=Z5;var Q5=Xb;function QY(e){return function(){return e}}l(QY,"constant");var nd=QY;function JY(){this.__data__=new X5,this.size=0}l(JY,"stackClear");var xpe=JY;function eW(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}l(eW,"stackDelete");var bpe=eW;function tW(e){return this.__data__.get(e)}l(tW,"stackGet");var wpe=tW;function rW(e){return this.__data__.has(e)}l(rW,"stackHas");var kpe=rW;function nW(e,t){var r=this.__data__;if(r instanceof X5){var n=r.__data__;if(!Ny||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Z5(n)}return r.set(e,t),this.size=r.size,this}l(nW,"stackSet");var Tpe=nW;function zc(e){var t=this.__data__=new X5(e);this.size=t.size}l(zc,"Stack"),zc.prototype.clear=xpe,zc.prototype.delete=bpe,zc.prototype.get=wpe,zc.prototype.has=kpe,zc.prototype.set=Tpe;var gd=zc,Kb=function(){try{var e=hh(Object,"defineProperty");return e({},"",{}),e}catch{}}();function iW(e,t,r){t=="__proto__"&&Kb?Kb(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}l(iW,"baseAssignValue");var S2=iW;function aW(e,t,r){(r!==void 0&&!b0(e[t],r)||r===void 0&&!(t in e))&&S2(e,t,r)}l(aW,"assignMergeValue");var y_=aW;function sW(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),o=s.length;o--;){var u=s[e?o:++i];if(r(a[u],u,a)===!1)break}return t}}l(sW,"createBaseFor");var D8=sW(),oW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,CM=oW&&typeof module=="object"&&module&&!module.nodeType&&module,SM=CM&&CM.exports===oW?Ds.Buffer:void 0,AM=SM?SM.allocUnsafe:void 0;function lW(e,t){if(t)return e.slice();var r=e.length,n=AM?AM(r):new e.constructor(r);return e.copy(n),n}l(lW,"cloneBuffer");var cW=lW,Zb=Ds.Uint8Array;function uW(e){var t=new e.constructor(e.byteLength);return new Zb(t).set(new Zb(e)),t}l(uW,"cloneArrayBuffer");var O8=uW;function hW(e,t){var r=t?O8(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}l(hW,"cloneTypedArray");var dW=hW;function pW(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}l(pW,"copyArray");var fW=pW,LM=Object.create,_pe=function(){function e(){}return l(e,"object"),function(t){if(!la(t))return{};if(LM)return LM(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Epe=_pe;function gW(e,t){return function(r){return e(t(r))}}l(gW,"overArg");var mW=gW,P8=mW(Object.getPrototypeOf,Object),Cpe=Object.prototype;function yW(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Cpe)}l(yW,"isPrototype");var A2=yW;function vW(e){return typeof e.constructor!="function"||A2(e)?{}:Epe(P8(e))}l(vW,"initCloneObject");var xW=vW;function bW(e){return e!=null&&typeof e=="object"}l(bW,"isObjectLike");var is=bW;function wW(e){return is(e)&&al(e)=="[object Arguments]"}l(wW,"baseIsArguments");var NM=wW,kW=Object.prototype,Spe=kW.hasOwnProperty,Ape=kW.propertyIsEnumerable,Lpe=NM(function(){return arguments}())?NM:function(e){return is(e)&&Spe.call(e,"callee")&&!Ape.call(e,"callee")},Xg=Lpe,Jt=Array.isArray;function TW(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991}l(TW,"isLength");var B8=TW;function _W(e){return e!=null&&B8(e.length)&&!ns(e)}l(_W,"isArrayLike");var Os=_W;function EW(e){return is(e)&&Os(e)}l(EW,"isArrayLikeObject");var Qb=EW;function CW(){return!1}l(CW,"stubFalse");var Npe=CW,SW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,IM=SW&&typeof module=="object"&&module&&!module.nodeType&&module,MM=IM&&IM.exports===SW?Ds.Buffer:void 0,Kg=(MM?MM.isBuffer:void 0)||Npe,Ipe=Function.prototype,Mpe=Object.prototype,AW=Ipe.toString,Rpe=Mpe.hasOwnProperty,Dpe=AW.call(Object);function LW(e){if(!is(e)||al(e)!="[object Object]")return!1;var t=P8(e);if(t===null)return!0;var r=Rpe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&AW.call(r)==Dpe}l(LW,"isPlainObject");var Ope=LW,qr={};function NW(e){return is(e)&&B8(e.length)&&!!qr[al(e)]}qr["[object Float32Array]"]=qr["[object Float64Array]"]=qr["[object Int8Array]"]=qr["[object Int16Array]"]=qr["[object Int32Array]"]=qr["[object Uint8Array]"]=qr["[object Uint8ClampedArray]"]=qr["[object Uint16Array]"]=qr["[object Uint32Array]"]=!0,qr["[object Arguments]"]=qr["[object Array]"]=qr["[object ArrayBuffer]"]=qr["[object Boolean]"]=qr["[object DataView]"]=qr["[object Date]"]=qr["[object Error]"]=qr["[object Function]"]=qr["[object Map]"]=qr["[object Number]"]=qr["[object Object]"]=qr["[object RegExp]"]=qr["[object Set]"]=qr["[object String]"]=qr["[object WeakMap]"]=!1,l(NW,"baseIsTypedArray");var Ppe=NW;function IW(e){return function(t){return e(t)}}l(IW,"baseUnary");var w0=IW,MW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Gm=MW&&typeof module=="object"&&module&&!module.nodeType&&module,ik=Gm&&Gm.exports===MW&&wY.process,Zl=function(){try{var e=Gm&&Gm.require&&Gm.require("util").types;return e||ik&&ik.binding&&ik.binding("util")}catch{}}(),RM=Zl&&Zl.isTypedArray,J5=RM?w0(RM):Ppe;function RW(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]}l(RW,"safeGet");var v_=RW,Bpe=Object.prototype.hasOwnProperty;function DW(e,t,r){var n=e[t];Bpe.call(e,t)&&b0(n,r)&&(r!==void 0||t in e)||S2(e,t,r)}l(DW,"assignValue");var L2=DW;function OW(e,t,r,n){var i=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var o=t[a],u=n?n(r[o],e[o],o,r,e):void 0;u===void 0&&(u=e[o]),i?S2(r,o,u):L2(r,o,u)}return r}l(OW,"copyObject");var k0=OW;function PW(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}l(PW,"baseTimes");var $pe=PW,Fpe=/^(?:0|[1-9]\d*)$/;function BW(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&(r=="number"||r!="symbol"&&Fpe.test(e))&&e>-1&&e%1==0&&e<t}l(BW,"isIndex");var e6=BW,zpe=Object.prototype.hasOwnProperty;function $W(e,t){var r=Jt(e),n=!r&&Xg(e),i=!r&&!n&&Kg(e),a=!r&&!n&&!i&&J5(e),s=r||n||i||a,o=s?$pe(e.length,String):[],u=o.length;for(var h in e)!t&&!zpe.call(e,h)||s&&(h=="length"||i&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||e6(h,u))||o.push(h);return o}l($W,"arrayLikeKeys");var FW=$W;function zW(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}l(zW,"nativeKeysIn");var Upe=zW,Gpe=Object.prototype.hasOwnProperty;function UW(e){if(!la(e))return Upe(e);var t=A2(e),r=[];for(var n in e)(n!="constructor"||!t&&Gpe.call(e,n))&&r.push(n);return r}l(UW,"baseKeysIn");var qpe=UW;function GW(e){return Os(e)?FW(e,!0):qpe(e)}l(GW,"keysIn");var dh=GW;function qW(e){return k0(e,dh(e))}l(qW,"toPlainObject");var jpe=qW;function jW(e,t,r,n,i,a,s){var o=v_(e,r),u=v_(t,r),h=s.get(u);if(h)y_(e,r,h);else{var d=a?a(o,u,r+"",e,t,s):void 0,p=d===void 0;if(p){var f=Jt(u),g=!f&&Kg(u),m=!f&&!g&&J5(u);d=u,f||g||m?Jt(o)?d=o:Qb(o)?d=fW(o):g?(p=!1,d=cW(u,!0)):m?(p=!1,d=dW(u,!0)):d=[]:Ope(u)||Xg(u)?(d=o,Xg(o)?d=jpe(o):la(o)&&!ns(o)||(d=xW(u))):p=!1}p&&(s.set(u,d),i(d,u,n,a,s),s.delete(u)),y_(e,r,d)}}l(jW,"baseMergeDeep");var Ype=jW;function $8(e,t,r,n,i){e!==t&&D8(t,function(a,s){if(i||(i=new gd),la(a))Ype(e,t,s,r,$8,n,i);else{var o=n?n(v_(e,s),a,s+"",e,t,i):void 0;o===void 0&&(o=a),y_(e,s,o)}},dh)}l($8,"baseMerge");var Wpe=$8;function YW(e){return e}l(YW,"identity");var Uo=YW;function WW(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}l(WW,"apply");var Hpe=WW,DM=Math.max;function HW(e,t,r){return t=DM(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=DM(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(s),Hpe(e,this,o)}}l(HW,"overRest");var VW=HW,Vpe=Kb?function(e,t){return Kb(e,"toString",{configurable:!0,enumerable:!1,value:nd(t),writable:!0})}:Uo,Xpe=Vpe,Kpe=Date.now;function XW(e){var t=0,r=0;return function(){var n=Kpe(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}l(XW,"shortOut");var KW=XW(Xpe);function ZW(e,t){return KW(VW(e,t,Uo),e+"")}l(ZW,"baseRest");var N2=ZW;function QW(e,t,r){if(!la(r))return!1;var n=typeof t;return!!(n=="number"?Os(r)&&e6(t,r.length):n=="string"&&t in r)&&b0(r[t],e)}l(QW,"isIterateeCall");var Hu=QW;function JW(e){return N2(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,s&&Hu(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var o=r[n];o&&e(t,o,n,a)}return t})}l(JW,"createAssigner");var eH=JW,Zpe=eH(function(e,t,r){Wpe(e,t,r)}),Jb=Zpe,Qpe=Ei(C2()),Jpe={curveBasis:x0,curveBasisClosed:wG,curveBasisOpen:kG,curveBumpX:xG,curveBumpY:bG,curveBundle:Lhe,curveCardinalClosed:Ihe,curveCardinalOpen:Mhe,curveCardinal:Nhe,curveCatmullRomClosed:Dhe,curveCatmullRomOpen:Ohe,curveCatmullRom:Rhe,curveLinear:k8,curveLinearClosed:TG,curveMonotoneX:_G,curveMonotoneY:EG,curveNatural:CG,curveStep:SG,curveStepAfter:LG,curveStepBefore:AG},efe=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,tfe=l(function(e,t){const r=tH(e,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const s=r.map(o=>o.args);Eb(s),n=Pn(n,[...s])}else n=r.args;if(!n)return;let i=$S(e,t);const a="config";return n[a]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[a],delete n[a]),n},"detectInit"),tH=l(function(e,t=null){var r,n;try{const i=new RegExp(`[%]{2}(?![{]${efe.source})(?=[}][%]{2}).*
`,"ig");let a;e=e.trim().replace(i,"").replace(/'/gm,'"'),re.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);const s=[];for(;(a=Pm.exec(e))!==null;)if(a.index===Pm.lastIndex&&Pm.lastIndex++,a&&!t||t&&((r=a[1])==null?void 0:r.match(t))||t&&((n=a[2])==null?void 0:n.match(t))){const o=a[1]?a[1]:a[2],u=a[3]?a[3].trim():a[4]?JSON.parse(a[4].trim()):null;s.push({type:o,args:u})}return s.length===0?{type:e,args:null}:s.length===1?s[0]:s}catch(i){return re.error(`ERROR: ${i.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),rfe=l(function(e){return e.replace(Pm,"")},"removeDirectives"),nfe=l(function(e,t){for(const[r,n]of t.entries())if(n.match(e))return r;return-1},"isSubstringInArray");function F8(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return Jpe[r]??t}function rH(e,t){const r=e.trim();if(r)return t.securityLevel!=="loose"?(0,Qpe.sanitizeUrl)(r):r}l(F8,"interpolateToCurve"),l(rH,"formatUrl");var ife=l((e,...t)=>{const r=e.split("."),n=r.length-1,i=r[n];let a=window;for(let s=0;s<n;s++)if(a=a[r[s]],!a)return void re.error(`Function name: ${e} not found in window`);a[i](...t)},"runFunc");function z8(e,t){return e&&t?Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0}function nH(e){let t,r=0;return e.forEach(n=>{r+=z8(n,t),t=n}),U8(e,r/2)}function iH(e){return e.length===1?e[0]:nH(e)}l(z8,"distance"),l(nH,"traverseEdge"),l(iH,"calcLabelPosition");var OM=l((e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),U8=l((e,t)=>{let r,n=t;for(const i of e){if(r){const a=z8(i,r);if(a<n)n-=a;else{const s=n/a;if(s<=0)return r;if(s>=1)return{x:i.x,y:i.y};if(s>0&&s<1)return{x:OM((1-s)*r.x+s*i.x,5),y:OM((1-s)*r.y+s*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),afe=l((e,t,r)=>{re.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const n=U8(t,25),i=e?10:5,a=Math.atan2(t[0].y-n.y,t[0].x-n.x),s={x:0,y:0};return s.x=Math.sin(a)*i+(t[0].x+n.x)/2,s.y=-Math.cos(a)*i+(t[0].y+n.y)/2,s},"calcCardinalityPosition");function aH(e,t,r){const n=structuredClone(r);re.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();const i=U8(n,25+e),a=10+.5*e,s=Math.atan2(n[0].y-i.y,n[0].x-i.x),o={x:0,y:0};return t==="start_left"?(o.x=Math.sin(s+Math.PI)*a+(n[0].x+i.x)/2,o.y=-Math.cos(s+Math.PI)*a+(n[0].y+i.y)/2):t==="end_right"?(o.x=Math.sin(s-Math.PI)*a+(n[0].x+i.x)/2-5,o.y=-Math.cos(s-Math.PI)*a+(n[0].y+i.y)/2-5):t==="end_left"?(o.x=Math.sin(s)*a+(n[0].x+i.x)/2-5,o.y=-Math.cos(s)*a+(n[0].y+i.y)/2-5):(o.x=Math.sin(s)*a+(n[0].x+i.x)/2,o.y=-Math.cos(s)*a+(n[0].y+i.y)/2),o}function G8(e){let t="",r="";for(const n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}l(aH,"calcTerminalLabelPosition"),l(G8,"getStylesFromArray");var PM=0,sH=l(()=>(PM++,"id-"+Math.random().toString(36).substr(2,12)+"-"+PM),"generateId");function oH(e){let t="";const r="0123456789abcdef",n=r.length;for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*n));return t}l(oH,"makeRandomHex");var lH=l(e=>oH(e.length),"random"),sfe=l(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),ofe=l(function(e,t){const r=t.text.replace(He.lineBreakRegex," "),[,n]=yc(t.fontSize),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",n),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),t.class!==void 0&&i.attr("class",t.class);const a=i.append("tspan");return a.attr("x",t.x+2*t.textMargin),a.attr("fill",t.fill),a.text(r),i},"drawSimpleText"),cH=Q5((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),He.lineBreakRegex.test(e)))return e;const n=e.split(" ").filter(Boolean),i=[];let a="";return n.forEach((s,o)=>{const u=Ja(`${s} `,r),h=Ja(a,r);if(u>t){const{hyphenatedStrings:d,remainingWord:p}=lfe(s,t,"-",r);i.push(a,...d),a=p}else h+u>=t?(i.push(a),a=s):a=[a,s].filter(Boolean).join(" ");o+1===n.length&&i.push(a)}),i.filter(s=>s!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),lfe=Q5((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...e],a=[];let s="";return i.forEach((o,u)=>{const h=`${s}${o}`;if(Ja(h,n)>=t){const d=u+1,p=i.length===d,f=`${h}${r}`;a.push(p?h:f),s=""}else s=h}),{hyphenatedStrings:a,remainingWord:s}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function e4(e,t){return q8(e,t).height}function Ja(e,t){return q8(e,t).width}l(e4,"calculateTextHeight"),l(Ja,"calculateTextWidth");var Tv,q8=Q5((e,t)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=t;if(!e)return{width:0,height:0};const[,a]=yc(r),s=["sans-serif",n],o=e.split(He.lineBreakRegex),u=[],h=Qe("body");if(!h.remove)return{width:0,height:0,lineHeight:0};const d=h.append("svg");for(const p of s){let f=0;const g={width:0,height:0,lineHeight:0};for(const m of o){const y=sfe();y.text=m||"";const v=ofe(d,y).style("font-size",a).style("font-weight",i).style("font-family",p),x=(v._groups||v)[0][0].getBBox();if(x.width===0&&x.height===0)throw new Error("svg element not in render tree");g.width=Math.round(Math.max(g.width,x.width)),f=Math.round(x.height),g.height+=f,g.lineHeight=Math.round(Math.max(g.lineHeight,f))}u.push(g)}return d.remove(),u[isNaN(u[1].height)||isNaN(u[1].width)||isNaN(u[1].lineHeight)||u[0].height>u[1].height&&u[0].width>u[1].width&&u[0].lineHeight>u[1].lineHeight?0:1]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),Pd,cfe=(Pd=class{constructor(t=!1,r){this.count=0,this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}},l(Pd,"InitIDGenerator"),Pd),ufe=l(function(e){return Tv=Tv||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Tv.innerHTML=e,unescape(Tv.textContent)},"entityDecode");function j8(e){return"str"in e}l(j8,"isDetailedError");var hfe=l((e,t,r,n)=>{var a;if(!n)return;const i=(a=e.node())==null?void 0:a.getBBox();i&&e.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",t)},"insertTitle"),yc=l(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function sl(e,t){return Jb({},e,t)}l(sl,"cleanAndMerge");var Yt={assignWithDepth:Pn,wrapLabel:cH,calculateTextHeight:e4,calculateTextWidth:Ja,calculateTextDimensions:q8,cleanAndMerge:sl,detectInit:tfe,detectDirective:tH,isSubstringInArray:nfe,interpolateToCurve:F8,calcLabelPosition:iH,calcCardinalityPosition:afe,calcTerminalLabelPosition:aH,formatUrl:rH,getStylesFromArray:G8,generateId:sH,random:lH,runFunc:ife,entityDecode:ufe,insertTitle:hfe,parseFontSize:yc,InitIDGenerator:cfe},dfe=l(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?""+n+"":""+n+""}),t},"encodeEntities"),Go=l(function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),uH=l((e,t,{counter:r=0,prefix:n,suffix:i})=>`${n?`${n}_`:""}${e}_${t}_${r}${i?`_${i}`:""}`,"getEdgeId");function Ri(e){return e??null}function Y8(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(o,u){var h=u.match(/\n([\t ]+|(?!\s).)/g);return h?o.concat(h.map(function(d){var p,f;return(f=(p=d.match(/[\t ]/g))===null||p===void 0?void 0:p.length)!==null&&f!==void 0?f:0})):o},[]);if(i.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(o){return o.replace(a,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var s=n[0];return t.forEach(function(o,u){var h=s.match(/(?:^|\n)( *)$/),d=h?h[1]:"",p=o;typeof o=="string"&&o.includes(`
`)&&(p=String(o).split(`
`).map(function(f,g){return g===0?f:""+d+f}).join(`
`)),s+=p+n[u+1]}),s}function hH(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}l(Ri,"handleUndefinedAttr"),l(Y8,"dedent"),l(hH,"_getDefaults");var ph={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function x_(e){ph=e}l(x_,"changeDefaults");var dH=/[&<>"']/,pfe=new RegExp(dH.source,"g"),pH=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,ffe=new RegExp(pH.source,"g"),gfe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},BM=l(e=>gfe[e],"getEscapeReplacement");function Yi(e,t){if(t){if(dH.test(e))return e.replace(pfe,BM)}else if(pH.test(e))return e.replace(ffe,BM);return e}l(Yi,"escape$1");var mfe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function fH(e){return e.replace(mfe,(t,r)=>(r=r.toLowerCase())==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):"")}l(fH,"unescape");var yfe=/(^|[^\[])\^/g;function Cr(e,t){let r=typeof e=="string"?e:e.source;t=t||"";const n={replace:l((i,a)=>{let s=typeof a=="string"?a:a.source;return s=s.replace(yfe,"$1"),r=r.replace(i,s),n},"replace"),getRegex:l(()=>new RegExp(r,t),"getRegex")};return n}function b_(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}l(Cr,"edit"),l(b_,"cleanUrl");var qm={exec:l(()=>null,"exec")};function w_(e,t){const r=e.replace(/\|/g,(a,s,o)=>{let u=!1,h=s;for(;--h>=0&&o[h]==="\\";)u=!u;return u?"|":" |"}),n=r.split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function Gh(e,t,r){const n=e.length;if(n===0)return"";let i=0;for(;i<n;){const a=e.charAt(n-i-1);if(a!==t||r){if(a===t||!r)break;i++}else i++}return e.slice(0,n-i)}function gH(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}function k_(e,t,r,n){const i=t.href,a=t.title?Yi(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){n.state.inLink=!0;const o={type:"link",raw:r,href:i,title:a,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,o}return{type:"image",raw:r,href:i,title:a,text:Yi(s)}}function mH(e,t){const r=e.match(/^(\s+)(?:```)/);if(r===null)return t;const n=r[1];return t.split(`
`).map(i=>{const a=i.match(/^\s+/);if(a===null)return i;const[s]=a;return s.length>=n.length?i.slice(n.length):i}).join(`
`)}l(w_,"splitCells"),l(Gh,"rtrim"),l(gH,"findClosingBracket"),l(k_,"outputLink"),l(mH,"indentCodeCompensation");var Bd,t4=(Bd=class{constructor(t){sr(this,"options");sr(this,"rules");sr(this,"lexer");this.options=t||ph}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Gh(n,`
`)}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],i=mH(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const i=Gh(n,"#");this.options.pedantic?n=i.trim():i&&!/ $/.test(i)||(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:Gh(r[0],`
`)}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){let n=Gh(r[0],`
`).split(`
`),i="",a="";const s=[];for(;n.length>0;){let o=!1;const u=[];let h;for(h=0;h<n.length;h++)if(/^ {0,3}>/.test(n[h]))u.push(n[h]),o=!0;else{if(o)break;u.push(n[h])}n=n.slice(h);const d=u.join(`
`),p=d.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");i=i?`${i}
${d}`:d,a=a?`${a}
${p}`:p;const f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,s,!0),this.lexer.state.top=f,n.length===0)break;const g=s[s.length-1];if((g==null?void 0:g.type)==="code")break;if((g==null?void 0:g.type)==="blockquote"){const m=g,y=m.raw+`
`+n.join(`
`),v=this.blockquote(y);s[s.length-1]=v,i=i.substring(0,i.length-m.raw.length)+v.raw,a=a.substring(0,a.length-m.text.length)+v.text;break}if((g==null?void 0:g.type)==="list"){const m=g,y=m.raw+`
`+n.join(`
`),v=this.list(y);s[s.length-1]=v,i=i.substring(0,i.length-g.raw.length)+v.raw,a=a.substring(0,a.length-m.raw.length)+v.raw,n=y.substring(s[s.length-1].raw.length).split(`
`)}}return{type:"blockquote",raw:i,tokens:s,text:a}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const i=n.length>1,a={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let o=!1;for(;t;){let u=!1,h="",d="";if(!(r=s.exec(t))||this.rules.block.hr.test(t))break;h=r[0],t=t.substring(h.length);let p=r[2].split(`
`,1)[0].replace(/^\t+/,x=>" ".repeat(3*x.length)),f=t.split(`
`,1)[0],g=!p.trim(),m=0;if(this.options.pedantic?(m=2,d=p.trimStart()):g?m=r[1].length+1:(m=r[2].search(/[^ ]/),m=m>4?1:m,d=p.slice(m),m+=r[1].length),g&&/^ *$/.test(f)&&(h+=f+`
`,t=t.substring(f.length+1),u=!0),!u){const x=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),b=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),w=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),T=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;t;){const k=t.split(`
`,1)[0];if(f=k,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),w.test(f)||T.test(f)||x.test(f)||b.test(t))break;if(f.search(/[^ ]/)>=m||!f.trim())d+=`
`+f.slice(m);else{if(g||p.search(/[^ ]/)>=4||w.test(p)||T.test(p)||b.test(p))break;d+=`
`+f}g||f.trim()||(g=!0),h+=k+`
`,t=t.substring(k.length+1),p=f.slice(m)}}a.loose||(o?a.loose=!0:/\n *\n *$/.test(h)&&(o=!0));let y,v=null;this.options.gfm&&(v=/^\[[ xX]\] /.exec(d),v&&(y=v[0]!=="[ ] ",d=d.replace(/^\[[ xX]\] +/,""))),a.items.push({type:"list_item",raw:h,task:!!v,checked:y,loose:!1,text:d,tokens:[]}),a.raw+=h}a.items[a.items.length-1].raw=a.items[a.items.length-1].raw.trimEnd(),a.items[a.items.length-1].text=a.items[a.items.length-1].text.trimEnd(),a.raw=a.raw.trimEnd();for(let u=0;u<a.items.length;u++)if(this.lexer.state.top=!1,a.items[u].tokens=this.lexer.blockTokens(a.items[u].text,[]),!a.loose){const h=a.items[u].tokens.filter(p=>p.type==="space"),d=h.length>0&&h.some(p=>/\n.*\n/.test(p.raw));a.loose=d}if(a.loose)for(let u=0;u<a.items.length;u++)a.items[u].loose=!0;return a}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),i=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:a}}}table(t){const r=this.rules.block.table.exec(t);if(!r||!/[:|]/.test(r[2]))return;const n=w_(r[1]),i=r[2].replace(/^\||\| *$/g,"").split("|"),a=r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const o of i)/^ *-+: *$/.test(o)?s.align.push("right"):/^ *:-+: *$/.test(o)?s.align.push("center"):/^ *:-+ *$/.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<n.length;o++)s.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:s.align[o]});for(const o of a)s.rows.push(w_(o,s.header.length).map((u,h)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:s.align[h]})));return s}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:Yi(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=Gh(n.slice(0,-1),"\\");if((n.length-s.length)%2==0)return}else{const s=gH(r[2],"()");if(s>-1){const o=(r[0].indexOf("!")===0?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,o).trim(),r[3]=""}}let i=r[2],a="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);s&&(i=s[1],a=s[3])}else a=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(n)?i.slice(1):i.slice(1,-1)),k_(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const i=r[(n[2]||n[1]).replace(/\s+/g," ").toLowerCase()];if(!i){const a=n[0].charAt(0);return{type:"text",raw:a,text:a}}return k_(n,i,n[0],this.lexer)}}emStrong(t,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(i&&!(i[3]&&n.match(/[\p{L}\p{N}]/u))&&(!(i[1]||i[2])||!n||this.rules.inline.punctuation.exec(n))){const a=[...i[0]].length-1;let s,o,u=a,h=0;const d=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,r=r.slice(-1*t.length+a);(i=d.exec(r))!=null;){if(s=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!s)continue;if(o=[...s].length,i[3]||i[4]){u+=o;continue}if((i[5]||i[6])&&a%3&&!((a+o)%3)){h+=o;continue}if(u-=o,u>0)continue;o=Math.min(o,o+u+h);const p=[...i[0]][0].length,f=t.slice(0,a+i.index+p+o);if(Math.min(a,o)%2){const m=f.slice(1,-1);return{type:"em",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}const g=f.slice(2,-2);return{type:"strong",raw:f,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const i=/[^ ]/.test(n),a=/^ /.test(n)&&/ $/.test(n);return i&&a&&(n=n.substring(1,n.length-1)),n=Yi(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,i;return r[2]==="@"?(n=Yi(r[1]),i="mailto:"+n):(n=Yi(r[1]),i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let r;if(r=this.rules.inline.url.exec(t)){let i,a;if(r[2]==="@")i=Yi(r[0]),a="mailto:"+i;else{let s;do s=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(s!==r[0]);i=Yi(r[0]),a=r[1]==="www."?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return n=this.lexer.state.inRawBlock?r[0]:Yi(r[0]),{type:"text",raw:r[0],text:n}}}},l(Bd,"_Tokenizer"),Bd),I2=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,yH=/(?:[*+-]|\d{1,9}[.)])/,vH=Cr(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,yH).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),W8=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,H8=/(?!\s*\])(?:\\.|[^\[\]\\])+/,vfe=Cr(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",H8).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),xfe=Cr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,yH).getRegex(),t6="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",V8=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,bfe=Cr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",V8).replace("tag",t6).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),$M=Cr(W8).replace("hr",I2).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",t6).getRegex(),X8={blockquote:Cr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",$M).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:vfe,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:I2,html:bfe,lheading:vH,list:xfe,newline:/^(?: *(?:\n|$))+/,paragraph:$M,table:qm,text:/^[^\n]+/},FM=Cr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",I2).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",t6).getRegex(),wfe={...X8,table:FM,paragraph:Cr(W8).replace("hr",I2).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",FM).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",t6).getRegex()},kfe={...X8,html:Cr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",V8).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Cr(W8).replace("hr",I2).replace("heading",` *#{1,6} *[^
]`).replace("lheading",vH).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},xH=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,bH=/^( {2,}|\\)\n(?!\s*$)/,Tfe=Cr(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,"\\p{P}\\p{S}").getRegex(),_fe=Cr(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,"\\p{P}\\p{S}").getRegex(),Efe=Cr("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,"\\p{P}\\p{S}").getRegex(),Cfe=Cr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,"\\p{P}\\p{S}").getRegex(),Sfe=Cr(/\\([punct])/,"gu").replace(/punct/g,"\\p{P}\\p{S}").getRegex(),Afe=Cr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Lfe=Cr(V8).replace("(?:-->|$)","-->").getRegex(),Nfe=Cr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Lfe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),r4=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ife=Cr(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",r4).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),zM=Cr(/^!?\[(label)\]\[(ref)\]/).replace("label",r4).replace("ref",H8).getRegex(),UM=Cr(/^!?\[(ref)\](?:\[\])?/).replace("ref",H8).getRegex(),K8={_backpedal:qm,anyPunctuation:Sfe,autolink:Afe,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:bH,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:qm,emStrongLDelim:_fe,emStrongRDelimAst:Efe,emStrongRDelimUnd:Cfe,escape:xH,link:Ife,nolink:UM,punctuation:Tfe,reflink:zM,reflinkSearch:Cr("reflink|nolink(?!\\()","g").replace("reflink",zM).replace("nolink",UM).getRegex(),tag:Nfe,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:qm},Mfe={...K8,link:Cr(/^!?\[(label)\]\((.*?)\)/).replace("label",r4).getRegex(),reflink:Cr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",r4).getRegex()},T_={...K8,escape:Cr(xH).replace("])","~|])").getRegex(),url:Cr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Rfe={...T_,br:Cr(bH).replace("{2,}","*").getRegex(),text:Cr(T_.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},_v={normal:X8,gfm:wfe,pedantic:kfe},H0={normal:K8,gfm:T_,breaks:Rfe,pedantic:Mfe},Yl,cu=(Yl=class{constructor(t){sr(this,"tokens");sr(this,"options");sr(this,"state");sr(this,"tokenizer");sr(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||ph,this.options.tokenizer=this.options.tokenizer||new t4,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:_v.normal,inline:H0.normal};this.options.pedantic?(r.block=_v.pedantic,r.inline=H0.pedantic):this.options.gfm&&(r.block=_v.gfm,this.options.breaks?r.inline=H0.breaks:r.inline=H0.gfm),this.tokenizer.rules=r}static get rules(){return{block:_v,inline:H0}}static lex(t,r){return new Yl(r).lex(t)}static lexInline(t,r){return new Yl(r).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){let i,a,s;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(o,u,h)=>u+"    ".repeat(h.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>!!(i=o.call({lexer:this},t,r))&&(t=t.substring(i.raw.length),r.push(i),!0))))if(i=this.tokenizer.space(t))t=t.substring(i.raw.length),i.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(i);else if(i=this.tokenizer.code(t))t=t.substring(i.raw.length),a=r[r.length-1],!a||a.type!=="paragraph"&&a.type!=="text"?r.push(i):(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=a.text);else if(i=this.tokenizer.fences(t))t=t.substring(i.raw.length),r.push(i);else if(i=this.tokenizer.heading(t))t=t.substring(i.raw.length),r.push(i);else if(i=this.tokenizer.hr(t))t=t.substring(i.raw.length),r.push(i);else if(i=this.tokenizer.blockquote(t))t=t.substring(i.raw.length),r.push(i);else if(i=this.tokenizer.list(t))t=t.substring(i.raw.length),r.push(i);else if(i=this.tokenizer.html(t))t=t.substring(i.raw.length),r.push(i);else if(i=this.tokenizer.def(t))t=t.substring(i.raw.length),a=r[r.length-1],!a||a.type!=="paragraph"&&a.type!=="text"?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(a.raw+=`
`+i.raw,a.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=a.text);else if(i=this.tokenizer.table(t))t=t.substring(i.raw.length),r.push(i);else if(i=this.tokenizer.lheading(t))t=t.substring(i.raw.length),r.push(i);else{if(s=t,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const u=t.slice(1);let h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},u),typeof h=="number"&&h>=0&&(o=Math.min(o,h))}),o<1/0&&o>=0&&(s=t.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s)))a=r[r.length-1],n&&(a==null?void 0:a.type)==="paragraph"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i),n=s.length!==t.length,t=t.substring(i.raw.length);else if(i=this.tokenizer.text(t))t=t.substring(i.raw.length),a=r[r.length-1],a&&a.type==="text"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i);else if(t){const o="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(o);break}throw new Error(o)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,i,a,s,o,u,h=t;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(h))!=null;)d.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(h=h.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+h.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(h))!=null;)h=h.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+h.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(h))!=null;)h=h.slice(0,s.index)+"++"+h.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(o||(u=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>!!(n=d.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0))))if(n=this.tokenizer.escape(t))t=t.substring(n.raw.length),r.push(n);else if(n=this.tokenizer.tag(t))t=t.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);else if(n=this.tokenizer.link(t))t=t.substring(n.raw.length),r.push(n);else if(n=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);else if(n=this.tokenizer.emStrong(t,h,u))t=t.substring(n.raw.length),r.push(n);else if(n=this.tokenizer.codespan(t))t=t.substring(n.raw.length),r.push(n);else if(n=this.tokenizer.br(t))t=t.substring(n.raw.length),r.push(n);else if(n=this.tokenizer.del(t))t=t.substring(n.raw.length),r.push(n);else if(n=this.tokenizer.autolink(t))t=t.substring(n.raw.length),r.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(t))){if(a=t,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const p=t.slice(1);let f;this.options.extensions.startInline.forEach(g=>{f=g.call({lexer:this},p),typeof f=="number"&&f>=0&&(d=Math.min(d,f))}),d<1/0&&d>=0&&(a=t.substring(0,d+1))}if(n=this.tokenizer.inlineText(a))t=t.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),o=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);else if(t){const d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}else t=t.substring(n.raw.length),r.push(n);return r}},l(Yl,"_Lexer"),Yl),$d,n4=($d=class{constructor(t){sr(this,"options");sr(this,"parser");this.options=t||ph}space(t){return""}code({text:t,lang:r,escaped:n}){var s;const i=(s=(r||"").match(/^\S*/))==null?void 0:s[0],a=t.replace(/\n$/,"")+`
`;return i?'<pre><code class="language-'+Yi(i)+'">'+(n?a:Yi(a,!0))+`</code></pre>
`:"<pre><code>"+(n?a:Yi(a,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){const r=t.ordered,n=t.start;let i="";for(let s=0;s<t.items.length;s++){const o=t.items[s];i+=this.listitem(o)}const a=r?"ol":"ul";return"<"+a+(r&&n!==1?' start="'+n+'"':"")+`>
`+i+"</"+a+`>
`}listitem(t){let r="";if(t.task){const n=this.checkbox({checked:!!t.checked});t.loose?t.tokens.length>0&&t.tokens[0].type==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+t.tokens[0].tokens[0].text)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" "}):r+=n+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let a=0;a<t.header.length;a++)n+=this.tablecell(t.header[a]);r+=this.tablerow({text:n});let i="";for(let a=0;a<t.rows.length;a++){const s=t.rows[a];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${t}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){const i=this.parser.parseInline(n),a=b_(t);if(a===null)return i;let s='<a href="'+(t=a)+'"';return r&&(s+=' title="'+r+'"'),s+=">"+i+"</a>",s}image({href:t,title:r,text:n}){const i=b_(t);if(i===null)return n;let a=`<img src="${t=i}" alt="${n}"`;return r&&(a+=` title="${r}"`),a+=">",a}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):t.text}},l($d,"_Renderer"),$d),Fd,Z8=(Fd=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},l(Fd,"_TextRenderer"),Fd),Wl,uu=(Wl=class{constructor(t){sr(this,"options");sr(this,"renderer");sr(this,"textRenderer");this.options=t||ph,this.options.renderer=this.options.renderer||new n4,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Z8}static parse(t,r){return new Wl(r).parse(t)}static parseInline(t,r){return new Wl(r).parseInline(t)}parse(t,r=!0){let n="";for(let i=0;i<t.length;i++){const a=t[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=a,u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){n+=u||"";continue}}const s=a;switch(s.type){case"space":n+=this.renderer.space(s);continue;case"hr":n+=this.renderer.hr(s);continue;case"heading":n+=this.renderer.heading(s);continue;case"code":n+=this.renderer.code(s);continue;case"table":n+=this.renderer.table(s);continue;case"blockquote":n+=this.renderer.blockquote(s);continue;case"list":n+=this.renderer.list(s);continue;case"html":n+=this.renderer.html(s);continue;case"paragraph":n+=this.renderer.paragraph(s);continue;case"text":{let o=s,u=this.renderer.text(o);for(;i+1<t.length&&t[i+1].type==="text";)o=t[++i],u+=`
`+this.renderer.text(o);n+=r?this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u}]}):u;continue}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let i=0;i<t.length;i++){const a=t[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){n+=o||"";continue}}const s=a;switch(s.type){case"escape":case"text":n+=r.text(s);break;case"html":n+=r.html(s);break;case"link":n+=r.link(s);break;case"image":n+=r.image(s);break;case"strong":n+=r.strong(s);break;case"em":n+=r.em(s);break;case"codespan":n+=r.codespan(s);break;case"br":n+=r.br(s);break;case"del":n+=r.del(s);break;default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}},l(Wl,"_Parser"),Wl),gu,Ax=(gu=class{constructor(t){sr(this,"options");this.options=t||ph}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}},l(gu,"_Hooks"),sr(gu,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),gu),nl,wH,__,kH,zd,Dfe=(zd=class{constructor(...t){DI(this,nl);sr(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null});sr(this,"options",this.setOptions);sr(this,"parse",F0(this,nl,__).call(this,cu.lex,uu.parse));sr(this,"parseInline",F0(this,nl,__).call(this,cu.lexInline,uu.parseInline));sr(this,"Parser",uu);sr(this,"Renderer",n4);sr(this,"TextRenderer",Z8);sr(this,"Lexer",cu);sr(this,"Tokenizer",t4);sr(this,"Hooks",Ax);this.use(...t)}walkTokens(t,r){var i,a;let n=[];for(const s of t)switch(n=n.concat(r.call(this,s)),s.type){case"table":{const o=s;for(const u of o.header)n=n.concat(this.walkTokens(u.tokens,r));for(const u of o.rows)for(const h of u)n=n.concat(this.walkTokens(h.tokens,r));break}case"list":{const o=s;n=n.concat(this.walkTokens(o.items,r));break}default:{const o=s;(a=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&a[o.type]?this.defaults.extensions.childTokens[o.type].forEach(u=>{const h=o[u].flat(1/0);n=n.concat(this.walkTokens(h,r))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const s=r.renderers[a.name];r.renderers[a.name]=s?function(...o){let u=a.renderer.apply(this,o);return u===!1&&(u=s.apply(this,o)),u}:a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=r[a.level];s?s.unshift(a.tokenizer):r[a.level]=[a.tokenizer],a.start&&(a.level==="block"?r.startBlock?r.startBlock.push(a.start):r.startBlock=[a.start]:a.level==="inline"&&(r.startInline?r.startInline.push(a.start):r.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(r.childTokens[a.name]=a.childTokens)}),i.extensions=r),n.renderer){const a=this.defaults.renderer||new n4(this.defaults);for(const s in n.renderer){if(!(s in a))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const o=s;let u=n.renderer[o];n.useNewRenderer||(u=F0(this,nl,wH).call(this,u,o,a));const h=a[o];a[o]=(...d)=>{let p=u.apply(a,d);return p===!1&&(p=h.apply(a,d)),p||""}}i.renderer=a}if(n.tokenizer){const a=this.defaults.tokenizer||new t4(this.defaults);for(const s in n.tokenizer){if(!(s in a))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const o=s,u=n.tokenizer[o],h=a[o];a[o]=(...d)=>{let p=u.apply(a,d);return p===!1&&(p=h.apply(a,d)),p}}i.tokenizer=a}if(n.hooks){const a=this.defaults.hooks||new Ax;for(const s in n.hooks){if(!(s in a))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;const o=s,u=n.hooks[o],h=a[o];Ax.passThroughHooks.has(s)?a[o]=d=>{if(this.defaults.async)return Promise.resolve(u.call(a,d)).then(f=>h.call(a,f));const p=u.call(a,d);return h.call(a,p)}:a[o]=(...d)=>{let p=u.apply(a,d);return p===!1&&(p=h.apply(a,d)),p}}i.hooks=a}if(n.walkTokens){const a=this.defaults.walkTokens,s=n.walkTokens;i.walkTokens=function(o){let u=[];return u.push(s.call(this,o)),a&&(u=u.concat(a.call(this,o))),u}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return cu.lex(t,r??this.defaults)}parser(t,r){return uu.parse(t,r??this.defaults)}},nl=new WeakSet,wH=function(t,r,n){switch(r){case"heading":return function(i){return i.type&&i.type===r?t.call(this,n.parser.parseInline(i.tokens),i.depth,fH(n.parser.parseInline(i.tokens,n.parser.textRenderer))):t.apply(this,arguments)};case"code":return function(i){return i.type&&i.type===r?t.call(this,i.text,i.lang,!!i.escaped):t.apply(this,arguments)};case"table":return function(i){if(!i.type||i.type!==r)return t.apply(this,arguments);let a="",s="";for(let u=0;u<i.header.length;u++)s+=this.tablecell({text:i.header[u].text,tokens:i.header[u].tokens,header:!0,align:i.align[u]});a+=this.tablerow({text:s});let o="";for(let u=0;u<i.rows.length;u++){const h=i.rows[u];s="";for(let d=0;d<h.length;d++)s+=this.tablecell({text:h[d].text,tokens:h[d].tokens,header:!1,align:i.align[d]});o+=this.tablerow({text:s})}return t.call(this,a,o)};case"blockquote":return function(i){if(!i.type||i.type!==r)return t.apply(this,arguments);const a=this.parser.parse(i.tokens);return t.call(this,a)};case"list":return function(i){if(!i.type||i.type!==r)return t.apply(this,arguments);const a=i.ordered,s=i.start,o=i.loose;let u="";for(let h=0;h<i.items.length;h++){const d=i.items[h],p=d.checked,f=d.task;let g="";if(d.task){const m=this.checkbox({checked:!!p});o?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=m+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=m+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:m+" "}):g+=m+" "}g+=this.parser.parse(d.tokens,o),u+=this.listitem({type:"list_item",raw:g,text:g,task:f,checked:!!p,loose:o,tokens:d.tokens})}return t.call(this,u,a,s)};case"html":return function(i){return i.type&&i.type===r?t.call(this,i.text,i.block):t.apply(this,arguments)};case"paragraph":case"strong":case"em":case"del":return function(i){return i.type&&i.type===r?t.call(this,this.parser.parseInline(i.tokens)):t.apply(this,arguments)};case"escape":case"codespan":case"text":return function(i){return i.type&&i.type===r?t.call(this,i.text):t.apply(this,arguments)};case"link":return function(i){return i.type&&i.type===r?t.call(this,i.href,i.title,this.parser.parseInline(i.tokens)):t.apply(this,arguments)};case"image":return function(i){return i.type&&i.type===r?t.call(this,i.href,i.title,i.text):t.apply(this,arguments)}}return t},__=function(t,r){return(n,i)=>{const a={...i},s={...this.defaults,...a};this.defaults.async===!0&&a.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const o=F0(this,nl,kH).call(this,!!s.silent,!!s.async);if(n==null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(u=>t(u,s)).then(u=>s.hooks?s.hooks.processAllTokens(u):u).then(u=>s.walkTokens?Promise.all(this.walkTokens(u,s.walkTokens)).then(()=>u):u).then(u=>r(u,s)).then(u=>s.hooks?s.hooks.postprocess(u):u).catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));let u=t(n,s);s.hooks&&(u=s.hooks.processAllTokens(u)),s.walkTokens&&this.walkTokens(u,s.walkTokens);let h=r(u,s);return s.hooks&&(h=s.hooks.postprocess(h)),h}catch(u){return o(u)}}},kH=function(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const i="<p>An error occurred:</p><pre>"+Yi(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}},l(zd,"Marked"),zd),Uc=new Dfe;function mr(e,t){return Uc.parse(e,t)}function TH(e,{markdownAutoWrap:t}){const r=Y8(e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`));return t===!1?r.replace(/ /g,"&nbsp;"):r}function _H(e,t={}){const r=TH(e,t),n=mr.lexer(r),i=[[]];let a=0;function s(o,u="normal"){o.type==="text"?o.text.split(`
`).forEach((h,d)=>{d!==0&&(a++,i.push([])),h.split(" ").forEach(p=>{(p=p.replace(/&#39;/g,"'"))&&i[a].push({content:p,type:u})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(h=>{s(h,o.type)}):o.type==="html"&&i[a].push({content:o.text,type:"normal"})}return l(s,"processNode"),n.forEach(o=>{var u;o.type==="paragraph"?(u=o.tokens)==null||u.forEach(h=>{s(h)}):o.type==="html"&&i[a].push({content:o.text,type:"normal"})}),i}function EH(e,{markdownAutoWrap:t}={}){const r=mr.lexer(e);function n(i){var a,s,o;return i.type==="text"?t===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${(a=i.tokens)==null?void 0:a.map(n).join("")}</strong>`:i.type==="em"?`<em>${(s=i.tokens)==null?void 0:s.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${(o=i.tokens)==null?void 0:o.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:`Unsupported markdown: ${i.type}`}return l(n,"output"),r.map(n).join("")}function CH(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}function SH(e,t){return Q8(e,[],CH(t.content),t.type)}function Q8(e,t,r,n){if(r.length===0)return[{content:t.join(""),type:n},{content:"",type:n}];const[i,...a]=r,s=[...t,i];return e([{content:s.join(""),type:n}])?Q8(e,s,a,n):(t.length===0&&i&&(t.push(i),r.shift()),[{content:t.join(""),type:n},{content:r.join(""),type:n}])}function AH(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return i4(e,t)}function i4(e,t,r=[],n=[]){if(e.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";e[0].content===" "&&(i=" ",e.shift());const a=e.shift()??{content:" ",type:"normal"},s=[...n];if(i!==""&&s.push({content:i,type:"normal"}),s.push(a),t(s))return i4(e,t,r,s);if(n.length>0)r.push(n),e.unshift(a);else if(a.content){const[o,u]=SH(t,a);r.push([o]),u.content&&e.unshift(u)}return i4(e,t,r)}function E_(e,t){t&&e.attr("style",t)}async function LH(e,t,r,n,i=!1){const a=e.append("foreignObject");a.attr("width",10*r+"px"),a.attr("height",10*r+"px");const s=a.append("xhtml:div");let o=t.label;t.label&&Ti(t.label)&&(o=await v2(t.label.replace(He.lineBreakRegex,`
`),ye()));const u=t.isNode?"nodeLabel":"edgeLabel",h=s.append("span");h.html(o),E_(h,t.labelStyle),h.attr("class",`${u} ${n}`),E_(s,t.labelStyle),s.style("display","table-cell"),s.style("white-space","nowrap"),s.style("line-height","1.5"),s.style("max-width",r+"px"),s.style("text-align","center"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&s.attr("class","labelBkg");let d=s.node().getBoundingClientRect();return d.width===r&&(s.style("display","table"),s.style("white-space","break-spaces"),s.style("width",r+"px"),d=s.node().getBoundingClientRect()),a.node()}function r6(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}function NH(e,t,r){const n=e.append("text"),i=r6(n,1,t);n6(i,r);const a=i.node().getComputedTextLength();return n.remove(),a}function IH(e,t,r){var s;const n=e.append("text"),i=r6(n,1,t);n6(i,[{content:r,type:"normal"}]);const a=(s=i.node())==null?void 0:s.getBoundingClientRect();return a&&n.remove(),a}function MH(e,t,r,n=!1){const i=t.append("g"),a=i.insert("rect").attr("class","background").attr("style","stroke: none"),s=i.append("text").attr("y","-10.1");let o=0;for(const u of r){const h=l(p=>NH(i,1.1,p)<=e,"checkWidth"),d=h(u)?[u]:AH(u,h);for(const p of d)n6(r6(s,o,1.1),p),o++}if(n){const u=s.node().getBBox(),h=2;return a.attr("x",u.x-h).attr("y",u.y-h).attr("width",u.width+2*h).attr("height",u.height+2*h),i.node()}return s.node()}function n6(e,t){e.text(""),t.forEach((r,n)=>{const i=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}function J8(e){return e.replace(/fa[bklrs]?:fa-[\w-]+/g,t=>`<i class='${t.replace(":"," ")}'></i>`)}l(mr,"marked"),mr.options=mr.setOptions=function(e){return Uc.setOptions(e),mr.defaults=Uc.defaults,x_(mr.defaults),mr},mr.getDefaults=hH,mr.defaults=ph,mr.use=function(...e){return Uc.use(...e),mr.defaults=Uc.defaults,x_(mr.defaults),mr},mr.walkTokens=function(e,t){return Uc.walkTokens(e,t)},mr.parseInline=Uc.parseInline,mr.Parser=uu,mr.parser=uu.parse,mr.Renderer=n4,mr.TextRenderer=Z8,mr.Lexer=cu,mr.lexer=cu.lex,mr.Tokenizer=t4,mr.Hooks=Ax,mr.parse=mr,mr.options,mr.setOptions,mr.use,mr.walkTokens,mr.parseInline,uu.parse,cu.lex,l(TH,"preprocessMarkdown"),l(_H,"markdownToLines"),l(EH,"markdownToHTML"),l(CH,"splitTextToChars"),l(SH,"splitWordToFitWidth"),l(Q8,"splitWordToFitWidthRecursion"),l(AH,"splitLineToFitWidth"),l(i4,"splitLineToFitWidthRecursion"),l(E_,"applyStyle"),l(LH,"addHtmlSpan"),l(r6,"createTspan"),l(NH,"computeWidthOfText"),l(IH,"computeDimensionOfText"),l(MH,"createFormattedText"),l(n6,"updateTextContentAndStyles"),l(J8,"replaceIconSubstring");var ls=l(async(e,t="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:a=!0,isNode:s=!0,width:o=200,addSvgBackground:u=!1}={},h)=>{if(re.debug("XYZ createText",t,r,n,i,a,s,"addSvgBackground: ",u),a){const d=EH(t,h),p=J8(Go(d)),f=t.replace(/\\\\/g,"\\"),g={isNode:s,label:Ti(t)?f:p,labelStyle:r.replace("fill:","color:")};return await LH(e,g,o,i,u)}{const d=MH(o,e,_H(t.replace(/<br\s*\/?>/g,"<br/>").replace("<br>","<br/>"),h),!!t&&u);if(s){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Qe(d).attr("style",p)}else{const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Qe(d).select("rect").attr("style",p.replace(/background:/g,"fill:"));const f=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Qe(d).select("text").attr("style",f)}return d}},"createText"),Gt=l(async(e,t,r)=>{var p,f;let n;const i=t.useHtmlLabels||Mr((p=ye())==null?void 0:p.htmlLabels);n=r||"node default";const a=e.insert("g").attr("class",n).attr("id",t.domId||t.id),s=a.insert("g").attr("class","label").attr("style",Ri(t.labelStyle));let o;o=t.label===void 0?"":typeof t.label=="string"?t.label:t.label[0];const u=await ls(s,Ir(Go(o),ye()),{useHtmlLabels:i,width:t.width||((f=ye().flowchart)==null?void 0:f.wrappingWidth),cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let h=u.getBBox();const d=((t==null?void 0:t.padding)??0)/2;if(i){const g=u.children[0],m=Qe(u),y=g.getElementsByTagName("img");if(y){const v=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...y].map(x=>new Promise(b=>{function w(){if(x.style.display="flex",x.style.flexDirection="column",v){const T=ye().fontSize?ye().fontSize:window.getComputedStyle(document.body).fontSize,k=5,[R=lr.fontSize]=yc(T),C=R*k+"px";x.style.minWidth=C,x.style.maxWidth=C}else x.style.width="100%";b(x)}l(w,"setupImage"),setTimeout(()=>{x.complete&&w()}),x.addEventListener("error",w),x.addEventListener("load",w)})))}h=g.getBoundingClientRect(),m.attr("width",h.width),m.attr("height",h.height)}return i?s.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"):s.attr("transform","translate(0, "+-h.height/2+")"),t.centerLabel&&s.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:a,bbox:h,halfPadding:d,label:s}},"labelHelper"),ak=l(async(e,t,r)=>{var u,h,d,p,f,g;const n=r.useHtmlLabels||Mr((h=(u=ye())==null?void 0:u.flowchart)==null?void 0:h.htmlLabels),i=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),a=await ls(i,Ir(Go(t),ye()),{useHtmlLabels:n,width:r.width||((p=(d=ye())==null?void 0:d.flowchart)==null?void 0:p.wrappingWidth),style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let s=a.getBBox();const o=r.padding/2;if(Mr((g=(f=ye())==null?void 0:f.flowchart)==null?void 0:g.htmlLabels)){const m=a.children[0],y=Qe(a);s=m.getBoundingClientRect(),y.attr("width",s.width),y.attr("height",s.height)}return n?i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"):i.attr("transform","translate(0, "+-s.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:e,bbox:s,halfPadding:o,label:i}},"insertLabel"),At=l((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),qt=l((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function ar(e){const t=e.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}function Ql(e,t,r,n,i,a){const s=[],o=r-e,u=n-t,h=o/a,d=2*Math.PI/h,p=t+u/2;for(let f=0;f<=50;f++){const g=e+f/50*o,m=p+i*Math.sin(d*(g-e));s.push({x:g,y:m})}return s}function eA(e,t,r,n,i,a){const s=[],o=i*Math.PI/180,u=(a*Math.PI/180-o)/(n-1);for(let h=0;h<n;h++){const d=o+h*u,p=e+r*Math.cos(d),f=t+r*Math.sin(d);s.push({x:-p,y:-f})}return s}function Lx(e,t,r){if(e&&e.length){const[n,i]=t,a=Math.PI/180*r,s=Math.cos(a),o=Math.sin(a);for(const u of e){const[h,d]=u;u[0]=(h-n)*s-(d-i)*o+n,u[1]=(h-n)*o+(d-i)*s+i}}}function RH(e,t){return e[0]===t[0]&&e[1]===t[1]}function DH(e,t,r,n=1){const i=r,a=Math.max(t,.1),s=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,o=[0,0];if(i)for(const h of s)Lx(h,o,i);const u=function(h,d,p){const f=[];for(const b of h){const w=[...b];RH(w[0],w[w.length-1])||w.push([w[0][0],w[0][1]]),w.length>2&&f.push(w)}const g=[];d=Math.max(d,.1);const m=[];for(const b of f)for(let w=0;w<b.length-1;w++){const T=b[w],k=b[w+1];if(T[1]!==k[1]){const R=Math.min(T[1],k[1]);m.push({ymin:R,ymax:Math.max(T[1],k[1]),x:R===T[1]?T[0]:k[0],islope:(k[0]-T[0])/(k[1]-T[1])})}}if(m.sort((b,w)=>b.ymin<w.ymin?-1:b.ymin>w.ymin?1:b.x<w.x?-1:b.x>w.x?1:b.ymax===w.ymax?0:(b.ymax-w.ymax)/Math.abs(b.ymax-w.ymax)),!m.length)return g;let y=[],v=m[0].ymin,x=0;for(;y.length||m.length;){if(m.length){let b=-1;for(let w=0;w<m.length&&!(m[w].ymin>v);w++)b=w;m.splice(0,b+1).forEach(w=>{y.push({s:v,edge:w})})}if(y=y.filter(b=>!(b.edge.ymax<=v)),y.sort((b,w)=>b.edge.x===w.edge.x?0:(b.edge.x-w.edge.x)/Math.abs(b.edge.x-w.edge.x)),(p!==1||x%d==0)&&y.length>1)for(let b=0;b<y.length;b+=2){const w=b+1;if(w>=y.length)break;const T=y[b].edge,k=y[w].edge;g.push([[Math.round(T.x),v],[Math.round(k.x),v]])}v+=p,y.forEach(b=>{b.edge.x=b.edge.x+p*b.edge.islope}),x++}return g}(s,a,n);if(i){for(const h of s)Lx(h,o,-i);(function(h,d,p){const f=[];h.forEach(g=>f.push(...g)),Lx(f,d,p)})(u,o,-i)}return u}function T0(e,t){var r;const n=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));let a=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(a=i),DH(e,i,n,a||1)}l(ar,"createPathFromPoints"),l(Ql,"generateFullSineWavePoints"),l(eA,"generateCirclePoints"),l(Lx,"t"),l(RH,"e"),l(DH,"s"),l(T0,"n");var Ud,tA=(Ud=class{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){const n=T0(t,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(t,r){const n=[];for(const i of t)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}},l(Ud,"o"),Ud);function M2(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}l(M2,"a");var Gd,Ofe=(Gd=class extends tA{fillPolygons(t,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=T0(t,Object.assign({},r,{hachureGap:n})),a=Math.PI/180*r.hachureAngle,s=[],o=.5*n*Math.cos(a),u=.5*n*Math.sin(a);for(const[h,d]of i)M2([h,d])&&s.push([[h[0]-o,h[1]+u],[...d]],[[h[0]+o,h[1]-u],[...d]]);return{type:"fillSketch",ops:this.renderLines(s,r)}}},l(Gd,"h"),Gd),qd,Pfe=(qd=class extends tA{fillPolygons(t,r){const n=this._fillPolygons(t,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),a=this._fillPolygons(t,i);return n.ops=n.ops.concat(a.ops),n}},l(qd,"r"),qd),jd,Bfe=(jd=class{constructor(t){this.helper=t}fillPolygons(t,r){const n=T0(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(t,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let a=r.fillWeight;a<0&&(a=r.strokeWidth/2);const s=i/4;for(const o of t){const u=M2(o),h=u/i,d=Math.ceil(h)-1,p=u-d*i,f=(o[0][0]+o[1][0])/2-i/4,g=Math.min(o[0][1],o[1][1]);for(let m=0;m<d;m++){const y=g+p+m*i,v=f-s+2*Math.random()*s,x=y-s+2*Math.random()*s,b=this.helper.ellipse(v,x,a,a,r);n.push(...b.ops)}}return{type:"fillSketch",ops:n}}},l(jd,"i"),jd),Yd,$fe=(Yd=class{constructor(t){this.helper=t}fillPolygons(t,r){const n=T0(t,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(t,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,a=[];return t.forEach(s=>{const o=M2(s),u=Math.floor(o/(n+i)),h=(o+i-u*(n+i))/2;let d=s[0],p=s[1];d[0]>p[0]&&(d=s[1],p=s[0]);const f=Math.atan((p[1]-d[1])/(p[0]-d[0]));for(let g=0;g<u;g++){const m=g*(n+i),y=m+n,v=[d[0]+m*Math.cos(f)+h*Math.cos(f),d[1]+m*Math.sin(f)+h*Math.sin(f)],x=[d[0]+y*Math.cos(f)+h*Math.cos(f),d[1]+y*Math.sin(f)+h*Math.sin(f)];a.push(...this.helper.doubleLineOps(v[0],v[1],x[0],x[1],r))}}),a}},l(Yd,"c"),Yd),Wd,Ffe=(Wd=class{constructor(t){this.helper=t}fillPolygons(t,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,a=T0(t,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(a,i,r)}}zigzagLines(t,r,n){const i=[];return t.forEach(a=>{const s=M2(a),o=Math.round(s/(2*r));let u=a[0],h=a[1];u[0]>h[0]&&(u=a[1],h=a[0]);const d=Math.atan((h[1]-u[1])/(h[0]-u[0]));for(let p=0;p<o;p++){const f=2*p*r,g=2*(p+1)*r,m=Math.sqrt(2*Math.pow(r,2)),y=[u[0]+f*Math.cos(d),u[1]+f*Math.sin(d)],v=[u[0]+g*Math.cos(d),u[1]+g*Math.sin(d)],x=[y[0]+m*Math.cos(d+Math.PI/4),y[1]+m*Math.sin(d+Math.PI/4)];i.push(...this.helper.doubleLineOps(y[0],y[1],x[0],x[1],n),...this.helper.doubleLineOps(x[0],x[1],v[0],v[1],n))}}),i}},l(Wd,"l"),Wd),Gi={},Hd,zfe=(Hd=class{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}},l(Hd,"p"),Hd),Ev={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Nx(e,t){return e.type===t}function i6(e){const t=[],r=function(s){const o=new Array;for(;s!=="";)if(s.match(/^([ \t\r\n,]+)/))s=s.substr(RegExp.$1.length);else if(s.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:0,text:RegExp.$1},s=s.substr(RegExp.$1.length);else{if(!s.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:1,text:`${parseFloat(RegExp.$1)}`},s=s.substr(RegExp.$1.length)}return o[o.length]={type:2,text:""},o}(e);let n="BOD",i=0,a=r[i];for(;!Nx(a,2);){let s=0;const o=[];if(n==="BOD"){if(a.text!=="M"&&a.text!=="m")return i6("M0,0"+e);i++,s=Ev[a.text],n=a.text}else Nx(a,1)?s=Ev[n]:(i++,s=Ev[a.text],n=a.text);if(!(i+s<r.length))throw new Error("Path data ended short");for(let u=i;u<i+s;u++){const h=r[u];if(!Nx(h,1))throw new Error("Param not a number: "+n+","+h.text);o[o.length]=+h.text}if(typeof Ev[n]!="number")throw new Error("Bad segment: "+n);{const u={key:n,data:o};t.push(u),i+=s,a=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function rA(e){let t=0,r=0,n=0,i=0;const a=[];for(const{key:s,data:o}of e)switch(s){case"M":a.push({key:"M",data:[...o]}),[t,r]=o,[n,i]=o;break;case"m":t+=o[0],r+=o[1],a.push({key:"M",data:[t,r]}),n=t,i=r;break;case"L":a.push({key:"L",data:[...o]}),[t,r]=o;break;case"l":t+=o[0],r+=o[1],a.push({key:"L",data:[t,r]});break;case"C":a.push({key:"C",data:[...o]}),t=o[4],r=o[5];break;case"c":{const u=o.map((h,d)=>d%2?h+r:h+t);a.push({key:"C",data:u}),t=u[4],r=u[5];break}case"Q":a.push({key:"Q",data:[...o]}),t=o[2],r=o[3];break;case"q":{const u=o.map((h,d)=>d%2?h+r:h+t);a.push({key:"Q",data:u}),t=u[2],r=u[3];break}case"A":a.push({key:"A",data:[...o]}),t=o[5],r=o[6];break;case"a":t+=o[5],r+=o[6],a.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],t,r]});break;case"H":a.push({key:"H",data:[...o]}),t=o[0];break;case"h":t+=o[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],a.push({key:"V",data:[r]});break;case"S":a.push({key:"S",data:[...o]}),t=o[2],r=o[3];break;case"s":{const u=o.map((h,d)=>d%2?h+r:h+t);a.push({key:"S",data:u}),t=u[2],r=u[3];break}case"T":a.push({key:"T",data:[...o]}),t=o[0],r=o[1];break;case"t":t+=o[0],r+=o[1],a.push({key:"T",data:[t,r]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=n,r=i}return a}function nA(e){const t=[];let r="",n=0,i=0,a=0,s=0,o=0,u=0;for(const{key:h,data:d}of e){switch(h){case"M":t.push({key:"M",data:[...d]}),[n,i]=d,[a,s]=d;break;case"C":t.push({key:"C",data:[...d]}),n=d[4],i=d[5],o=d[2],u=d[3];break;case"L":t.push({key:"L",data:[...d]}),[n,i]=d;break;case"H":n=d[0],t.push({key:"L",data:[n,i]});break;case"V":i=d[0],t.push({key:"L",data:[n,i]});break;case"S":{let p=0,f=0;r==="C"||r==="S"?(p=n+(n-o),f=i+(i-u)):(p=n,f=i),t.push({key:"C",data:[p,f,...d]}),o=d[0],u=d[1],n=d[2],i=d[3];break}case"T":{const[p,f]=d;let g=0,m=0;r==="Q"||r==="T"?(g=n+(n-o),m=i+(i-u)):(g=n,m=i);const y=n+2*(g-n)/3,v=i+2*(m-i)/3,x=p+2*(g-p)/3,b=f+2*(m-f)/3;t.push({key:"C",data:[y,v,x,b,p,f]}),o=g,u=m,n=p,i=f;break}case"Q":{const[p,f,g,m]=d,y=n+2*(p-n)/3,v=i+2*(f-i)/3,x=g+2*(p-g)/3,b=m+2*(f-m)/3;t.push({key:"C",data:[y,v,x,b,g,m]}),o=p,u=f,n=g,i=m;break}case"A":{const p=Math.abs(d[0]),f=Math.abs(d[1]),g=d[2],m=d[3],y=d[4],v=d[5],x=d[6];p===0||f===0?(t.push({key:"C",data:[n,i,v,x,v,x]}),n=v,i=x):n===v&&i===x||(iA(n,i,v,x,p,f,g,m,y).forEach(function(b){t.push({key:"C",data:b})}),n=v,i=x);break}case"Z":t.push({key:"Z",data:[]}),n=a,i=s}r=h}return t}function qh(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function iA(e,t,r,n,i,a,s,o,u,h){const d=(p=s,Math.PI*p/180);var p;let f=[],g=0,m=0,y=0,v=0;if(h)[g,m,y,v]=h;else{[e,t]=qh(e,t,-d),[r,n]=qh(r,n,-d);const S=(e-r)/2,N=(t-n)/2;let A=S*S/(i*i)+N*N/(a*a);A>1&&(A=Math.sqrt(A),i*=A,a*=A);const M=i*i,O=a*a,I=M*O-M*N*N-O*S*S,P=M*N*N+O*S*S,$=(o===u?-1:1)*Math.sqrt(Math.abs(I/P));y=$*i*N/a+(e+r)/2,v=$*-a*S/i+(t+n)/2,g=Math.asin(parseFloat(((t-v)/a).toFixed(9))),m=Math.asin(parseFloat(((n-v)/a).toFixed(9))),e<y&&(g=Math.PI-g),r<y&&(m=Math.PI-m),g<0&&(g=2*Math.PI+g),m<0&&(m=2*Math.PI+m),u&&g>m&&(g-=2*Math.PI),!u&&m>g&&(m-=2*Math.PI)}let x=m-g;if(Math.abs(x)>120*Math.PI/180){const S=m,N=r,A=n;m=u&&m>g?g+120*Math.PI/180*1:g+120*Math.PI/180*-1,f=iA(r=y+i*Math.cos(m),n=v+a*Math.sin(m),N,A,i,a,s,0,u,[m,S,y,v])}x=m-g;const b=Math.cos(g),w=Math.sin(g),T=Math.cos(m),k=Math.sin(m),R=Math.tan(x/4),C=4/3*i*R,E=4/3*a*R,_=[e,t],L=[e+C*w,t-E*b],D=[r+C*k,n-E*T],B=[r,n];if(L[0]=2*_[0]-L[0],L[1]=2*_[1]-L[1],h)return[L,D,B].concat(f);{f=[L,D,B].concat(f);const S=[];for(let N=0;N<f.length;N+=3){const A=qh(f[N][0],f[N][1],d),M=qh(f[N+1][0],f[N+1][1],d),O=qh(f[N+2][0],f[N+2][1],d);S.push([A[0],A[1],M[0],M[1],O[0],O[1]])}return S}}l(Nx,"k"),l(i6,"b"),l(rA,"y"),l(nA,"m"),l(qh,"w"),l(iA,"x");var Ufe={randOffset:l(function(e,t){return Pt(e,t)},"randOffset"),randOffsetWithRange:l(function(e,t,r){return Iy(e,t,r)},"randOffsetWithRange"),ellipse:l(function(e,t,r,n,i){return a4(e,t,i,sA(r,n,i)).opset},"ellipse"),doubleLineOps:l(function(e,t,r,n,i){return qo(e,t,r,n,i,!0)},"doubleLineOps")};function aA(e,t,r,n,i){return{type:"path",ops:qo(e,t,r,n,i)}}function jm(e,t,r){const n=(e||[]).length;if(n>2){const i=[];for(let a=0;a<n-1;a++)i.push(...qo(e[a][0],e[a][1],e[a+1][0],e[a+1][1],r));return t&&i.push(...qo(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:i}}return n===2?aA(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function OH(e,t,r,n,i){return function(a,s){return jm(a,!0,s)}([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],i)}function C_(e,t){if(e.length){const r=typeof e[0][0]=="number"?[e]:e,n=hm(r[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:hm(r[0],1.5*(1+.22*t.roughness),L_(t));for(let a=1;a<r.length;a++){const s=r[a];if(s.length){const o=hm(s,1*(1+.2*t.roughness),t),u=t.disableMultiStroke?[]:hm(s,1.5*(1+.22*t.roughness),L_(t));for(const h of o)h.op!=="move"&&n.push(h);for(const h of u)h.op!=="move"&&i.push(h)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function sA(e,t,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),a=2*Math.PI/i;let s=Math.abs(e/2),o=Math.abs(t/2);const u=1-r.curveFitting;return s+=Pt(s*u,r),o+=Pt(o*u,r),{increment:a,rx:s,ry:o}}function a4(e,t,r,n){const[i,a]=N_(n.increment,e,t,n.rx,n.ry,1,n.increment*Iy(.1,Iy(.4,1,r),r),r);let s=My(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[o]=N_(n.increment,e,t,n.rx,n.ry,1.5,0,r),u=My(o,null,r);s=s.concat(u)}return{estimatedPoints:a,opset:{type:"path",ops:s}}}function S_(e,t,r,n,i,a,s,o,u){const h=e,d=t;let p=Math.abs(r/2),f=Math.abs(n/2);p+=Pt(.01*p,u),f+=Pt(.01*f,u);let g=i,m=a;for(;g<0;)g+=2*Math.PI,m+=2*Math.PI;m-g>2*Math.PI&&(g=0,m=2*Math.PI);const y=2*Math.PI/u.curveStepCount,v=Math.min(y/2,(m-g)/2),x=I_(v,h,d,p,f,g,m,1,u);if(!u.disableMultiStroke){const b=I_(v,h,d,p,f,g,m,1.5,u);x.push(...b)}return s&&(o?x.push(...qo(h,d,h+p*Math.cos(g),d+f*Math.sin(g),u),...qo(h,d,h+p*Math.cos(m),d+f*Math.sin(m),u)):x.push({op:"lineTo",data:[h,d]},{op:"lineTo",data:[h+p*Math.cos(g),d+f*Math.sin(g)]})),{type:"path",ops:x}}function A_(e,t){const r=nA(rA(i6(e))),n=[];let i=[0,0],a=[0,0];for(const{key:s,data:o}of r)switch(s){case"M":a=[o[0],o[1]],i=[o[0],o[1]];break;case"L":n.push(...qo(a[0],a[1],o[0],o[1],t)),a=[o[0],o[1]];break;case"C":{const[u,h,d,p,f,g]=o;n.push(...PH(u,h,d,p,f,g,a,t)),a=[f,g];break}case"Z":n.push(...qo(a[0],a[1],i[0],i[1],t)),a=[i[0],i[1]]}return{type:"path",ops:n}}function Ix(e,t){const r=[];for(const n of e)if(n.length){const i=t.maxRandomnessOffset||0,a=n.length;if(a>2){r.push({op:"move",data:[n[0][0]+Pt(i,t),n[0][1]+Pt(i,t)]});for(let s=1;s<a;s++)r.push({op:"lineTo",data:[n[s][0]+Pt(i,t),n[s][1]+Pt(i,t)]})}}return{type:"fillPath",ops:r}}function Gc(e,t){return function(r,n){let i=r.fillStyle||"hachure";if(!Gi[i])switch(i){case"zigzag":Gi[i]||(Gi[i]=new Ofe(n));break;case"cross-hatch":Gi[i]||(Gi[i]=new Pfe(n));break;case"dots":Gi[i]||(Gi[i]=new Bfe(n));break;case"dashed":Gi[i]||(Gi[i]=new $fe(n));break;case"zigzag-line":Gi[i]||(Gi[i]=new Ffe(n));break;default:i="hachure",Gi[i]||(Gi[i]=new tA(n))}return Gi[i]}(t,Ufe).fillPolygons(e,t)}function L_(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function oA(e){return e.randomizer||(e.randomizer=new zfe(e.seed||0)),e.randomizer.next()}function Iy(e,t,r,n=1){return r.roughness*n*(oA(r)*(t-e)+e)}function Pt(e,t,r=1){return Iy(-e,e,t,r)}function qo(e,t,r,n,i,a=!1){const s=a?i.disableMultiStrokeFill:i.disableMultiStroke,o=s4(e,t,r,n,i,!0,!1);if(s)return o;const u=s4(e,t,r,n,i,!0,!0);return o.concat(u)}function s4(e,t,r,n,i,a,s){const o=Math.pow(e-r,2)+Math.pow(t-n,2),u=Math.sqrt(o);let h=1;h=u<200?1:u>500?.4:-.0016668*u+1.233334;let d=i.maxRandomnessOffset||0;d*d*100>o&&(d=u/10);const p=d/2,f=.2+.2*oA(i);let g=i.bowing*i.maxRandomnessOffset*(n-t)/200,m=i.bowing*i.maxRandomnessOffset*(e-r)/200;g=Pt(g,i,h),m=Pt(m,i,h);const y=[],v=l(()=>Pt(p,i,h),"M"),x=l(()=>Pt(d,i,h),"k"),b=i.preserveVertices;return a&&(s?y.push({op:"move",data:[e+(b?0:v()),t+(b?0:v())]}):y.push({op:"move",data:[e+(b?0:Pt(d,i,h)),t+(b?0:Pt(d,i,h))]})),s?y.push({op:"bcurveTo",data:[g+e+(r-e)*f+v(),m+t+(n-t)*f+v(),g+e+2*(r-e)*f+v(),m+t+2*(n-t)*f+v(),r+(b?0:v()),n+(b?0:v())]}):y.push({op:"bcurveTo",data:[g+e+(r-e)*f+x(),m+t+(n-t)*f+x(),g+e+2*(r-e)*f+x(),m+t+2*(n-t)*f+x(),r+(b?0:x()),n+(b?0:x())]}),y}function hm(e,t,r){if(!e.length)return[];const n=[];n.push([e[0][0]+Pt(t,r),e[0][1]+Pt(t,r)]),n.push([e[0][0]+Pt(t,r),e[0][1]+Pt(t,r)]);for(let i=1;i<e.length;i++)n.push([e[i][0]+Pt(t,r),e[i][1]+Pt(t,r)]),i===e.length-1&&n.push([e[i][0]+Pt(t,r),e[i][1]+Pt(t,r)]);return My(n,null,r)}function My(e,t,r){const n=e.length,i=[];if(n>3){const a=[],s=1-r.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let o=1;o+2<n;o++){const u=e[o];a[0]=[u[0],u[1]],a[1]=[u[0]+(s*e[o+1][0]-s*e[o-1][0])/6,u[1]+(s*e[o+1][1]-s*e[o-1][1])/6],a[2]=[e[o+1][0]+(s*e[o][0]-s*e[o+2][0])/6,e[o+1][1]+(s*e[o][1]-s*e[o+2][1])/6],a[3]=[e[o+1][0],e[o+1][1]],i.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(t&&t.length===2){const o=r.maxRandomnessOffset;i.push({op:"lineTo",data:[t[0]+Pt(o,r),t[1]+Pt(o,r)]})}}else n===3?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&i.push(...s4(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return i}function N_(e,t,r,n,i,a,s,o){const u=[],h=[];if(o.roughness===0){e/=4,h.push([t+n*Math.cos(-e),r+i*Math.sin(-e)]);for(let d=0;d<=2*Math.PI;d+=e){const p=[t+n*Math.cos(d),r+i*Math.sin(d)];u.push(p),h.push(p)}h.push([t+n*Math.cos(0),r+i*Math.sin(0)]),h.push([t+n*Math.cos(e),r+i*Math.sin(e)])}else{const d=Pt(.5,o)-Math.PI/2;h.push([Pt(a,o)+t+.9*n*Math.cos(d-e),Pt(a,o)+r+.9*i*Math.sin(d-e)]);const p=2*Math.PI+d-.01;for(let f=d;f<p;f+=e){const g=[Pt(a,o)+t+n*Math.cos(f),Pt(a,o)+r+i*Math.sin(f)];u.push(g),h.push(g)}h.push([Pt(a,o)+t+n*Math.cos(d+2*Math.PI+.5*s),Pt(a,o)+r+i*Math.sin(d+2*Math.PI+.5*s)]),h.push([Pt(a,o)+t+.98*n*Math.cos(d+s),Pt(a,o)+r+.98*i*Math.sin(d+s)]),h.push([Pt(a,o)+t+.9*n*Math.cos(d+.5*s),Pt(a,o)+r+.9*i*Math.sin(d+.5*s)])}return[h,u]}function I_(e,t,r,n,i,a,s,o,u){const h=a+Pt(.1,u),d=[];d.push([Pt(o,u)+t+.9*n*Math.cos(h-e),Pt(o,u)+r+.9*i*Math.sin(h-e)]);for(let p=h;p<=s;p+=e)d.push([Pt(o,u)+t+n*Math.cos(p),Pt(o,u)+r+i*Math.sin(p)]);return d.push([t+n*Math.cos(s),r+i*Math.sin(s)]),d.push([t+n*Math.cos(s),r+i*Math.sin(s)]),My(d,null,u)}function PH(e,t,r,n,i,a,s,o){const u=[],h=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let d=[0,0];const p=o.disableMultiStroke?1:2,f=o.preserveVertices;for(let g=0;g<p;g++)g===0?u.push({op:"move",data:[s[0],s[1]]}):u.push({op:"move",data:[s[0]+(f?0:Pt(h[0],o)),s[1]+(f?0:Pt(h[0],o))]}),d=f?[i,a]:[i+Pt(h[g],o),a+Pt(h[g],o)],u.push({op:"bcurveTo",data:[e+Pt(h[g],o),t+Pt(h[g],o),r+Pt(h[g],o),n+Pt(h[g],o),d[0],d[1]]});return u}function jh(e){return[...e]}function M_(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(jh(e[0]),jh(e[1]),jh(e[2]),jh(e[2]));else{const i=[];i.push(e[0],e[0]);for(let o=1;o<e.length;o++)i.push(e[o]),o===e.length-1&&i.push(e[o]);const a=[],s=1-t;n.push(jh(i[0]));for(let o=1;o+2<i.length;o++){const u=i[o];a[0]=[u[0],u[1]],a[1]=[u[0]+(s*i[o+1][0]-s*i[o-1][0])/6,u[1]+(s*i[o+1][1]-s*i[o-1][1])/6],a[2]=[i[o+1][0]+(s*i[o][0]-s*i[o+2][0])/6,i[o+1][1]+(s*i[o][1]-s*i[o+2][1])/6],a[3]=[i[o+1][0],i[o+1][1]],n.push(a[1],a[2],a[3])}}return n}function Ym(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function BH(e,t,r){const n=Ym(t,r);if(n===0)return Ym(e,t);let i=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return i=Math.max(0,Math.min(1,i)),Ym(e,Sl(t,r,i))}function Sl(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function o4(e,t,r,n){const i=n||[];if(function(o,u){const h=o[u+0],d=o[u+1],p=o[u+2],f=o[u+3];let g=3*d[0]-2*h[0]-f[0];g*=g;let m=3*d[1]-2*h[1]-f[1];m*=m;let y=3*p[0]-2*f[0]-h[0];y*=y;let v=3*p[1]-2*f[1]-h[1];return v*=v,g<y&&(g=y),m<v&&(m=v),g+m}(e,t)<r){const o=e[t+0];i.length?(a=i[i.length-1],s=o,Math.sqrt(Ym(a,s))>1&&i.push(o)):i.push(o),i.push(e[t+3])}else{const u=e[t+0],h=e[t+1],d=e[t+2],p=e[t+3],f=Sl(u,h,.5),g=Sl(h,d,.5),m=Sl(d,p,.5),y=Sl(f,g,.5),v=Sl(g,m,.5),x=Sl(y,v,.5);o4([u,f,y,x],0,r,i),o4([x,v,m,p],0,r,i)}var a,s;return i}function $H(e,t){return Ry(e,0,e.length,t)}function Ry(e,t,r,n,i){const a=i||[],s=e[t],o=e[r-1];let u=0,h=1;for(let d=t+1;d<r-1;++d){const p=BH(e[d],s,o);p>u&&(u=p,h=d)}return Math.sqrt(u)>n?(Ry(e,t,h+1,n,a),Ry(e,h,r,n,a)):(a.length||a.push(s),a.push(o)),a}function Mx(e,t=.15,r){const n=[],i=(e.length-1)/3;for(let a=0;a<i;a++)o4(e,3*a,t,n);return r&&r>0?Ry(n,0,n.length,r):n}l(aA,"v"),l(jm,"S"),l(OH,"O"),l(C_,"L"),l(sA,"T"),l(a4,"D"),l(S_,"A"),l(A_,"_"),l(Ix,"I"),l(Gc,"C"),l(L_,"z"),l(oA,"W"),l(Iy,"E"),l(Pt,"G"),l(qo,"$"),l(s4,"R"),l(hm,"j"),l(My,"q"),l(N_,"F"),l(I_,"V"),l(PH,"Z"),l(jh,"Q"),l(M_,"H"),l(Ym,"N"),l(BH,"B"),l(Sl,"J"),l(o4,"K"),l($H,"U"),l(Ry,"X"),l(Mx,"Y");var va="none",Vd,l4=(Vd=class{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,n){return{shape:t,sets:r||[],options:n||this.defaultOptions}}line(t,r,n,i,a){const s=this._o(a);return this._d("line",[aA(t,r,n,i,s)],s)}rectangle(t,r,n,i,a){const s=this._o(a),o=[],u=OH(t,r,n,i,s);if(s.fill){const h=[[t,r],[t+n,r],[t+n,r+i],[t,r+i]];s.fillStyle==="solid"?o.push(Ix([h],s)):o.push(Gc([h],s))}return s.stroke!==va&&o.push(u),this._d("rectangle",o,s)}ellipse(t,r,n,i,a){const s=this._o(a),o=[],u=sA(n,i,s),h=a4(t,r,s,u);if(s.fill)if(s.fillStyle==="solid"){const d=a4(t,r,s,u).opset;d.type="fillPath",o.push(d)}else o.push(Gc([h.estimatedPoints],s));return s.stroke!==va&&o.push(h.opset),this._d("ellipse",o,s)}circle(t,r,n,i){const a=this.ellipse(t,r,n,n,i);return a.shape="circle",a}linearPath(t,r){const n=this._o(r);return this._d("linearPath",[jm(t,!1,n)],n)}arc(t,r,n,i,a,s,o=!1,u){const h=this._o(u),d=[],p=S_(t,r,n,i,a,s,o,!0,h);if(o&&h.fill)if(h.fillStyle==="solid"){const f=Object.assign({},h);f.disableMultiStroke=!0;const g=S_(t,r,n,i,a,s,!0,!1,f);g.type="fillPath",d.push(g)}else d.push(function(f,g,m,y,v,x,b){const w=f,T=g;let k=Math.abs(m/2),R=Math.abs(y/2);k+=Pt(.01*k,b),R+=Pt(.01*R,b);let C=v,E=x;for(;C<0;)C+=2*Math.PI,E+=2*Math.PI;E-C>2*Math.PI&&(C=0,E=2*Math.PI);const _=(E-C)/b.curveStepCount,L=[];for(let D=C;D<=E;D+=_)L.push([w+k*Math.cos(D),T+R*Math.sin(D)]);return L.push([w+k*Math.cos(E),T+R*Math.sin(E)]),L.push([w,T]),Gc([L],b)}(t,r,n,i,a,s,h));return h.stroke!==va&&d.push(p),this._d("arc",d,h)}curve(t,r){const n=this._o(r),i=[],a=C_(t,n);if(n.fill&&n.fill!==va)if(n.fillStyle==="solid"){const s=C_(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(s.ops)})}else{const s=[],o=t;if(o.length){const u=typeof o[0][0]=="number"?[o]:o;for(const h of u)h.length<3?s.push(...h):h.length===3?s.push(...Mx(M_([h[0],h[0],h[1],h[2]]),10,(1+n.roughness)/2)):s.push(...Mx(M_(h),10,(1+n.roughness)/2))}s.length&&i.push(Gc([s],n))}return n.stroke!==va&&i.push(a),this._d("curve",i,n)}polygon(t,r){const n=this._o(r),i=[],a=jm(t,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(Ix([t],n)):i.push(Gc([t],n))),n.stroke!==va&&i.push(a),this._d("polygon",i,n)}path(t,r){const n=this._o(r),i=[];if(!t)return this._d("path",i,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=n.fill&&n.fill!=="transparent"&&n.fill!==va,s=n.stroke!==va,o=!!(n.simplification&&n.simplification<1),u=function(d,p,f){const g=nA(rA(i6(d))),m=[];let y=[],v=[0,0],x=[];const b=l(()=>{x.length>=4&&y.push(...Mx(x,1)),x=[]},"i"),w=l(()=>{b(),y.length&&(m.push(y),y=[])},"c");for(const{key:k,data:R}of g)switch(k){case"M":w(),v=[R[0],R[1]],y.push(v);break;case"L":b(),y.push([R[0],R[1]]);break;case"C":if(!x.length){const C=y.length?y[y.length-1]:v;x.push([C[0],C[1]])}x.push([R[0],R[1]]),x.push([R[2],R[3]]),x.push([R[4],R[5]]);break;case"Z":b(),y.push([v[0],v[1]])}if(w(),!f)return m;const T=[];for(const k of m){const R=$H(k,f);R.length&&T.push(R)}return T}(t,0,o?4-4*(n.simplification||1):(1+n.roughness)/2),h=A_(t,n);if(a)if(n.fillStyle==="solid")if(u.length===1){const d=A_(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(d.ops)})}else i.push(Ix(u,n));else i.push(Gc(u,n));return s&&(o?u.forEach(d=>{i.push(jm(d,!1,n))}):i.push(h)),this._d("path",i,n)}opsToPath(t,r){let n="";for(const i of t.ops){const a=typeof r=="number"&&r>=0?i.data.map(s=>+s.toFixed(r)):i.data;switch(i.op){case"move":n+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":n+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":n+=`L${a[0]} ${a[1]} `}}return n.trim()}toPaths(t){const r=t.sets||[],n=t.options||this.defaultOptions,i=[];for(const a of r){let s=null;switch(a.type){case"path":s={d:this.opsToPath(a),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:va};break;case"fillPath":s={d:this.opsToPath(a),stroke:va,strokeWidth:0,fill:n.fill||va};break;case"fillSketch":s=this.fillSketch(a,n)}s&&i.push(s)}return i}fillSketch(t,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||va,strokeWidth:n,fill:va}}_mergedShape(t){return t.filter((r,n)=>n===0||r.op!=="move")}},l(Vd,"et"),Vd),Xd,Gfe=(Xd=class{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new l4(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.ctx,a=t.options.fixedDecimalPlaceDigits;for(const s of r)switch(s.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,s,a),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const o=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,s,a,o),i.restore();break}case"fillSketch":this.fillSketch(i,s,n)}}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=i,this._drawToContext(t,r,n.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,n,i="nonzero"){t.beginPath();for(const a of r.ops){const s=typeof n=="number"&&n>=0?a.data.map(o=>+o.toFixed(n)):a.data;switch(a.op){case"move":t.moveTo(s[0],s[1]);break;case"bcurveTo":t.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":t.lineTo(s[0],s[1])}}r.type==="fillPath"?t.fill(i):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,n,i,a){const s=this.gen.line(t,r,n,i,a);return this.draw(s),s}rectangle(t,r,n,i,a){const s=this.gen.rectangle(t,r,n,i,a);return this.draw(s),s}ellipse(t,r,n,i,a){const s=this.gen.ellipse(t,r,n,i,a);return this.draw(s),s}circle(t,r,n,i){const a=this.gen.circle(t,r,n,i);return this.draw(a),a}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n),n}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n),n}arc(t,r,n,i,a,s,o=!1,u){const h=this.gen.arc(t,r,n,i,a,s,o,u);return this.draw(h),h}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n),n}path(t,r){const n=this.gen.path(t,r);return this.draw(n),n}},l(Xd,"st"),Xd),Cv="http://www.w3.org/2000/svg",Kd,qfe=(Kd=class{constructor(t,r){this.svg=t,this.gen=new l4(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,a=i.createElementNS(Cv,"g"),s=t.options.fixedDecimalPlaceDigits;for(const o of r){let u=null;switch(o.type){case"path":u=i.createElementNS(Cv,"path"),u.setAttribute("d",this.opsToPath(o,s)),u.setAttribute("stroke",n.stroke),u.setAttribute("stroke-width",n.strokeWidth+""),u.setAttribute("fill","none"),n.strokeLineDash&&u.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":u=i.createElementNS(Cv,"path"),u.setAttribute("d",this.opsToPath(o,s)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",n.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||u.setAttribute("fill-rule","evenodd");break;case"fillSketch":u=this.fillSketch(i,o,n)}u&&a.appendChild(u)}return a}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const a=t.createElementNS(Cv,"path");return a.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),a.setAttribute("stroke",n.fill||""),a.setAttribute("stroke-width",i+""),a.setAttribute("fill","none"),n.fillLineDash&&a.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,n,i,a){const s=this.gen.line(t,r,n,i,a);return this.draw(s)}rectangle(t,r,n,i,a){const s=this.gen.rectangle(t,r,n,i,a);return this.draw(s)}ellipse(t,r,n,i,a){const s=this.gen.ellipse(t,r,n,i,a);return this.draw(s)}circle(t,r,n,i){const a=this.gen.circle(t,r,n,i);return this.draw(a)}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n)}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n)}arc(t,r,n,i,a,s,o=!1,u){const h=this.gen.arc(t,r,n,i,a,s,o,u);return this.draw(h)}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n)}path(t,r){const n=this.gen.path(t,r);return this.draw(n)}},l(Kd,"ot"),Kd),_t={canvas:l((e,t)=>new Gfe(e,t),"canvas"),svg:l((e,t)=>new qfe(e,t),"svg"),generator:l(e=>new l4(e),"generator"),newSeed:l(()=>l4.newSeed(),"newSeed")},jfe=l((e,t)=>{var r,n,i=e.x,a=e.y,s=t.x-i,o=t.y-a,u=e.width/2,h=e.height/2;return Math.abs(o)*u>Math.abs(s)*h?(o<0&&(h=-h),r=o===0?0:h*s/o,n=h):(s<0&&(u=-u),r=u,n=s===0?0:u*o/s),{x:i+r,y:a+n}},"intersectRect"),_0=jfe;function FH(e,t){t&&e.attr("style",t)}async function zH(e){const t=Qe(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div");let n=e.label;e.label&&Ti(e.label)&&(n=await v2(e.label.replace(He.lineBreakRegex,`
`),ye()));const i=e.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+i+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+n+"</span>"),FH(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}l(FH,"applyStyle"),l(zH,"addHtmlLabel");var Yfe=l(async(e,t,r,n)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),Mr(ye().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),re.info("vertexText"+i);const a={isNode:n,label:Go(i).replace(/fa[blrs]?:fa-[\w-]+/g,s=>`<i class='${s.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await zH(a)}{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",t.replace("color:","fill:"));let s=[];s=typeof i=="string"?i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?i:[];for(const o of s){const u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),r?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=o.trim(),a.appendChild(u)}return a}},"createLabel"),hu=Yfe,ol=l((e,t,r,n,i)=>["M",e+i,t,"H",e+r-i,"A",i,i,0,0,1,e+r,t+i,"V",t+n-i,"A",i,i,0,0,1,e+r-i,t+n,"H",e+i,"A",i,i,0,0,1,e,t+n-i,"V",t+i,"A",i,i,0,0,1,e+i,t,"Z"].join(" "),"createRoundedRectPathD"),Wfe=l(e=>{const{handDrawnSeed:t}=ye();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),E0=l(e=>{const t=Hfe([...e.cssCompiledStyles||[],...e.cssStyles||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),Hfe=l(e=>{const t=new Map;return e.forEach(r=>{const[n,i]=r.split(":");t.set(n.trim(),i==null?void 0:i.trim())}),t},"styles2Map"),It=l(e=>{const{stylesArray:t}=E0(e),r=[],n=[],i=[],a=[];return t.forEach(s=>{const o=s[0];o==="color"||o==="font-size"||o==="font-family"||o==="font-weight"||o==="font-style"||o==="text-decoration"||o==="text-align"||o==="text-transform"||o==="line-height"||o==="letter-spacing"||o==="word-spacing"||o==="text-shadow"||o==="text-overflow"||o==="white-space"||o==="word-wrap"||o==="word-break"||o==="overflow-wrap"||o==="hyphens"?r.push(s.join(":")+" !important"):(n.push(s.join(":")+" !important"),o.includes("stroke")&&i.push(s.join(":")+" !important"),o==="fill"&&a.push(s.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:t,borderStyles:i,backgroundStyles:a}},"styles2String"),Ct=l((e,t)=>{var o;const{themeVariables:r,handDrawnSeed:n}=ye(),{nodeBorder:i,mainBkg:a}=r,{stylesMap:s}=E0(e);return Object.assign({roughness:.7,fill:s.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:s.get("stroke")||i,seed:n,strokeWidth:((o=s.get("stroke-width"))==null?void 0:o.replace("px",""))||1.3,fillLineDash:[0,0]},t)},"userNodeOverrides"),GM=l(async(e,t)=>{re.info("Creating subgraph rect for ",t.id,t);const r=ye(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:a,clusterBorder:s}=n,{labelStyles:o,nodeStyles:u,borderStyles:h,backgroundStyles:d}=It(t),p=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=Mr(r.flowchart.htmlLabels),g=p.insert("g").attr("class","cluster-label "),m=await ls(g,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0});let y=m.getBBox();if(Mr(r.flowchart.htmlLabels)){const C=m.children[0],E=Qe(m);y=C.getBoundingClientRect(),E.attr("width",y.width),E.attr("height",y.height)}const v=t.width<=y.width+t.padding?y.width+t.padding:t.width;t.width<=y.width+t.padding?t.diff=(v-t.width)/2-t.padding:t.diff=-t.padding;const x=t.height,b=t.x-v/2,w=t.y-x/2;let T;if(re.trace("Data ",t,JSON.stringify(t)),t.look==="handDrawn"){const C=_t.svg(p),E=Ct(t,{roughness:.7,fill:a,stroke:s,fillWeight:3,seed:i}),_=C.path(ol(b,w,v,x,0),E);T=p.insert(()=>(re.debug("Rough node insert CXC",_),_),":first-child"),T.select("path:nth-child(2)").attr("style",h.join(";")),T.select("path").attr("style",d.join(";").replace("fill","stroke"))}else T=p.insert("rect",":first-child"),T.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",b).attr("y",w).attr("width",v).attr("height",x);const{subGraphTitleTopMargin:k}=E2(r);if(g.attr("transform",`translate(${t.x-y.width/2}, ${t.y-t.height/2+k})`),o){const C=g.select("span");C&&C.attr("style",o)}const R=T.node().getBBox();return t.offsetX=0,t.width=R.width,t.height=R.height,t.offsetY=y.height-t.padding/2,t.intersect=function(C){return _0(t,C)},{cluster:p,labelBBox:y}},"rect"),Vfe=l((e,t)=>{const r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,a=i/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-a).attr("y",t.y-t.height/2-a).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");const s=n.node().getBBox();return t.width=s.width,t.height=s.height,t.intersect=function(o){return _0(t,o)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),Xfe=l(async(e,t)=>{const r=ye(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:a,compositeBackground:s,compositeTitleBackground:o,nodeBorder:u}=n,h=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),d=h.insert("g",":first-child"),p=h.insert("g").attr("class","cluster-label");let f=h.append("rect");const g=p.node().appendChild(await hu(t.label,t.labelStyle,void 0,!0));let m=g.getBBox();if(Mr(r.flowchart.htmlLabels)){const _=g.children[0],L=Qe(g);m=_.getBoundingClientRect(),L.attr("width",m.width),L.attr("height",m.height)}const y=0*t.padding,v=y/2,x=(t.width<=m.width+t.padding?m.width+t.padding:t.width)+y;t.width<=m.width+t.padding?t.diff=(x-t.width)/2-t.padding:t.diff=-t.padding;const b=t.height+y,w=t.height+y-m.height-6,T=t.x-x/2,k=t.y-b/2;t.width=x;const R=t.y-t.height/2-v+m.height+2;let C;if(t.look==="handDrawn"){const _=t.cssClasses.includes("statediagram-cluster-alt"),L=_t.svg(h),D=t.rx||t.ry?L.path(ol(T,k,x,b,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:u,seed:i}):L.rectangle(T,k,x,b,{seed:i});C=h.insert(()=>D,":first-child");const B=L.rectangle(T,R,x,w,{fill:_?a:s,fillStyle:_?"hachure":"solid",stroke:u,seed:i});C=h.insert(()=>D,":first-child"),f=h.insert(()=>B)}else C=d.insert("rect",":first-child"),C.attr("class","outer").attr("x",T).attr("y",k).attr("width",x).attr("height",b).attr("data-look",t.look),f.attr("class","inner").attr("x",T).attr("y",R).attr("width",x).attr("height",w);p.attr("transform",`translate(${t.x-m.width/2}, ${k+1-(Mr(r.flowchart.htmlLabels)?0:3)})`);const E=C.node().getBBox();return t.height=E.height,t.offsetX=0,t.offsetY=m.height-t.padding/2,t.labelBBox=m,t.intersect=function(_){return _0(t,_)},{cluster:h,labelBBox:m}},"roundedWithTitle"),Kfe=l(async(e,t)=>{re.info("Creating subgraph rect for ",t.id,t);const r=ye(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:a,clusterBorder:s}=n,{labelStyles:o,nodeStyles:u,borderStyles:h,backgroundStyles:d}=It(t),p=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=Mr(r.flowchart.htmlLabels),g=p.insert("g").attr("class","cluster-label "),m=await ls(g,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0,width:t.width});let y=m.getBBox();if(Mr(r.flowchart.htmlLabels)){const C=m.children[0],E=Qe(m);y=C.getBoundingClientRect(),E.attr("width",y.width),E.attr("height",y.height)}const v=t.width<=y.width+t.padding?y.width+t.padding:t.width;t.width<=y.width+t.padding?t.diff=(v-t.width)/2-t.padding:t.diff=-t.padding;const x=t.height,b=t.x-v/2,w=t.y-x/2;let T;if(re.trace("Data ",t,JSON.stringify(t)),t.look==="handDrawn"){const C=_t.svg(p),E=Ct(t,{roughness:.7,fill:a,stroke:s,fillWeight:4,seed:i}),_=C.path(ol(b,w,v,x,t.rx),E);T=p.insert(()=>(re.debug("Rough node insert CXC",_),_),":first-child"),T.select("path:nth-child(2)").attr("style",h.join(";")),T.select("path").attr("style",d.join(";").replace("fill","stroke"))}else T=p.insert("rect",":first-child"),T.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",b).attr("y",w).attr("width",v).attr("height",x);const{subGraphTitleTopMargin:k}=E2(r);if(g.attr("transform",`translate(${t.x-y.width/2}, ${t.y-t.height/2+k})`),o){const C=g.select("span");C&&C.attr("style",o)}const R=T.node().getBBox();return t.offsetX=0,t.width=R.width,t.height=R.height,t.offsetY=y.height-t.padding/2,t.intersect=function(C){return _0(t,C)},{cluster:p,labelBBox:y}},"kanbanSection"),Zfe=l((e,t)=>{const r=ye(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:a}=n,s=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),o=s.insert("g",":first-child"),u=0*t.padding,h=t.width+u;t.diff=-t.padding;const d=t.height+u,p=t.x-h/2,f=t.y-d/2;let g;if(t.width=h,t.look==="handDrawn"){const y=_t.svg(s).rectangle(p,f,h,d,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:i});g=s.insert(()=>y,":first-child")}else g=o.insert("rect",":first-child"),g.attr("class","divider").attr("x",p).attr("y",f).attr("width",h).attr("height",d).attr("data-look",t.look);const m=g.node().getBBox();return t.height=m.height,t.offsetX=0,t.offsetY=0,t.intersect=function(y){return _0(t,y)},{cluster:s,labelBBox:{}}},"divider"),Qfe={rect:GM,squareRect:GM,roundedWithTitle:Xfe,noteGroup:Vfe,divider:Zfe,kanbanSection:Kfe},UH=new Map,lA=l(async(e,t)=>{const r=t.shape||"rect",n=await Qfe[r](e,t);return UH.set(t.id,n),n},"insertCluster"),Jfe=l(()=>{UH=new Map},"clear");function GH(e,t){return e.intersect(t)}l(GH,"intersectNode");var ege=GH;function qH(e,t,r,n){var i=e.x,a=e.y,s=i-n.x,o=a-n.y,u=Math.sqrt(t*t*o*o+r*r*s*s),h=Math.abs(t*r*s/u);n.x<i&&(h=-h);var d=Math.abs(t*r*o/u);return n.y<a&&(d=-d),{x:i+h,y:a+d}}l(qH,"intersectEllipse");var jH=qH;function YH(e,t,r){return jH(e,t,t,r)}l(YH,"intersectCircle");var tge=YH;function WH(e,t,r,n){var i,a,s,o,u,h,d,p,f,g,m,y,v;if(i=t.y-e.y,s=e.x-t.x,u=t.x*e.y-e.x*t.y,f=i*r.x+s*r.y+u,g=i*n.x+s*n.y+u,!(f!==0&&g!==0&&R_(f,g)||(a=n.y-r.y,o=r.x-n.x,h=n.x*r.y-r.x*n.y,d=a*e.x+o*e.y+h,p=a*t.x+o*t.y+h,d!==0&&p!==0&&R_(d,p)||(m=i*o-a*s)==0)))return y=Math.abs(m/2),{x:(v=s*h-o*u)<0?(v-y)/m:(v+y)/m,y:(v=a*u-i*h)<0?(v-y)/m:(v+y)/m}}function R_(e,t){return e*t>0}l(WH,"intersectLine"),l(R_,"sameSign");var rge=WH;function HH(e,t,r){let n=e.x,i=e.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(d){s=Math.min(s,d.x),o=Math.min(o,d.y)}):(s=Math.min(s,t.x),o=Math.min(o,t.y));let u=n-e.width/2-s,h=i-e.height/2-o;for(let d=0;d<t.length;d++){let p=t[d],f=t[d<t.length-1?d+1:0],g=rge(e,r,{x:u+p.x,y:h+p.y},{x:u+f.x,y:h+f.y});g&&a.push(g)}return a.length?(a.length>1&&a.sort(function(d,p){let f=d.x-r.x,g=d.y-r.y,m=Math.sqrt(f*f+g*g),y=p.x-r.x,v=p.y-r.y,x=Math.sqrt(y*y+v*v);return m<x?-1:m===x?0:1}),a[0]):e}l(HH,"intersectPolygon");var xt={node:ege,circle:tge,ellipse:jH,polygon:HH,rect:_0};function VH(e,t){const{labelStyles:r}=It(t);t.labelStyle=r;const n=qt(t);let i=n;n||(i="anchor");const a=e.insert("g").attr("class",i).attr("id",t.domId||t.id),{cssStyles:s}=t,o=_t.svg(a),u=Ct(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(u.roughness=0);const h=o.circle(0,0,2,u),d=a.insert(()=>h,":first-child");return d.attr("class","anchor").attr("style",Ri(s)),At(t,d),t.intersect=function(p){return re.info("Circle intersect",t,1,p),xt.circle(t,1,p)},a}function D_(e,t,r,n,i,a,s){const o=(e+r)/2,u=(t+n)/2,h=Math.atan2(n-t,r-e),d=(r-e)/2/i,p=(n-t)/2/a,f=Math.sqrt(d**2+p**2);if(f>1)throw new Error("The given radii are too small to create an arc between the points.");const g=Math.sqrt(1-f**2),m=o+g*a*Math.sin(h)*(s?-1:1),y=u-g*i*Math.cos(h)*(s?-1:1),v=Math.atan2((t-y)/a,(e-m)/i);let x=Math.atan2((n-y)/a,(r-m)/i)-v;s&&x<0&&(x+=2*Math.PI),!s&&x>0&&(x-=2*Math.PI);const b=[];for(let w=0;w<20;w++){const T=v+w/19*x,k=m+i*Math.cos(T),R=y+a*Math.sin(T);b.push({x:k,y:R})}return b}async function XH(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await Gt(e,t,qt(t)),s=a.width+t.padding+20,o=a.height+t.padding,u=o/2,h=u/(2.5+o/50),{cssStyles:d}=t,p=[{x:s/2,y:-o/2},{x:-s/2,y:-o/2},...D_(-s/2,-o/2,-s/2,o/2,h,u,!1),{x:s/2,y:o/2},...D_(s/2,o/2,s/2,-o/2,h,u,!0)],f=_t.svg(i),g=Ct(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=ar(p),y=f.path(m,g),v=i.insert(()=>y,":first-child");return v.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",n),v.attr("transform",`translate(${h/2}, 0)`),At(t,v),t.intersect=function(x){return xt.polygon(t,p,x)},i}function ll(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}async function KH(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await Gt(e,t,qt(t)),s=a.height+t.padding,o=a.width+t.padding+12,u=-s,h=[{x:12,y:u},{x:o,y:u},{x:o,y:0},{x:0,y:0},{x:0,y:u+12},{x:12,y:u}];let d;const{cssStyles:p}=t;if(t.look==="handDrawn"){const f=_t.svg(i),g=Ct(t,{}),m=ar(h),y=f.path(m,g);d=i.insert(()=>y,":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),p&&d.attr("style",p)}else d=ll(i,o,s,h);return n&&d.attr("style",n),At(t,d),t.intersect=function(f){return xt.polygon(t,h,f)},i}function ZH(e,t){const{nodeStyles:r}=It(t);t.label="";const n=e.insert("g").attr("class",qt(t)).attr("id",t.domId??t.id),{cssStyles:i}=t,a=Math.max(28,t.width??0),s=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],o=_t.svg(n),u=Ct(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=ar(s),d=o.path(h,u),p=n.insert(()=>d,":first-child");return i&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",i),r&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(f){return xt.polygon(t,s,f)},n}async function QH(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,halfPadding:s}=await Gt(e,t,qt(t)),o=a.width/2+s;let u;const{cssStyles:h}=t;if(t.look==="handDrawn"){const d=_t.svg(i),p=Ct(t,{}),f=d.circle(0,0,2*o,p);u=i.insert(()=>f,":first-child"),u.attr("class","basic label-container").attr("style",Ri(h))}else u=i.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",o).attr("cx",0).attr("cy",0);return At(t,u),t.intersect=function(d){return re.info("Circle intersect",t,o,d),xt.circle(t,o,d)},i}function JH(e){const t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=2*e;return`M ${-n/2*t},${n/2*r} L ${n/2*t},${-n/2*r}
                   M ${n/2*t},${n/2*r} L ${-n/2*t},${-n/2*r}`}function eV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r,t.label="";const i=e.insert("g").attr("class",qt(t)).attr("id",t.domId??t.id),a=Math.max(30,(t==null?void 0:t.width)??0),{cssStyles:s}=t,o=_t.svg(i),u=Ct(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=o.circle(0,0,2*a,u),d=JH(a),p=o.path(d,u),f=i.insert(()=>h,":first-child");return f.insert(()=>p),s&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",s),n&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",n),At(t,f),t.intersect=function(g){return re.info("crossedCircle intersect",t,{radius:a,point:g}),xt.circle(t,a,g)},i}function To(e,t,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,u=(a*Math.PI/180-o)/(n-1);for(let h=0;h<n;h++){const d=o+h*u,p=e+r*Math.cos(d),f=t+r*Math.sin(d);s.push({x:-p,y:-f})}return s}async function tV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=a.width+(t.padding??0),u=a.height+(t.padding??0),h=Math.max(5,.1*u),{cssStyles:d}=t,p=[...To(o/2,-u/2,h,30,-90,0),{x:-o/2-h,y:h},...To(o/2+2*h,-h,h,20,-180,-270),...To(o/2+2*h,h,h,20,-90,-180),{x:-o/2-h,y:-u/2},...To(o/2,u/2,h,20,0,90)],f=[{x:o/2,y:-u/2-h},{x:-o/2,y:-u/2-h},...To(o/2,-u/2,h,20,-90,0),{x:-o/2-h,y:-h},...To(o/2+.1*o,-h,h,20,-180,-270),...To(o/2+.1*o,h,h,20,-90,-180),{x:-o/2-h,y:u/2},...To(o/2,u/2,h,20,0,90),{x:-o/2,y:u/2+h},{x:o/2,y:u/2+h}],g=_t.svg(i),m=Ct(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=ar(p).replace("Z",""),v=g.path(y,m),x=ar(f),b=g.path(x,{...m}),w=i.insert("g",":first-child");return w.insert(()=>b,":first-child").attr("stroke-opacity",0),w.insert(()=>v,":first-child"),w.attr("class","text"),d&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",n),w.attr("transform",`translate(${h}, 0)`),s.attr("transform",`translate(${-o/2+h-(a.x-(a.left??0))},${-u/2+(t.padding??0)/2-(a.y-(a.top??0))})`),At(t,w),t.intersect=function(T){return xt.polygon(t,f,T)},i}function _o(e,t,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,u=(a*Math.PI/180-o)/(n-1);for(let h=0;h<n;h++){const d=o+h*u,p=e+r*Math.cos(d),f=t+r*Math.sin(d);s.push({x:p,y:f})}return s}async function rV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=a.width+(t.padding??0),u=a.height+(t.padding??0),h=Math.max(5,.1*u),{cssStyles:d}=t,p=[..._o(o/2,-u/2,h,20,-90,0),{x:o/2+h,y:-h},..._o(o/2+2*h,-h,h,20,-180,-270),..._o(o/2+2*h,h,h,20,-90,-180),{x:o/2+h,y:u/2},..._o(o/2,u/2,h,20,0,90)],f=[{x:-o/2,y:-u/2-h},{x:o/2,y:-u/2-h},..._o(o/2,-u/2,h,20,-90,0),{x:o/2+h,y:-h},..._o(o/2+2*h,-h,h,20,-180,-270),..._o(o/2+2*h,h,h,20,-90,-180),{x:o/2+h,y:u/2},..._o(o/2,u/2,h,20,0,90),{x:o/2,y:u/2+h},{x:-o/2,y:u/2+h}],g=_t.svg(i),m=Ct(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=ar(p).replace("Z",""),v=g.path(y,m),x=ar(f),b=g.path(x,{...m}),w=i.insert("g",":first-child");return w.insert(()=>b,":first-child").attr("stroke-opacity",0),w.insert(()=>v,":first-child"),w.attr("class","text"),d&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",n),w.attr("transform",`translate(${-h}, 0)`),s.attr("transform",`translate(${-o/2+(t.padding??0)/2-(a.x-(a.left??0))},${-u/2+(t.padding??0)/2-(a.y-(a.top??0))})`),At(t,w),t.intersect=function(T){return xt.polygon(t,f,T)},i}function Jn(e,t,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,u=(a*Math.PI/180-o)/(n-1);for(let h=0;h<n;h++){const d=o+h*u,p=e+r*Math.cos(d),f=t+r*Math.sin(d);s.push({x:-p,y:-f})}return s}async function nV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=a.width+(t.padding??0),u=a.height+(t.padding??0),h=Math.max(5,.1*u),{cssStyles:d}=t,p=[...Jn(o/2,-u/2,h,30,-90,0),{x:-o/2-h,y:h},...Jn(o/2+2*h,-h,h,20,-180,-270),...Jn(o/2+2*h,h,h,20,-90,-180),{x:-o/2-h,y:-u/2},...Jn(o/2,u/2,h,20,0,90)],f=[...Jn(-o/2+h+h/2,-u/2,h,20,-90,-180),{x:o/2-h/2,y:h},...Jn(-o/2-h/2,-h,h,20,0,90),...Jn(-o/2-h/2,h,h,20,-90,0),{x:o/2-h/2,y:-h},...Jn(-o/2+h+h/2,u/2,h,30,-180,-270)],g=[{x:o/2,y:-u/2-h},{x:-o/2,y:-u/2-h},...Jn(o/2,-u/2,h,20,-90,0),{x:-o/2-h,y:-h},...Jn(o/2+2*h,-h,h,20,-180,-270),...Jn(o/2+2*h,h,h,20,-90,-180),{x:-o/2-h,y:u/2},...Jn(o/2,u/2,h,20,0,90),{x:-o/2,y:u/2+h},{x:o/2-h-h/2,y:u/2+h},...Jn(-o/2+h+h/2,-u/2,h,20,-90,-180),{x:o/2-h/2,y:h},...Jn(-o/2-h/2,-h,h,20,0,90),...Jn(-o/2-h/2,h,h,20,-90,0),{x:o/2-h/2,y:-h},...Jn(-o/2+h+h/2,u/2,h,30,-180,-270)],m=_t.svg(i),y=Ct(t,{fill:"none"});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const v=ar(p).replace("Z",""),x=m.path(v,y),b=ar(f).replace("Z",""),w=m.path(b,y),T=ar(g),k=m.path(T,{...y}),R=i.insert("g",":first-child");return R.insert(()=>k,":first-child").attr("stroke-opacity",0),R.insert(()=>x,":first-child"),R.insert(()=>w,":first-child"),R.attr("class","text"),d&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",n),R.attr("transform",`translate(${h-h/4}, 0)`),s.attr("transform",`translate(${-o/2+(t.padding??0)/2-(a.x-(a.left??0))},${-u/2+(t.padding??0)/2-(a.y-(a.top??0))})`),At(t,R),t.intersect=function(C){return xt.polygon(t,g,C)},i}async function iV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await Gt(e,t,qt(t)),s=Math.max(80,1.25*(a.width+2*(t.padding??0)),(t==null?void 0:t.width)??0),o=Math.max(20,a.height+2*(t.padding??0),(t==null?void 0:t.height)??0),u=o/2,{cssStyles:h}=t,d=_t.svg(i),p=Ct(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const f=s-u,g=o/4,m=[{x:f,y:0},{x:g,y:0},{x:0,y:o/2},{x:g,y:o},{x:f,y:o},...eA(-f,-o/2,u,50,270,90)],y=ar(m),v=d.path(y,p),x=i.insert(()=>v,":first-child");return x.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),x.attr("transform",`translate(${-s/2}, ${-o/2})`),At(t,x),t.intersect=function(b){return xt.polygon(t,m,b)},i}l(VH,"anchor"),l(D_,"generateArcPoints"),l(XH,"bowTieRect"),l(ll,"insertPolygonShape"),l(KH,"card"),l(ZH,"choice"),l(QH,"circle"),l(JH,"createLine"),l(eV,"crossedCircle"),l(To,"generateCirclePoints"),l(tV,"curlyBraceLeft"),l(_o,"generateCirclePoints"),l(rV,"curlyBraceRight"),l(Jn,"generateCirclePoints"),l(nV,"curlyBraces"),l(iV,"curvedTrapezoid");var nge=l((e,t,r,n,i,a)=>[`M${e},${t+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,"l0,"+-n].join(" "),"createCylinderPathD"),ige=l((e,t,r,n,i,a)=>[`M${e},${t+a}`,`M${e+r},${t+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,"l0,"+-n].join(" "),"createOuterCylinderPathD"),age=l((e,t,r,n,i,a)=>[`M${e-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function aV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=Math.max(a.width+t.padding,t.width??0),u=o/2,h=u/(2.5+o/50),d=Math.max(a.height+h+t.padding,t.height??0);let p;const{cssStyles:f}=t;if(t.look==="handDrawn"){const g=_t.svg(i),m=ige(0,0,o,d,u,h),y=age(0,h,o,d,u,h),v=g.path(m,Ct(t,{})),x=g.path(y,Ct(t,{fill:"none"}));p=i.insert(()=>x,":first-child"),p=i.insert(()=>v,":first-child"),p.attr("class","basic label-container"),f&&p.attr("style",f)}else{const g=nge(0,0,o,d,u,h);p=i.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",Ri(f)).attr("style",n)}return p.attr("label-offset-y",h),p.attr("transform",`translate(${-o/2}, ${-(d/2+h)})`),At(t,p),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-a.height/2+(t.padding??0)/1.5-(a.y-(a.top??0))})`),t.intersect=function(g){const m=xt.rect(t,g),y=m.x-(t.x??0);if(u!=0&&(Math.abs(y)<(t.width??0)/2||Math.abs(y)==(t.width??0)/2&&Math.abs(m.y-(t.y??0))>(t.height??0)/2-h)){let v=h*h*(1-y*y/(u*u));v>0&&(v=Math.sqrt(v)),v=h-v,g.y-(t.y??0)>0&&(v=-v),m.y+=v}return m},i}async function sV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=a.width+t.padding,u=a.height+t.padding,h=.2*u,d=-o/2,p=-u/2-h/2,{cssStyles:f}=t,g=_t.svg(i),m=Ct(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:d,y:p+h},{x:-d,y:p+h},{x:-d,y:-p},{x:d,y:-p},{x:d,y:p},{x:-d,y:p},{x:-d,y:p+h}],v=g.polygon(y.map(b=>[b.x,b.y]),m),x=i.insert(()=>v,":first-child");return x.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),s.attr("transform",`translate(${d+(t.padding??0)/2-(a.x-(a.left??0))}, ${p+h+(t.padding??0)/2-(a.y-(a.top??0))})`),At(t,x),t.intersect=function(b){return xt.rect(t,b)},i}async function oV(e,t){var p,f;const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,halfPadding:s}=await Gt(e,t,qt(t)),o=a.width/2+s+5,u=a.width/2+s;let h;const{cssStyles:d}=t;if(t.look==="handDrawn"){const g=_t.svg(i),m=Ct(t,{roughness:.2,strokeWidth:2.5}),y=Ct(t,{roughness:.2,strokeWidth:1.5}),v=g.circle(0,0,2*o,m),x=g.circle(0,0,2*u,y);h=i.insert("g",":first-child"),h.attr("class",Ri(t.cssClasses)).attr("style",Ri(d)),(p=h.node())==null||p.appendChild(v),(f=h.node())==null||f.appendChild(x)}else{h=i.insert("g",":first-child");const g=h.insert("circle",":first-child"),m=h.insert("circle");h.attr("class","basic label-container").attr("style",n),g.attr("class","outer-circle").attr("style",n).attr("r",o).attr("cx",0).attr("cy",0),m.attr("class","inner-circle").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0)}return At(t,h),t.intersect=function(g){return re.info("DoubleCircle intersect",t,o,g),xt.circle(t,o,g)},i}function lV(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=It(t);t.label="",t.labelStyle=n;const a=e.insert("g").attr("class",qt(t)).attr("id",t.domId??t.id),{cssStyles:s}=t,o=_t.svg(a),{nodeBorder:u}=r,h=Ct(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(h.roughness=0);const d=o.circle(0,0,14,h),p=a.insert(()=>d,":first-child");return p.selectAll("path").attr("style",`fill: ${u} !important;`),s&&s.length>0&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",s),i&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",i),At(t,p),t.intersect=function(f){return re.info("filledCircle intersect",t,{radius:7,point:f}),xt.circle(t,7,f)},a}async function cV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=a.width+(t.padding??0),u=o+a.height,h=o+a.height,d=[{x:0,y:-u},{x:h,y:-u},{x:h/2,y:0}],{cssStyles:p}=t,f=_t.svg(i),g=Ct(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=ar(d),y=f.path(m,g),v=i.insert(()=>y,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return p&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",p),n&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),t.width=o,t.height=u,At(t,v),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-u/2+(t.padding??0)/2+(a.y-(a.top??0))})`),t.intersect=function(x){return re.info("Triangle intersect",t,d,x),xt.polygon(t,d,x)},i}function uV(e,t,{dir:r,config:{state:n,themeVariables:i}}){const{nodeStyles:a}=It(t);t.label="";const s=e.insert("g").attr("class",qt(t)).attr("id",t.domId??t.id),{cssStyles:o}=t;let u=Math.max(70,(t==null?void 0:t.width)??0),h=Math.max(10,(t==null?void 0:t.height)??0);r==="LR"&&(u=Math.max(10,(t==null?void 0:t.width)??0),h=Math.max(70,(t==null?void 0:t.height)??0));const d=-1*u/2,p=-1*h/2,f=_t.svg(s),g=Ct(t,{stroke:i.lineColor,fill:i.lineColor});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=f.rectangle(d,p,u,h,g),y=s.insert(()=>m,":first-child");o&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",o),a&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",a),At(t,y);const v=(n==null?void 0:n.padding)??0;return t.width&&t.height&&(t.width+=v/2||0,t.height+=v/2||0),t.intersect=function(x){return xt.rect(t,x)},s}async function hV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await Gt(e,t,qt(t)),s=Math.max(80,a.width+2*(t.padding??0),(t==null?void 0:t.width)??0),o=Math.max(50,a.height+2*(t.padding??0),(t==null?void 0:t.height)??0),u=o/2,{cssStyles:h}=t,d=_t.svg(i),p=Ct(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const f=[{x:-s/2,y:-o/2},{x:s/2-u,y:-o/2},...eA(-s/2+u,0,u,50,90,270),{x:s/2-u,y:o/2},{x:-s/2,y:o/2}],g=ar(f),m=d.path(g,p),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),At(t,y),t.intersect=function(v){return re.info("Pill intersect",t,{radius:u,point:v}),xt.polygon(t,f,v)},i}l(aV,"cylinder"),l(sV,"dividedRectangle"),l(oV,"doublecircle"),l(lV,"filledCircle"),l(cV,"flippedTriangle"),l(uV,"forkJoin"),l(hV,"halfRoundedRectangle");var sge=l((e,t,r,n,i)=>[`M${e+i},${t}`,`L${e+r-i},${t}`,`L${e+r},${t-n/2}`,`L${e+r-i},${t-n}`,`L${e+i},${t-n}`,`L${e},${t-n/2}`,"Z"].join(" "),"createHexagonPathD");async function dV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await Gt(e,t,qt(t)),s=a.height+t.padding,o=s/4,u=a.width+2*o+t.padding,h=[{x:o,y:0},{x:u-o,y:0},{x:u,y:-s/2},{x:u-o,y:-s},{x:o,y:-s},{x:0,y:-s/2}];let d;const{cssStyles:p}=t;if(t.look==="handDrawn"){const f=_t.svg(i),g=Ct(t,{}),m=sge(0,0,u,s,o),y=f.path(m,g);d=i.insert(()=>y,":first-child").attr("transform",`translate(${-u/2}, ${s/2})`),p&&d.attr("style",p)}else d=ll(i,u,s,h);return n&&d.attr("style",n),t.width=u,t.height=s,At(t,d),t.intersect=function(f){return xt.polygon(t,h,f)},i}async function pV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.label="",t.labelStyle=r;const{shapeSvg:i}=await Gt(e,t,qt(t)),a=Math.max(30,(t==null?void 0:t.width)??0),s=Math.max(30,(t==null?void 0:t.height)??0),{cssStyles:o}=t,u=_t.svg(i),h=Ct(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const d=[{x:0,y:0},{x:a,y:0},{x:0,y:s},{x:a,y:s}],p=ar(d),f=u.path(p,h),g=i.insert(()=>f,":first-child");return g.attr("class","basic label-container"),o&&t.look!=="handDrawn"&&g.selectChildren("path").attr("style",o),n&&t.look!=="handDrawn"&&g.selectChildren("path").attr("style",n),g.attr("transform",`translate(${-a/2}, ${-s/2})`),At(t,g),t.intersect=function(m){return re.info("Pill intersect",t,{points:d}),xt.polygon(t,d,m)},i}async function fV(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=It(t);t.labelStyle=i;const a=t.assetHeight??48,s=t.assetWidth??48,o=Math.max(a,s),u=n==null?void 0:n.wrappingWidth;t.width=Math.max(o,u??0);const{shapeSvg:h,bbox:d,label:p}=await Gt(e,t,"icon-shape default"),f=t.pos==="t",g=o,m=o,{nodeBorder:y}=r,{stylesMap:v}=E0(t),x=-m/2,b=-g/2,w=t.label?8:0,T=_t.svg(h),k=Ct(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const R=T.rectangle(x,b,m,g,k),C=Math.max(m,d.width),E=g+d.height+w,_=T.rectangle(-C/2,-E/2,C,E,{...k,fill:"transparent",stroke:"none"}),L=h.insert(()=>R,":first-child"),D=h.insert(()=>_);if(t.icon){const B=h.append("g");B.html(`<g>${await Wu(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const S=B.node().getBBox(),N=S.width,A=S.height,M=S.x,O=S.y;B.attr("transform",`translate(${-N/2-M},${f?d.height/2+w/2-A/2-O:-d.height/2-w/2-A/2-O})`),B.attr("style",`color: ${v.get("stroke")??y};`)}return p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${f?-E/2:E/2-d.height})`),L.attr("transform",`translate(0,${f?d.height/2+w/2:-d.height/2-w/2})`),At(t,D),t.intersect=function(B){if(re.info("iconSquare intersect",t,B),!t.label)return xt.rect(t,B);const S=t.x??0,N=t.y??0,A=t.height??0;let M=[];return M=f?[{x:S-d.width/2,y:N-A/2},{x:S+d.width/2,y:N-A/2},{x:S+d.width/2,y:N-A/2+d.height+w},{x:S+m/2,y:N-A/2+d.height+w},{x:S+m/2,y:N+A/2},{x:S-m/2,y:N+A/2},{x:S-m/2,y:N-A/2+d.height+w},{x:S-d.width/2,y:N-A/2+d.height+w}]:[{x:S-m/2,y:N-A/2},{x:S+m/2,y:N-A/2},{x:S+m/2,y:N-A/2+g},{x:S+d.width/2,y:N-A/2+g},{x:S+d.width/2/2,y:N+A/2},{x:S-d.width/2,y:N+A/2},{x:S-d.width/2,y:N-A/2+g},{x:S-m/2,y:N-A/2+g}],xt.polygon(t,M,B)},h}async function gV(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=It(t);t.labelStyle=i;const a=t.assetHeight??48,s=t.assetWidth??48,o=Math.max(a,s),u=n==null?void 0:n.wrappingWidth;t.width=Math.max(o,u??0);const{shapeSvg:h,bbox:d,label:p}=await Gt(e,t,"icon-shape default"),f=t.label?8:0,g=t.pos==="t",{nodeBorder:m,mainBkg:y}=r,{stylesMap:v}=E0(t),x=_t.svg(h),b=Ct(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const w=v.get("fill");b.stroke=w??y;const T=h.append("g");t.icon&&T.html(`<g>${await Wu(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const k=T.node().getBBox(),R=k.width,C=k.height,E=k.x,_=k.y,L=Math.max(R,C)*Math.SQRT2+40,D=x.circle(0,0,L,b),B=Math.max(L,d.width),S=L+d.height+f,N=x.rectangle(-B/2,-S/2,B,S,{...b,fill:"transparent",stroke:"none"}),A=h.insert(()=>D,":first-child"),M=h.insert(()=>N);return T.attr("transform",`translate(${-R/2-E},${g?d.height/2+f/2-C/2-_:-d.height/2-f/2-C/2-_})`),T.attr("style",`color: ${v.get("stroke")??m};`),p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${g?-S/2:S/2-d.height})`),A.attr("transform",`translate(0,${g?d.height/2+f/2:-d.height/2-f/2})`),At(t,M),t.intersect=function(O){return re.info("iconSquare intersect",t,O),xt.rect(t,O)},h}async function mV(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=It(t);t.labelStyle=i;const a=t.assetHeight??48,s=t.assetWidth??48,o=Math.max(a,s),u=n==null?void 0:n.wrappingWidth;t.width=Math.max(o,u??0);const{shapeSvg:h,bbox:d,halfPadding:p,label:f}=await Gt(e,t,"icon-shape default"),g=t.pos==="t",m=o+2*p,y=o+2*p,{nodeBorder:v,mainBkg:x}=r,{stylesMap:b}=E0(t),w=-y/2,T=-m/2,k=t.label?8:0,R=_t.svg(h),C=Ct(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const E=b.get("fill");C.stroke=E??x;const _=R.path(ol(w,T,y,m,5),C),L=Math.max(y,d.width),D=m+d.height+k,B=R.rectangle(-L/2,-D/2,L,D,{...C,fill:"transparent",stroke:"none"}),S=h.insert(()=>_,":first-child").attr("class","icon-shape2"),N=h.insert(()=>B);if(t.icon){const A=h.append("g");A.html(`<g>${await Wu(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const M=A.node().getBBox(),O=M.width,I=M.height,P=M.x,$=M.y;A.attr("transform",`translate(${-O/2-P},${g?d.height/2+k/2-I/2-$:-d.height/2-k/2-I/2-$})`),A.attr("style",`color: ${b.get("stroke")??v};`)}return f.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${g?-D/2:D/2-d.height})`),S.attr("transform",`translate(0,${g?d.height/2+k/2:-d.height/2-k/2})`),At(t,N),t.intersect=function(A){if(re.info("iconSquare intersect",t,A),!t.label)return xt.rect(t,A);const M=t.x??0,O=t.y??0,I=t.height??0;let P=[];return P=g?[{x:M-d.width/2,y:O-I/2},{x:M+d.width/2,y:O-I/2},{x:M+d.width/2,y:O-I/2+d.height+k},{x:M+y/2,y:O-I/2+d.height+k},{x:M+y/2,y:O+I/2},{x:M-y/2,y:O+I/2},{x:M-y/2,y:O-I/2+d.height+k},{x:M-d.width/2,y:O-I/2+d.height+k}]:[{x:M-y/2,y:O-I/2},{x:M+y/2,y:O-I/2},{x:M+y/2,y:O-I/2+m},{x:M+d.width/2,y:O-I/2+m},{x:M+d.width/2/2,y:O+I/2},{x:M-d.width/2,y:O+I/2},{x:M-d.width/2,y:O-I/2+m},{x:M-y/2,y:O-I/2+m}],xt.polygon(t,P,A)},h}async function yV(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=It(t);t.labelStyle=i;const a=t.assetHeight??48,s=t.assetWidth??48,o=Math.max(a,s),u=n==null?void 0:n.wrappingWidth;t.width=Math.max(o,u??0);const{shapeSvg:h,bbox:d,halfPadding:p,label:f}=await Gt(e,t,"icon-shape default"),g=t.pos==="t",m=o+2*p,y=o+2*p,{nodeBorder:v,mainBkg:x}=r,{stylesMap:b}=E0(t),w=-y/2,T=-m/2,k=t.label?8:0,R=_t.svg(h),C=Ct(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const E=b.get("fill");C.stroke=E??x;const _=R.path(ol(w,T,y,m,.1),C),L=Math.max(y,d.width),D=m+d.height+k,B=R.rectangle(-L/2,-D/2,L,D,{...C,fill:"transparent",stroke:"none"}),S=h.insert(()=>_,":first-child"),N=h.insert(()=>B);if(t.icon){const A=h.append("g");A.html(`<g>${await Wu(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const M=A.node().getBBox(),O=M.width,I=M.height,P=M.x,$=M.y;A.attr("transform",`translate(${-O/2-P},${g?d.height/2+k/2-I/2-$:-d.height/2-k/2-I/2-$})`),A.attr("style",`color: ${b.get("stroke")??v};`)}return f.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${g?-D/2:D/2-d.height})`),S.attr("transform",`translate(0,${g?d.height/2+k/2:-d.height/2-k/2})`),At(t,N),t.intersect=function(A){if(re.info("iconSquare intersect",t,A),!t.label)return xt.rect(t,A);const M=t.x??0,O=t.y??0,I=t.height??0;let P=[];return P=g?[{x:M-d.width/2,y:O-I/2},{x:M+d.width/2,y:O-I/2},{x:M+d.width/2,y:O-I/2+d.height+k},{x:M+y/2,y:O-I/2+d.height+k},{x:M+y/2,y:O+I/2},{x:M-y/2,y:O+I/2},{x:M-y/2,y:O-I/2+d.height+k},{x:M-d.width/2,y:O-I/2+d.height+k}]:[{x:M-y/2,y:O-I/2},{x:M+y/2,y:O-I/2},{x:M+y/2,y:O-I/2+m},{x:M+d.width/2,y:O-I/2+m},{x:M+d.width/2/2,y:O+I/2},{x:M-d.width/2,y:O+I/2},{x:M-d.width/2,y:O-I/2+m},{x:M-y/2,y:O-I/2+m}],xt.polygon(t,P,A)},h}async function vV(e,t,{config:{flowchart:r}}){const n=new Image;n.src=(t==null?void 0:t.img)??"",await n.decode();const i=Number(n.naturalWidth.toString().replace("px","")),a=Number(n.naturalHeight.toString().replace("px",""));t.imageAspectRatio=i/a;const{labelStyles:s}=It(t);t.labelStyle=s;const o=r==null?void 0:r.wrappingWidth;t.defaultWidth=r==null?void 0:r.wrappingWidth;const u=Math.max(t.label?o??0:0,(t==null?void 0:t.assetWidth)??i),h=t.constraint==="on"&&(t!=null&&t.assetHeight)?t.assetHeight*t.imageAspectRatio:u,d=t.constraint==="on"?h/t.imageAspectRatio:(t==null?void 0:t.assetHeight)??a;t.width=Math.max(h,o??0);const{shapeSvg:p,bbox:f,label:g}=await Gt(e,t,"image-shape default"),m=t.pos==="t",y=-h/2,v=-d/2,x=t.label?8:0,b=_t.svg(p),w=Ct(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const T=b.rectangle(y,v,h,d,w),k=Math.max(h,f.width),R=d+f.height+x,C=b.rectangle(-k/2,-R/2,k,R,{...w,fill:"none",stroke:"none"}),E=p.insert(()=>T,":first-child"),_=p.insert(()=>C);if(t.img){const L=p.append("image");L.attr("href",t.img),L.attr("width",h),L.attr("height",d),L.attr("preserveAspectRatio","none"),L.attr("transform",`translate(${-h/2},${m?R/2-d:-R/2})`)}return g.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${m?-d/2-f.height/2-x/2:d/2-f.height/2+x/2})`),E.attr("transform",`translate(0,${m?f.height/2+x/2:-f.height/2-x/2})`),At(t,_),t.intersect=function(L){if(re.info("iconSquare intersect",t,L),!t.label)return xt.rect(t,L);const D=t.x??0,B=t.y??0,S=t.height??0;let N=[];return N=m?[{x:D-f.width/2,y:B-S/2},{x:D+f.width/2,y:B-S/2},{x:D+f.width/2,y:B-S/2+f.height+x},{x:D+h/2,y:B-S/2+f.height+x},{x:D+h/2,y:B+S/2},{x:D-h/2,y:B+S/2},{x:D-h/2,y:B-S/2+f.height+x},{x:D-f.width/2,y:B-S/2+f.height+x}]:[{x:D-h/2,y:B-S/2},{x:D+h/2,y:B-S/2},{x:D+h/2,y:B-S/2+d},{x:D+f.width/2,y:B-S/2+d},{x:D+f.width/2/2,y:B+S/2},{x:D-f.width/2,y:B+S/2},{x:D-f.width/2,y:B-S/2+d},{x:D-h/2,y:B-S/2+d}],xt.polygon(t,N,L)},p}async function xV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await Gt(e,t,qt(t)),s=Math.max(a.width+2*(t.padding??0),(t==null?void 0:t.width)??0),o=Math.max(a.height+2*(t.padding??0),(t==null?void 0:t.height)??0),u=[{x:0,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:-3*o/6,y:-o}];let h;const{cssStyles:d}=t;if(t.look==="handDrawn"){const p=_t.svg(i),f=Ct(t,{}),g=ar(u),m=p.path(g,f);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&h.attr("style",d)}else h=ll(i,s,o,u);return n&&h.attr("style",n),t.width=s,t.height=o,At(t,h),t.intersect=function(p){return xt.polygon(t,u,p)},i}async function a6(e,t,r){const{labelStyles:n,nodeStyles:i}=It(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Gt(e,t,qt(t)),o=Math.max(s.width+2*r.labelPaddingX,(t==null?void 0:t.width)||0),u=Math.max(s.height+2*r.labelPaddingY,(t==null?void 0:t.height)||0),h=-o/2,d=-u/2;let p,{rx:f,ry:g}=t;const{cssStyles:m}=t;if(r!=null&&r.rx&&r.ry&&(f=r.rx,g=r.ry),t.look==="handDrawn"){const y=_t.svg(a),v=Ct(t,{}),x=f||g?y.path(ol(h,d,o,u,f||0),v):y.rectangle(h,d,o,u,v);p=a.insert(()=>x,":first-child"),p.attr("class","basic label-container").attr("style",Ri(m))}else p=a.insert("rect",":first-child"),p.attr("class","basic label-container").attr("style",i).attr("rx",Ri(f)).attr("ry",Ri(g)).attr("x",h).attr("y",d).attr("width",o).attr("height",u);return At(t,p),t.intersect=function(y){return xt.rect(t,y)},a}async function bV(e,t){const{shapeSvg:r,bbox:n,label:i}=await Gt(e,t,"label"),a=r.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-n.width/2-(n.x-(n.left??0))}, ${-n.height/2-(n.y-(n.top??0))})`),At(t,a),t.intersect=function(s){return xt.rect(t,s)},r}async function wV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await Gt(e,t,qt(t)),s=Math.max(a.width+(t.padding??0),(t==null?void 0:t.width)??0),o=Math.max(a.height+(t.padding??0),(t==null?void 0:t.height)??0),u=[{x:0,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:-3*o/6,y:-o}];let h;const{cssStyles:d}=t;if(t.look==="handDrawn"){const p=_t.svg(i),f=Ct(t,{}),g=ar(u),m=p.path(g,f);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&h.attr("style",d)}else h=ll(i,s,o,u);return n&&h.attr("style",n),t.width=s,t.height=o,At(t,h),t.intersect=function(p){return xt.polygon(t,u,p)},i}async function kV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await Gt(e,t,qt(t)),s=Math.max(a.width+(t.padding??0),(t==null?void 0:t.width)??0),o=Math.max(a.height+(t.padding??0),(t==null?void 0:t.height)??0),u=[{x:-3*o/6,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:0,y:-o}];let h;const{cssStyles:d}=t;if(t.look==="handDrawn"){const p=_t.svg(i),f=Ct(t,{}),g=ar(u),m=p.path(g,f);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&h.attr("style",d)}else h=ll(i,s,o,u);return n&&h.attr("style",n),t.width=s,t.height=o,At(t,h),t.intersect=function(p){return xt.polygon(t,u,p)},i}function TV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.label="",t.labelStyle=r;const i=e.insert("g").attr("class",qt(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,s=Math.max(35,(t==null?void 0:t.width)??0),o=Math.max(35,(t==null?void 0:t.height)??0),u=[{x:s,y:0},{x:0,y:o+3.5},{x:s-14,y:o+3.5},{x:0,y:2*o},{x:s,y:o-3.5},{x:14,y:o-3.5}],h=_t.svg(i),d=Ct(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=ar(u),f=h.path(p,d),g=i.insert(()=>f,":first-child");return a&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",a),n&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",n),g.attr("transform",`translate(-${s/2},${-o})`),At(t,g),t.intersect=function(m){return re.info("lightningBolt intersect",t,m),xt.polygon(t,u,m)},i}l(dV,"hexagon"),l(pV,"hourglass"),l(fV,"icon"),l(gV,"iconCircle"),l(mV,"iconRounded"),l(yV,"iconSquare"),l(vV,"imageSquare"),l(xV,"inv_trapezoid"),l(a6,"drawRect"),l(bV,"labelRect"),l(wV,"lean_left"),l(kV,"lean_right"),l(TV,"lightningBolt");var oge=l((e,t,r,n,i,a,s)=>[`M${e},${t+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,"l0,"+-n,`M${e},${t+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),lge=l((e,t,r,n,i,a,s)=>[`M${e},${t+a}`,`M${e+r},${t+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,"l0,"+-n,`M${e},${t+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),cge=l((e,t,r,n,i,a)=>[`M${e-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function _V(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=Math.max(a.width+(t.padding??0),t.width??0),u=o/2,h=u/(2.5+o/50),d=Math.max(a.height+h+(t.padding??0),t.height??0),p=.1*d;let f;const{cssStyles:g}=t;if(t.look==="handDrawn"){const m=_t.svg(i),y=lge(0,0,o,d,u,h,p),v=cge(0,h,o,d,u,h),x=Ct(t,{}),b=m.path(y,x),w=m.path(v,x);i.insert(()=>w,":first-child").attr("class","line"),f=i.insert(()=>b,":first-child"),f.attr("class","basic label-container"),g&&f.attr("style",g)}else{const m=oge(0,0,o,d,u,h,p);f=i.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",Ri(g)).attr("style",n)}return f.attr("label-offset-y",h),f.attr("transform",`translate(${-o/2}, ${-(d/2+h)})`),At(t,f),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-a.height/2+h-(a.y-(a.top??0))})`),t.intersect=function(m){const y=xt.rect(t,m),v=y.x-(t.x??0);if(u!=0&&(Math.abs(v)<(t.width??0)/2||Math.abs(v)==(t.width??0)/2&&Math.abs(y.y-(t.y??0))>(t.height??0)/2-h)){let x=h*h*(1-v*v/(u*u));x>0&&(x=Math.sqrt(x)),x=h-x,m.y-(t.y??0)>0&&(x=-x),y.y+=x}return y},i}async function EV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=Math.max(a.width+2*(t.padding??0),(t==null?void 0:t.width)??0),u=Math.max(a.height+2*(t.padding??0),(t==null?void 0:t.height)??0),h=u/4,d=u+h,{cssStyles:p}=t,f=_t.svg(i),g=Ct(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:-o/2-o/2*.1,y:-d/2},{x:-o/2-o/2*.1,y:d/2},...Ql(-o/2-o/2*.1,d/2,o/2+o/2*.1,d/2,h,.8),{x:o/2+o/2*.1,y:-d/2},{x:-o/2-o/2*.1,y:-d/2},{x:-o/2,y:-d/2},{x:-o/2,y:d/2*1.1},{x:-o/2,y:-d/2}],y=f.polygon(m.map(x=>[x.x,x.y]),g),v=i.insert(()=>y,":first-child");return v.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",n),v.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-o/2+(t.padding??0)+o/2*.1/2-(a.x-(a.left??0))},${-u/2+(t.padding??0)-h/2-(a.y-(a.top??0))})`),At(t,v),t.intersect=function(x){return xt.polygon(t,m,x)},i}async function CV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=Math.max(a.width+2*(t.padding??0),(t==null?void 0:t.width)??0),u=Math.max(a.height+2*(t.padding??0),(t==null?void 0:t.height)??0),h=-o/2,d=-u/2,{cssStyles:p}=t,f=_t.svg(i),g=Ct(t,{}),m=[{x:h-5,y:d+5},{x:h-5,y:d+u+5},{x:h+o-5,y:d+u+5},{x:h+o-5,y:d+u},{x:h+o,y:d+u},{x:h+o,y:d+u-5},{x:h+o+5,y:d+u-5},{x:h+o+5,y:d-5},{x:h+5,y:d-5},{x:h+5,y:d},{x:h,y:d},{x:h,y:d+5}],y=[{x:h,y:d+5},{x:h+o-5,y:d+5},{x:h+o-5,y:d+u},{x:h+o,y:d+u},{x:h+o,y:d},{x:h,y:d}];t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const v=ar(m),x=f.path(v,g),b=ar(y),w=f.path(b,{...g,fill:"none"}),T=i.insert(()=>w,":first-child");return T.insert(()=>x,":first-child"),T.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",n),s.attr("transform",`translate(${-a.width/2-5-(a.x-(a.left??0))}, ${-a.height/2+5-(a.y-(a.top??0))})`),At(t,T),t.intersect=function(k){return xt.polygon(t,m,k)},i}async function SV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=Math.max(a.width+2*(t.padding??0),(t==null?void 0:t.width)??0),u=Math.max(a.height+2*(t.padding??0),(t==null?void 0:t.height)??0),h=u/4,d=u+h,p=-o/2,f=-d/2,{cssStyles:g}=t,m=Ql(p-5,f+d+5,p+o-5,f+d+5,h,.8),y=m==null?void 0:m[m.length-1],v=[{x:p-5,y:f+5},{x:p-5,y:f+d+5},...m,{x:p+o-5,y:y.y-5},{x:p+o,y:y.y-5},{x:p+o,y:y.y-10},{x:p+o+5,y:y.y-10},{x:p+o+5,y:f-5},{x:p+5,y:f-5},{x:p+5,y:f},{x:p,y:f},{x:p,y:f+5}],x=[{x:p,y:f+5},{x:p+o-5,y:f+5},{x:p+o-5,y:y.y-5},{x:p+o,y:y.y-5},{x:p+o,y:f},{x:p,y:f}],b=_t.svg(i),w=Ct(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const T=ar(v),k=b.path(T,w),R=ar(x),C=b.path(R,w),E=i.insert(()=>k,":first-child");return E.insert(()=>C),E.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",n),E.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-a.width/2-5-(a.x-(a.left??0))}, ${-a.height/2+5-h/2-(a.y-(a.top??0))})`),At(t,E),t.intersect=function(_){return xt.polygon(t,v,_)},i}async function AV(e,t,{config:{themeVariables:r}}){var v;const{labelStyles:n,nodeStyles:i}=It(t);t.labelStyle=n,t.useHtmlLabels||((v=Zr().flowchart)==null?void 0:v.htmlLabels)!==!1||(t.centerLabel=!0);const{shapeSvg:a,bbox:s}=await Gt(e,t,qt(t)),o=Math.max(s.width+2*(t.padding??0),(t==null?void 0:t.width)??0),u=Math.max(s.height+2*(t.padding??0),(t==null?void 0:t.height)??0),h=-o/2,d=-u/2,{cssStyles:p}=t,f=_t.svg(a),g=Ct(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=f.rectangle(h,d,o,u,g),y=a.insert(()=>m,":first-child");return y.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",i),At(t,y),t.intersect=function(x){return xt.rect(t,x)},a}l(_V,"linedCylinder"),l(EV,"linedWaveEdgedRect"),l(CV,"multiRect"),l(SV,"multiWaveEdgedRectangle"),l(AV,"note");var uge=l((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function LV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await Gt(e,t,qt(t)),s=a.width+t.padding+(a.height+t.padding),o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];let u;const{cssStyles:h}=t;if(t.look==="handDrawn"){const d=_t.svg(i),p=Ct(t,{}),f=uge(0,0,s),g=d.path(f,p);u=i.insert(()=>g,":first-child").attr("transform",`translate(${-s/2}, ${s/2})`),h&&u.attr("style",h)}else u=ll(i,s,s,o);return n&&u.attr("style",n),At(t,u),t.intersect=function(d){return re.debug(`APA12 Intersect called SPLIT
point:`,d,`
node:
`,t,`
res:`,xt.polygon(t,o,d)),xt.polygon(t,o,d)},i}async function NV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=-Math.max(a.width+(t.padding??0),(t==null?void 0:t.width)??0)/2,u=-Math.max(a.height+(t.padding??0),(t==null?void 0:t.height)??0)/2,h=u/2,d=[{x:o+h,y:u},{x:o,y:0},{x:o+h,y:-u},{x:-o,y:-u},{x:-o,y:u}],{cssStyles:p}=t,f=_t.svg(i),g=Ct(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=ar(d),y=f.path(m,g),v=i.insert(()=>y,":first-child");return v.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",n),v.attr("transform",`translate(${-h/2},0)`),s.attr("transform",`translate(${-h/2-a.width/2-(a.x-(a.left??0))}, ${-a.height/2-(a.y-(a.top??0))})`),At(t,v),t.intersect=function(x){return xt.polygon(t,d,x)},i}async function IV(e,t){var E,_;const{labelStyles:r,nodeStyles:n}=It(t);let i;t.labelStyle=r,i=t.cssClasses?"node "+t.cssClasses:"node default";const a=e.insert("g").attr("class",i).attr("id",t.domId||t.id),s=a.insert("g"),o=a.insert("g").attr("class","label").attr("style",n),u=t.description,h=t.label,d=o.node().appendChild(await hu(h,t.labelStyle,!0,!0));let p={width:0,height:0};if(Mr((_=(E=ye())==null?void 0:E.flowchart)==null?void 0:_.htmlLabels)){const L=d.children[0],D=Qe(d);p=L.getBoundingClientRect(),D.attr("width",p.width),D.attr("height",p.height)}re.info("Text 2",u);const f=u||[],g=d.getBBox(),m=o.node().appendChild(await hu(f.join?f.join("<br/>"):f,t.labelStyle,!0,!0)),y=m.children[0],v=Qe(m);p=y.getBoundingClientRect(),v.attr("width",p.width),v.attr("height",p.height);const x=(t.padding||0)/2;Qe(m).attr("transform","translate( "+(p.width>g.width?0:(g.width-p.width)/2)+", "+(g.height+x+5)+")"),Qe(d).attr("transform","translate( "+(p.width<g.width?0:-(g.width-p.width)/2)+", 0)"),p=o.node().getBBox(),o.attr("transform","translate("+-p.width/2+", "+(-p.height/2-x+3)+")");const b=p.width+(t.padding||0),w=p.height+(t.padding||0),T=-p.width/2-x,k=-p.height/2-x;let R,C;if(t.look==="handDrawn"){const L=_t.svg(a),D=Ct(t,{}),B=L.path(ol(T,k,b,w,t.rx||0),D),S=L.line(-p.width/2-x,-p.height/2-x+g.height+x,p.width/2+x,-p.height/2-x+g.height+x,D);C=a.insert(()=>(re.debug("Rough node insert CXC",B),S),":first-child"),R=a.insert(()=>(re.debug("Rough node insert CXC",B),B),":first-child")}else R=s.insert("rect",":first-child"),C=s.insert("line"),R.attr("class","outer title-state").attr("style",n).attr("x",-p.width/2-x).attr("y",-p.height/2-x).attr("width",p.width+(t.padding||0)).attr("height",p.height+(t.padding||0)),C.attr("class","divider").attr("x1",-p.width/2-x).attr("x2",p.width/2+x).attr("y1",-p.height/2-x+g.height+x).attr("y2",-p.height/2-x+g.height+x);return At(t,R),t.intersect=function(L){return xt.rect(t,L)},a}async function MV(e,t){return a6(e,t,{rx:5,ry:5,classes:"",labelPaddingX:1*((t==null?void 0:t.padding)||0),labelPaddingY:1*((t==null?void 0:t.padding)||0)})}async function RV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=(t==null?void 0:t.padding)??0,u=Math.max(a.width+2*(t.padding??0),(t==null?void 0:t.width)??0),h=Math.max(a.height+2*(t.padding??0),(t==null?void 0:t.height)??0),d=-a.width/2-o,p=-a.height/2-o,{cssStyles:f}=t,g=_t.svg(i),m=Ct(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:d,y:p},{x:d+u+8,y:p},{x:d+u+8,y:p+h},{x:d-8,y:p+h},{x:d-8,y:p},{x:d,y:p},{x:d,y:p+h}],v=g.polygon(y.map(b=>[b.x,b.y]),m),x=i.insert(()=>v,":first-child");return x.attr("class","basic label-container").attr("style",Ri(f)),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),f&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),s.attr("transform",`translate(${-u/2+4+(t.padding??0)-(a.x-(a.left??0))},${-h/2+(t.padding??0)-(a.y-(a.top??0))})`),At(t,x),t.intersect=function(b){return xt.rect(t,b)},i}async function DV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=Math.max(a.width+2*(t.padding??0),(t==null?void 0:t.width)??0),u=Math.max(a.height+2*(t.padding??0),(t==null?void 0:t.height)??0),h=-o/2,d=-u/2,{cssStyles:p}=t,f=_t.svg(i),g=Ct(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:h,y:d},{x:h,y:d+u},{x:h+o,y:d+u},{x:h+o,y:d-u/2}],y=ar(m),v=f.path(y,g),x=i.insert(()=>v,":first-child");return x.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",p),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),x.attr("transform",`translate(0, ${u/4})`),s.attr("transform",`translate(${-o/2+(t.padding??0)-(a.x-(a.left??0))}, ${-u/4+(t.padding??0)-(a.y-(a.top??0))})`),At(t,x),t.intersect=function(b){return xt.polygon(t,m,b)},i}async function OV(e,t){return a6(e,t,{rx:0,ry:0,classes:"",labelPaddingX:2*((t==null?void 0:t.padding)||0),labelPaddingY:1*((t==null?void 0:t.padding)||0)})}async function PV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await Gt(e,t,qt(t)),s=a.height+t.padding,o=a.width+s/4+t.padding;let u;const{cssStyles:h}=t;if(t.look==="handDrawn"){const d=_t.svg(i),p=Ct(t,{}),f=ol(-o/2,-s/2,o,s,s/2),g=d.path(f,p);u=i.insert(()=>g,":first-child"),u.attr("class","basic label-container").attr("style",Ri(h))}else u=i.insert("rect",":first-child"),u.attr("class","basic label-container").attr("style",n).attr("rx",s/2).attr("ry",s/2).attr("x",-o/2).attr("y",-s/2).attr("width",o).attr("height",s);return At(t,u),t.intersect=function(d){return xt.rect(t,d)},i}async function BV(e,t){return a6(e,t,{rx:5,ry:5,classes:"flowchart-node"})}function $V(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=It(t);t.labelStyle=n;const{cssStyles:a}=t,{lineColor:s,stateBorder:o,nodeBorder:u}=r,h=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),d=_t.svg(h),p=Ct(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const f=d.circle(0,0,14,{...p,stroke:s,strokeWidth:2}),g=o??u,m=d.circle(0,0,5,{...p,fill:g,stroke:g,strokeWidth:2,fillStyle:"solid"}),y=h.insert(()=>f,":first-child");return y.insert(()=>m),a&&y.selectAll("path").attr("style",a),i&&y.selectAll("path").attr("style",i),At(t,y),t.intersect=function(v){return xt.circle(t,7,v)},h}function FV(e,t,{config:{themeVariables:r}}){const{lineColor:n}=r,i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let a;if(t.look==="handDrawn"){const s=_t.svg(i).circle(0,0,14,Wfe(n));a=i.insert(()=>s),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else a=i.insert("circle",":first-child"),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return At(t,a),t.intersect=function(s){return xt.circle(t,7,s)},i}async function zV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await Gt(e,t,qt(t)),s=((t==null?void 0:t.padding)||0)/2,o=a.width+t.padding,u=a.height+t.padding,h=-a.width/2-s,d=-a.height/2-s,p=[{x:0,y:0},{x:o,y:0},{x:o,y:-u},{x:0,y:-u},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-u},{x:-8,y:-u},{x:-8,y:0}];if(t.look==="handDrawn"){const f=_t.svg(i),g=Ct(t,{}),m=f.rectangle(h-8,d,o+16,u,g),y=f.line(h,d,h,d+u,g),v=f.line(h+o,d,h+o,d+u,g);i.insert(()=>y,":first-child"),i.insert(()=>v,":first-child");const x=i.insert(()=>m,":first-child"),{cssStyles:b}=t;x.attr("class","basic label-container").attr("style",Ri(b)),At(t,x)}else{const f=ll(i,o,u,p);n&&f.attr("style",n),At(t,f)}return t.intersect=function(f){return xt.polygon(t,p,f)},i}async function UV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await Gt(e,t,qt(t)),s=Math.max(a.width+2*(t.padding??0),(t==null?void 0:t.width)??0),o=Math.max(a.height+2*(t.padding??0),(t==null?void 0:t.height)??0),u=-s/2,h=-o/2,d=.2*o,p=.2*o,{cssStyles:f}=t,g=_t.svg(i),m=Ct(t,{}),y=[{x:u-d/2,y:h},{x:u+s+d/2,y:h},{x:u+s+d/2,y:h+o},{x:u-d/2,y:h+o}],v=[{x:u+s-d/2,y:h+o},{x:u+s+d/2,y:h+o},{x:u+s+d/2,y:h+o-p}];t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=ar(y),b=g.path(x,m),w=ar(v),T=g.path(w,{...m,fillStyle:"solid"}),k=i.insert(()=>T,":first-child");return k.insert(()=>b,":first-child"),k.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),At(t,k),t.intersect=function(R){return xt.polygon(t,y,R)},i}async function GV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=Math.max(a.width+2*(t.padding??0),(t==null?void 0:t.width)??0),u=Math.max(a.height+2*(t.padding??0),(t==null?void 0:t.height)??0),h=u/4,d=.2*o,p=.2*u,f=u+h,{cssStyles:g}=t,m=_t.svg(i),y=Ct(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const v=[{x:-o/2-o/2*.1,y:f/2},...Ql(-o/2-o/2*.1,f/2,o/2+o/2*.1,f/2,h,.8),{x:o/2+o/2*.1,y:-f/2},{x:-o/2-o/2*.1,y:-f/2}],x=-o/2+o/2*.1,b=-f/2-.4*p,w=[{x:x+o-d,y:1.4*(b+u)},{x:x+o,y:b+u-p},{x:x+o,y:.9*(b+u)},...Ql(x+o,1.3*(b+u),x+o-d,1.5*(b+u),.03*-u,.5)],T=ar(v),k=m.path(T,y),R=ar(w),C=m.path(R,{...y,fillStyle:"solid"}),E=i.insert(()=>C,":first-child");return E.insert(()=>k,":first-child"),E.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",n),E.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-o/2+(t.padding??0)-(a.x-(a.left??0))},${-u/2+(t.padding??0)-h/2-(a.y-(a.top??0))})`),At(t,E),t.intersect=function(_){return xt.polygon(t,v,_)},i}async function qV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await Gt(e,t,qt(t)),s=Math.max(a.width+t.padding,(t==null?void 0:t.width)||0),o=Math.max(a.height+t.padding,(t==null?void 0:t.height)||0),u=-s/2,h=-o/2,d=i.insert("rect",":first-child");return d.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",u).attr("y",h).attr("width",s).attr("height",o),At(t,d),t.intersect=function(p){return xt.rect(t,p)},i}l(LV,"question"),l(NV,"rect_left_inv_arrow"),l(IV,"rectWithTitle"),l(MV,"roundedRect"),l(RV,"shadedProcess"),l(DV,"slopedRect"),l(OV,"squareRect"),l(PV,"stadium"),l(BV,"state"),l($V,"stateEnd"),l(FV,"stateStart"),l(zV,"subroutine"),l(UV,"taggedRect"),l(GV,"taggedWaveEdgedRectangle"),l(qV,"text");var hge=l((e,t,r,n,i,a)=>`M${e},${t}
    a${i},${a} 0,0,1 0,${-n}
    l${r},0
    a${i},${a} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${a} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),dge=l((e,t,r,n,i,a)=>[`M${e},${t}`,`M${e+r},${t}`,`a${i},${a} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${a} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),pge=l((e,t,r,n,i,a)=>[`M${e+r/2},${-n/2}`,`a${i},${a} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function jV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s,halfPadding:o}=await Gt(e,t,qt(t)),u=t.look==="neo"?2*o:o,h=a.height+u,d=h/2,p=d/(2.5+h/50),f=a.width+p+u,{cssStyles:g}=t;let m;if(t.look==="handDrawn"){const y=_t.svg(i),v=dge(0,0,f,h,p,d),x=pge(0,0,f,h,p,d),b=y.path(v,Ct(t,{})),w=y.path(x,Ct(t,{fill:"none"}));m=i.insert(()=>w,":first-child"),m=i.insert(()=>b,":first-child"),m.attr("class","basic label-container"),g&&m.attr("style",g)}else{const y=hge(0,0,f,h,p,d);m=i.insert("path",":first-child").attr("d",y).attr("class","basic label-container").attr("style",Ri(g)).attr("style",n),m.attr("class","basic label-container"),g&&m.selectAll("path").attr("style",g),n&&m.selectAll("path").attr("style",n)}return m.attr("label-offset-x",p),m.attr("transform",`translate(${-f/2}, ${h/2} )`),s.attr("transform",`translate(${-a.width/2-p-(a.x-(a.left??0))}, ${-a.height/2-(a.y-(a.top??0))})`),At(t,m),t.intersect=function(y){const v=xt.rect(t,y),x=v.y-(t.y??0);if(d!=0&&(Math.abs(x)<(t.height??0)/2||Math.abs(x)==(t.height??0)/2&&Math.abs(v.x-(t.x??0))>(t.width??0)/2-p)){let b=p*p*(1-x*x/(d*d));b!=0&&(b=Math.sqrt(Math.abs(b))),b=p-b,y.x-(t.x??0)>0&&(b=-b),v.x+=b}return v},i}async function YV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await Gt(e,t,qt(t)),s=a.width+t.padding,o=a.height+t.padding,u=[{x:-3*o/6,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:0,y:-o}];let h;const{cssStyles:d}=t;if(t.look==="handDrawn"){const p=_t.svg(i),f=Ct(t,{}),g=ar(u),m=p.path(g,f);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&h.attr("style",d)}else h=ll(i,s,o,u);return n&&h.attr("style",n),t.width=s,t.height=o,At(t,h),t.intersect=function(p){return xt.polygon(t,u,p)},i}async function WV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await Gt(e,t,qt(t)),s=Math.max(60,a.width+2*(t.padding??0),(t==null?void 0:t.width)??0),o=Math.max(20,a.height+2*(t.padding??0),(t==null?void 0:t.height)??0),{cssStyles:u}=t,h=_t.svg(i),d=Ct(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=[{x:-s/2*.8,y:-o/2},{x:s/2*.8,y:-o/2},{x:s/2,y:-o/2*.6},{x:s/2,y:o/2},{x:-s/2,y:o/2},{x:-s/2,y:-o/2*.6}],f=ar(p),g=h.path(f,d),m=i.insert(()=>g,":first-child");return m.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",u),n&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",n),At(t,m),t.intersect=function(y){return xt.polygon(t,p,y)},i}async function HV(e,t){var b;const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=Mr((b=ye().flowchart)==null?void 0:b.htmlLabels),u=a.width+(t.padding??0),h=u+a.height,d=u+a.height,p=[{x:0,y:0},{x:d,y:0},{x:d/2,y:-h}],{cssStyles:f}=t,g=_t.svg(i),m=Ct(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=ar(p),v=g.path(y,m),x=i.insert(()=>v,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return f&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",f),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),t.width=u,t.height=h,At(t,x),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${h/2-(a.height+(t.padding??0)/(o?2:1)-(a.y-(a.top??0)))})`),t.intersect=function(w){return re.info("Triangle intersect",t,p,w),xt.polygon(t,p,w)},i}async function VV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=Math.max(a.width+2*(t.padding??0),(t==null?void 0:t.width)??0),u=Math.max(a.height+2*(t.padding??0),(t==null?void 0:t.height)??0),h=u/8,d=u+h,{cssStyles:p}=t,f=70-o,g=f>0?f/2:0,m=_t.svg(i),y=Ct(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const v=[{x:-o/2-g,y:d/2},...Ql(-o/2-g,d/2,o/2+g,d/2,h,.8),{x:o/2+g,y:-d/2},{x:-o/2-g,y:-d/2}],x=ar(v),b=m.path(x,y),w=i.insert(()=>b,":first-child");return w.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",n),w.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-o/2+(t.padding??0)-(a.x-(a.left??0))},${-u/2+(t.padding??0)-h-(a.y-(a.top??0))})`),At(t,w),t.intersect=function(T){return xt.polygon(t,v,T)},i}async function XV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await Gt(e,t,qt(t)),s=Math.max(a.width+2*(t.padding??0),(t==null?void 0:t.width)??0),o=Math.max(a.height+2*(t.padding??0),(t==null?void 0:t.height)??0),u=s/o;let h=s,d=o;h>d*u?d=h/u:h=d*u,h=Math.max(h,100),d=Math.max(d,50);const p=Math.min(.2*d,d/4),f=d+2*p,{cssStyles:g}=t,m=_t.svg(i),y=Ct(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const v=[{x:-h/2,y:f/2},...Ql(-h/2,f/2,h/2,f/2,p,1),{x:h/2,y:-f/2},...Ql(h/2,-f/2,-h/2,-f/2,p,-1)],x=ar(v),b=m.path(x,y),w=i.insert(()=>b,":first-child");return w.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",n),At(t,w),t.intersect=function(T){return xt.polygon(t,v,T)},i}async function KV(e,t){const{labelStyles:r,nodeStyles:n}=It(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Gt(e,t,qt(t)),o=Math.max(a.width+2*(t.padding??0),(t==null?void 0:t.width)??0),u=Math.max(a.height+2*(t.padding??0),(t==null?void 0:t.height)??0),h=-o/2,d=-u/2,{cssStyles:p}=t,f=_t.svg(i),g=Ct(t,{}),m=[{x:h-5,y:d-5},{x:h-5,y:d+u},{x:h+o,y:d+u},{x:h+o,y:d-5}],y=`M${h-5},${d-5} L${h+o},${d-5} L${h+o},${d+u} L${h-5},${d+u} L${h-5},${d-5}
                M${h-5},${d} L${h+o},${d}
                M${h},${d-5} L${h},${d+u}`;t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const v=f.path(y,g),x=i.insert(()=>v,":first-child");return x.attr("transform","translate(2.5, 2.5)"),x.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),s.attr("transform",`translate(${-a.width/2+2.5-(a.x-(a.left??0))}, ${-a.height/2+2.5-(a.y-(a.top??0))})`),At(t,x),t.intersect=function(b){return xt.polygon(t,m,b)},i}async function ZV(e,t,r,n,i=r.class.padding??12){const a=n?0:3,s=e.insert("g").attr("class",qt(t)).attr("id",t.domId||t.id);let o=null,u=null,h=null,d=null,p=0,f=0,g=0;if(o=s.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const b=t.annotations[0];await dm(o,{text:`${b}`},0),p=o.node().getBBox().height}u=s.insert("g").attr("class","label-group text"),await dm(u,t,0,["font-weight: bolder"]);const m=u.node().getBBox();f=m.height,h=s.insert("g").attr("class","members-group text");let y=0;for(const b of t.members)y+=await dm(h,b,y,[b.parseClassifier()])+a;g=h.node().getBBox().height,g<=0&&(g=i/2),d=s.insert("g").attr("class","methods-group text");let v=0;for(const b of t.methods)v+=await dm(d,b,v,[b.parseClassifier()])+a;let x=s.node().getBBox();if(o!==null){const b=o.node().getBBox();o.attr("transform",`translate(${-b.width/2})`)}return u.attr("transform",`translate(${-m.width/2}, ${p})`),x=s.node().getBBox(),h.attr("transform",`translate(0, ${p+f+2*i})`),x=s.node().getBBox(),d.attr("transform",`translate(0, ${p+f+(g?g+4*i:2*i)})`),x=s.node().getBBox(),{shapeSvg:s,bbox:x}}async function dm(e,t,r,n=[]){const i=e.insert("g").attr("class","label").attr("style",n.join("; ")),a=Zr();let s="useHtmlLabels"in t?t.useHtmlLabels:Mr(a.htmlLabels)??!0,o="";o="text"in t?t.text:t.label,!s&&o.startsWith("\\")&&(o=o.substring(1)),Ti(o)&&(s=!0);const u=await ls(i,f$(Go(o)),{width:Ja(o,a)+50,classes:"markdown-node-label",useHtmlLabels:s},a);let h,d=1;if(s){const p=u.children[0],f=Qe(u);d=p.innerHTML.split("<br>").length,p.innerHTML.includes("</math>")&&(d+=p.innerHTML.split("<mrow>").length-1);const g=p.getElementsByTagName("img");if(g){const m=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...g].map(y=>new Promise(v=>{function x(){var b;if(y.style.display="flex",y.style.flexDirection="column",m){const w=((b=a.fontSize)==null?void 0:b.toString())??window.getComputedStyle(document.body).fontSize,T=5,k=parseInt(w,10)*T+"px";y.style.minWidth=k,y.style.maxWidth=k}else y.style.width="100%";v(y)}l(x,"setupImage"),setTimeout(()=>{y.complete&&x()}),y.addEventListener("error",x),y.addEventListener("load",x)})))}h=p.getBoundingClientRect(),f.attr("width",h.width),f.attr("height",h.height)}else{n.includes("font-weight: bolder")&&Qe(u).selectAll("tspan").attr("font-weight",""),d=u.children.length;const p=u.children[0];(u.textContent===""||u.textContent.includes("&gt"))&&(p.textContent=o[0]+o.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),o[1]===" "&&(p.textContent=p.textContent[0]+" "+p.textContent.substring(1))),p.textContent==="undefined"&&(p.textContent=""),h=u.getBBox()}return i.attr("transform","translate(0,"+(-h.height/(2*d)+r)+")"),h.height}async function QV(e,t){var _,L;const r=ye(),n=r.class.padding??12,i=n,a=t.useHtmlLabels??Mr(r.htmlLabels)??!0,s=t;s.annotations=s.annotations??[],s.members=s.members??[],s.methods=s.methods??[];const{shapeSvg:o,bbox:u}=await ZV(e,t,r,a,i),{labelStyles:h,nodeStyles:d}=It(t);t.labelStyle=h,t.cssStyles=s.styles||"";const p=((_=s.styles)==null?void 0:_.join(";"))||d||"";t.cssStyles||(t.cssStyles=p.replaceAll("!important","").split(";"));const f=s.members.length===0&&s.methods.length===0&&!((L=r.class)!=null&&L.hideEmptyMembersBox),g=_t.svg(o),m=Ct(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=u.width;let v=u.height;s.members.length===0&&s.methods.length===0?v+=i:s.members.length>0&&s.methods.length===0&&(v+=2*i);const x=-y/2,b=-v/2,w=g.rectangle(x-n,b-n-(f?n:s.members.length===0&&s.methods.length===0?-n/2:0),y+2*n,v+2*n+(f?2*n:s.members.length===0&&s.methods.length===0?-n:0),m),T=o.insert(()=>w,":first-child");T.attr("class","basic label-container");const k=T.node().getBBox();o.selectAll(".text").each((D,B,S)=>{var P;const N=Qe(S[B]),A=N.attr("transform");let M=0;if(A){const $=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(A);$&&(M=parseFloat($[2]))}let O=M+b+n-(f?n:s.members.length===0&&s.methods.length===0?-n/2:0);a||(O-=4);let I=x;(N.attr("class").includes("label-group")||N.attr("class").includes("annotation-group"))&&(I=-((P=N.node())==null?void 0:P.getBBox().width)/2||0,o.selectAll("text").each(function($,z,G){window.getComputedStyle(G[z]).textAnchor==="middle"&&(I=0)})),N.attr("transform",`translate(${I}, ${O})`)});const R=o.select(".annotation-group").node().getBBox().height-(f?n/2:0)||0,C=o.select(".label-group").node().getBBox().height-(f?n/2:0)||0,E=o.select(".members-group").node().getBBox().height-(f?n/2:0)||0;if(s.members.length>0||s.methods.length>0||f){const D=g.line(k.x,R+C+b+n,k.x+k.width,R+C+b+n,m);o.insert(()=>D).attr("class","divider").attr("style",p)}if(f||s.members.length>0||s.methods.length>0){const D=g.line(k.x,R+C+E+b+2*i+n,k.x+k.width,R+C+E+b+n+2*i,m);o.insert(()=>D).attr("class","divider").attr("style",p)}if(s.look!=="handDrawn"&&o.selectAll("path").attr("style",p),T.select(":nth-child(2)").attr("style",p),o.selectAll(".divider").select("path").attr("style",p),t.labelStyle?o.selectAll("span").attr("style",t.labelStyle):o.selectAll("span").attr("style",p),!a){const D=RegExp(/color\s*:\s*([^;]*)/),B=D.exec(p);if(B){const S=B[0].replace("color","fill");o.selectAll("tspan").attr("style",S)}else if(h){const S=D.exec(h);if(S){const N=S[0].replace("color","fill");o.selectAll("tspan").attr("style",N)}}}return At(t,T),t.intersect=function(D){return xt.rect(t,D)},o}l(jV,"tiltedCylinder"),l(YV,"trapezoid"),l(WV,"trapezoidalPentagon"),l(HV,"triangle"),l(VV,"waveEdgedRectangle"),l(XV,"waveRectangle"),l(KV,"windowPane"),l(ZV,"textHelper"),l(dm,"addText"),l(QV,"classBox");var fge=l(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function JV(e,t,{config:r}){var L,D;const{labelStyles:n,nodeStyles:i}=It(t);t.labelStyle=n||"";const a=t.width;t.width=(t.width??200)-10;const{shapeSvg:s,bbox:o,label:u}=await Gt(e,t,qt(t)),h=t.padding||10;let d,p="";"ticket"in t&&t.ticket&&((L=r==null?void 0:r.kanban)!=null&&L.ticketBaseUrl)&&(p=(D=r==null?void 0:r.kanban)==null?void 0:D.ticketBaseUrl.replace("#TICKET#",t.ticket),d=s.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",p).attr("target","_blank"));const f={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let g,m;({label:g,bbox:m}=d?await ak(d,"ticket"in t&&t.ticket||"",f):await ak(s,"ticket"in t&&t.ticket||"",f));const{label:y,bbox:v}=await ak(s,"assigned"in t&&t.assigned||"",f);t.width=a;const x=(t==null?void 0:t.width)||0,b=Math.max(m.height,v.height)/2,w=Math.max(o.height+20,(t==null?void 0:t.height)||0)+b,T=-x/2,k=-w/2;let R;u.attr("transform","translate("+(h-x/2)+", "+(-b-o.height/2)+")"),g.attr("transform","translate("+(h-x/2)+", "+(-b+o.height/2)+")"),y.attr("transform","translate("+(h+x/2-v.width-20)+", "+(-b+o.height/2)+")");const{rx:C,ry:E}=t,{cssStyles:_}=t;if(t.look==="handDrawn"){const B=_t.svg(s),S=Ct(t,{}),N=C||E?B.path(ol(T,k,x,w,C||0),S):B.rectangle(T,k,x,w,S);R=s.insert(()=>N,":first-child"),R.attr("class","basic label-container").attr("style",_||null)}else{R=s.insert("rect",":first-child"),R.attr("class","basic label-container __APA__").attr("style",i).attr("rx",C??5).attr("ry",E??5).attr("x",T).attr("y",k).attr("width",x).attr("height",w);const B="priority"in t&&t.priority;if(B){const S=s.append("line"),N=T+2,A=k+Math.floor((C??0)/2),M=k+w-Math.floor((C??0)/2);S.attr("x1",N).attr("y1",A).attr("x2",N).attr("y2",M).attr("stroke-width","4").attr("stroke",fge(B))}}return At(t,R),t.height=w,t.intersect=function(B){return xt.rect(t,B)},s}l(JV,"kanbanItem");var gge=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:OV},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:MV},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:PV},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:zV},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:aV},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:QH},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:LV},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:dV},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:kV},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:wV},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:YV},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:xV},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:oV},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:qV},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:KH},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:RV},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:FV},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:$V},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:uV},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:pV},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:tV},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:rV},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:nV},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:TV},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:VV},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:hV},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:jV},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:_V},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:iV},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:sV},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:HV},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:KV},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:lV},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:WV},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:cV},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:DV},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:SV},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:CV},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:XH},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:eV},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:GV},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:UV},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:XV},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:NV},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:EV}],mge=l(()=>{const e={state:BV,choice:ZH,note:AV,rectWithTitle:IV,labelRect:bV,iconSquare:yV,iconCircle:gV,icon:fV,iconRounded:mV,imageSquare:vV,anchor:VH,kanbanItem:JV,classBox:QV},t=[...Object.entries(e),...gge.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(n=>[n,r.handler]))];return Object.fromEntries(t)},"generateShapeMap"),eX=mge();function tX(e){return e in eX}l(tX,"isValidShape");var s6=new Map;async function o6(e,t,r){let n,i;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const a=t.shape?eX[t.shape]:void 0;if(!a)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let s;r.config.securityLevel==="sandbox"?s="_top":t.linkTarget&&(s=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",s??null),i=await a(n,t,r)}else i=await a(e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),s6.set(t.id,n),t.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}l(o6,"insertNode");var yge=l((e,t)=>{s6.set(t.id,e)},"setNodeElem"),vge=l(()=>{s6.clear()},"clear"),O_=l(e=>{const t=s6.get(e.id);re.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+r-e.width/2)+", "+(e.y-e.height/2-8)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),r},"positionNode"),Oa={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function pm(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=Kr(e),t=Kr(t);const[r,n]=[e.x,e.y],[i,a]=[t.x,t.y],s=i-r,o=a-n;return{angle:Math.atan(o/s),deltaX:s,deltaY:o}}l(pm,"calculateDeltaAndAngle");var Kr=l(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),rX=l(e=>({x:l(function(t,r,n){let i=0;const a=Kr(n[0]).x<Kr(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(Oa,e.arrowTypeStart)){const{angle:f,deltaX:g}=pm(n[0],n[1]);i=Oa[e.arrowTypeStart]*Math.cos(f)*(g>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(Oa,e.arrowTypeEnd)){const{angle:f,deltaX:g}=pm(n[n.length-1],n[n.length-2]);i=Oa[e.arrowTypeEnd]*Math.cos(f)*(g>=0?1:-1)}const s=Math.abs(Kr(t).x-Kr(n[n.length-1]).x),o=Math.abs(Kr(t).y-Kr(n[n.length-1]).y),u=Math.abs(Kr(t).x-Kr(n[0]).x),h=Math.abs(Kr(t).y-Kr(n[0]).y),d=Oa[e.arrowTypeStart],p=Oa[e.arrowTypeEnd];if(s<p&&s>0&&o<p){let f=p+1-s;f*=a==="right"?-1:1,i-=f}if(u<d&&u>0&&h<d){let f=d+1-u;f*=a==="right"?-1:1,i+=f}return Kr(t).x+i},"x"),y:l(function(t,r,n){let i=0;const a=Kr(n[0]).y<Kr(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(Oa,e.arrowTypeStart)){const{angle:f,deltaY:g}=pm(n[0],n[1]);i=Oa[e.arrowTypeStart]*Math.abs(Math.sin(f))*(g>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(Oa,e.arrowTypeEnd)){const{angle:f,deltaY:g}=pm(n[n.length-1],n[n.length-2]);i=Oa[e.arrowTypeEnd]*Math.abs(Math.sin(f))*(g>=0?1:-1)}const s=Math.abs(Kr(t).y-Kr(n[n.length-1]).y),o=Math.abs(Kr(t).x-Kr(n[n.length-1]).x),u=Math.abs(Kr(t).y-Kr(n[0]).y),h=Math.abs(Kr(t).x-Kr(n[0]).x),d=Oa[e.arrowTypeStart],p=Oa[e.arrowTypeEnd];if(s<p&&s>0&&o<p){let f=p+1-s;f*=a==="up"?-1:1,i-=f}if(u<d&&u>0&&h<d){let f=d+1-u;f*=a==="up"?-1:1,i+=f}return Kr(t).y+i},"y")}),"getLineFunctionsWithOffset"),xge=l((e,t,r,n,i)=>{t.arrowTypeStart&&qM(e,"start",t.arrowTypeStart,r,n,i),t.arrowTypeEnd&&qM(e,"end",t.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),bge={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},qM=l((e,t,r,n,i,a)=>{const s=bge[r];if(!s)return void re.warn(`Unknown arrow type: ${r}`);const o=t==="start"?"Start":"End";e.attr(`marker-${t}`,`url(${n}#${i}_${a}-${s}${o})`)},"addEdgeMarker"),c4=new Map,ii=new Map,wge=l(()=>{c4.clear(),ii.clear()},"clear"),V0=l(e=>e?e.reduce((t,r)=>t+";"+r,""):"","getLabelStyles"),nX=l(async(e,t)=>{let r=Mr(ye().flowchart.htmlLabels);const n=await ls(e,t.label,{style:V0(t.labelStyle),useHtmlLabels:r,addSvgBackground:!0,isNode:!1});re.info("abc82",t,t.labelType);const i=e.insert("g").attr("class","edgeLabel"),a=i.insert("g").attr("class","label");a.node().appendChild(n);let s,o=n.getBBox();if(r){const u=n.children[0],h=Qe(n);o=u.getBoundingClientRect(),h.attr("width",o.width),h.attr("height",o.height)}if(a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),c4.set(t.id,i),t.width=o.width,t.height=o.height,t.startLabelLeft){const u=await hu(t.startLabelLeft,V0(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");s=d.node().appendChild(u);const p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),ii.get(t.id)||ii.set(t.id,{}),ii.get(t.id).startLeft=h,fm(s,t.startLabelLeft)}if(t.startLabelRight){const u=await hu(t.startLabelRight,V0(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");s=h.node().appendChild(u),d.node().appendChild(u);const p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),ii.get(t.id)||ii.set(t.id,{}),ii.get(t.id).startRight=h,fm(s,t.startLabelRight)}if(t.endLabelLeft){const u=await hu(t.endLabelLeft,V0(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");s=d.node().appendChild(u);const p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),h.node().appendChild(u),ii.get(t.id)||ii.set(t.id,{}),ii.get(t.id).endLeft=h,fm(s,t.endLabelLeft)}if(t.endLabelRight){const u=await hu(t.endLabelRight,V0(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");s=d.node().appendChild(u);const p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),h.node().appendChild(u),ii.get(t.id)||ii.set(t.id,{}),ii.get(t.id).endRight=h,fm(s,t.endLabelRight)}return n},"insertEdgeLabel");function fm(e,t){ye().flowchart.htmlLabels&&e&&(e.style.width=9*t.length+"px",e.style.height="12px")}l(fm,"setTerminalWidth");var iX=l((e,t)=>{re.debug("Moving label abc88 ",e.id,e.label,c4.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath;const n=ye(),{subGraphTitleTotalMargin:i}=E2(n);if(e.label){const a=c4.get(e.id);let s=e.x,o=e.y;if(r){const u=Yt.calcLabelPosition(r);re.debug("Moving label "+e.label+" from (",s,",",o,") to (",u.x,",",u.y,") abc88"),t.updatedPath&&(s=u.x,o=u.y)}a.attr("transform",`translate(${s}, ${o+i/2})`)}if(e.startLabelLeft){const a=ii.get(e.id).startLeft;let s=e.x,o=e.y;if(r){const u=Yt.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.startLabelRight){const a=ii.get(e.id).startRight;let s=e.x,o=e.y;if(r){const u=Yt.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.endLabelLeft){const a=ii.get(e.id).endLeft;let s=e.x,o=e.y;if(r){const u=Yt.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.endLabelRight){const a=ii.get(e.id).endRight;let s=e.x,o=e.y;if(r){const u=Yt.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),kge=l((e,t)=>{const r=e.x,n=e.y,i=Math.abs(t.x-r),a=Math.abs(t.y-n),s=e.width/2,o=e.height/2;return i>=s||a>=o},"outsideNode"),Tge=l((e,t,r)=>{re.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,i=e.y,a=Math.abs(n-r.x),s=e.width/2;let o=r.x<t.x?s-a:s+a;const u=e.height/2,h=Math.abs(t.y-r.y),d=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*s>Math.abs(n-t.x)*u){let p=r.y<t.y?t.y-u-i:i-u-t.y;o=d*p/h;const f={x:r.x<t.x?r.x+o:r.x-d+o,y:r.y<t.y?r.y+h-p:r.y-h+p};return o===0&&(f.x=t.x,f.y=t.y),d===0&&(f.x=t.x),h===0&&(f.y=t.y),re.debug(`abc89 top/bottom calc, Q ${h}, q ${p}, R ${d}, r ${o}`,f),f}{o=r.x<t.x?t.x-s-n:n-s-t.x;let p=h*o/d,f=r.x<t.x?r.x+d-o:r.x-d+o,g=r.y<t.y?r.y+p:r.y-p;return re.debug(`sides calc abc89, Q ${h}, q ${p}, R ${d}, r ${o}`,{_x:f,_y:g}),o===0&&(f=t.x,g=t.y),d===0&&(f=t.x),h===0&&(g=t.y),{x:f,y:g}}},"intersection"),jM=l((e,t)=>{re.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(a=>{if(re.info("abc88 checking point",a,t),kge(t,a)||i)re.warn("abc88 outside",a,n),n=a,i||r.push(a);else{const s=Tge(t,n,a);re.debug("abc88 inside",a,n,s),re.debug("abc88 intersection",s,t);let o=!1;r.forEach(u=>{o=o||u.x===s.x&&u.y===s.y}),r.some(u=>u.x===s.x&&u.y===s.y)?re.warn("abc88 no intersect",s,r):r.push(s),i=!0}}),re.debug("returning points",r),r},"cutPathAtIntersect");function aX(e){const t=[],r=[];for(let n=1;n<e.length-1;n++){const i=e[n-1],a=e[n],s=e[n+1];(i.x===a.x&&a.y===s.y&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-i.y)>5||i.y===a.y&&a.x===s.x&&Math.abs(a.x-i.x)>5&&Math.abs(a.y-s.y)>5)&&(t.push(a),r.push(n))}return{cornerPoints:t,cornerPointPositions:r}}l(aX,"extractCornerPoints");var YM=l(function(e,t,r){const n=t.x-e.x,i=t.y-e.y,a=r/Math.sqrt(n*n+i*i);return{x:t.x-a*n,y:t.y-a*i}},"findAdjacentPoint"),_ge=l(function(e){const{cornerPointPositions:t}=aX(e),r=[];for(let n=0;n<e.length;n++)if(t.includes(n)){const i=e[n-1],a=e[n+1],s=e[n],o=YM(i,s,5),u=YM(a,s,5),h=u.x-o.x,d=u.y-o.y;r.push(o);const p=2*Math.sqrt(2);let f={x:s.x,y:s.y};if(Math.abs(a.x-i.x)>10&&Math.abs(a.y-i.y)>=10){re.debug("Corner point fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));const g=5;f=s.x===o.x?{x:h<0?o.x-g+p:o.x+g-p,y:d<0?o.y-p:o.y+p}:{x:h<0?o.x-p:o.x+p,y:d<0?o.y-g+p:o.y+g-p}}else re.debug("Corner point skipping fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));r.push(f,u)}else r.push(e[n]);return r},"fixCorners"),sX=l(function(e,t,r,n,i,a,s){const{handDrawnSeed:o}=ye();let u=t.points,h=!1;const d=i;var p=a;p.intersect&&d.intersect&&(u=u.slice(1,t.points.length-1),u.unshift(d.intersect(u[0])),re.debug("Last point APA12",t.start,"-->",t.end,u[u.length-1],p,p.intersect(u[u.length-1])),u.push(p.intersect(u[u.length-1]))),t.toCluster&&(re.info("to cluster abc88",r.get(t.toCluster)),u=jM(t.points,r.get(t.toCluster).node),h=!0),t.fromCluster&&(re.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(u,null,2)),u=jM(u.reverse(),r.get(t.fromCluster).node).reverse(),h=!0);let f=u.filter(C=>!Number.isNaN(C.y));f=_ge(f);let g=x0;t.curve&&(g=t.curve);const{x:m,y}=rX(t),v=Xl().x(m).y(y).curve(g);let x,b;switch(t.thickness){case"normal":default:x="edge-thickness-normal";break;case"thick":x="edge-thickness-thick";break;case"invisible":x="edge-thickness-invisible"}switch(t.pattern){case"solid":default:x+=" edge-pattern-solid";break;case"dotted":x+=" edge-pattern-dotted";break;case"dashed":x+=" edge-pattern-dashed"}let w=v(f);const T=Array.isArray(t.style)?t.style:[t.style];if(t.look==="handDrawn"){const C=_t.svg(e);Object.assign([],f),x+=" transition",b=Qe(C.path(w,{roughness:.3,seed:o})).select("path").attr("id",t.id).attr("class"," "+x+(t.classes?" "+t.classes:"")).attr("style",T?T.reduce((_,L)=>_+";"+L,""):"");let E=b.attr("d");b.attr("d",E),e.node().appendChild(b.node())}else b=e.append("path").attr("d",w).attr("id",t.id).attr("class"," "+x+(t.classes?" "+t.classes:"")).attr("style",T?T.reduce((C,E)=>C+";"+E,""):"");let k="";(ye().flowchart.arrowMarkerAbsolute||ye().state.arrowMarkerAbsolute)&&(k=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,k=k.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),re.info("arrowTypeStart",t.arrowTypeStart),re.info("arrowTypeEnd",t.arrowTypeEnd),xge(b,t,k,s,n);let R={};return h&&(R.updatedPath=u),R.originalPath=t.points,R},"insertEdge"),Ege=l((e,t,r,n)=>{t.forEach(i=>{Oge[i](e,r,n)})},"insertMarkers"),Cge=l((e,t,r)=>{re.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),Sge=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),Age=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),Lge=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),Nge=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),Ige=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),Mge=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),Rge=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),Dge=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),Oge={extension:Cge,composition:Sge,aggregation:Age,dependency:Lge,lollipop:Nge,point:Ige,circle:Mge,cross:Rge,barb:Dge},oX=Ege,Pge={common:He,getConfig:Zr,insertCluster:lA,insertEdge:sX,insertEdgeLabel:nX,insertMarkers:oX,insertNode:o6,interpolateToCurve:F8,labelHelper:Gt,log:re,positionEdgeLabel:iX},Dy={},lX=l(e=>{for(const t of e)Dy[t.name]=t},"registerLayoutLoaders");l(()=>{lX([{name:"dagre",loader:l(async()=>await Promise.resolve().then(function(){return Xve}),"loader")}])},"registerDefaultLayoutLoaders")();var cA=l(async(e,t)=>{if(!(e.layoutAlgorithm in Dy))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const r=Dy[e.layoutAlgorithm];return(await r.loader()).render(e,t,Pge,{algorithm:r.algorithm})},"render"),cX=l((e="",{fallback:t="dagre"}={})=>{if(e in Dy)return e;if(t in Dy)return re.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),Bge=mW(Object.keys,Object),$ge=Object.prototype.hasOwnProperty;function uX(e){if(!A2(e))return Bge(e);var t=[];for(var r in Object(e))$ge.call(e,r)&&r!="constructor"&&t.push(r);return t}l(uX,"baseKeys");var uA=uX,P_=hh(Ds,"DataView"),B_=hh(Ds,"Promise"),md=hh(Ds,"Set"),$_=hh(Ds,"WeakMap"),Fge=uh(P_),zge=uh(Ny),Uge=uh(B_),Gge=uh(md),qge=uh($_),qc=al;(P_&&qc(new P_(new ArrayBuffer(1)))!="[object DataView]"||Ny&&qc(new Ny)!="[object Map]"||B_&&qc(B_.resolve())!="[object Promise]"||md&&qc(new md)!="[object Set]"||$_&&qc(new $_)!="[object WeakMap]")&&(qc=l(function(e){var t=al(e),r=t=="[object Object]"?e.constructor:void 0,n=r?uh(r):"";if(n)switch(n){case Fge:return"[object DataView]";case zge:return"[object Map]";case Uge:return"[object Promise]";case Gge:return"[object Set]";case qge:return"[object WeakMap]"}return t},"getTag"));var Vu=qc,jge=Object.prototype.hasOwnProperty;function hX(e){if(e==null)return!0;if(Os(e)&&(Jt(e)||typeof e=="string"||typeof e.splice=="function"||Kg(e)||J5(e)||Xg(e)))return!e.length;var t=Vu(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(A2(e))return!uA(e).length;for(var r in e)if(jge.call(e,r))return!1;return!0}l(hX,"isEmpty");var yr=hX,Yge={id:"c4",detector:l(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return qxe});return{id:"c4",diagram:e}},"loader")},Wge=l((e,t)=>{var r,n;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)!=="dagre-wrapper"&&((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)!=="elk"&&/^\s*graph/.test(e)},"detector"),Hge={id:"flowchart",detector:Wge,loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return c1});return{id:"flowchart",diagram:e}},"loader")},WM="flowchart-v2",Vge=l((e,t)=>{var r,n,i;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)!=="dagre-d3"&&(((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"&&(t.layout="elk"),!(!/^\s*graph/.test(e)||((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)!=="dagre-wrapper")||/^\s*flowchart/.test(e))},"detector"),Xge={id:WM,detector:Vge,loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return c1});return{id:WM,diagram:e}},"loader")},Kge={id:"er",detector:l(e=>/^\s*erDiagram/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return Xbe});return{id:"er",diagram:e}},"loader")},Zge={id:"gitGraph",detector:l(e=>/^\s*gitGraph/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return l6e});return{id:"gitGraph",diagram:e}},"loader")},Qge={id:"gantt",detector:l(e=>/^\s*gantt/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return nwe});return{id:"gantt",diagram:e}},"loader")},Jge={id:"info",detector:l(e=>/^\s*info/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return cwe});return{id:"info",diagram:e}},"loader")},e0e={id:"pie",detector:l(e=>/^\s*pie/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return bwe});return{id:"pie",diagram:e}},"loader")},HM="quadrantChart",t0e={id:HM,detector:l(e=>/^\s*quadrantChart/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return Swe});return{id:HM,diagram:e}},"loader")},r0e={id:"xychart",detector:l(e=>/^\s*xychart-beta/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return Uwe});return{id:"xychart",diagram:e}},"loader")},n0e={id:"requirement",detector:l(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return dke});return{id:"requirement",diagram:e}},"loader")},i0e={id:"sequence",detector:l(e=>/^\s*sequenceDiagram/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return lTe});return{id:"sequence",diagram:e}},"loader")},a0e=l((e,t)=>{var r;return((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)!=="dagre-wrapper"&&/^\s*classDiagram/.test(e)},"detector"),s0e={id:"class",detector:a0e,loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return $Te});return{id:"class",diagram:e}},"loader")},o0e=l((e,t)=>{var r;return!(!/^\s*classDiagram/.test(e)||((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)!=="dagre-wrapper")||/^\s*classDiagram-v2/.test(e)},"detector"),l0e={id:"classDiagram",detector:o0e,loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return zTe});return{id:"classDiagram",diagram:e}},"loader")},c0e=l((e,t)=>{var r;return((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)!=="dagre-wrapper"&&/^\s*stateDiagram/.test(e)},"detector"),u0e={id:"state",detector:c0e,loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return C_e});return{id:"state",diagram:e}},"loader")},h0e=l((e,t)=>{var r;return!!/^\s*stateDiagram-v2/.test(e)||!(!/^\s*stateDiagram/.test(e)||((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)!=="dagre-wrapper")},"detector"),d0e={id:"stateDiagram",detector:h0e,loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return A_e});return{id:"stateDiagram",diagram:e}},"loader")},p0e={id:"journey",detector:l(e=>/^\s*journey/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return V_e});return{id:"journey",diagram:e}},"loader")},f0e=l((e,t,r)=>{re.debug(`rendering svg for syntax error
`);const n=mc(t),i=n.append("g");n.attr("viewBox","0 0 2412 512"),Ci(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),dX={draw:f0e},g0e=dX,m0e={db:{},renderer:dX,parser:{parse:l(()=>{},"parse")}},VM="flowchart-elk",y0e=l((e,t={})=>{var r;return!!(/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="elk")&&(t.layout="elk",!0)},"detector"),v0e={id:VM,detector:y0e,loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return c1});return{id:VM,diagram:e}},"loader")},x0e={id:"timeline",detector:l(e=>/^\s*timeline/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return pEe});return{id:"timeline",diagram:e}},"loader")},b0e={id:"mindmap",detector:l(e=>/^\s*mindmap/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return Z1e});return{id:"mindmap",diagram:e}},"loader")},w0e={id:"kanban",detector:l(e=>/^\s*kanban/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return f9e});return{id:"kanban",diagram:e}},"loader")},k0e={id:"sankey",detector:l(e=>/^\s*sankey-beta/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return R9e});return{id:"sankey",diagram:e}},"loader")},T0e={id:"packet",detector:l(e=>/^\s*packet-beta/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return W9e});return{id:"packet",diagram:e}},"loader")},_0e={id:"block",detector:l(e=>/^\s*block-beta/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return dNe});return{id:"block",diagram:e}},"loader")},E0e={id:"architecture",detector:l(e=>/^\s*architecture/.test(e),"detector"),loader:l(async()=>{const{diagram:e}=await Promise.resolve().then(function(){return YNe});return{id:"architecture",diagram:e}},"loader")},XM=!1,l6=l(()=>{XM||(XM=!0,Lb("error",m0e,e=>e.toLowerCase().trim()==="error"),Lb("---",{db:{clear:l(()=>{},"clear")},styles:{},renderer:{draw:l(()=>{},"draw")},parser:{parse:l(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:l(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),jB(Yge,w0e,l0e,s0e,Kge,Qge,Jge,e0e,n0e,i0e,v0e,Xge,Hge,b0e,x0e,Zge,d0e,u0e,p0e,t0e,k0e,T0e,r0e,_0e,E0e))},"addDiagrams"),C0e=l(async()=>{re.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(qg).map(async([t,{detector:r,loader:n}])=>{if(n)try{dT(t)}catch{try{const{diagram:i,id:a}=await n();Lb(a,i,r)}catch(i){throw re.error(`Failed to load external diagram with key ${t}. Removing from detectors.`),delete qg[t],i}}}))).filter(t=>t.status==="rejected");if(e.length>0){re.error(`Failed to load ${e.length} external diagrams`);for(const t of e)re.error(t);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),pX=Math.abs,hA=String.fromCharCode;function dA(e){return e.trim()}function Wm(e,t,r){return e.replace(t,r)}function fX(e,t,r){return e.indexOf(t,r)}function Zg(e,t){return 0|e.charCodeAt(t)}function Xu(e,t,r){return e.slice(t,r)}function ms(e){return e.length}function gX(e){return e.length}function gm(e,t){return t.push(e),e}l(dA,"trim"),l(Wm,"replace"),l(fX,"indexof"),l(Zg,"charat"),l(Xu,"substr"),l(ms,"strlen"),l(gX,"sizeof"),l(gm,"append");var c6=1,Qg=1,mX=0,as=0,Tn=0,C0="";function u6(e,t,r,n,i,a,s,o){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:c6,column:Qg,length:s,return:"",siblings:o}}function yX(){return Tn}function vX(){return Tn=as>0?Zg(C0,--as):0,Qg--,Tn===10&&(Qg=1,c6--),Tn}function es(){return Tn=as<mX?Zg(C0,as++):0,Qg++,Tn===10&&(Qg=1,c6++),Tn}function Mo(){return Zg(C0,as)}function Hm(){return as}function R2(e,t){return Xu(C0,e,t)}function Jg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xX(e){return c6=Qg=1,mX=ms(C0=e),as=0,[]}function bX(e){return C0="",e}function Rx(e){return dA(R2(as-1,u4(e===91?e+2:e===40?e+1:e)))}function wX(e){for(;(Tn=Mo())&&Tn<33;)es();return Jg(e)>2||Jg(Tn)>3?"":" "}function kX(e,t){for(;--t&&es()&&!(Tn<48||Tn>102||Tn>57&&Tn<65||Tn>70&&Tn<97););return R2(e,Hm()+(t<6&&Mo()==32&&es()==32))}function u4(e){for(;es();)switch(Tn){case e:return as;case 34:case 39:e!==34&&e!==39&&u4(Tn);break;case 40:e===41&&u4(e);break;case 92:es()}return as}function TX(e,t){for(;es()&&e+Tn!==57&&(e+Tn!==84||Mo()!==47););return"/*"+R2(t,as-1)+"*"+hA(e===47?e:es())}function _X(e){for(;!Jg(Mo());)es();return R2(e,as)}function EX(e){return bX(Vm("",null,null,null,[""],e=xX(e),0,[0],e))}function Vm(e,t,r,n,i,a,s,o,u){for(var h=0,d=0,p=s,f=0,g=0,m=0,y=1,v=1,x=1,b=0,w="",T=i,k=a,R=n,C=w;v;)switch(m=b,b=es()){case 40:if(m!=108&&Zg(C,p-1)==58){fX(C+=Wm(Rx(b),"&","&\f"),"&\f",pX(h?o[h-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:C+=Rx(b);break;case 9:case 10:case 13:case 32:C+=wX(m);break;case 92:C+=kX(Hm()-1,7);continue;case 47:switch(Mo()){case 42:case 47:gm(CX(TX(es(),Hm()),t,r,u),u),Jg(m||1)!=5&&Jg(Mo()||1)!=5||!ms(C)||Xu(C,-1,void 0)===" "||(C+=" ");break;default:C+="/"}break;case 123*y:o[h++]=ms(C)*x;case 125*y:case 59:case 0:switch(b){case 0:case 125:v=0;case 59+d:x==-1&&(C=Wm(C,/\f/g,"")),g>0&&(ms(C)-p||y===0&&m===47)&&gm(g>32?z_(C+";",n,r,p-1,u):z_(Wm(C," ","")+";",n,r,p-2,u),u);break;case 59:C+=";";default:if(gm(R=F_(C,t,r,h,d,i,o,w,T=[],k=[],p,a),a),b===123)if(d===0)Vm(C,t,R,R,T,a,p,o,k);else switch(f===99&&Zg(C,3)===110?100:f){case 100:case 108:case 109:case 115:Vm(e,R,R,n&&gm(F_(e,R,R,0,0,i,o,w,i,T=[],p,k),k),i,k,p,o,n?T:k);break;default:Vm(C,R,R,R,[""],k,0,o,k)}}h=d=g=0,y=x=1,w=C="",p=s;break;case 58:p=1+ms(C),g=m;default:if(y<1){if(b==123)--y;else if(b==125&&y++==0&&vX()==125)continue}switch(C+=hA(b),b*y){case 38:x=d>0?1:(C+="\f",-1);break;case 44:o[h++]=(ms(C)-1)*x,x=1;break;case 64:Mo()===45&&(C+=Rx(es())),f=Mo(),d=p=ms(w=C+=_X(Hm())),b++;break;case 45:m===45&&ms(C)==2&&(y=0)}}return a}function F_(e,t,r,n,i,a,s,o,u,h,d,p){for(var f=i-1,g=i===0?a:[""],m=gX(g),y=0,v=0,x=0;y<n;++y)for(var b=0,w=Xu(e,f+1,f=pX(v=s[y])),T=e;b<m;++b)(T=dA(v>0?g[b]+" "+w:Wm(w,/&\f/g,g[b])))&&(u[x++]=T);return u6(e,t,r,i===0?"rule":o,u,h,d,p)}function CX(e,t,r,n){return u6(e,t,r,"comm",hA(yX()),Xu(e,2,-2),0,n)}function z_(e,t,r,n,i){return u6(e,t,r,"decl",Xu(e,0,n),Xu(e,n+1,-1),n,i)}function h4(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function SX(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"decl":return e.return=e.return||e.value;case"comm":return"";case"@keyframes":return e.return=e.value+"{"+h4(e.children,n)+"}";case"rule":if(!ms(e.value=e.props.join(",")))return""}return ms(r=h4(e.children,n))?e.return=e.value+"{"+r+"}":""}l(u6,"node"),l(yX,"char"),l(vX,"prev"),l(es,"next"),l(Mo,"peek"),l(Hm,"caret"),l(R2,"slice"),l(Jg,"token"),l(xX,"alloc"),l(bX,"dealloc"),l(Rx,"delimit"),l(wX,"whitespace"),l(kX,"escaping"),l(u4,"delimiter"),l(TX,"commenter"),l(_X,"identifier"),l(EX,"compile"),l(Vm,"parse"),l(F_,"ruleset"),l(CX,"comment"),l(z_,"declaration"),l(h4,"serialize"),l(SX,"stringify");function AX(e,t){e.attr("role","graphics-document document"),t!==""&&e.attr("aria-roledescription",t)}function LX(e,t,r,n){if(e.insert!==void 0){if(r){const i=`chart-desc-${n}`;e.attr("aria-describedby",i),e.insert("desc",":first-child").attr("id",i).text(r)}if(t){const i=`chart-title-${n}`;e.attr("aria-labelledby",i),e.insert("title",":first-child").attr("id",i).text(t)}}}l(AX,"setA11yDiagramInfo"),l(LX,"addSVGa11yTitleDescription");var vu,U_=(vu=class{constructor(t,r,n,i,a){this.type=t,this.text=r,this.db=n,this.parser=i,this.renderer=a}static async fromText(t,r={}){var h,d;const n=Zr(),i=$S(t,n);t=dfe(t)+`
`;try{dT(i)}catch{const p=Fce(i);if(!p)throw new qB(`Diagram ${i} not found.`);const{id:f,diagram:g}=await p();Lb(f,g)}const{db:a,parser:s,renderer:o,init:u}=dT(i);return s.parser&&(s.parser.yy=a),(h=a.clear)==null||h.call(a),u==null||u(n),r.title&&((d=a.setDiagramTitle)==null||d.call(a,r.title)),await s.parse(t),new vu(i,t,a,s,o)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}},l(vu,"Diagram"),vu),KM=[],S0e=l(()=>{KM.forEach(e=>{e()}),KM=[]},"attachFunctions"),A0e=l(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function NX(e){const t=e.match(GB);if(!t)return{text:e,metadata:{}};let r=R8(t[1],{schema:M8})??{};r=typeof r!="object"||Array.isArray(r)?{}:r;const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}l(NX,"extractFrontMatter");var L0e=l(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),N0e=l(e=>{const{text:t,metadata:r}=NX(e),{displayMode:n,title:i,config:a={}}=r;return n&&(a.gantt||(a.gantt={}),a.gantt.displayMode=n),{title:i,config:a,text:t}},"processFrontmatter"),I0e=l(e=>{const t=Yt.detectInit(e)??{},r=Yt.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>n==="wrap"):(r==null?void 0:r.type)==="wrap"&&(t.wrap=!0),{text:rfe(e),directive:t}},"processDirectives");function pA(e){const t=L0e(e),r=N0e(t),n=I0e(r.text),i=sl(r.config,n.directive);return{code:e=A0e(n.text),title:r.title,config:i}}function IX(e){const t=new TextEncoder().encode(e),r=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(r)}l(pA,"preprocessDiagram"),l(IX,"toBase64");var M0e=["foreignobject"],R0e=["dominant-baseline"];function fA(e){const t=pA(e);return Sb(),lue(t.config??{}),t}async function MX(e,t){l6();try{const{code:r,config:n}=fA(e);return{diagramType:(await DX(r)).type,config:n}}catch(r){if(t!=null&&t.suppressErrors)return!1;throw r}}l(fA,"processAndSetConfigs"),l(MX,"parse");var ZM=l((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),D0e=l((e,t=new Map)=>{var n;let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const i=["> *","span"],a=["rect","polygon","ellipse","circle","path"],s=e.htmlLabels??((n=e.flowchart)==null?void 0:n.htmlLabels)?i:a;t.forEach(o=>{yr(o.styles)||s.forEach(u=>{r+=ZM(o.id,u,o.styles)}),yr(o.textStyles)||(r+=ZM(o.id,"tspan",((o==null?void 0:o.textStyles)||[]).map(u=>u.replace("color","fill"))))})}return r},"createCssStyles"),O0e=l((e,t,r,n)=>{const i=D0e(e,r);return h4(EX(`${n}{${Vue(t,i,e.themeVariables)}}`),SX)},"createUserStyles"),P0e=l((e="",t,r)=>{let n=e;return r||t||(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Go(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),B0e=l((e="",t)=>{var r,n;return`<iframe style="width:100%;height:${(n=(r=t==null?void 0:t.viewBox)==null?void 0:r.baseVal)!=null&&n.height?t.viewBox.baseVal.height+"px":"100%"};border:0;margin:0;" src="data:text/html;charset=UTF-8;base64,${IX(`<body style="margin:0">${e}</body>`)}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The "iframe" tag is not supported by your browser.
</iframe>`},"putIntoIFrame"),QM=l((e,t,r,n,i)=>{const a=e.append("div");a.attr("id",r),n&&a.attr("style",n);const s=a.append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg");return i&&s.attr("xmlns:xlink",i),s.append("g"),e},"appendDivSvgG");function G_(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}l(G_,"sandboxedIframe");var $0e=l((e,t,r,n)=>{var i,a,s;(i=e.getElementById(t))==null||i.remove(),(a=e.getElementById(r))==null||a.remove(),(s=e.getElementById(n))==null||s.remove()},"removeExistingElements"),F0e=l(async function(e,t,r){var B,S,N,A,M,O;l6();const n=fA(t);t=n.code;const i=Zr();re.debug(i),t.length>((i==null?void 0:i.maxTextSize)??5e4)&&(t="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");const a="#"+e,s="i"+e,o="#"+s,u="d"+e,h="#"+u,d=l(()=>{const I=Qe(f?o:h).node();I&&"remove"in I&&I.remove()},"removeTempElements");let p=Qe("body");const f=i.securityLevel==="sandbox",g=i.securityLevel==="loose",m=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),f){const I=G_(Qe(r),s);p=Qe(I.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Qe(r);QM(p,e,u,`font-family: ${m}`,"http://www.w3.org/1999/xlink")}else{if($0e(document,e,u,s),f){const I=G_(Qe("body"),s);p=Qe(I.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Qe("body");QM(p,e,u)}let y,v;try{y=await U_.fromText(t,{title:n.title})}catch(I){if(i.suppressErrorRendering)throw d(),I;y=await U_.fromText("error"),v=I}const x=p.select(h).node(),b=y.type,w=x.firstChild,T=w.firstChild,k=(S=(B=y.renderer).getClasses)==null?void 0:S.call(B,t,y),R=O0e(i,b,k,a),C=document.createElement("style");C.innerHTML=R,w.insertBefore(C,T);try{await y.renderer.draw(t,e,"11.4.1",y)}catch(I){throw i.suppressErrorRendering?d():g0e.draw(t,e,"11.4.1"),I}const E=p.select(`${h} svg`),_=(A=(N=y.db).getAccTitle)==null?void 0:A.call(N),L=(O=(M=y.db).getAccDescription)==null?void 0:O.call(M);OX(b,E,_,L),p.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let D=p.select(h).node().innerHTML;if(re.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),D=P0e(D,f,Mr(i.arrowMarkerAbsolute)),f){const I=p.select(h+" svg").node();D=B0e(D,I)}else g||(D=Yg.sanitize(D,{ADD_TAGS:M0e,ADD_ATTR:R0e,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(S0e(),v)throw v;return d(),{diagramType:b,svg:D,bindFunctions:y.db.bindFunctions}},"render");function RX(e={}){var n;const t=Pn({},e);t!=null&&t.fontFamily&&!((n=t.themeVariables)!=null&&n.fontFamily)&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),sue(t),t!=null&&t.theme&&t.theme in Po?t.themeVariables=Po[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Po.default.getThemeVariables(t.themeVariables));const r=typeof t=="object"?aue(t):e$();BS(r.logLevel),l6()}l(RX,"initialize");var DX=l((e,t={})=>{const{code:r}=pA(e);return U_.fromText(r,t)},"getDiagramFromText");function OX(e,t,r,n){AX(t,e),LX(t,r,n,t.attr("id"))}l(OX,"addA11yInfo");var Ku=Object.freeze({render:F0e,parse:MX,getDiagramFromText:DX,initialize:RX,getConfig:Zr,setConfig:t$,getSiteConfig:e$,updateSiteConfig:oue,reset:l(()=>{Sb()},"reset"),globalReset:l(()=>{Sb(jg)},"globalReset"),defaultConfig:jg});BS(Zr().logLevel),Sb(Zr());var z0e=l((e,t,r)=>{re.warn(e),j8(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),PX=l(async function(e={querySelector:".mermaid"}){try{await U0e(e)}catch(t){if(j8(t)&&re.error(t.str),Ta.parseError&&Ta.parseError(t),!e.suppressErrors)throw re.error("Use the suppressErrors option to suppress these errors"),t}},"run"),U0e=l(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const n=Ku.getConfig();let i;if(re.debug((e?"":"No ")+"Callback function found"),r)i=r;else{if(!t)throw new Error("Nodes and querySelector are both undefined");i=document.querySelectorAll(t)}re.debug(`Found ${i.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&(re.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),Ku.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const a=new Yt.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let s;const o=[];for(const u of Array.from(i)){if(re.info("Rendering diagram: "+u.id),u.getAttribute("data-processed"))continue;u.setAttribute("data-processed","true");const h=`mermaid-${a.next()}`;s=u.innerHTML,s=Y8(Yt.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");const d=Yt.detectInit(s);d&&re.debug("Detected early reinit: ",d);try{const{svg:p,bindFunctions:f}=await zX(h,s,u);u.innerHTML=p,e&&await e(h),f&&f(u)}catch(p){z0e(p,o,Ta.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),BX=l(function(e){Ku.initialize(e)},"initialize"),G0e=l(async function(e,t,r){re.warn("mermaid.init is deprecated. Please use run instead."),e&&BX(e);const n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await PX(n)},"init"),q0e=l(async(e,{lazyLoad:t=!0}={})=>{l6(),jB(...e),t===!1&&await C0e()},"registerExternalDiagrams"),$X=l(function(){if(Ta.startOnLoad){const{startOnLoad:e}=Ku.getConfig();e&&Ta.run().catch(t=>re.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",$X,!1);var j0e=l(function(e){Ta.parseError=e},"setParseErrorHandler"),d4=[],sk=!1,FX=l(async()=>{if(!sk){for(sk=!0;d4.length>0;){const e=d4.shift();if(e)try{await e()}catch(t){re.error("Error executing queue",t)}}sk=!1}},"executeQueue"),Y0e=l(async(e,t)=>new Promise((r,n)=>{const i=l(()=>new Promise((a,s)=>{Ku.parse(e,t).then(o=>{a(o),r(o)},o=>{var u;re.error("Error parsing",o),(u=Ta.parseError)==null||u.call(Ta,o),s(o),n(o)})}),"performCall");d4.push(i),FX().catch(n)}),"parse"),zX=l((e,t,r)=>new Promise((n,i)=>{const a=l(()=>new Promise((s,o)=>{Ku.render(e,t,r).then(u=>{s(u),n(u)},u=>{var h;re.error("Error parsing",u),(h=Ta.parseError)==null||h.call(Ta,u),o(u),i(u)})}),"performCall");d4.push(a),FX().catch(i)}),"render"),Ta={startOnLoad:!0,mermaidAPI:Ku,parse:Y0e,render:zX,init:G0e,run:PX,registerExternalDiagrams:q0e,registerLayoutLoaders:lX,initialize:BX,parseError:void 0,contentLoaded:$X,setParseErrorHandler:j0e,detectType:$S,registerIconPacks:bY},UX=Ta;function W0e(e){let{beforeRender:t,afterRender:r}=e;return function(n){/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 *//*!
 * reveal.js Mermaid plugin
 */return async function(i){let{el:a,beforeRender:s,afterRender:o}=i;if(await(s==null?void 0:s(a))===!1)return;const u=a.textContent.trim();try{const{svg:h}=await UX.render(`mermaid-${Math.random().toString(36).substring(2)}`,u);a.innerHTML=h,await(o==null?void 0:o(a))}catch(h){let d="";h!=null&&h.str&&(d=h.str),h!=null&&h.message&&(d=h.message),console.error(d,{error:h,graphDefinition:u,el:a}),a.innerHTML=d}}({el:n,beforeRender:t,afterRender:r})}}const H0e={id:"mermaid",init:function(e){const{...t}=e.getConfig().mermaid||{},{...r}=e.getConfig().mermaidPlugin||{},n=W0e({beforeRender:r.beforeRender,afterRender:r.afterRender});UX.initialize({startOnLoad:!1,...t});const i=e.getRevealElement().querySelectorAll(".mermaid");Array.from(i).forEach(function(a){n(a)})}};var QNe=()=>H0e,xu,ys=(xu=class{constructor(t,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=r,this.end=n}static range(t,r){return r?t&&t.loc&&r.loc&&t.loc.lexer===r.loc.lexer?new xu(t.loc.lexer,t.loc.start,r.loc.end):null:t&&t.loc}},l(xu,"SourceLocation"),xu),bu,io=(bu=class{constructor(t,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=r}range(t,r){return new bu(r,ys.range(this,t))}},l(bu,"Token"),bu),wu,et=(wu=class{constructor(t,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n,i,a="KaTeX parse error: "+t,s=r&&r.loc;if(s&&s.start<=s.end){var o=s.lexer.input;n=s.start,i=s.end,n===o.length?a+=" at end of input: ":a+=" at position "+(n+1)+": ";var u=o.slice(n,i).replace(/[^]/g,"$&");a+=(n>15?""+o.slice(n-15,n):o.slice(0,n))+u+(i+15<o.length?o.slice(i,i+15)+"":o.slice(i))}var h=new Error(a);return h.name="ParseError",h.__proto__=wu.prototype,h.position=n,n!=null&&i!=null&&(h.length=i-n),h.rawMessage=t,h}},l(wu,"ParseError"),wu);et.prototype.__proto__=Error.prototype;var V0e=l(function(e,t){return e.indexOf(t)!==-1},"contains"),X0e=l(function(e,t){return e===void 0?t:e},"deflt"),K0e=/([A-Z])/g,Z0e=l(function(e){return e.replace(K0e,"-$1").toLowerCase()},"hyphenate"),Q0e={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},J0e=/[&><"']/g;function GX(e){return String(e).replace(J0e,t=>Q0e[t])}l(GX,"escape");var qX=l(function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},"getBaseElem"),eme=l(function(e){var t=qX(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},"isCharacterBox"),tme=l(function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},"assert"),Mt={contains:V0e,deflt:X0e,escape:GX,hyphenate:Z0e,getBaseElem:qX,isCharacterBox:eme,protocolFromUrl:l(function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==":"?null:/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?t[1].toLowerCase():null:"_relative"},"protocolFromUrl")},Dx={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:l(e=>"#"+e,"cliProcessor")},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:l((e,t)=>(t.push(e),t),"cliProcessor")},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:l(e=>Math.max(0,e),"processor"),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:l(e=>Math.max(0,e),"processor"),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:l(e=>Math.max(0,e),"processor"),cli:"-e, --max-expand <n>",cliProcessor:l(e=>e==="Infinity"?1/0:parseInt(e),"cliProcessor")},globalGroup:{type:"boolean",cli:!1}};function jX(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}l(jX,"getDefaultValue");var Zd,gA=(Zd=class{constructor(t){for(var r in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{},Dx)if(Dx.hasOwnProperty(r)){var n=Dx[r];this[r]=t[r]!==void 0?n.processor?n.processor(t[r]):t[r]:jX(n)}}reportNonstrict(t,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(t,r,n)),i&&i!=="ignore"){if(i===!0||i==="error")throw new et("LaTeX-incompatible input and strict mode is set to 'error': "+r+" ["+t+"]",n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+r+" ["+t+"]"):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+i+"': "+r+" ["+t+"]")}}useStrictBehavior(t,r,n){var i=this.strict;if(typeof i=="function")try{i=i(t,r,n)}catch{i="error"}return!(!i||i==="ignore")&&(i===!0||i==="error"||(i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+r+" ["+t+"]"),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+i+"': "+r+" ["+t+"]"),!1)))}isTrusted(t){if(t.url&&!t.protocol){var r=Mt.protocolFromUrl(t.url);if(r==null)return!1;t.protocol=r}var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}},l(Zd,"Settings"),Zd),Qd,dl=(Qd=class{constructor(t,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=r,this.cramped=n}sup(){return Hs[rme[this.id]]}sub(){return Hs[nme[this.id]]}fracNum(){return Hs[ime[this.id]]}fracDen(){return Hs[ame[this.id]]}cramp(){return Hs[sme[this.id]]}text(){return Hs[ome[this.id]]}isTight(){return this.size>=2}},l(Qd,"Style"),Qd),Hs=[new dl(0,0,!1),new dl(1,0,!0),new dl(2,1,!1),new dl(3,1,!0),new dl(4,2,!1),new dl(5,2,!0),new dl(6,3,!1),new dl(7,3,!0)],rme=[4,5,4,5,6,7,6,7],nme=[5,5,5,5,7,7,7,7],ime=[2,3,4,5,6,7,6,7],ame=[3,3,5,5,7,7,7,7],sme=[1,1,3,3,5,5,7,7],ome=[0,1,2,3,2,3,2,3],Bt={DISPLAY:Hs[0],TEXT:Hs[2],SCRIPT:Hs[4],SCRIPTSCRIPT:Hs[6]},q_=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function YX(e){for(var t=0;t<q_.length;t++)for(var r=q_[t],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(e>=i[0]&&e<=i[1])return r.name}return null}l(YX,"scriptFromCodepoint");var Ox=[];function mA(e){for(var t=0;t<Ox.length;t+=2)if(e>=Ox[t]&&e<=Ox[t+1])return!0;return!1}q_.forEach(e=>e.blocks.forEach(t=>Ox.push(...t))),l(mA,"supportedCodepoint");var lme=l(function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},"sqrtMain"),cme=l(function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},"sqrtSize1"),ume=l(function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},"sqrtSize2"),hme=l(function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},"sqrtSize3"),dme=l(function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},"sqrtSize4"),pme=l(function(e){return"M400000 "+e+" H0 L"+e/2+" 0 l65 45 L145 "+(e-80)+" H400000z"},"phasePath"),fme=l(function(e,t,r){return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+(r-54-t-e)+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},"sqrtTall"),gme=l(function(e,t,r){t*=1e3;var n="";switch(e){case"sqrtMain":n=lme(t,80);break;case"sqrtSize1":n=cme(t,80);break;case"sqrtSize2":n=ume(t,80);break;case"sqrtSize3":n=hme(t,80);break;case"sqrtSize4":n=dme(t,80);break;case"sqrtTall":n=fme(t,80,r)}return n},"sqrtPath"),mme=l(function(e,t){switch(e){case"":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145zM367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z";case"":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257zM478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z";default:return""}},"innerPath"),JM={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},yme=l(function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}},"tallDelim"),Jd,D2=(Jd=class{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return Mt.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){for(var t="",r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t}toText(){var t=l(r=>r.toText(),"toText");return this.children.map(t).join("")}},l(Jd,"DocumentFragment"),Jd),Qs={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Sv={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},eR={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function WX(e,t){Qs[e]=t}function h6(e,t,r){if(!Qs[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),i=Qs[t][n];if(!i&&e[0]in eR&&(n=eR[e[0]].charCodeAt(0),i=Qs[t][n]),i||r!=="text"||mA(n)&&(i=Qs[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}l(WX,"setFontMetrics"),l(h6,"getCharacterMetrics");var ok={};function HX(e){var t;if(!ok[t=e>=5?0:e>=3?1:2]){var r=ok[t]={cssEmPerMu:Sv.quad[t]/18};for(var n in Sv)Sv.hasOwnProperty(n)&&(r[n]=Sv[n][t])}return ok[t]}l(HX,"getGlobalMetrics");var vme=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],tR=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],rR=l(function(e,t){return t.size<2?e:vme[e-1][t.size-1]},"sizeAtStyle"),ja,VX=(ja=class{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||ja.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=tR[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new ja(r)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:rR(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:tR[t-1]})}havingBaseStyle(t){t=t||this.style.text();var r=rR(ja.BASESIZE,t);return this.size===r&&this.textSize===ja.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==ja.BASESIZE?["sizing","reset-size"+this.size,"size"+ja.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=HX(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}},l(ja,"Options"),ja);VX.BASESIZE=6;var j_={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},xme={ex:!0,em:!0,mu:!0},XX=l(function(e){return typeof e!="string"&&(e=e.unit),e in j_||e in xme||e==="ex"},"validUnit"),tn=l(function(e,t){var r;if(e.unit in j_)r=j_[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")r=t.fontMetrics().cssEmPerMu;else{var n;if(n=t.style.isTight()?t.havingStyle(t.style.text()):t,e.unit==="ex")r=n.fontMetrics().xHeight;else{if(e.unit!=="em")throw new et("Invalid unit: '"+e.unit+"'");r=n.fontMetrics().quad}n!==t&&(r*=n.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},"calculateSize"),it=l(function(e){return+e.toFixed(4)+"em"},"makeEm"),Jl=l(function(e){return e.filter(t=>t).join(" ")},"createClass"),KX=l(function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var n=t.getColor();n&&(this.style.color=n)}},"initNode"),ZX=l(function(e){var t=document.createElement(e);for(var r in t.className=Jl(this.classes),this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&t.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t},"toNode"),QX=l(function(e){var t="<"+e;this.classes.length&&(t+=' class="'+Mt.escape(Jl(this.classes))+'"');var r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Mt.hyphenate(n)+":"+this.style[n]+";");for(var i in r&&(t+=' style="'+Mt.escape(r)+'"'),this.attributes)this.attributes.hasOwnProperty(i)&&(t+=" "+i+'="'+Mt.escape(this.attributes[i])+'"');t+=">";for(var a=0;a<this.children.length;a++)t+=this.children[a].toMarkup();return t+="</"+e+">"},"toMarkup"),ep,O2=(ep=class{constructor(t,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,KX.call(this,t,n,i),this.children=r||[]}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return Mt.contains(this.classes,t)}toNode(){return ZX.call(this,"span")}toMarkup(){return QX.call(this,"span")}},l(ep,"Span"),ep),tp,yA=(tp=class{constructor(t,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,KX.call(this,r,i),this.children=n||[],this.setAttribute("href",t)}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return Mt.contains(this.classes,t)}toNode(){return ZX.call(this,"a")}toMarkup(){return QX.call(this,"a")}},l(tp,"Anchor"),tp),rp,bme=(rp=class{constructor(t,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=t,this.classes=["mord"],this.style=n}hasClass(t){return Mt.contains(this.classes,t)}toNode(){var t=document.createElement("img");for(var r in t.src=this.src,t.alt=this.alt,t.className="mord",this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);return t}toMarkup(){var t='<img src="'+Mt.escape(this.src)+'" alt="'+Mt.escape(this.alt)+'"',r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Mt.hyphenate(n)+":"+this.style[n]+";");return r&&(t+=' style="'+Mt.escape(r)+'"'),t+="'/>"}},l(rp,"Img"),rp),wme={:"",:"",:"",:""},np,ss=(np=class{constructor(t,r,n,i,a,s,o,u){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=u||{},this.maxFontSize=0;var h=YX(this.text.charCodeAt(0));h&&this.classes.push(h+"_fallback"),/[]/.test(this.text)&&(this.text=wme[this.text])}hasClass(t){return Mt.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),r=null;for(var n in this.italic>0&&((r=document.createElement("span")).style.marginRight=it(this.italic)),this.classes.length>0&&((r=r||document.createElement("span")).className=Jl(this.classes)),this.style)this.style.hasOwnProperty(n)&&((r=r||document.createElement("span")).style[n]=this.style[n]);return r?(r.appendChild(t),r):t}toMarkup(){var t=!1,r="<span";this.classes.length&&(t=!0,r+=' class="',r+=Mt.escape(Jl(this.classes)),r+='"');var n="";for(var i in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(i)&&(n+=Mt.hyphenate(i)+":"+this.style[i]+";");n&&(t=!0,r+=' style="'+Mt.escape(n)+'"');var a=Mt.escape(this.text);return t?(r+=">",r+=a,r+="</span>"):a}},l(np,"SymbolNode"),np),ip,jo=(ip=class{constructor(t,r){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=r||{}}toNode(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+Mt.escape(this.attributes[r])+'"');t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</svg>"}},l(ip,"SvgNode"),ip),ap,ec=(ap=class{constructor(t,r){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=r}toNode(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",JM[this.pathName]),t}toMarkup(){return this.alternate?'<path d="'+Mt.escape(this.alternate)+'"/>':'<path d="'+Mt.escape(JM[this.pathName])+'"/>'}},l(ap,"PathNode"),ap),sp,Y_=(sp=class{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t=document.createElementNS("http://www.w3.org/2000/svg","line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);return t}toMarkup(){var t="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+Mt.escape(this.attributes[r])+'"');return t+="/>"}},l(sp,"LineNode"),sp);function W_(e){if(e instanceof ss)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function JX(e){if(e instanceof O2)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}l(W_,"assertSymbolDomNode"),l(JX,"assertSpan");var kme={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Tme={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ur={math:{},text:{}};function F(e,t,r,n,i,a){Ur[e][i]={font:t,group:r,replace:n},a&&n&&(Ur[e][n]=Ur[e][i])}l(F,"defineSymbol");var U="math",je="text",Z="main",fe="ams",Xr="accent-token",gt="bin",Ai="close",Ot="mathord",kn="op-token",xa="open",ge="rel",Ee="textord";F(U,Z,ge,"","\\equiv",!0),F(U,Z,ge,"","\\prec",!0),F(U,Z,ge,"","\\succ",!0),F(U,Z,ge,"","\\sim",!0),F(U,Z,ge,"","\\perp"),F(U,Z,ge,"","\\preceq",!0),F(U,Z,ge,"","\\succeq",!0),F(U,Z,ge,"","\\simeq",!0),F(U,Z,ge,"","\\mid",!0),F(U,Z,ge,"","\\ll",!0),F(U,Z,ge,"","\\gg",!0),F(U,Z,ge,"","\\asymp",!0),F(U,Z,ge,"","\\parallel"),F(U,Z,ge,"","\\bowtie",!0),F(U,Z,ge,"","\\smile",!0),F(U,Z,ge,"","\\sqsubseteq",!0),F(U,Z,ge,"","\\sqsupseteq",!0),F(U,Z,ge,"","\\doteq",!0),F(U,Z,ge,"","\\frown",!0),F(U,Z,ge,"","\\ni",!0),F(U,Z,ge,"","\\propto",!0),F(U,Z,ge,"","\\vdash",!0),F(U,Z,ge,"","\\dashv",!0),F(U,Z,ge,"","\\owns"),F(U,Z,"punct",".","\\ldotp"),F(U,Z,"punct","","\\cdotp"),F(U,Z,Ee,"#","\\#"),F(je,Z,Ee,"#","\\#"),F(U,Z,Ee,"&","\\&"),F(je,Z,Ee,"&","\\&"),F(U,Z,Ee,"","\\aleph",!0),F(U,Z,Ee,"","\\forall",!0),F(U,Z,Ee,"","\\hbar",!0),F(U,Z,Ee,"","\\exists",!0),F(U,Z,Ee,"","\\nabla",!0),F(U,Z,Ee,"","\\flat",!0),F(U,Z,Ee,"","\\ell",!0),F(U,Z,Ee,"","\\natural",!0),F(U,Z,Ee,"","\\clubsuit",!0),F(U,Z,Ee,"","\\wp",!0),F(U,Z,Ee,"","\\sharp",!0),F(U,Z,Ee,"","\\diamondsuit",!0),F(U,Z,Ee,"","\\Re",!0),F(U,Z,Ee,"","\\heartsuit",!0),F(U,Z,Ee,"","\\Im",!0),F(U,Z,Ee,"","\\spadesuit",!0),F(U,Z,Ee,"","\\S",!0),F(je,Z,Ee,"","\\S"),F(U,Z,Ee,"","\\P",!0),F(je,Z,Ee,"","\\P"),F(U,Z,Ee,"","\\dag"),F(je,Z,Ee,"","\\dag"),F(je,Z,Ee,"","\\textdagger"),F(U,Z,Ee,"","\\ddag"),F(je,Z,Ee,"","\\ddag"),F(je,Z,Ee,"","\\textdaggerdbl"),F(U,Z,Ai,"","\\rmoustache",!0),F(U,Z,xa,"","\\lmoustache",!0),F(U,Z,Ai,"","\\rgroup",!0),F(U,Z,xa,"","\\lgroup",!0),F(U,Z,gt,"","\\mp",!0),F(U,Z,gt,"","\\ominus",!0),F(U,Z,gt,"","\\uplus",!0),F(U,Z,gt,"","\\sqcap",!0),F(U,Z,gt,"","\\ast"),F(U,Z,gt,"","\\sqcup",!0),F(U,Z,gt,"","\\bigcirc",!0),F(U,Z,gt,"","\\bullet",!0),F(U,Z,gt,"","\\ddagger"),F(U,Z,gt,"","\\wr",!0),F(U,Z,gt,"","\\amalg"),F(U,Z,gt,"&","\\And"),F(U,Z,ge,"","\\longleftarrow",!0),F(U,Z,ge,"","\\Leftarrow",!0),F(U,Z,ge,"","\\Longleftarrow",!0),F(U,Z,ge,"","\\longrightarrow",!0),F(U,Z,ge,"","\\Rightarrow",!0),F(U,Z,ge,"","\\Longrightarrow",!0),F(U,Z,ge,"","\\leftrightarrow",!0),F(U,Z,ge,"","\\longleftrightarrow",!0),F(U,Z,ge,"","\\Leftrightarrow",!0),F(U,Z,ge,"","\\Longleftrightarrow",!0),F(U,Z,ge,"","\\mapsto",!0),F(U,Z,ge,"","\\longmapsto",!0),F(U,Z,ge,"","\\nearrow",!0),F(U,Z,ge,"","\\hookleftarrow",!0),F(U,Z,ge,"","\\hookrightarrow",!0),F(U,Z,ge,"","\\searrow",!0),F(U,Z,ge,"","\\leftharpoonup",!0),F(U,Z,ge,"","\\rightharpoonup",!0),F(U,Z,ge,"","\\swarrow",!0),F(U,Z,ge,"","\\leftharpoondown",!0),F(U,Z,ge,"","\\rightharpoondown",!0),F(U,Z,ge,"","\\nwarrow",!0),F(U,Z,ge,"","\\rightleftharpoons",!0),F(U,fe,ge,"","\\nless",!0),F(U,fe,ge,"","\\@nleqslant"),F(U,fe,ge,"","\\@nleqq"),F(U,fe,ge,"","\\lneq",!0),F(U,fe,ge,"","\\lneqq",!0),F(U,fe,ge,"","\\@lvertneqq"),F(U,fe,ge,"","\\lnsim",!0),F(U,fe,ge,"","\\lnapprox",!0),F(U,fe,ge,"","\\nprec",!0),F(U,fe,ge,"","\\npreceq",!0),F(U,fe,ge,"","\\precnsim",!0),F(U,fe,ge,"","\\precnapprox",!0),F(U,fe,ge,"","\\nsim",!0),F(U,fe,ge,"","\\@nshortmid"),F(U,fe,ge,"","\\nmid",!0),F(U,fe,ge,"","\\nvdash",!0),F(U,fe,ge,"","\\nvDash",!0),F(U,fe,ge,"","\\ntriangleleft"),F(U,fe,ge,"","\\ntrianglelefteq",!0),F(U,fe,ge,"","\\subsetneq",!0),F(U,fe,ge,"","\\@varsubsetneq"),F(U,fe,ge,"","\\subsetneqq",!0),F(U,fe,ge,"","\\@varsubsetneqq"),F(U,fe,ge,"","\\ngtr",!0),F(U,fe,ge,"","\\@ngeqslant"),F(U,fe,ge,"","\\@ngeqq"),F(U,fe,ge,"","\\gneq",!0),F(U,fe,ge,"","\\gneqq",!0),F(U,fe,ge,"","\\@gvertneqq"),F(U,fe,ge,"","\\gnsim",!0),F(U,fe,ge,"","\\gnapprox",!0),F(U,fe,ge,"","\\nsucc",!0),F(U,fe,ge,"","\\nsucceq",!0),F(U,fe,ge,"","\\succnsim",!0),F(U,fe,ge,"","\\succnapprox",!0),F(U,fe,ge,"","\\ncong",!0),F(U,fe,ge,"","\\@nshortparallel"),F(U,fe,ge,"","\\nparallel",!0),F(U,fe,ge,"","\\nVDash",!0),F(U,fe,ge,"","\\ntriangleright"),F(U,fe,ge,"","\\ntrianglerighteq",!0),F(U,fe,ge,"","\\@nsupseteqq"),F(U,fe,ge,"","\\supsetneq",!0),F(U,fe,ge,"","\\@varsupsetneq"),F(U,fe,ge,"","\\supsetneqq",!0),F(U,fe,ge,"","\\@varsupsetneqq"),F(U,fe,ge,"","\\nVdash",!0),F(U,fe,ge,"","\\precneqq",!0),F(U,fe,ge,"","\\succneqq",!0),F(U,fe,ge,"","\\@nsubseteqq"),F(U,fe,gt,"","\\unlhd"),F(U,fe,gt,"","\\unrhd"),F(U,fe,ge,"","\\nleftarrow",!0),F(U,fe,ge,"","\\nrightarrow",!0),F(U,fe,ge,"","\\nLeftarrow",!0),F(U,fe,ge,"","\\nRightarrow",!0),F(U,fe,ge,"","\\nleftrightarrow",!0),F(U,fe,ge,"","\\nLeftrightarrow",!0),F(U,fe,ge,"","\\vartriangle"),F(U,fe,Ee,"","\\hslash"),F(U,fe,Ee,"","\\triangledown"),F(U,fe,Ee,"","\\lozenge"),F(U,fe,Ee,"","\\circledS"),F(U,fe,Ee,"","\\circledR"),F(je,fe,Ee,"","\\circledR"),F(U,fe,Ee,"","\\measuredangle",!0),F(U,fe,Ee,"","\\nexists"),F(U,fe,Ee,"","\\mho"),F(U,fe,Ee,"","\\Finv",!0),F(U,fe,Ee,"","\\Game",!0),F(U,fe,Ee,"","\\backprime"),F(U,fe,Ee,"","\\blacktriangle"),F(U,fe,Ee,"","\\blacktriangledown"),F(U,fe,Ee,"","\\blacksquare"),F(U,fe,Ee,"","\\blacklozenge"),F(U,fe,Ee,"","\\bigstar"),F(U,fe,Ee,"","\\sphericalangle",!0),F(U,fe,Ee,"","\\complement",!0),F(U,fe,Ee,"","\\eth",!0),F(je,Z,Ee,"",""),F(U,fe,Ee,"","\\diagup"),F(U,fe,Ee,"","\\diagdown"),F(U,fe,Ee,"","\\square"),F(U,fe,Ee,"","\\Box"),F(U,fe,Ee,"","\\Diamond"),F(U,fe,Ee,"","\\yen",!0),F(je,fe,Ee,"","\\yen",!0),F(U,fe,Ee,"","\\checkmark",!0),F(je,fe,Ee,"","\\checkmark"),F(U,fe,Ee,"","\\beth",!0),F(U,fe,Ee,"","\\daleth",!0),F(U,fe,Ee,"","\\gimel",!0),F(U,fe,Ee,"","\\digamma",!0),F(U,fe,Ee,"","\\varkappa"),F(U,fe,xa,"","\\@ulcorner",!0),F(U,fe,Ai,"","\\@urcorner",!0),F(U,fe,xa,"","\\@llcorner",!0),F(U,fe,Ai,"","\\@lrcorner",!0),F(U,fe,ge,"","\\leqq",!0),F(U,fe,ge,"","\\leqslant",!0),F(U,fe,ge,"","\\eqslantless",!0),F(U,fe,ge,"","\\lesssim",!0),F(U,fe,ge,"","\\lessapprox",!0),F(U,fe,ge,"","\\approxeq",!0),F(U,fe,gt,"","\\lessdot"),F(U,fe,ge,"","\\lll",!0),F(U,fe,ge,"","\\lessgtr",!0),F(U,fe,ge,"","\\lesseqgtr",!0),F(U,fe,ge,"","\\lesseqqgtr",!0),F(U,fe,ge,"","\\doteqdot"),F(U,fe,ge,"","\\risingdotseq",!0),F(U,fe,ge,"","\\fallingdotseq",!0),F(U,fe,ge,"","\\backsim",!0),F(U,fe,ge,"","\\backsimeq",!0),F(U,fe,ge,"","\\subseteqq",!0),F(U,fe,ge,"","\\Subset",!0),F(U,fe,ge,"","\\sqsubset",!0),F(U,fe,ge,"","\\preccurlyeq",!0),F(U,fe,ge,"","\\curlyeqprec",!0),F(U,fe,ge,"","\\precsim",!0),F(U,fe,ge,"","\\precapprox",!0),F(U,fe,ge,"","\\vartriangleleft"),F(U,fe,ge,"","\\trianglelefteq"),F(U,fe,ge,"","\\vDash",!0),F(U,fe,ge,"","\\Vvdash",!0),F(U,fe,ge,"","\\smallsmile"),F(U,fe,ge,"","\\smallfrown"),F(U,fe,ge,"","\\bumpeq",!0),F(U,fe,ge,"","\\Bumpeq",!0),F(U,fe,ge,"","\\geqq",!0),F(U,fe,ge,"","\\geqslant",!0),F(U,fe,ge,"","\\eqslantgtr",!0),F(U,fe,ge,"","\\gtrsim",!0),F(U,fe,ge,"","\\gtrapprox",!0),F(U,fe,gt,"","\\gtrdot"),F(U,fe,ge,"","\\ggg",!0),F(U,fe,ge,"","\\gtrless",!0),F(U,fe,ge,"","\\gtreqless",!0),F(U,fe,ge,"","\\gtreqqless",!0),F(U,fe,ge,"","\\eqcirc",!0),F(U,fe,ge,"","\\circeq",!0),F(U,fe,ge,"","\\triangleq",!0),F(U,fe,ge,"","\\thicksim"),F(U,fe,ge,"","\\thickapprox"),F(U,fe,ge,"","\\supseteqq",!0),F(U,fe,ge,"","\\Supset",!0),F(U,fe,ge,"","\\sqsupset",!0),F(U,fe,ge,"","\\succcurlyeq",!0),F(U,fe,ge,"","\\curlyeqsucc",!0),F(U,fe,ge,"","\\succsim",!0),F(U,fe,ge,"","\\succapprox",!0),F(U,fe,ge,"","\\vartriangleright"),F(U,fe,ge,"","\\trianglerighteq"),F(U,fe,ge,"","\\Vdash",!0),F(U,fe,ge,"","\\shortmid"),F(U,fe,ge,"","\\shortparallel"),F(U,fe,ge,"","\\between",!0),F(U,fe,ge,"","\\pitchfork",!0),F(U,fe,ge,"","\\varpropto"),F(U,fe,ge,"","\\blacktriangleleft"),F(U,fe,ge,"","\\therefore",!0),F(U,fe,ge,"","\\backepsilon"),F(U,fe,ge,"","\\blacktriangleright"),F(U,fe,ge,"","\\because",!0),F(U,fe,ge,"","\\llless"),F(U,fe,ge,"","\\gggtr"),F(U,fe,gt,"","\\lhd"),F(U,fe,gt,"","\\rhd"),F(U,fe,ge,"","\\eqsim",!0),F(U,Z,ge,"","\\Join"),F(U,fe,ge,"","\\Doteq",!0),F(U,fe,gt,"","\\dotplus",!0),F(U,fe,gt,"","\\smallsetminus"),F(U,fe,gt,"","\\Cap",!0),F(U,fe,gt,"","\\Cup",!0),F(U,fe,gt,"","\\doublebarwedge",!0),F(U,fe,gt,"","\\boxminus",!0),F(U,fe,gt,"","\\boxplus",!0),F(U,fe,gt,"","\\divideontimes",!0),F(U,fe,gt,"","\\ltimes",!0),F(U,fe,gt,"","\\rtimes",!0),F(U,fe,gt,"","\\leftthreetimes",!0),F(U,fe,gt,"","\\rightthreetimes",!0),F(U,fe,gt,"","\\curlywedge",!0),F(U,fe,gt,"","\\curlyvee",!0),F(U,fe,gt,"","\\circleddash",!0),F(U,fe,gt,"","\\circledast",!0),F(U,fe,gt,"","\\centerdot"),F(U,fe,gt,"","\\intercal",!0),F(U,fe,gt,"","\\doublecap"),F(U,fe,gt,"","\\doublecup"),F(U,fe,gt,"","\\boxtimes",!0),F(U,fe,ge,"","\\dashrightarrow",!0),F(U,fe,ge,"","\\dashleftarrow",!0),F(U,fe,ge,"","\\leftleftarrows",!0),F(U,fe,ge,"","\\leftrightarrows",!0),F(U,fe,ge,"","\\Lleftarrow",!0),F(U,fe,ge,"","\\twoheadleftarrow",!0),F(U,fe,ge,"","\\leftarrowtail",!0),F(U,fe,ge,"","\\looparrowleft",!0),F(U,fe,ge,"","\\leftrightharpoons",!0),F(U,fe,ge,"","\\curvearrowleft",!0),F(U,fe,ge,"","\\circlearrowleft",!0),F(U,fe,ge,"","\\Lsh",!0),F(U,fe,ge,"","\\upuparrows",!0),F(U,fe,ge,"","\\upharpoonleft",!0),F(U,fe,ge,"","\\downharpoonleft",!0),F(U,Z,ge,"","\\origof",!0),F(U,Z,ge,"","\\imageof",!0),F(U,fe,ge,"","\\multimap",!0),F(U,fe,ge,"","\\leftrightsquigarrow",!0),F(U,fe,ge,"","\\rightrightarrows",!0),F(U,fe,ge,"","\\rightleftarrows",!0),F(U,fe,ge,"","\\twoheadrightarrow",!0),F(U,fe,ge,"","\\rightarrowtail",!0),F(U,fe,ge,"","\\looparrowright",!0),F(U,fe,ge,"","\\curvearrowright",!0),F(U,fe,ge,"","\\circlearrowright",!0),F(U,fe,ge,"","\\Rsh",!0),F(U,fe,ge,"","\\downdownarrows",!0),F(U,fe,ge,"","\\upharpoonright",!0),F(U,fe,ge,"","\\downharpoonright",!0),F(U,fe,ge,"","\\rightsquigarrow",!0),F(U,fe,ge,"","\\leadsto"),F(U,fe,ge,"","\\Rrightarrow",!0),F(U,fe,ge,"","\\restriction"),F(U,Z,Ee,"","`"),F(U,Z,Ee,"$","\\$"),F(je,Z,Ee,"$","\\$"),F(je,Z,Ee,"$","\\textdollar"),F(U,Z,Ee,"%","\\%"),F(je,Z,Ee,"%","\\%"),F(U,Z,Ee,"_","\\_"),F(je,Z,Ee,"_","\\_"),F(je,Z,Ee,"_","\\textunderscore"),F(U,Z,Ee,"","\\angle",!0),F(U,Z,Ee,"","\\infty",!0),F(U,Z,Ee,"","\\prime"),F(U,Z,Ee,"","\\triangle"),F(U,Z,Ee,"","\\Gamma",!0),F(U,Z,Ee,"","\\Delta",!0),F(U,Z,Ee,"","\\Theta",!0),F(U,Z,Ee,"","\\Lambda",!0),F(U,Z,Ee,"","\\Xi",!0),F(U,Z,Ee,"","\\Pi",!0),F(U,Z,Ee,"","\\Sigma",!0),F(U,Z,Ee,"","\\Upsilon",!0),F(U,Z,Ee,"","\\Phi",!0),F(U,Z,Ee,"","\\Psi",!0),F(U,Z,Ee,"","\\Omega",!0),F(U,Z,Ee,"A",""),F(U,Z,Ee,"B",""),F(U,Z,Ee,"E",""),F(U,Z,Ee,"Z",""),F(U,Z,Ee,"H",""),F(U,Z,Ee,"I",""),F(U,Z,Ee,"K",""),F(U,Z,Ee,"M",""),F(U,Z,Ee,"N",""),F(U,Z,Ee,"O",""),F(U,Z,Ee,"P",""),F(U,Z,Ee,"T",""),F(U,Z,Ee,"X",""),F(U,Z,Ee,"","\\neg",!0),F(U,Z,Ee,"","\\lnot"),F(U,Z,Ee,"","\\top"),F(U,Z,Ee,"","\\bot"),F(U,Z,Ee,"","\\emptyset"),F(U,fe,Ee,"","\\varnothing"),F(U,Z,Ot,"","\\alpha",!0),F(U,Z,Ot,"","\\beta",!0),F(U,Z,Ot,"","\\gamma",!0),F(U,Z,Ot,"","\\delta",!0),F(U,Z,Ot,"","\\epsilon",!0),F(U,Z,Ot,"","\\zeta",!0),F(U,Z,Ot,"","\\eta",!0),F(U,Z,Ot,"","\\theta",!0),F(U,Z,Ot,"","\\iota",!0),F(U,Z,Ot,"","\\kappa",!0),F(U,Z,Ot,"","\\lambda",!0),F(U,Z,Ot,"","\\mu",!0),F(U,Z,Ot,"","\\nu",!0),F(U,Z,Ot,"","\\xi",!0),F(U,Z,Ot,"","\\omicron",!0),F(U,Z,Ot,"","\\pi",!0),F(U,Z,Ot,"","\\rho",!0),F(U,Z,Ot,"","\\sigma",!0),F(U,Z,Ot,"","\\tau",!0),F(U,Z,Ot,"","\\upsilon",!0),F(U,Z,Ot,"","\\phi",!0),F(U,Z,Ot,"","\\chi",!0),F(U,Z,Ot,"","\\psi",!0),F(U,Z,Ot,"","\\omega",!0),F(U,Z,Ot,"","\\varepsilon",!0),F(U,Z,Ot,"","\\vartheta",!0),F(U,Z,Ot,"","\\varpi",!0),F(U,Z,Ot,"","\\varrho",!0),F(U,Z,Ot,"","\\varsigma",!0),F(U,Z,Ot,"","\\varphi",!0),F(U,Z,gt,"","*",!0),F(U,Z,gt,"+","+"),F(U,Z,gt,"","-",!0),F(U,Z,gt,"","\\cdot",!0),F(U,Z,gt,"","\\circ",!0),F(U,Z,gt,"","\\div",!0),F(U,Z,gt,"","\\pm",!0),F(U,Z,gt,"","\\times",!0),F(U,Z,gt,"","\\cap",!0),F(U,Z,gt,"","\\cup",!0),F(U,Z,gt,"","\\setminus",!0),F(U,Z,gt,"","\\land"),F(U,Z,gt,"","\\lor"),F(U,Z,gt,"","\\wedge",!0),F(U,Z,gt,"","\\vee",!0),F(U,Z,Ee,"","\\surd"),F(U,Z,xa,"","\\langle",!0),F(U,Z,xa,"","\\lvert"),F(U,Z,xa,"","\\lVert"),F(U,Z,Ai,"?","?"),F(U,Z,Ai,"!","!"),F(U,Z,Ai,"","\\rangle",!0),F(U,Z,Ai,"","\\rvert"),F(U,Z,Ai,"","\\rVert"),F(U,Z,ge,"=","="),F(U,Z,ge,":",":"),F(U,Z,ge,"","\\approx",!0),F(U,Z,ge,"","\\cong",!0),F(U,Z,ge,"","\\ge"),F(U,Z,ge,"","\\geq",!0),F(U,Z,ge,"","\\gets"),F(U,Z,ge,">","\\gt",!0),F(U,Z,ge,"","\\in",!0),F(U,Z,ge,"","\\@not"),F(U,Z,ge,"","\\subset",!0),F(U,Z,ge,"","\\supset",!0),F(U,Z,ge,"","\\subseteq",!0),F(U,Z,ge,"","\\supseteq",!0),F(U,fe,ge,"","\\nsubseteq",!0),F(U,fe,ge,"","\\nsupseteq",!0),F(U,Z,ge,"","\\models"),F(U,Z,ge,"","\\leftarrow",!0),F(U,Z,ge,"","\\le"),F(U,Z,ge,"","\\leq",!0),F(U,Z,ge,"<","\\lt",!0),F(U,Z,ge,"","\\rightarrow",!0),F(U,Z,ge,"","\\to"),F(U,fe,ge,"","\\ngeq",!0),F(U,fe,ge,"","\\nleq",!0),F(U,Z,"spacing","","\\ "),F(U,Z,"spacing","","\\space"),F(U,Z,"spacing","","\\nobreakspace"),F(je,Z,"spacing","","\\ "),F(je,Z,"spacing",""," "),F(je,Z,"spacing","","\\space"),F(je,Z,"spacing","","\\nobreakspace"),F(U,Z,"spacing",null,"\\nobreak"),F(U,Z,"spacing",null,"\\allowbreak"),F(U,Z,"punct",",",","),F(U,Z,"punct",";",";"),F(U,fe,gt,"","\\barwedge",!0),F(U,fe,gt,"","\\veebar",!0),F(U,Z,gt,"","\\odot",!0),F(U,Z,gt,"","\\oplus",!0),F(U,Z,gt,"","\\otimes",!0),F(U,Z,Ee,"","\\partial",!0),F(U,Z,gt,"","\\oslash",!0),F(U,fe,gt,"","\\circledcirc",!0),F(U,fe,gt,"","\\boxdot",!0),F(U,Z,gt,"","\\bigtriangleup"),F(U,Z,gt,"","\\bigtriangledown"),F(U,Z,gt,"","\\dagger"),F(U,Z,gt,"","\\diamond"),F(U,Z,gt,"","\\star"),F(U,Z,gt,"","\\triangleleft"),F(U,Z,gt,"","\\triangleright"),F(U,Z,xa,"{","\\{"),F(je,Z,Ee,"{","\\{"),F(je,Z,Ee,"{","\\textbraceleft"),F(U,Z,Ai,"}","\\}"),F(je,Z,Ee,"}","\\}"),F(je,Z,Ee,"}","\\textbraceright"),F(U,Z,xa,"{","\\lbrace"),F(U,Z,Ai,"}","\\rbrace"),F(U,Z,xa,"[","\\lbrack",!0),F(je,Z,Ee,"[","\\lbrack",!0),F(U,Z,Ai,"]","\\rbrack",!0),F(je,Z,Ee,"]","\\rbrack",!0),F(U,Z,xa,"(","\\lparen",!0),F(U,Z,Ai,")","\\rparen",!0),F(je,Z,Ee,"<","\\textless",!0),F(je,Z,Ee,">","\\textgreater",!0),F(U,Z,xa,"","\\lfloor",!0),F(U,Z,Ai,"","\\rfloor",!0),F(U,Z,xa,"","\\lceil",!0),F(U,Z,Ai,"","\\rceil",!0),F(U,Z,Ee,"\\","\\backslash"),F(U,Z,Ee,"","|"),F(U,Z,Ee,"","\\vert"),F(je,Z,Ee,"|","\\textbar",!0),F(U,Z,Ee,"","\\|"),F(U,Z,Ee,"","\\Vert"),F(je,Z,Ee,"","\\textbardbl"),F(je,Z,Ee,"~","\\textasciitilde"),F(je,Z,Ee,"\\","\\textbackslash"),F(je,Z,Ee,"^","\\textasciicircum"),F(U,Z,ge,"","\\uparrow",!0),F(U,Z,ge,"","\\Uparrow",!0),F(U,Z,ge,"","\\downarrow",!0),F(U,Z,ge,"","\\Downarrow",!0),F(U,Z,ge,"","\\updownarrow",!0),F(U,Z,ge,"","\\Updownarrow",!0),F(U,Z,kn,"","\\coprod"),F(U,Z,kn,"","\\bigvee"),F(U,Z,kn,"","\\bigwedge"),F(U,Z,kn,"","\\biguplus"),F(U,Z,kn,"","\\bigcap"),F(U,Z,kn,"","\\bigcup"),F(U,Z,kn,"","\\int"),F(U,Z,kn,"","\\intop"),F(U,Z,kn,"","\\iint"),F(U,Z,kn,"","\\iiint"),F(U,Z,kn,"","\\prod"),F(U,Z,kn,"","\\sum"),F(U,Z,kn,"","\\bigotimes"),F(U,Z,kn,"","\\bigoplus"),F(U,Z,kn,"","\\bigodot"),F(U,Z,kn,"","\\oint"),F(U,Z,kn,"","\\oiint"),F(U,Z,kn,"","\\oiiint"),F(U,Z,kn,"","\\bigsqcup"),F(U,Z,kn,"","\\smallint"),F(je,Z,"inner","","\\textellipsis"),F(U,Z,"inner","","\\mathellipsis"),F(je,Z,"inner","","\\ldots",!0),F(U,Z,"inner","","\\ldots",!0),F(U,Z,"inner","","\\@cdots",!0),F(U,Z,"inner","","\\ddots",!0),F(U,Z,Ee,"","\\varvdots"),F(U,Z,Xr,"","\\acute"),F(U,Z,Xr,"","\\grave"),F(U,Z,Xr,"","\\ddot"),F(U,Z,Xr,"~","\\tilde"),F(U,Z,Xr,"","\\bar"),F(U,Z,Xr,"","\\breve"),F(U,Z,Xr,"","\\check"),F(U,Z,Xr,"^","\\hat"),F(U,Z,Xr,"","\\vec"),F(U,Z,Xr,"","\\dot"),F(U,Z,Xr,"","\\mathring"),F(U,Z,Ot,"","\\@imath"),F(U,Z,Ot,"","\\@jmath"),F(U,Z,Ee,"",""),F(U,Z,Ee,"",""),F(je,Z,Ee,"","\\i",!0),F(je,Z,Ee,"","\\j",!0),F(je,Z,Ee,"","\\ss",!0),F(je,Z,Ee,"","\\ae",!0),F(je,Z,Ee,"","\\oe",!0),F(je,Z,Ee,"","\\o",!0),F(je,Z,Ee,"","\\AE",!0),F(je,Z,Ee,"","\\OE",!0),F(je,Z,Ee,"","\\O",!0),F(je,Z,Xr,"","\\'"),F(je,Z,Xr,"","\\`"),F(je,Z,Xr,"","\\^"),F(je,Z,Xr,"","\\~"),F(je,Z,Xr,"","\\="),F(je,Z,Xr,"","\\u"),F(je,Z,Xr,"","\\."),F(je,Z,Xr,"","\\c"),F(je,Z,Xr,"","\\r"),F(je,Z,Xr,"","\\v"),F(je,Z,Xr,"",'\\"'),F(je,Z,Xr,"","\\H"),F(je,Z,Xr,"","\\textcircled");var e3={"--":!0,"---":!0,"``":!0,"''":!0};F(je,Z,Ee,"","--",!0),F(je,Z,Ee,"","\\textendash"),F(je,Z,Ee,"","---",!0),F(je,Z,Ee,"","\\textemdash"),F(je,Z,Ee,"","`",!0),F(je,Z,Ee,"","\\textquoteleft"),F(je,Z,Ee,"","'",!0),F(je,Z,Ee,"","\\textquoteright"),F(je,Z,Ee,"","``",!0),F(je,Z,Ee,"","\\textquotedblleft"),F(je,Z,Ee,"","''",!0),F(je,Z,Ee,"","\\textquotedblright"),F(U,Z,Ee,"","\\degree",!0),F(je,Z,Ee,"","\\degree"),F(je,Z,Ee,"","\\textdegree",!0),F(U,Z,Ee,"","\\pounds"),F(U,Z,Ee,"","\\mathsterling",!0),F(je,Z,Ee,"","\\pounds"),F(je,Z,Ee,"","\\textsterling",!0),F(U,fe,Ee,"","\\maltese"),F(je,fe,Ee,"","\\maltese");var nR,Av;for(Av=0;Av<14;Av++)F(U,Z,Ee,nR='0123456789/@."'.charAt(Av),nR);var iR,Lv;for(Lv=0;Lv<25;Lv++)F(je,Z,Ee,iR='0123456789!@*()-=+";:?/.,'.charAt(Lv),iR);var Nv,Iv,p4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(Iv=0;Iv<p4.length;Iv++)F(U,Z,Ot,Nv=p4.charAt(Iv),Nv),F(je,Z,Ee,Nv,Nv);F(U,fe,Ee,"C",""),F(je,fe,Ee,"C",""),F(U,fe,Ee,"H",""),F(je,fe,Ee,"H",""),F(U,fe,Ee,"N",""),F(je,fe,Ee,"N",""),F(U,fe,Ee,"P",""),F(je,fe,Ee,"P",""),F(U,fe,Ee,"Q",""),F(je,fe,Ee,"Q",""),F(U,fe,Ee,"R",""),F(je,fe,Ee,"R",""),F(U,fe,Ee,"Z",""),F(je,fe,Ee,"Z",""),F(U,Z,Ot,"h",""),F(je,Z,Ot,"h","");var an,gi,pl,fl,fr="";for(gi=0;gi<p4.length;gi++)F(U,Z,Ot,an=p4.charAt(gi),fr=String.fromCharCode(55349,56320+gi)),F(je,Z,Ee,an,fr),F(U,Z,Ot,an,fr=String.fromCharCode(55349,56372+gi)),F(je,Z,Ee,an,fr),F(U,Z,Ot,an,fr=String.fromCharCode(55349,56424+gi)),F(je,Z,Ee,an,fr),F(U,Z,Ot,an,fr=String.fromCharCode(55349,56580+gi)),F(je,Z,Ee,an,fr),F(U,Z,Ot,an,fr=String.fromCharCode(55349,56684+gi)),F(je,Z,Ee,an,fr),F(U,Z,Ot,an,fr=String.fromCharCode(55349,56736+gi)),F(je,Z,Ee,an,fr),F(U,Z,Ot,an,fr=String.fromCharCode(55349,56788+gi)),F(je,Z,Ee,an,fr),F(U,Z,Ot,an,fr=String.fromCharCode(55349,56840+gi)),F(je,Z,Ee,an,fr),F(U,Z,Ot,an,fr=String.fromCharCode(55349,56944+gi)),F(je,Z,Ee,an,fr),gi<26&&(F(U,Z,Ot,an,fr=String.fromCharCode(55349,56632+gi)),F(je,Z,Ee,an,fr),F(U,Z,Ot,an,fr=String.fromCharCode(55349,56476+gi)),F(je,Z,Ee,an,fr));for(F(U,Z,Ot,"k",fr=""),F(je,Z,Ee,"k",fr),fl=0;fl<10;fl++)F(U,Z,Ot,pl=fl.toString(),fr=String.fromCharCode(55349,57294+fl)),F(je,Z,Ee,pl,fr),F(U,Z,Ot,pl,fr=String.fromCharCode(55349,57314+fl)),F(je,Z,Ee,pl,fr),F(U,Z,Ot,pl,fr=String.fromCharCode(55349,57324+fl)),F(je,Z,Ee,pl,fr),F(U,Z,Ot,pl,fr=String.fromCharCode(55349,57334+fl)),F(je,Z,Ee,pl,fr);var Mv,Rv;for(Rv=0;Rv<3;Rv++)F(U,Z,Ot,Mv="".charAt(Rv),Mv),F(je,Z,Ee,Mv,Mv);var Dv=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],aR=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],_me=l(function(e,t){var r=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,n=t==="math"?0:1;if(119808<=r&&r<120484){var i=Math.floor((r-119808)/26);return[Dv[i][2],Dv[i][n]]}if(120782<=r&&r<=120831){var a=Math.floor((r-120782)/10);return[aR[a][2],aR[a][n]]}if(r===120485||r===120486)return[Dv[0][2],Dv[0][n]];if(120486<r&&r<120782)return["",""];throw new et("Unsupported character: "+e)},"wideCharacterFont"),d6=l(function(e,t,r){return Ur[r][e]&&Ur[r][e].replace&&(e=Ur[r][e].replace),{value:e,metrics:h6(e,t,r)}},"lookupSymbol"),vs=l(function(e,t,r,n,i){var a,s=d6(e,t,r),o=s.metrics;if(e=s.value,o){var u=o.italic;(r==="text"||n&&n.font==="mathit")&&(u=0),a=new ss(e,o.height,o.depth,u,o.skew,o.width,i)}else typeof console<"u"&&console.warn("No character metrics for '"+e+"' in style '"+t+"' and mode '"+r+"'"),a=new ss(e,0,0,0,0,0,i);if(n){a.maxFontSize=n.sizeMultiplier,n.style.isTight()&&a.classes.push("mtight");var h=n.getColor();h&&(a.style.color=h)}return a},"makeSymbol"),Eme=l(function(e,t,r,n){return n===void 0&&(n=[]),r.font==="boldsymbol"&&d6(e,"Main-Bold",t).metrics?vs(e,"Main-Bold",t,r,n.concat(["mathbf"])):e==="\\"||Ur[t][e].font==="main"?vs(e,"Main-Regular",t,r,n):vs(e,"AMS-Regular",t,r,n.concat(["amsrm"]))},"mathsym"),Cme=l(function(e,t,r,n,i){return i!=="textord"&&d6(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},"boldsymbol"),Sme=l(function(e,t,r){var n=e.mode,i=e.text,a=["mord"],s=n==="math"||n==="text"&&t.font,o=s?t.font:t.fontFamily,u="",h="";if(i.charCodeAt(0)===55349&&([u,h]=_me(i,n)),u.length>0)return vs(i,u,n,t,a.concat(h));if(o){var d,p;if(o==="boldsymbol"){var f=Cme(i,n,t,a,r);d=f.fontName,p=[f.fontClass]}else s?(d=n3[o].fontName,p=[o]):(d=Ov(o,t.fontWeight,t.fontShape),p=[o,t.fontWeight,t.fontShape]);if(d6(i,d,n).metrics)return vs(i,d,n,t,a.concat(p));if(e3.hasOwnProperty(i)&&d.slice(0,10)==="Typewriter"){for(var g=[],m=0;m<i.length;m++)g.push(vs(i[m],d,n,t,a.concat(p)));return r3(g)}}if(r==="mathord")return vs(i,"Math-Italic",n,t,a.concat(["mathnormal"]));if(r==="textord"){var y=Ur[n][i]&&Ur[n][i].font;if(y==="ams"){var v=Ov("amsrm",t.fontWeight,t.fontShape);return vs(i,v,n,t,a.concat("amsrm",t.fontWeight,t.fontShape))}if(y!=="main"&&y){var x=Ov(y,t.fontWeight,t.fontShape);return vs(i,x,n,t,a.concat(x,t.fontWeight,t.fontShape))}var b=Ov("textrm",t.fontWeight,t.fontShape);return vs(i,b,n,t,a.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+r+" in makeOrd")},"makeOrd"),Ame=l((e,t)=>{if(Jl(e.classes)!==Jl(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var r=e.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},"canCombine"),Lme=l(e=>{for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof ss&&n instanceof ss&&Ame(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e},"tryCombineChars"),vA=l(function(e){for(var t=0,r=0,n=0,i=0;i<e.children.length;i++){var a=e.children[i];a.height>t&&(t=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>n&&(n=a.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=n},"sizeElementFromChildren"),ji=l(function(e,t,r,n){var i=new O2(e,t,r,n);return vA(i),i},"makeSpan"),t3=l((e,t,r,n)=>new O2(e,t,r,n),"makeSvgSpan"),Nme=l(function(e,t,r){var n=ji([e],[],t);return n.height=Math.max(r||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),n.style.borderBottomWidth=it(n.height),n.maxFontSize=1,n},"makeLineSpan"),Ime=l(function(e,t,r,n){var i=new yA(e,t,r,n);return vA(i),i},"makeAnchor"),r3=l(function(e){var t=new D2(e);return vA(t),t},"makeFragment"),Mme=l(function(e,t){return e instanceof D2?ji([],[e],t):e},"wrapFragment"),Rme=l(function(e){if(e.positionType==="individualShift"){for(var t=e.children,r=[t[0]],n=-t[0].shift-t[0].elem.depth,i=n,a=1;a<t.length;a++){var s=-t[a].shift-i-t[a].elem.depth,o=s-(t[a-1].elem.height+t[a-1].elem.depth);i+=s,r.push({type:"kern",size:o}),r.push(t[a])}return{children:r,depth:n}}var u;if(e.positionType==="top"){for(var h=e.positionData,d=0;d<e.children.length;d++){var p=e.children[d];h-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}u=h}else if(e.positionType==="bottom")u=-e.positionData;else{var f=e.children[0];if(f.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-f.elem.depth-e.positionData;else{if(e.positionType!=="firstBaseline")throw new Error("Invalid positionType "+e.positionType+".");u=-f.elem.depth}}return{children:e.children,depth:u}},"getVListChildrenAndDepth"),Dme=l(function(e,t){for(var{children:r,depth:n}=Rme(e),i=0,a=0;a<r.length;a++){var s=r[a];if(s.type==="elem"){var o=s.elem;i=Math.max(i,o.maxFontSize,o.height)}}i+=2;var u=ji(["pstrut"],[]);u.style.height=it(i);for(var h=[],d=n,p=n,f=n,g=0;g<r.length;g++){var m=r[g];if(m.type==="kern")f+=m.size;else{var y=m.elem,v=m.wrapperClasses||[],x=m.wrapperStyle||{},b=ji(v,[u,y],void 0,x);b.style.top=it(-i-f-y.depth),m.marginLeft&&(b.style.marginLeft=m.marginLeft),m.marginRight&&(b.style.marginRight=m.marginRight),h.push(b),f+=y.height+y.depth}d=Math.min(d,f),p=Math.max(p,f)}var w,T=ji(["vlist"],h);if(T.style.height=it(p),d<0){var k=ji([],[]),R=ji(["vlist"],[k]);R.style.height=it(-d);var C=ji(["vlist-s"],[new ss("")]);w=[ji(["vlist-r"],[T,C]),ji(["vlist-r"],[R])]}else w=[ji(["vlist-r"],[T])];var E=ji(["vlist-t"],w);return w.length===2&&E.classes.push("vlist-t2"),E.height=p,E.depth=-d,E},"makeVList"),Ome=l((e,t)=>{var r=ji(["mspace"],[],t),n=tn(e,t);return r.style.marginRight=it(n),r},"makeGlue"),Ov=l(function(e,t,r){var n="";switch(e){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=e}return n+"-"+(t==="textbf"&&r==="textit"?"BoldItalic":t==="textbf"?"Bold":t==="textit"?"Italic":"Regular")},"retrieveTextFontName"),n3={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},i3={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Pme=l(function(e,t){var[r,n,i]=i3[e],a=new ec(r),s=new jo([a],{width:it(n),height:it(i),style:"width:"+it(n),viewBox:"0 0 "+1e3*n+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),o=t3(["overlay"],[s],t);return o.height=i,o.style.height=it(i),o.style.width=it(n),o},"staticSvg"),Ie={fontMap:n3,makeSymbol:vs,mathsym:Eme,makeSpan:ji,makeSvgSpan:t3,makeLineSpan:Nme,makeAnchor:Ime,makeFragment:r3,wrapFragment:Mme,makeVList:Dme,makeOrd:Sme,makeGlue:Ome,staticSvg:Pme,svgData:i3,tryCombineChars:Lme},en={number:3,unit:"mu"},Sc={number:4,unit:"mu"},vo={number:5,unit:"mu"},Bme={mord:{mop:en,mbin:Sc,mrel:vo,minner:en},mop:{mord:en,mop:en,mrel:vo,minner:en},mbin:{mord:Sc,mop:Sc,mopen:Sc,minner:Sc},mrel:{mord:vo,mop:vo,mopen:vo,minner:vo},mopen:{},mclose:{mop:en,mbin:Sc,mrel:vo,minner:en},mpunct:{mord:en,mop:en,mrel:vo,mopen:en,mclose:en,mpunct:en,minner:en},minner:{mord:en,mop:en,mbin:Sc,mrel:vo,mopen:en,mpunct:en,minner:en}},$me={mord:{mop:en},mop:{mord:en,mop:en},mbin:{},mrel:{},mopen:{},mclose:{mop:en},mpunct:{},minner:{mop:en}},a3={},f4={},g4={};function dt(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0||n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},u=0;u<r.length;++u)a3[r[u]]=o;t&&(a&&(f4[t]=a),s&&(g4[t]=s))}function tc(e){var{type:t,htmlBuilder:r,mathmlBuilder:n}=e;dt({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}l(dt,"defineFunction"),l(tc,"defineFunctionBuilders");var m4=l(function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},"normalizeArgument"),vn=l(function(e){return e.type==="ordgroup"?e.body:[e]},"ordargument"),Yo=Ie.makeSpan,Fme=["leftmost","mbin","mopen","mrel","mop","mpunct"],zme=["rightmost","mrel","mclose","mpunct"],Ume={display:Bt.DISPLAY,text:Bt.TEXT,script:Bt.SCRIPT,scriptscript:Bt.SCRIPTSCRIPT},Gme={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},$n=l(function(e,t,r,n){n===void 0&&(n=[null,null]);for(var i=[],a=0;a<e.length;a++){var s=ur(e[a],t);if(s instanceof D2){var o=s.children;i.push(...o)}else i.push(s)}if(Ie.tryCombineChars(i),!r)return i;var u=t;if(e.length===1){var h=e[0];h.type==="sizing"?u=t.havingSize(h.size):h.type==="styling"&&(u=t.havingStyle(Ume[h.style]))}var d=Yo([n[0]||"leftmost"],[],t),p=Yo([n[1]||"rightmost"],[],t),f=r==="root";return sR(i,(g,m)=>{var y=m.classes[0],v=g.classes[0];y==="mbin"&&Mt.contains(zme,v)?m.classes[0]="mord":v==="mbin"&&Mt.contains(Fme,y)&&(g.classes[0]="mord")},{node:d},p,f),sR(i,(g,m)=>{var y=H_(m),v=H_(g),x=y&&v?g.hasClass("mtight")?$me[y][v]:Bme[y][v]:null;if(x)return Ie.makeGlue(x,u)},{node:d},p,f),i},"buildExpression"),sR=l(function e(t,r,n,i,a){i&&t.push(i);for(var s=0;s<t.length;s++){var o=t[s],u=s3(o);if(u)e(u.children,r,n,null,a);else{var h=!o.hasClass("mspace");if(h){var d=r(o,n.node);d&&(n.insertAfter?n.insertAfter(d):(t.unshift(d),s++))}h?n.node=o:a&&o.hasClass("newline")&&(n.node=Yo(["leftmost"])),n.insertAfter=(p=>f=>{t.splice(p+1,0,f),s++})(s)}}i&&t.pop()},"traverseNonSpaceNodes"),s3=l(function(e){return e instanceof D2||e instanceof yA||e instanceof O2&&e.hasClass("enclosing")?e:null},"checkPartialGroup"),qme=l(function e(t,r){var n=s3(t);if(n){var i=n.children;if(i.length){if(r==="right")return e(i[i.length-1],"right");if(r==="left")return e(i[0],"left")}}return t},"getOutermostNode"),H_=l(function(e,t){return e?(t&&(e=qme(e,t)),Gme[e.classes[0]]||null):null},"getTypeOfDomTree"),Xm=l(function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return Yo(t.concat(r))},"makeNullDelimiter"),ur=l(function(e,t,r){if(!e)return Yo();if(f4[e.type]){var n=f4[e.type](e,t);if(r&&t.size!==r.size){n=Yo(t.sizingClasses(r),[n],t);var i=t.sizeMultiplier/r.sizeMultiplier;n.height*=i,n.depth*=i}return n}throw new et("Got group of unknown type: '"+e.type+"'")},"buildGroup");function mm(e,t){var r=Yo(["base"],e,t),n=Yo(["strut"]);return n.style.height=it(r.height+r.depth),r.depth&&(n.style.verticalAlign=it(-r.depth)),r.children.unshift(n),r}function y4(e,t){var r=null;e.length===1&&e[0].type==="tag"&&(r=e[0].tag,e=e[0].body);var n,i=$n(e,t,"root");i.length===2&&i[1].hasClass("tag")&&(n=i.pop());for(var a,s=[],o=[],u=0;u<i.length;u++)if(o.push(i[u]),i[u].hasClass("mbin")||i[u].hasClass("mrel")||i[u].hasClass("allowbreak")){for(var h=!1;u<i.length-1&&i[u+1].hasClass("mspace")&&!i[u+1].hasClass("newline");)u++,o.push(i[u]),i[u].hasClass("nobreak")&&(h=!0);h||(s.push(mm(o,t)),o=[])}else i[u].hasClass("newline")&&(o.pop(),o.length>0&&(s.push(mm(o,t)),o=[]),s.push(i[u]));o.length>0&&s.push(mm(o,t)),r?((a=mm($n(r,t,!0))).classes=["tag"],s.push(a)):n&&s.push(n);var d=Yo(["katex-html"],s);if(d.setAttribute("aria-hidden","true"),a){var p=a.children[0];p.style.height=it(d.height+d.depth),d.depth&&(p.style.verticalAlign=it(-d.depth))}return d}function xA(e){return new D2(e)}l(mm,"buildHTMLUnbreakable"),l(y4,"buildHTML"),l(xA,"newDocumentFragment");var op,Va=(op=class{constructor(t,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(t,r){this.attributes[t]=r}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);this.classes.length>0&&(t.className=Jl(this.classes));for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){var t="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="',t+=Mt.escape(this.attributes[r]),t+='"');this.classes.length>0&&(t+=' class ="'+Mt.escape(Jl(this.classes))+'"'),t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</"+this.type+">"}toText(){return this.children.map(t=>t.toText()).join("")}},l(op,"MathNode"),op),lp,Km=(lp=class{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return Mt.escape(this.toText())}toText(){return this.text}},l(lp,"TextNode"),lp),cp,jme=(cp=class{constructor(t){this.width=void 0,this.character=void 0,this.width=t,this.character=t>=.05555&&t<=.05556?"":t>=.1666&&t<=.1667?"":t>=.2222&&t<=.2223?"":t>=.2777&&t<=.2778?"":t>=-.05556&&t<=-.05555?"":t>=-.1667&&t<=-.1666?"":t>=-.2223&&t<=-.2222?"":t>=-.2778&&t<=-.2777?"":null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",it(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+it(this.width)+'"/>'}toText(){return this.character?this.character:" "}},l(cp,"SpaceNode"),cp),Ke={MathNode:Va,TextNode:Km,SpaceNode:jme,newDocumentFragment:xA},Xa=l(function(e,t,r){return!Ur[t][e]||!Ur[t][e].replace||e.charCodeAt(0)===55349||e3.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt")||(e=Ur[t][e].replace),new Ke.TextNode(e)},"makeText"),bA=l(function(e){return e.length===1?e[0]:new Ke.MathNode("mrow",e)},"makeRow"),V_=l(function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var r=t.font;if(!r||r==="mathnormal")return null;var n=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var i=e.text;return Mt.contains(["\\imath","\\jmath"],i)?null:(Ur[n][i]&&Ur[n][i].replace&&(i=Ur[n][i].replace),h6(i,Ie.fontMap[r].fontName,n)?Ie.fontMap[r].variant:null)},"getVariant"),na=l(function(e,t,r){if(e.length===1){var n=Rr(e[0],t);return r&&n instanceof Va&&n.type==="mo"&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var i,a=[],s=0;s<e.length;s++){var o=Rr(e[s],t);if(o instanceof Va&&i instanceof Va){if(o.type==="mtext"&&i.type==="mtext"&&o.getAttribute("mathvariant")===i.getAttribute("mathvariant")){i.children.push(...o.children);continue}if(o.type==="mn"&&i.type==="mn"){i.children.push(...o.children);continue}if(o.type==="mi"&&o.children.length===1&&i.type==="mn"){var u=o.children[0];if(u instanceof Km&&u.text==="."){i.children.push(...o.children);continue}}else if(i.type==="mi"&&i.children.length===1){var h=i.children[0];if(h instanceof Km&&h.text===""&&(o.type==="mo"||o.type==="mi"||o.type==="mn")){var d=o.children[0];d instanceof Km&&d.text.length>0&&(d.text=d.text.slice(0,1)+""+d.text.slice(1),a.pop())}}}a.push(o),i=o}return a},"buildExpression"),Ul=l(function(e,t,r){return bA(na(e,t,r))},"buildExpressionRow"),Rr=l(function(e,t){if(!e)return new Ke.MathNode("mrow");if(g4[e.type])return g4[e.type](e,t);throw new et("Got group of unknown type: '"+e.type+"'")},"buildGroup");function X_(e,t,r,n,i){var a,s=na(e,r);a=s.length===1&&s[0]instanceof Va&&Mt.contains(["mrow","mtable"],s[0].type)?s[0]:new Ke.MathNode("mrow",s);var o=new Ke.MathNode("annotation",[new Ke.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var u=new Ke.MathNode("semantics",[a,o]),h=new Ke.MathNode("math",[u]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&h.setAttribute("display","block");var d=i?"katex":"katex-mathml";return Ie.makeSpan([d],[h])}l(X_,"buildMathML");var o3=l(function(e){return new VX({style:e.displayMode?Bt.DISPLAY:Bt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},"optionsFromSettings"),l3=l(function(e,t){if(t.displayMode){var r=["katex-display"];t.leqno&&r.push("leqno"),t.fleqn&&r.push("fleqn"),e=Ie.makeSpan(r,[e])}return e},"displayWrap"),Yme=l(function(e,t,r){var n,i=o3(r);if(r.output==="mathml")return X_(e,t,i,r.displayMode,!0);if(r.output==="html"){var a=y4(e,i);n=Ie.makeSpan(["katex"],[a])}else{var s=X_(e,t,i,r.displayMode,!1),o=y4(e,i);n=Ie.makeSpan(["katex"],[s,o])}return l3(n,r)},"buildTree"),Wme=l(function(e,t,r){var n=y4(e,o3(r)),i=Ie.makeSpan(["katex"],[n]);return l3(i,r)},"buildHTMLTree"),Hme={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Vme=l(function(e){var t=new Ke.MathNode("mo",[new Ke.TextNode(Hme[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},"mathMLnode"),Xme={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Kme=l(function(e){return e.type==="ordgroup"?e.body.length:1},"groupLength"),Zme=l(function(e,t){function r(){var s=4e5,o=e.label.slice(1);if(Mt.contains(["widehat","widecheck","widetilde","utilde"],o)){var u,h,d,p=Kme(e.base);if(p>5)o==="widehat"||o==="widecheck"?(u=420,s=2364,d=.42,h=o+"4"):(u=312,s=2340,d=.34,h="tilde4");else{var f=[1,1,2,2,3,3][p];o==="widehat"||o==="widecheck"?(s=[0,1062,2364,2364,2364][f],u=[0,239,300,360,420][f],d=[0,.24,.3,.3,.36,.42][f],h=o+f):(s=[0,600,1033,2339,2340][f],u=[0,260,286,306,312][f],d=[0,.26,.286,.3,.306,.34][f],h="tilde"+f)}var g=new ec(h),m=new jo([g],{width:"100%",height:it(d),viewBox:"0 0 "+s+" "+u,preserveAspectRatio:"none"});return{span:Ie.makeSvgSpan([],[m],t),minWidth:0,height:d}}var y,v,x=[],b=Xme[o],[w,T,k]=b,R=k/1e3,C=w.length;if(C===1)y=["hide-tail"],v=[b[3]];else if(C===2)y=["halfarrow-left","halfarrow-right"],v=["xMinYMin","xMaxYMin"];else{if(C!==3)throw new Error(`Correct katexImagesData or update code here to support
                    `+C+" children.");y=["brace-left","brace-center","brace-right"],v=["xMinYMin","xMidYMin","xMaxYMin"]}for(var E=0;E<C;E++){var _=new ec(w[E]),L=new jo([_],{width:"400em",height:it(R),viewBox:"0 0 "+s+" "+k,preserveAspectRatio:v[E]+" slice"}),D=Ie.makeSvgSpan([y[E]],[L],t);if(C===1)return{span:D,minWidth:T,height:R};D.style.height=it(R),x.push(D)}return{span:Ie.makeSpan(["stretchy"],x,t),minWidth:T,height:R}}l(r,"buildSvgSpan_");var{span:n,minWidth:i,height:a}=r();return n.height=a,n.style.height=it(a),i>0&&(n.style.minWidth=it(i)),n},"svgSpan"),Qme=l(function(e,t,r,n,i){var a,s=e.height+e.depth+r+n;if(/fbox|color|angl/.test(t)){if(a=Ie.makeSpan(["stretchy",t],[],i),t==="fbox"){var o=i.color&&i.getColor();o&&(a.style.borderColor=o)}}else{var u=[];/^[bx]cancel$/.test(t)&&u.push(new Y_({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&u.push(new Y_({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new jo(u,{width:"100%",height:it(s)});a=Ie.makeSvgSpan([],[h],i)}return a.height=s,a.style.height=it(s),a},"encloseSpan"),Wo={encloseSpan:Qme,mathMLnode:Vme,svgSpan:Zme};function Xt(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function v4(e){var t=Oy(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function Oy(e){return e&&(e.type==="atom"||Tme.hasOwnProperty(e.type))?e:null}l(Xt,"assertNodeType"),l(v4,"assertSymbolNodeType"),l(Oy,"checkSymbolNodeType");var K_=l((e,t)=>{var r,n,i;e&&e.type==="supsub"?(r=(n=Xt(e.base,"accent")).base,e.base=r,i=JX(ur(e,t)),e.base=n):r=(n=Xt(e,"accent")).base;var a=ur(r,t.havingCrampedStyle()),s=0;if(n.isShifty&&Mt.isCharacterBox(r)){var o=Mt.getBaseElem(r);s=W_(ur(o,t.havingCrampedStyle())).skew}var u,h=n.label==="\\c",d=h?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight);if(n.isStretchy)u=Wo.svgSpan(n,t),u=Ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:u,wrapperClasses:["svg-align"],wrapperStyle:s>0?{width:"calc(100% - "+it(2*s)+")",marginLeft:it(2*s)}:void 0}]},t);else{var p,f;n.label==="\\vec"?(p=Ie.staticSvg("vec",t),f=Ie.svgData.vec[1]):((p=W_(p=Ie.makeOrd({mode:n.mode,text:n.label},t,"textord"))).italic=0,f=p.width,h&&(d+=p.depth)),u=Ie.makeSpan(["accent-body"],[p]);var g=n.label==="\\textcircled";g&&(u.classes.push("accent-full"),d=a.height);var m=s;g||(m-=f/2),u.style.left=it(m),n.label==="\\textcircled"&&(u.style.top=".2em"),u=Ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-d},{type:"elem",elem:u}]},t)}var y=Ie.makeSpan(["mord","accent"],[u],t);return i?(i.children[0]=y,i.height=Math.max(y.height,i.height),i.classes[0]="mord",i):y},"htmlBuilder$a"),oR=l((e,t)=>{var r=e.isStretchy?Wo.mathMLnode(e.label):new Ke.MathNode("mo",[Xa(e.label,e.mode)]),n=new Ke.MathNode("mover",[Rr(e.base,t),r]);return n.setAttribute("accent","true"),n},"mathmlBuilder$9"),Jme=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));dt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:l((e,t)=>{var r=m4(t[0]),n=!Jme.test(e.funcName),i=!n||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:i,base:r}},"handler"),htmlBuilder:K_,mathmlBuilder:oR}),dt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:l((e,t)=>{var r=t[0],n=e.parser.mode;return n==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},"handler"),htmlBuilder:K_,mathmlBuilder:oR}),dt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:l((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},"handler"),htmlBuilder:l((e,t)=>{var r=ur(e.base,t),n=Wo.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,a=Ie.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},t);return Ie.makeSpan(["mord","accentunder"],[a],t)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=Wo.mathMLnode(e.label),n=new Ke.MathNode("munder",[Rr(e.base,t),r]);return n.setAttribute("accentunder","true"),n},"mathmlBuilder")});var Pv=l(e=>{var t=new Ke.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t},"paddedNode");dt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n,funcName:i}=e;return{type:"xArrow",mode:n.mode,label:i,body:t[0],below:r[0]}},htmlBuilder(e,t){var r,n=t.style,i=t.havingStyle(n.sup()),a=Ie.wrapFragment(ur(e.body,i,t),t),s=e.label.slice(0,2)==="\\x"?"x":"cd";a.classes.push(s+"-arrow-pad"),e.below&&(i=t.havingStyle(n.sub()),(r=Ie.wrapFragment(ur(e.below,i,t),t)).classes.push(s+"-arrow-pad"));var o,u=Wo.svgSpan(e,t),h=-t.fontMetrics().axisHeight+.5*u.height,d=-t.fontMetrics().axisHeight-.5*u.height-.111;if((a.depth>.25||e.label==="\\xleftequilibrium")&&(d-=a.depth),r){var p=-t.fontMetrics().axisHeight+r.height+.5*u.height+.111;o=Ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:d},{type:"elem",elem:u,shift:h},{type:"elem",elem:r,shift:p}]},t)}else o=Ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:d},{type:"elem",elem:u,shift:h}]},t);return o.children[0].children[0].children[1].classes.push("svg-align"),Ie.makeSpan(["mrel","x-arrow"],[o],t)},mathmlBuilder(e,t){var r,n=Wo.mathMLnode(e.label);if(n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em"),e.body){var i=Pv(Rr(e.body,t));if(e.below){var a=Pv(Rr(e.below,t));r=new Ke.MathNode("munderover",[n,a,i])}else r=new Ke.MathNode("mover",[n,i])}else if(e.below){var s=Pv(Rr(e.below,t));r=new Ke.MathNode("munder",[n,s])}else r=Pv(),r=new Ke.MathNode("mover",[n,r]);return r}});var eye=Ie.makeSpan;function Z_(e,t){var r=$n(e.body,t,!0);return eye([e.mclass],r,t)}function Q_(e,t){var r,n=na(e.body,t);return e.mclass==="minner"?r=new Ke.MathNode("mpadded",n):e.mclass==="mord"?e.isCharacterBox?(r=n[0]).type="mi":r=new Ke.MathNode("mi",n):(e.isCharacterBox?(r=n[0]).type="mo":r=new Ke.MathNode("mo",n),e.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):e.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):e.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}l(Z_,"htmlBuilder$9"),l(Q_,"mathmlBuilder$8"),dt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:vn(i),isCharacterBox:Mt.isCharacterBox(i)}},htmlBuilder:Z_,mathmlBuilder:Q_});var Px=l(e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type!=="atom"||t.family!=="bin"&&t.family!=="rel"?"mord":"m"+t.family},"binrelClass");dt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:Px(t[0]),body:vn(t[1]),isCharacterBox:Mt.isCharacterBox(t[1])}}}),dt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var r,{parser:n,funcName:i}=e,a=t[1],s=t[0];r=i!=="\\stackrel"?Px(a):"mrel";var o={type:"op",mode:a.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:vn(a)},u={type:"supsub",mode:s.mode,base:o,sup:i==="\\underset"?null:s,sub:i==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:r,body:[u],isCharacterBox:Mt.isCharacterBox(u)}},htmlBuilder:Z_,mathmlBuilder:Q_}),dt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:Px(t[0]),body:vn(t[0])}},htmlBuilder(e,t){var r=$n(e.body,t,!0),n=Ie.makeSpan([e.mclass],r,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var r=na(e.body,t),n=new Ke.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var tye={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},lR=l(()=>({type:"styling",body:[],mode:"math",style:"display"}),"newCell"),cR=l(e=>e.type==="textord"&&e.text==="@","isStartOfArrow"),rye=l((e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t,"isLabelEnd");function c3(e,t,r){var n=tye[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":var i={type:"atom",text:n,mode:"math",family:"rel"},a={type:"ordgroup",mode:"math",body:[r.callFunction("\\\\cdleft",[t[0]],[]),r.callFunction("\\Big",[i],[]),r.callFunction("\\\\cdright",[t[1]],[])]};return r.callFunction("\\\\cdparent",[a],[]);case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return r.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}function u3(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if(r!=="&"&&r!=="\\\\"){if(r==="\\end"){t[t.length-1].length===0&&t.pop();break}throw new et("Expected \\\\ or \\cr or \\end",e.nextToken)}e.consume()}for(var n=[],i=[n],a=0;a<t.length;a++){for(var s=t[a],o=lR(),u=0;u<s.length;u++)if(cR(s[u])){n.push(o);var h=v4(s[u+=1]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1)){if(!("<>AV".indexOf(h)>-1))throw new et('Expected one of "<>AV=|." after @',s[u]);for(var p=0;p<2;p++){for(var f=!0,g=u+1;g<s.length;g++){if(rye(s[g],h)){f=!1,u=g;break}if(cR(s[g]))throw new et("Missing a "+h+" character to complete a CD arrow.",s[g]);d[p].body.push(s[g])}if(f)throw new et("Missing a "+h+" character to complete a CD arrow.",s[u])}}var m={type:"styling",body:[c3(h,d,e)],mode:"math",style:"display"};n.push(m),o=lR()}else o.body.push(s[u]);a%2==0?n.push(o):n.shift(),n=[],i.push(n)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}l(c3,"cdArrow"),l(u3,"parseCD"),dt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),n=Ie.wrapFragment(ur(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=it(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var r=new Ke.MathNode("mrow",[Rr(e.label,t)]);return(r=new Ke.MathNode("mpadded",[r])).setAttribute("width","0"),e.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),(r=new Ke.MathNode("mstyle",[r])).setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}}),dt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=Ie.wrapFragment(ur(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder:(e,t)=>new Ke.MathNode("mrow",[Rr(e.fragment,t)])}),dt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,n=Xt(t[0],"ordgroup").body,i="",a=0;a<n.length;a++)i+=Xt(n[a],"textord").text;var s,o=parseInt(i);if(isNaN(o))throw new et("\\@char has non-numeric argument "+i);if(o<0||o>=1114111)throw new et("\\@char with invalid code point "+i);return o<=65535?s=String.fromCharCode(o):(o-=65536,s=String.fromCharCode(55296+(o>>10),56320+(1023&o))),{type:"textord",mode:r.mode,text:s}}});var uR=l((e,t)=>{var r=$n(e.body,t.withColor(e.color),!1);return Ie.makeFragment(r)},"htmlBuilder$8"),hR=l((e,t)=>{var r=na(e.body,t.withColor(e.color)),n=new Ke.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n},"mathmlBuilder$7");dt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,n=Xt(t[0],"color-token").color,i=t[1];return{type:"color",mode:r.mode,color:n,body:vn(i)}},htmlBuilder:uR,mathmlBuilder:hR}),dt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:n}=e,i=Xt(t[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var a=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:a}},htmlBuilder:uR,mathmlBuilder:hR}),dt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:n}=e,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,a=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:a,size:i&&Xt(i,"size").value}},htmlBuilder(e,t){var r=Ie.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=it(tn(e.size,t)))),r},mathmlBuilder(e,t){var r=new Ke.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",it(tn(e.size,t)))),r}});var lk={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},dR=l(e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new et("Expected a control sequence",e);return t},"checkControlSequence"),nye=l(e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken()).text===" "&&(t=e.gullet.popToken()),t},"getRHS"),pR=l((e,t,r,n)=>{var i=e.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,i,n)},"letCommand");dt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var n=t.fetch();if(lk[n.text])return r!=="\\global"&&r!=="\\\\globallong"||(n.text=lk[n.text]),Xt(t.parseFunction(),"internal");throw new et("Invalid token after macro prefix",n)}}),dt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=t.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new et("Expected a control sequence",n);for(var a,s=0,o=[[]];t.gullet.future().text!=="{";)if((n=t.gullet.popToken()).text==="#"){if(t.gullet.future().text==="{"){a=t.gullet.future(),o[s].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new et('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==s+1)throw new et('Argument number "'+n.text+'" out of order');s++,o.push([])}else{if(n.text==="EOF")throw new et("Expected a macro definition");o[s].push(n.text)}var{tokens:u}=t.gullet.consumeArg();return a&&u.unshift(a),r!=="\\edef"&&r!=="\\xdef"||(u=t.gullet.expandTokens(u)).reverse(),t.gullet.macros.set(i,{tokens:u,numArgs:s,delimiters:o},r===lk[r]),{type:"internal",mode:t.mode}}}),dt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=dR(t.gullet.popToken());t.gullet.consumeSpaces();var i=nye(t);return pR(t,n,i,r==="\\\\globallet"),{type:"internal",mode:t.mode}}}),dt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=dR(t.gullet.popToken()),i=t.gullet.popToken(),a=t.gullet.popToken();return pR(t,n,a,r==="\\\\globalfuture"),t.gullet.pushToken(a),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var ym=l(function(e,t,r){var n=h6(Ur.math[e]&&Ur.math[e].replace||e,t,r);if(!n)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return n},"getMetrics"),wA=l(function(e,t,r,n){var i=r.havingBaseStyle(t),a=Ie.makeSpan(n.concat(i.sizingClasses(r)),[e],r),s=i.sizeMultiplier/r.sizeMultiplier;return a.height*=s,a.depth*=s,a.maxFontSize=i.sizeMultiplier,a},"styleWrap"),h3=l(function(e,t,r){var n=t.havingBaseStyle(r),i=(1-t.sizeMultiplier/n.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=it(i),e.height-=i,e.depth+=i},"centerSpan"),iye=l(function(e,t,r,n,i,a){var s=Ie.makeSymbol(e,"Main-Regular",i,n),o=wA(s,t,n,a);return r&&h3(o,n,t),o},"makeSmallDelim"),aye=l(function(e,t,r,n){return Ie.makeSymbol(e,"Size"+t+"-Regular",r,n)},"mathrmSize"),d3=l(function(e,t,r,n,i,a){var s=aye(e,t,i,n),o=wA(Ie.makeSpan(["delimsizing","size"+t],[s],n),Bt.TEXT,n,a);return r&&h3(o,n,Bt.TEXT),o},"makeLargeDelim"),ck=l(function(e,t,r){var n;return n=t==="Size1-Regular"?"delim-size1":"delim-size4",{type:"elem",elem:Ie.makeSpan(["delimsizinginner",n],[Ie.makeSpan([],[Ie.makeSymbol(e,t,r)])])}},"makeGlyphSpan"),uk=l(function(e,t,r){var n=Qs["Size4-Regular"][e.charCodeAt(0)]?Qs["Size4-Regular"][e.charCodeAt(0)][4]:Qs["Size1-Regular"][e.charCodeAt(0)][4],i=new ec("inner",mme(e,Math.round(1e3*t))),a=new jo([i],{width:it(n),height:it(t),style:"width:"+it(n),viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),s=Ie.makeSvgSpan([],[a],r);return s.height=t,s.style.height=it(t),s.style.width=it(n),{type:"elem",elem:s}},"makeInner"),Bv={type:"kern",size:-.008},sye=["|","\\lvert","\\rvert","\\vert"],oye=["\\|","\\lVert","\\rVert","\\Vert"],p3=l(function(e,t,r,n,i,a){var s,o,u,h,d="",p=0;s=u=h=e,o=null;var f="Size1-Regular";e==="\\uparrow"?u=h="":e==="\\Uparrow"?u=h="":e==="\\downarrow"?s=u="":e==="\\Downarrow"?s=u="":e==="\\updownarrow"?(s="\\uparrow",u="",h="\\downarrow"):e==="\\Updownarrow"?(s="\\Uparrow",u="",h="\\Downarrow"):Mt.contains(sye,e)?(u="",d="vert",p=333):Mt.contains(oye,e)?(u="",d="doublevert",p=556):e==="["||e==="\\lbrack"?(s="",u="",h="",f="Size4-Regular",d="lbrack",p=667):e==="]"||e==="\\rbrack"?(s="",u="",h="",f="Size4-Regular",d="rbrack",p=667):e==="\\lfloor"||e===""?(u=s="",h="",f="Size4-Regular",d="lfloor",p=667):e==="\\lceil"||e===""?(s="",u=h="",f="Size4-Regular",d="lceil",p=667):e==="\\rfloor"||e===""?(u=s="",h="",f="Size4-Regular",d="rfloor",p=667):e==="\\rceil"||e===""?(s="",u=h="",f="Size4-Regular",d="rceil",p=667):e==="("||e==="\\lparen"?(s="",u="",h="",f="Size4-Regular",d="lparen",p=875):e===")"||e==="\\rparen"?(s="",u="",h="",f="Size4-Regular",d="rparen",p=875):e==="\\{"||e==="\\lbrace"?(s="",o="",h="",u="",f="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(s="",o="",h="",u="",f="Size4-Regular"):e==="\\lgroup"||e===""?(s="",h="",u="",f="Size4-Regular"):e==="\\rgroup"||e===""?(s="",h="",u="",f="Size4-Regular"):e==="\\lmoustache"||e===""?(s="",h="",u="",f="Size4-Regular"):e!=="\\rmoustache"&&e!==""||(s="",h="",u="",f="Size4-Regular");var g=ym(s,f,i),m=g.height+g.depth,y=ym(u,f,i),v=y.height+y.depth,x=ym(h,f,i),b=x.height+x.depth,w=0,T=1;if(o!==null){var k=ym(o,f,i);w=k.height+k.depth,T=2}var R=m+b+w,C=R+Math.max(0,Math.ceil((t-R)/(T*v)))*T*v,E=n.fontMetrics().axisHeight;r&&(E*=n.sizeMultiplier);var _=C/2-E,L=[];if(d.length>0){var D=C-m-b,B=Math.round(1e3*C),S=yme(d,Math.round(1e3*D)),N=new ec(d,S),A=(p/1e3).toFixed(3)+"em",M=(B/1e3).toFixed(3)+"em",O=new jo([N],{width:A,height:M,viewBox:"0 0 "+p+" "+B}),I=Ie.makeSvgSpan([],[O],n);I.height=B/1e3,I.style.width=A,I.style.height=M,L.push({type:"elem",elem:I})}else{if(L.push(ck(h,f,i)),L.push(Bv),o===null){var P=C-m-b+.016;L.push(uk(u,P,n))}else{var $=(C-m-b-w)/2+.016;L.push(uk(u,$,n)),L.push(Bv),L.push(ck(o,f,i)),L.push(Bv),L.push(uk(u,$,n))}L.push(Bv),L.push(ck(s,f,i))}var z=n.havingBaseStyle(Bt.TEXT),G=Ie.makeVList({positionType:"bottom",positionData:_,children:L},z);return wA(Ie.makeSpan(["delimsizing","mult"],[G],z),Bt.TEXT,n,a)},"makeStackedDelim"),hk=l(function(e,t,r,n,i){var a=gme(e,n,r),s=new ec(e,a),o=new jo([s],{width:"400em",height:it(t),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return Ie.makeSvgSpan(["hide-tail"],[o],i)},"sqrtSvg"),lye=l(function(e,t){var r,n,i=t.havingBaseSizing(),a=y3("\\surd",e*i.sizeMultiplier,m3,i),s=i.sizeMultiplier,o=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),u=0,h=0,d=0;return a.type==="small"?(e<1?s=1:e<1.4&&(s=.7),h=(1+o)/s,(r=hk("sqrtMain",u=(1+o+.08)/s,d=1e3+1e3*o+80,o,t)).style.minWidth="0.853em",n=.833/s):a.type==="large"?(d=1080*Zm[a.size],h=(Zm[a.size]+o)/s,u=(Zm[a.size]+o+.08)/s,(r=hk("sqrtSize"+a.size,u,d,o,t)).style.minWidth="1.02em",n=1/s):(u=e+o+.08,h=e+o,d=Math.floor(1e3*e+o)+80,(r=hk("sqrtTall",u,d,o,t)).style.minWidth="0.742em",n=1.056),r.height=h,r.style.height=it(u),{span:r,advanceWidth:n,ruleWidth:(t.fontMetrics().sqrtRuleThickness+o)*s}},"makeSqrtImage"),f3=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],cye=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],g3=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Zm=[0,1.2,1.8,2.4,3],uye=l(function(e,t,r,n,i){if(e==="<"||e==="\\lt"||e===""?e="\\langle":e!==">"&&e!=="\\gt"&&e!==""||(e="\\rangle"),Mt.contains(f3,e)||Mt.contains(g3,e))return d3(e,t,!1,r,n,i);if(Mt.contains(cye,e))return p3(e,Zm[t],!1,r,n,i);throw new et("Illegal delimiter: '"+e+"'")},"makeSizedDelim"),hye=[{type:"small",style:Bt.SCRIPTSCRIPT},{type:"small",style:Bt.SCRIPT},{type:"small",style:Bt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],dye=[{type:"small",style:Bt.SCRIPTSCRIPT},{type:"small",style:Bt.SCRIPT},{type:"small",style:Bt.TEXT},{type:"stack"}],m3=[{type:"small",style:Bt.SCRIPTSCRIPT},{type:"small",style:Bt.SCRIPT},{type:"small",style:Bt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],pye=l(function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},"delimTypeToFont"),y3=l(function(e,t,r,n){for(var i=Math.min(2,3-n.style.size);i<r.length&&r[i].type!=="stack";i++){var a=ym(e,pye(r[i]),"math"),s=a.height+a.depth;if(r[i].type==="small"&&(s*=n.havingBaseStyle(r[i].style).sizeMultiplier),s>t)return r[i]}return r[r.length-1]},"traverseSequence"),v3=l(function(e,t,r,n,i,a){var s;e==="<"||e==="\\lt"||e===""?e="\\langle":e!==">"&&e!=="\\gt"&&e!==""||(e="\\rangle"),s=Mt.contains(g3,e)?hye:Mt.contains(f3,e)?m3:dye;var o=y3(e,t,s,n);return o.type==="small"?iye(e,o.style,r,n,i,a):o.type==="large"?d3(e,o.size,r,n,i,a):p3(e,t,r,n,i,a)},"makeCustomSizedDelim"),fye=l(function(e,t,r,n,i,a){var s=n.fontMetrics().axisHeight*n.sizeMultiplier,o=5/n.fontMetrics().ptPerEm,u=Math.max(t-s,r+s),h=Math.max(u/500*901,2*u-o);return v3(e,h,!0,n,i,a)},"makeLeftRightDelim"),So={sqrtImage:lye,sizedDelim:uye,sizeToMaxHeight:Zm,customSizedDelim:v3,leftRightDelim:fye},fR={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},gye=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function X0(e,t){var r=Oy(e);if(r&&Mt.contains(gye,r.text))return r;throw new et(r?"Invalid delimiter '"+r.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function dk(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}l(X0,"checkDelimiter"),dt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:l((e,t)=>{var r=X0(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:fR[e.funcName].size,mclass:fR[e.funcName].mclass,delim:r.text}},"handler"),htmlBuilder:l((e,t)=>e.delim==="."?Ie.makeSpan([e.mclass]):So.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),"htmlBuilder"),mathmlBuilder:l(e=>{var t=[];e.delim!=="."&&t.push(Xa(e.delim,e.mode));var r=new Ke.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=it(So.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r},"mathmlBuilder")}),l(dk,"assertParsed"),dt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:l((e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new et("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:X0(t[0],e).text,color:r}},"handler")}),dt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:l((e,t)=>{var r=X0(t[0],e),n=e.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=Xt(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:a.delim,rightColor:a.color}},"handler"),htmlBuilder:l((e,t)=>{dk(e);for(var r,n,i=$n(e.body,t,!0,["mopen","mclose"]),a=0,s=0,o=!1,u=0;u<i.length;u++)i[u].isMiddle?o=!0:(a=Math.max(i[u].height,a),s=Math.max(i[u].depth,s));if(a*=t.sizeMultiplier,s*=t.sizeMultiplier,r=e.left==="."?Xm(t,["mopen"]):So.leftRightDelim(e.left,a,s,t,e.mode,["mopen"]),i.unshift(r),o)for(var h=1;h<i.length;h++){var d=i[h].isMiddle;d&&(i[h]=So.leftRightDelim(d.delim,a,s,d.options,e.mode,[]))}if(e.right===".")n=Xm(t,["mclose"]);else{var p=e.rightColor?t.withColor(e.rightColor):t;n=So.leftRightDelim(e.right,a,s,p,e.mode,["mclose"])}return i.push(n),Ie.makeSpan(["minner"],i,t)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{dk(e);var r=na(e.body,t);if(e.left!=="."){var n=new Ke.MathNode("mo",[Xa(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(e.right!=="."){var i=new Ke.MathNode("mo",[Xa(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),r.push(i)}return bA(r)},"mathmlBuilder")}),dt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:l((e,t)=>{var r=X0(t[0],e);if(!e.parser.leftrightDepth)throw new et("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},"handler"),htmlBuilder:l((e,t)=>{var r;if(e.delim===".")r=Xm(t,[]);else{r=So.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=e.delim==="\\vert"||e.delim==="|"?Xa("|","text"):Xa(e.delim,e.mode),n=new Ke.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n},"mathmlBuilder")});var pk=l((e,t)=>{var r,n,i=Ie.wrapFragment(ur(e.body,t),t),a=e.label.slice(1),s=t.sizeMultiplier,o=0,u=Mt.isCharacterBox(e.body);if(a==="sout")(r=Ie.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/s,o=-.5*t.fontMetrics().xHeight;else if(a==="phase"){var h=tn({number:.6,unit:"pt"},t),d=tn({number:.35,unit:"ex"},t);s/=t.havingBaseSizing().sizeMultiplier;var p=i.height+i.depth+h+d;i.style.paddingLeft=it(p/2+h);var f=Math.floor(1e3*p*s),g=pme(f),m=new jo([new ec("phase",g)],{width:"400em",height:it(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});(r=Ie.makeSvgSpan(["hide-tail"],[m],t)).style.height=it(p),o=i.depth+h+d}else{/cancel/.test(a)?u||i.classes.push("cancel-pad"):a==="angl"?i.classes.push("anglpad"):i.classes.push("boxpad");var y=0,v=0,x=0;/box/.test(a)?(x=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),v=y=t.fontMetrics().fboxsep+(a==="colorbox"?0:x)):a==="angl"?(y=4*(x=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness)),v=Math.max(0,.25-i.depth)):v=y=u?.2:0,r=Wo.encloseSpan(i,a,y,v,t),/fbox|boxed|fcolorbox/.test(a)?(r.style.borderStyle="solid",r.style.borderWidth=it(x)):a==="angl"&&x!==.049&&(r.style.borderTopWidth=it(x),r.style.borderRightWidth=it(x)),o=i.depth+v,e.backgroundColor&&(r.style.backgroundColor=e.backgroundColor,e.borderColor&&(r.style.borderColor=e.borderColor))}if(e.backgroundColor)n=Ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:o},{type:"elem",elem:i,shift:0}]},t);else{var b=/cancel|phase/.test(a)?["svg-align"]:[];n=Ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:r,shift:o,wrapperClasses:b}]},t)}return/cancel/.test(a)&&(n.height=i.height,n.depth=i.depth),/cancel/.test(a)&&!u?Ie.makeSpan(["mord","cancel-lap"],[n],t):Ie.makeSpan(["mord"],[n],t)},"htmlBuilder$7"),fk=l((e,t)=>{var r=0,n=new Ke.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Rr(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n},"mathmlBuilder$6");dt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,a=Xt(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:pk,mathmlBuilder:fk}),dt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,a=Xt(t[0],"color-token").color,s=Xt(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:pk,mathmlBuilder:fk}),dt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}}),dt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:pk,mathmlBuilder:fk}),dt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}});var x3={};function hs(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},u=0;u<r.length;++u)x3[r[u]]=o;a&&(f4[t]=a),s&&(g4[t]=s)}l(hs,"defineEnvironment");var b3={};function ae(e,t){b3[e]=t}function J_(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for(r==="\\relax"&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);r==="\\hline"||r==="\\hdashline";)e.consume(),t.push(r==="\\hdashline"),e.consumeSpaces(),r=e.fetch().text;return t}l(ae,"defineMacro"),l(J_,"getHLines");var Bx=l(e=>{if(!e.parser.settings.displayMode)throw new et("{"+e.envName+"} can be used only in display mode.")},"validateAmsEnvironmentContext");function x4(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function Co(e,t,r){var{hskipBeforeAndAfter:n,addJot:i,cols:a,arraystretch:s,colSeparationType:o,autoTag:u,singleRow:h,emptySingleRow:d,maxNumCols:p,leqno:f}=t;if(e.gullet.beginGroup(),h||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var g=e.gullet.expandMacroAsText("\\arraystretch");if(g==null)s=1;else if(!(s=parseFloat(g))||s<0)throw new et("Invalid \\arraystretch: "+g)}e.gullet.beginGroup();var m=[],y=[m],v=[],x=[],b=u!=null?[]:void 0;function w(){u&&e.gullet.macros.set("\\@eqnsw","1",!0)}function T(){b&&(e.gullet.macros.get("\\df@tag")?(b.push(e.subparse([new io("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):b.push(!!u&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(l(w,"beginRow"),l(T,"endRow"),w(),x.push(J_(e));;){var k=e.parseExpression(!1,h?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),k={type:"ordgroup",mode:e.mode,body:k},r&&(k={type:"styling",mode:e.mode,style:r,body:[k]}),m.push(k);var R=e.fetch().text;if(R==="&"){if(p&&m.length===p){if(h||o)throw new et("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if(R==="\\end"){T(),m.length===1&&k.type==="styling"&&k.body[0].body.length===0&&(y.length>1||!d)&&y.pop(),x.length<y.length+1&&x.push([]);break}if(R!=="\\\\")throw new et("Expected & or \\\\ or \\cr or \\end",e.nextToken);e.consume();var C=void 0;e.gullet.future().text!==" "&&(C=e.parseSizeGroup(!0)),v.push(C?C.value:null),T(),x.push(J_(e)),m=[],y.push(m),w()}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:s,body:y,cols:a,rowGaps:v,hskipBeforeAndAfter:n,hLinesBeforeRow:x,colSeparationType:o,tags:b,leqno:f}}function $x(e){return e.slice(0,1)==="d"?"display":"text"}l(x4,"getAutoTag"),l(Co,"parseArray"),l($x,"dCellStyle");var zs=l(function(e,t){var r,n,i=e.body.length,a=e.hLinesBeforeRow,s=0,o=new Array(i),u=[],h=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),d=1/t.fontMetrics().ptPerEm,p=5*d;e.colSeparationType&&e.colSeparationType==="small"&&(p=t.havingStyle(Bt.SCRIPT).sizeMultiplier/t.sizeMultiplier*.2778);var f=e.colSeparationType==="CD"?tn({number:3,unit:"ex"},t):12*d,g=3*d,m=e.arraystretch*f,y=.7*m,v=.3*m,x=0;function b(le){for(var Ae=0;Ae<le.length;++Ae)Ae>0&&(x+=.25),u.push({pos:x,isDashed:le[Ae]})}for(l(b,"setHLinePos"),b(a[0]),r=0;r<e.body.length;++r){var w=e.body[r],T=y,k=v;s<w.length&&(s=w.length);var R=new Array(w.length);for(n=0;n<w.length;++n){var C=ur(w[n],t);k<C.depth&&(k=C.depth),T<C.height&&(T=C.height),R[n]=C}var E=e.rowGaps[r],_=0;E&&(_=tn(E,t))>0&&(k<(_+=v)&&(k=_),_=0),e.addJot&&(k+=g),R.height=T,R.depth=k,x+=T,R.pos=x,x+=k+_,o[r]=R,b(a[r+1])}var L,D,B=x/2+t.fontMetrics().axisHeight,S=e.cols||[],N=[],A=[];if(e.tags&&e.tags.some(le=>le))for(r=0;r<i;++r){var M=o[r],O=M.pos-B,I=e.tags[r],P=void 0;(P=I===!0?Ie.makeSpan(["eqn-num"],[],t):I===!1?Ie.makeSpan([],[],t):Ie.makeSpan([],$n(I,t,!0),t)).depth=M.depth,P.height=M.height,A.push({type:"elem",elem:P,shift:O})}for(n=0,D=0;n<s||D<S.length;++n,++D){for(var $=S[D]||{},z=!0;$.type==="separator";){if(z||((L=Ie.makeSpan(["arraycolsep"],[])).style.width=it(t.fontMetrics().doubleRuleSep),N.push(L)),$.separator!=="|"&&$.separator!==":")throw new et("Invalid separator type: "+$.separator);var G=$.separator==="|"?"solid":"dashed",q=Ie.makeSpan(["vertical-separator"],[],t);q.style.height=it(x),q.style.borderRightWidth=it(h),q.style.borderRightStyle=G,q.style.margin="0 "+it(-h/2);var J=x-B;J&&(q.style.verticalAlign=it(-J)),N.push(q),$=S[++D]||{},z=!1}if(!(n>=s)){var ie=void 0;(n>0||e.hskipBeforeAndAfter)&&(ie=Mt.deflt($.pregap,p))!==0&&((L=Ie.makeSpan(["arraycolsep"],[])).style.width=it(ie),N.push(L));var te=[];for(r=0;r<i;++r){var W=o[r],H=W[n];if(H){var X=W.pos-B;H.depth=W.depth,H.height=W.height,te.push({type:"elem",elem:H,shift:X})}}te=Ie.makeVList({positionType:"individualShift",children:te},t),te=Ie.makeSpan(["col-align-"+($.align||"c")],[te]),N.push(te),(n<s-1||e.hskipBeforeAndAfter)&&(ie=Mt.deflt($.postgap,p))!==0&&((L=Ie.makeSpan(["arraycolsep"],[])).style.width=it(ie),N.push(L))}}if(o=Ie.makeSpan(["mtable"],N),u.length>0){for(var Q=Ie.makeLineSpan("hline",t,h),ne=Ie.makeLineSpan("hdashline",t,h),ee=[{type:"elem",elem:o,shift:0}];u.length>0;){var pe=u.pop(),j=pe.pos-B;pe.isDashed?ee.push({type:"elem",elem:ne,shift:j}):ee.push({type:"elem",elem:Q,shift:j})}o=Ie.makeVList({positionType:"individualShift",children:ee},t)}if(A.length===0)return Ie.makeSpan(["mord"],[o],t);var ce=Ie.makeVList({positionType:"individualShift",children:A},t);return ce=Ie.makeSpan(["tag"],[ce],t),Ie.makeFragment([o,ce])},"htmlBuilder"),mye={c:"center ",l:"left ",r:"right "},Us=l(function(e,t){for(var r=[],n=new Ke.MathNode("mtd",[],["mtr-glue"]),i=new Ke.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var s=e.body[a],o=[],u=0;u<s.length;u++)o.push(new Ke.MathNode("mtd",[Rr(s[u],t)]));e.tags&&e.tags[a]&&(o.unshift(n),o.push(n),e.leqno?o.unshift(i):o.push(i)),r.push(new Ke.MathNode("mtr",o))}var h=new Ke.MathNode("mtable",r),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",it(d));var p="",f="";if(e.cols&&e.cols.length>0){var g=e.cols,m="",y=!1,v=0,x=g.length;g[0].type==="separator"&&(p+="top ",v=1),g[g.length-1].type==="separator"&&(p+="bottom ",x-=1);for(var b=v;b<x;b++)g[b].type==="align"?(f+=mye[g[b].align],y&&(m+="none "),y=!0):g[b].type==="separator"&&y&&(m+=g[b].separator==="|"?"solid ":"dashed ",y=!1);h.setAttribute("columnalign",f.trim()),/[sd]/.test(m)&&h.setAttribute("columnlines",m.trim())}if(e.colSeparationType==="align"){for(var w=e.cols||[],T="",k=1;k<w.length;k++)T+=k%2?"0em ":"1em ";h.setAttribute("columnspacing",T.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var R="",C=e.hLinesBeforeRow;p+=C[0].length>0?"left ":"",p+=C[C.length-1].length>0?"right ":"";for(var E=1;E<C.length-1;E++)R+=C[E].length===0?"none ":C[E][0]?"dashed ":"solid ";return/[sd]/.test(R)&&h.setAttribute("rowlines",R.trim()),p!==""&&(h=new Ke.MathNode("menclose",[h])).setAttribute("notation",p.trim()),e.arraystretch&&e.arraystretch<1&&(h=new Ke.MathNode("mstyle",[h])).setAttribute("scriptlevel","1"),h},"mathmlBuilder"),gR=l(function(e,t){e.envName.indexOf("ed")===-1&&Bx(e);var r,n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",s=Co(e.parser,{cols:n,addJot:!0,autoTag:a?void 0:x4(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),o=0,u={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var h="",d=0;d<t[0].body.length;d++)h+=Xt(t[0].body[d],"textord").text;r=Number(h),o=2*r}var p=!o;s.body.forEach(function(y){for(var v=1;v<y.length;v+=2){var x=Xt(y[v],"styling");Xt(x.body[0],"ordgroup").body.unshift(u)}if(p)o<y.length&&(o=y.length);else{var b=y.length/2;if(r<b)throw new et("Too many math in a row: expected "+r+", but got "+b,y[0])}});for(var f=0;f<o;++f){var g="r",m=0;f%2==1?g="l":f>0&&p&&(m=1),n[f]={type:"align",align:g,pregap:m,postgap:0}}return s.colSeparationType=p?"align":"alignat",s},"alignedHandler");hs({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=(Oy(t[0])?[t[0]]:Xt(t[0],"ordgroup").body).map(function(i){var a=v4(i).text;if("lcr".indexOf(a)!==-1)return{type:"align",align:a};if(a==="|")return{type:"separator",separator:"|"};if(a===":")return{type:"separator",separator:":"};throw new et("Unknown column alignment: "+a,i)}),n={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return Co(e.parser,n,$x(e.envName))},htmlBuilder:zs,mathmlBuilder:Us}),hs({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new et("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var a=Co(e.parser,n,$x(e.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:zs,mathmlBuilder:Us}),hs({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t=Co(e.parser,{arraystretch:.5},"script");return t.colSeparationType="small",t},htmlBuilder:zs,mathmlBuilder:Us}),hs({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=(Oy(t[0])?[t[0]]:Xt(t[0],"ordgroup").body).map(function(i){var a=v4(i).text;if("lc".indexOf(a)!==-1)return{type:"align",align:a};throw new et("Unknown column alignment: "+a,i)});if(r.length>1)throw new et("{subarray} can contain only one column");var n={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if((n=Co(e.parser,n,"script")).body.length>0&&n.body[0].length>1)throw new et("{subarray} can contain only one column");return n},htmlBuilder:zs,mathmlBuilder:Us}),hs({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t=Co(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},$x(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:zs,mathmlBuilder:Us}),hs({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:gR,htmlBuilder:zs,mathmlBuilder:Us}),hs({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){Mt.contains(["gather","gather*"],e.envName)&&Bx(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:x4(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Co(e.parser,t,"display")},htmlBuilder:zs,mathmlBuilder:Us}),hs({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:gR,htmlBuilder:zs,mathmlBuilder:Us}),hs({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Bx(e);var t={autoTag:x4(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Co(e.parser,t,"display")},htmlBuilder:zs,mathmlBuilder:Us}),hs({type:"array",names:["CD"],props:{numArgs:0},handler:e=>(Bx(e),u3(e.parser)),htmlBuilder:zs,mathmlBuilder:Us}),ae("\\nonumber","\\gdef\\@eqnsw{0}"),ae("\\notag","\\nonumber"),dt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new et(e.funcName+" valid only within array environment")}});var mR=x3;dt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];if(i.type!=="ordgroup")throw new et("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=Xt(i.body[s],"textord").text;if(n==="\\begin"){if(!mR.hasOwnProperty(a))throw new et("No such environment: "+a,i);var o=mR[a],{args:u,optArgs:h}=r.parseArguments("\\begin{"+a+"}",o),d={mode:r.mode,envName:a,parser:r},p=o.handler(d,u,h);r.expect("\\end",!1);var f=r.nextToken,g=Xt(r.parseFunction(),"environment");if(g.name!==a)throw new et("Mismatch: \\begin{"+a+"} matched by \\end{"+g.name+"}",f);return p}return{type:"environment",mode:r.mode,name:a,nameGroup:i}}});var yR=l((e,t)=>{var r=e.font,n=t.withFont(r);return ur(e.body,n)},"htmlBuilder$5"),vR=l((e,t)=>{var r=e.font,n=t.withFont(r);return Rr(e.body,n)},"mathmlBuilder$4"),xR={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};dt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:l((e,t)=>{var{parser:r,funcName:n}=e,i=m4(t[0]),a=n;return a in xR&&(a=xR[a]),{type:"font",mode:r.mode,font:a.slice(1),body:i}},"handler"),htmlBuilder:yR,mathmlBuilder:vR}),dt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:l((e,t)=>{var{parser:r}=e,n=t[0],i=Mt.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:Px(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}},"handler")}),dt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:l((e,t)=>{var{parser:r,funcName:n,breakOnTokenText:i}=e,{mode:a}=r,s=r.parseExpression(!0,i);return{type:"font",mode:a,font:"math"+n.slice(1),body:{type:"ordgroup",mode:r.mode,body:s}}},"handler"),htmlBuilder:yR,mathmlBuilder:vR});var w3=l((e,t)=>{var r=t;return e==="display"?r=r.id>=Bt.SCRIPT.id?r.text():Bt.DISPLAY:e==="text"&&r.size===Bt.DISPLAY.size?r=Bt.TEXT:e==="script"?r=Bt.SCRIPT:e==="scriptscript"&&(r=Bt.SCRIPTSCRIPT),r},"adjustStyle"),eE=l((e,t)=>{var r,n=w3(e.size,t.style),i=n.fracNum(),a=n.fracDen();r=t.havingStyle(i);var s=ur(e.numer,r,t);if(e.continued){var o=8.5/t.fontMetrics().ptPerEm,u=3.5/t.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<u?u:s.depth}r=t.havingStyle(a);var h,d,p,f,g,m,y,v,x,b,w=ur(e.denom,r,t);if(e.hasBarLine?(e.barSize?(d=tn(e.barSize,t),h=Ie.makeLineSpan("frac-line",t,d)):h=Ie.makeLineSpan("frac-line",t),d=h.height,p=h.height):(h=null,d=0,p=t.fontMetrics().defaultRuleThickness),n.size===Bt.DISPLAY.size||e.size==="display"?(f=t.fontMetrics().num1,g=d>0?3*p:7*p,m=t.fontMetrics().denom1):(d>0?(f=t.fontMetrics().num2,g=p):(f=t.fontMetrics().num3,g=3*p),m=t.fontMetrics().denom2),h){var T=t.fontMetrics().axisHeight;f-s.depth-(T+.5*d)<g&&(f+=g-(f-s.depth-(T+.5*d))),T-.5*d-(w.height-m)<g&&(m+=g-(T-.5*d-(w.height-m)));var k=-(T-.5*d);y=Ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:w,shift:m},{type:"elem",elem:h,shift:k},{type:"elem",elem:s,shift:-f}]},t)}else{var R=f-s.depth-(w.height-m);R<g&&(f+=.5*(g-R),m+=.5*(g-R)),y=Ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:w,shift:m},{type:"elem",elem:s,shift:-f}]},t)}return r=t.havingStyle(n),y.height*=r.sizeMultiplier/t.sizeMultiplier,y.depth*=r.sizeMultiplier/t.sizeMultiplier,v=n.size===Bt.DISPLAY.size?t.fontMetrics().delim1:n.size===Bt.SCRIPTSCRIPT.size?t.havingStyle(Bt.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2,x=e.leftDelim==null?Xm(t,["mopen"]):So.customSizedDelim(e.leftDelim,v,!0,t.havingStyle(n),e.mode,["mopen"]),b=e.continued?Ie.makeSpan([]):e.rightDelim==null?Xm(t,["mclose"]):So.customSizedDelim(e.rightDelim,v,!0,t.havingStyle(n),e.mode,["mclose"]),Ie.makeSpan(["mord"].concat(r.sizingClasses(t)),[x,Ie.makeSpan(["mfrac"],[y]),b],t)},"htmlBuilder$4"),tE=l((e,t)=>{var r=new Ke.MathNode("mfrac",[Rr(e.numer,t),Rr(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var n=tn(e.barSize,t);r.setAttribute("linethickness",it(n))}}else r.setAttribute("linethickness","0px");var i=w3(e.size,t.style);if(i.size!==t.style.size){r=new Ke.MathNode("mstyle",[r]);var a=i.size===Bt.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var s=[];if(e.leftDelim!=null){var o=new Ke.MathNode("mo",[new Ke.TextNode(e.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(r),e.rightDelim!=null){var u=new Ke.MathNode("mo",[new Ke.TextNode(e.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),s.push(u)}return bA(s)}return r},"mathmlBuilder$3");dt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:l((e,t)=>{var r,{parser:n,funcName:i}=e,a=t[0],s=t[1],o=null,u=null,h="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":r=!0;break;case"\\\\atopfrac":r=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":r=!1,o="(",u=")";break;case"\\\\bracefrac":r=!1,o="\\{",u="\\}";break;case"\\\\brackfrac":r=!1,o="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text"}return{type:"genfrac",mode:n.mode,continued:!1,numer:a,denom:s,hasBarLine:r,leftDelim:o,rightDelim:u,size:h,barSize:null}},"handler"),htmlBuilder:eE,mathmlBuilder:tE}),dt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:l((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],a=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}},"handler")}),dt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var t,{parser:r,funcName:n,token:i}=e;switch(n){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:r.mode,replaceWith:t,token:i}}});var bR=["display","text","script","scriptscript"],wR=l(function(e){var t=null;return e.length>0&&(t=(t=e)==="."?null:t),t},"delimFromValue");dt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var r,{parser:n}=e,i=t[4],a=t[5],s=m4(t[0]),o=s.type==="atom"&&s.family==="open"?wR(s.text):null,u=m4(t[1]),h=u.type==="atom"&&u.family==="close"?wR(u.text):null,d=Xt(t[2],"size"),p=null;r=!!d.isBlank||(p=d.value).number>0;var f="auto",g=t[3];if(g.type==="ordgroup"){if(g.body.length>0){var m=Xt(g.body[0],"textord");f=bR[Number(m.text)]}}else g=Xt(g,"textord"),f=bR[Number(g.text)];return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:r,barSize:p,leftDelim:o,rightDelim:h,size:f}},htmlBuilder:eE,mathmlBuilder:tE}),dt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:n,token:i}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Xt(t[0],"size").value,token:i}}}),dt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:l((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],a=tme(Xt(t[1],"infix").size),s=t[2],o=a.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},"handler"),htmlBuilder:eE,mathmlBuilder:tE});var k3=l((e,t)=>{var r,n,i=t.style;e.type==="supsub"?(r=e.sup?ur(e.sup,t.havingStyle(i.sup()),t):ur(e.sub,t.havingStyle(i.sub()),t),n=Xt(e.base,"horizBrace")):n=Xt(e,"horizBrace");var a,s=ur(n.base,t.havingBaseStyle(Bt.DISPLAY)),o=Wo.svgSpan(n,t);if(n.isOver?(a=Ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(a=Ie.makeVList({positionType:"bottom",positionData:s.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},t)).children[0].children[0].children[0].classes.push("svg-align"),r){var u=Ie.makeSpan(["mord",n.isOver?"mover":"munder"],[a],t);a=n.isOver?Ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:r}]},t):Ie.makeVList({positionType:"bottom",positionData:u.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:u}]},t)}return Ie.makeSpan(["mord",n.isOver?"mover":"munder"],[a],t)},"htmlBuilder$3");dt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:k3,mathmlBuilder:l((e,t)=>{var r=Wo.mathMLnode(e.label);return new Ke.MathNode(e.isOver?"mover":"munder",[Rr(e.base,t),r])},"mathmlBuilder$2")}),dt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:l((e,t)=>{var{parser:r}=e,n=t[1],i=Xt(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:vn(n)}:r.formatUnsupportedCmd("\\href")},"handler"),htmlBuilder:l((e,t)=>{var r=$n(e.body,t,!1);return Ie.makeAnchor(e.href,[],r,t)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=Ul(e.body,t);return r instanceof Va||(r=new Va("mrow",[r])),r.setAttribute("href",e.href),r},"mathmlBuilder")}),dt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:l((e,t)=>{var{parser:r}=e,n=Xt(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:vn(o)}},"handler")}),dt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:vn(t[0])}},htmlBuilder(e,t){var r=$n(e.body,t,!1);return Ie.makeFragment(r)},mathmlBuilder:(e,t)=>new Ke.MathNode("mrow",na(e.body,t))}),dt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:l((e,t)=>{var r,{parser:n,funcName:i,token:a}=e,s=Xt(t[0],"raw").string,o=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var u={};switch(i){case"\\htmlClass":u.class=s,r={command:"\\htmlClass",class:s};break;case"\\htmlId":u.id=s,r={command:"\\htmlId",id:s};break;case"\\htmlStyle":u.style=s,r={command:"\\htmlStyle",style:s};break;case"\\htmlData":for(var h=s.split(","),d=0;d<h.length;d++){var p=h[d].split("=");if(p.length!==2)throw new et("Error parsing key-value for \\htmlData");u["data-"+p[0].trim()]=p[1].trim()}r={command:"\\htmlData",attributes:u};break;default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(r)?{type:"html",mode:n.mode,attributes:u,body:vn(o)}:n.formatUnsupportedCmd(i)},"handler"),htmlBuilder:l((e,t)=>{var r=$n(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push(...e.attributes.class.trim().split(/\s+/));var i=Ie.makeSpan(n,r,t);for(var a in e.attributes)a!=="class"&&e.attributes.hasOwnProperty(a)&&i.setAttribute(a,e.attributes[a]);return i},"htmlBuilder"),mathmlBuilder:l((e,t)=>Ul(e.body,t),"mathmlBuilder")}),dt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:l((e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:vn(t[0]),mathml:vn(t[1])}},"handler"),htmlBuilder:l((e,t)=>{var r=$n(e.html,t,!1);return Ie.makeFragment(r)},"htmlBuilder"),mathmlBuilder:l((e,t)=>Ul(e.mathml,t),"mathmlBuilder")});var gk=l(function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new et("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(t[1]+t[2]),unit:t[3]};if(!XX(r))throw new et("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r},"sizeData");dt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:l((e,t,r)=>{var{parser:n}=e,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(r[0])for(var u=Xt(r[0],"raw").string.split(","),h=0;h<u.length;h++){var d=u[h].split("=");if(d.length===2){var p=d[1].trim();switch(d[0].trim()){case"alt":o=p;break;case"width":i=gk(p);break;case"height":a=gk(p);break;case"totalheight":s=gk(p);break;default:throw new et("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var f=Xt(t[0],"url").url;return o===""&&(o=(o=(o=f).replace(/^.*[\\/]/,"")).substring(0,o.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:n.mode,alt:o,width:i,height:a,totalheight:s,src:f}:n.formatUnsupportedCmd("\\includegraphics")},"handler"),htmlBuilder:l((e,t)=>{var r=tn(e.height,t),n=0;e.totalheight.number>0&&(n=tn(e.totalheight,t)-r);var i=0;e.width.number>0&&(i=tn(e.width,t));var a={height:it(r+n)};i>0&&(a.width=it(i)),n>0&&(a.verticalAlign=it(-n));var s=new bme(e.src,e.alt,a);return s.height=r,s.depth=n,s},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=new Ke.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=tn(e.height,t),i=0;if(e.totalheight.number>0&&(i=tn(e.totalheight,t)-n,r.setAttribute("valign",it(-i))),r.setAttribute("height",it(n+i)),e.width.number>0){var a=tn(e.width,t);r.setAttribute("width",it(a))}return r.setAttribute("src",e.src),r},"mathmlBuilder")}),dt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=Xt(t[0],"size");if(r.settings.strict){var a=n[1]==="m",s=i.value.unit==="mu";a?(s||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, not "+i.value.unit+" units"),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):s&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder:(e,t)=>Ie.makeGlue(e.dimension,t),mathmlBuilder(e,t){var r=tn(e.dimension,t);return new Ke.SpaceNode(r)}}),dt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:l((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},"handler"),htmlBuilder:l((e,t)=>{var r;e.alignment==="clap"?(r=Ie.makeSpan([],[ur(e.body,t)]),r=Ie.makeSpan(["inner"],[r],t)):r=Ie.makeSpan(["inner"],[ur(e.body,t)]);var n=Ie.makeSpan(["fix"],[]),i=Ie.makeSpan([e.alignment],[r,n],t),a=Ie.makeSpan(["strut"]);return a.style.height=it(i.height+i.depth),i.depth&&(a.style.verticalAlign=it(-i.depth)),i.children.unshift(a),i=Ie.makeSpan(["thinbox"],[i],t),Ie.makeSpan(["mord","vbox"],[i],t)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=new Ke.MathNode("mpadded",[Rr(e.body,t)]);if(e.alignment!=="rlap"){var n=e.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r},"mathmlBuilder")}),dt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:n}=e,i=n.mode;n.switchMode("math");var a=r==="\\("?"\\)":"$",s=n.parseExpression(!1,a);return n.expect(a),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:s}}}),dt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new et("Mismatched "+e.funcName)}});var kR=l((e,t)=>{switch(t.style.size){case Bt.DISPLAY.size:return e.display;case Bt.TEXT.size:return e.text;case Bt.SCRIPT.size:return e.script;case Bt.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}},"chooseMathStyle");dt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:l((e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:vn(t[0]),text:vn(t[1]),script:vn(t[2]),scriptscript:vn(t[3])}},"handler"),htmlBuilder:l((e,t)=>{var r=kR(e,t),n=$n(r,t,!1);return Ie.makeFragment(n)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=kR(e,t);return Ul(r,t)},"mathmlBuilder")});var T3=l((e,t,r,n,i,a,s)=>{e=Ie.makeSpan([],[e]);var o,u,h,d=r&&Mt.isCharacterBox(r);if(t){var p=ur(t,n.havingStyle(i.sup()),n);u={elem:p,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-p.depth)}}if(r){var f=ur(r,n.havingStyle(i.sub()),n);o={elem:f,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-f.height)}}if(u&&o){var g=n.fontMetrics().bigOpSpacing5+o.elem.height+o.elem.depth+o.kern+e.depth+s;h=Ie.makeVList({positionType:"bottom",positionData:g,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:o.elem,marginLeft:it(-a)},{type:"kern",size:o.kern},{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:it(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(o){var m=e.height-s;h=Ie.makeVList({positionType:"top",positionData:m,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:o.elem,marginLeft:it(-a)},{type:"kern",size:o.kern},{type:"elem",elem:e}]},n)}else{if(!u)return e;var y=e.depth+s;h=Ie.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:it(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}var v=[h];if(o&&a!==0&&!d){var x=Ie.makeSpan(["mspace"],[],n);x.style.marginRight=it(a),v.unshift(x)}return Ie.makeSpan(["mop","op-limits"],v,n)},"assembleSupSub"),_3=["\\smallint"],yd=l((e,t)=>{var r,n,i,a=!1;e.type==="supsub"?(r=e.sup,n=e.sub,i=Xt(e.base,"op"),a=!0):i=Xt(e,"op");var s,o=t.style,u=!1;if(o.size===Bt.DISPLAY.size&&i.symbol&&!Mt.contains(_3,i.name)&&(u=!0),i.symbol){var h=u?"Size2-Regular":"Size1-Regular",d="";if(i.name!=="\\oiint"&&i.name!=="\\oiiint"||(d=i.name.slice(1),i.name=d==="oiint"?"\\iint":"\\iiint"),s=Ie.makeSymbol(i.name,h,"math",t,["mop","op-symbol",u?"large-op":"small-op"]),d.length>0){var p=s.italic,f=Ie.staticSvg(d+"Size"+(u?"2":"1"),t);s=Ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:0},{type:"elem",elem:f,shift:u?.08:0}]},t),i.name="\\"+d,s.classes.unshift("mop"),s.italic=p}}else if(i.body){var g=$n(i.body,t,!0);g.length===1&&g[0]instanceof ss?(s=g[0]).classes[0]="mop":s=Ie.makeSpan(["mop"],g,t)}else{for(var m=[],y=1;y<i.name.length;y++)m.push(Ie.mathsym(i.name[y],i.mode,t));s=Ie.makeSpan(["mop"],m,t)}var v=0,x=0;return(s instanceof ss||i.name==="\\oiint"||i.name==="\\oiiint")&&!i.suppressBaseShift&&(v=(s.height-s.depth)/2-t.fontMetrics().axisHeight,x=s.italic),a?T3(s,r,n,t,o,x,v):(v&&(s.style.position="relative",s.style.top=it(v)),s)},"htmlBuilder$2"),Qm=l((e,t)=>{var r;if(e.symbol)r=new Va("mo",[Xa(e.name,e.mode)]),Mt.contains(_3,e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new Va("mo",na(e.body,t));else{r=new Va("mi",[new Km(e.name.slice(1))]);var n=new Va("mo",[Xa("","text")]);r=e.parentIsSupSub?new Va("mrow",[r,n]):xA([r,n])}return r},"mathmlBuilder$1"),yye={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};dt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:l((e,t)=>{var{parser:r,funcName:n}=e,i=n;return i.length===1&&(i=yye[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},"handler"),htmlBuilder:yd,mathmlBuilder:Qm}),dt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:l((e,t)=>{var{parser:r}=e,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:vn(n)}},"handler"),htmlBuilder:yd,mathmlBuilder:Qm});var vye={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};dt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:yd,mathmlBuilder:Qm}),dt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:yd,mathmlBuilder:Qm}),dt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e,n=r;return n.length===1&&(n=vye[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:yd,mathmlBuilder:Qm});var E3=l((e,t)=>{var r,n,i,a,s=!1;if(e.type==="supsub"?(r=e.sup,n=e.sub,i=Xt(e.base,"operatorname"),s=!0):i=Xt(e,"operatorname"),i.body.length>0){for(var o=i.body.map(p=>{var f=p.text;return typeof f=="string"?{type:"textord",mode:p.mode,text:f}:p}),u=$n(o,t.withFont("mathrm"),!0),h=0;h<u.length;h++){var d=u[h];d instanceof ss&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=Ie.makeSpan(["mop"],u,t)}else a=Ie.makeSpan(["mop"],[],t);return s?T3(a,r,n,t,t.style,0,0):a},"htmlBuilder$1"),xye=l((e,t)=>{for(var r=na(e.body,t.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var a=r[i];if(!(a instanceof Ke.SpaceNode))if(a instanceof Ke.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var s=a.children[0];a.children.length===1&&s instanceof Ke.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break;default:n=!1}else n=!1}if(n){var o=r.map(d=>d.toText()).join("");r=[new Ke.TextNode(o)]}var u=new Ke.MathNode("mi",r);u.setAttribute("mathvariant","normal");var h=new Ke.MathNode("mo",[Xa("","text")]);return e.parentIsSupSub?new Ke.MathNode("mrow",[u,h]):Ke.newDocumentFragment([u,h])},"mathmlBuilder");function kA(e,t,r){for(var n=$n(e,t,!1),i=t.sizeMultiplier/r.sizeMultiplier,a=0;a<n.length;a++){var s=n[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(n[a].classes,t.sizingClasses(r)):n[a].classes[s+1]==="reset-size"+t.size&&(n[a].classes[s+1]="reset-size"+r.size),n[a].height*=i,n[a].depth*=i}return Ie.makeFragment(n)}dt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:l((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"operatorname",mode:r.mode,body:vn(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},"handler"),htmlBuilder:E3,mathmlBuilder:xye}),ae("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),tc({type:"ordgroup",htmlBuilder:(e,t)=>e.semisimple?Ie.makeFragment($n(e.body,t,!1)):Ie.makeSpan(["mord"],$n(e.body,t,!0),t),mathmlBuilder:(e,t)=>Ul(e.body,t,!0)}),dt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(e,t){var r=ur(e.body,t.havingCrampedStyle()),n=Ie.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,a=Ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},t);return Ie.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(e,t){var r=new Ke.MathNode("mo",[new Ke.TextNode("")]);r.setAttribute("stretchy","true");var n=new Ke.MathNode("mover",[Rr(e.body,t),r]);return n.setAttribute("accent","true"),n}}),dt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:l((e,t)=>{var{parser:r}=e,n=t[0];return{type:"phantom",mode:r.mode,body:vn(n)}},"handler"),htmlBuilder:l((e,t)=>{var r=$n(e.body,t.withPhantom(),!1);return Ie.makeFragment(r)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=na(e.body,t);return new Ke.MathNode("mphantom",r)},"mathmlBuilder")}),dt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:l((e,t)=>{var{parser:r}=e,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},"handler"),htmlBuilder:l((e,t)=>{var r=Ie.makeSpan([],[ur(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=Ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),Ie.makeSpan(["mord"],[r],t)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=na(vn(e.body),t),n=new Ke.MathNode("mphantom",r),i=new Ke.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i},"mathmlBuilder")}),dt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:l((e,t)=>{var{parser:r}=e,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},"handler"),htmlBuilder:l((e,t)=>{var r=Ie.makeSpan(["inner"],[ur(e.body,t.withPhantom())]),n=Ie.makeSpan(["fix"],[]);return Ie.makeSpan(["mord","rlap"],[r,n],t)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=na(vn(e.body),t),n=new Ke.MathNode("mphantom",r),i=new Ke.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i},"mathmlBuilder")}),dt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,n=Xt(t[0],"size").value,i=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(e,t){var r=ur(e.body,t),n=tn(e.dy,t);return Ie.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new Ke.MathNode("mpadded",[Rr(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}}),dt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}}),dt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,r){var{parser:n}=e,i=r[0],a=Xt(t[0],"size"),s=Xt(t[1],"size");return{type:"rule",mode:n.mode,shift:i&&Xt(i,"size").value,width:a.value,height:s.value}},htmlBuilder(e,t){var r=Ie.makeSpan(["mord","rule"],[],t),n=tn(e.width,t),i=tn(e.height,t),a=e.shift?tn(e.shift,t):0;return r.style.borderRightWidth=it(n),r.style.borderTopWidth=it(i),r.style.bottom=it(a),r.width=n,r.height=i+a,r.depth=-a,r.maxFontSize=1.125*i*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=tn(e.width,t),n=tn(e.height,t),i=e.shift?tn(e.shift,t):0,a=t.color&&t.getColor()||"black",s=new Ke.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",it(r)),s.setAttribute("height",it(n));var o=new Ke.MathNode("mpadded",[s]);return i>=0?o.setAttribute("height",it(i)):(o.setAttribute("height",it(i)),o.setAttribute("depth",it(-i))),o.setAttribute("voffset",it(i)),o}}),l(kA,"sizingGroup");var TR=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],bye=l((e,t)=>{var r=t.havingSize(e.size);return kA(e.body,r,t)},"htmlBuilder");dt({type:"sizing",names:TR,props:{numArgs:0,allowedInText:!0},handler:l((e,t)=>{var{breakOnTokenText:r,funcName:n,parser:i}=e,a=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:TR.indexOf(n)+1,body:a}},"handler"),htmlBuilder:bye,mathmlBuilder:l((e,t)=>{var r=t.havingSize(e.size),n=na(e.body,r),i=new Ke.MathNode("mstyle",n);return i.setAttribute("mathsize",it(r.sizeMultiplier)),i},"mathmlBuilder")}),dt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:l((e,t,r)=>{var{parser:n}=e,i=!1,a=!1,s=r[0]&&Xt(r[0],"ordgroup");if(s)for(var o="",u=0;u<s.body.length;++u)if((o=s.body[u].text)==="t")i=!0;else{if(o!=="b"){i=!1,a=!1;break}a=!0}else i=!0,a=!0;var h=t[0];return{type:"smash",mode:n.mode,body:h,smashHeight:i,smashDepth:a}},"handler"),htmlBuilder:l((e,t)=>{var r=Ie.makeSpan([],[ur(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var a=Ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return Ie.makeSpan(["mord"],[a],t)},"htmlBuilder"),mathmlBuilder:l((e,t)=>{var r=new Ke.MathNode("mpadded",[Rr(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r},"mathmlBuilder")}),dt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n}=e,i=r[0],a=t[0];return{type:"sqrt",mode:n.mode,body:a,index:i}},htmlBuilder(e,t){var r=ur(e.body,t.havingCrampedStyle());r.height===0&&(r.height=t.fontMetrics().xHeight),r=Ie.wrapFragment(r,t);var n=t.fontMetrics().defaultRuleThickness,i=n;t.style.id<Bt.TEXT.id&&(i=t.fontMetrics().xHeight);var a=n+i/4,s=r.height+r.depth+a+n,{span:o,ruleWidth:u,advanceWidth:h}=So.sqrtImage(s,t),d=o.height-u;d>r.height+r.depth+a&&(a=(a+d-r.height-r.depth)/2);var p=o.height-r.height-a-u;r.style.paddingLeft=it(h);var f=Ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+p)},{type:"elem",elem:o},{type:"kern",size:u}]},t);if(e.index){var g=t.havingStyle(Bt.SCRIPTSCRIPT),m=ur(e.index,g,t),y=.6*(f.height-f.depth),v=Ie.makeVList({positionType:"shift",positionData:-y,children:[{type:"elem",elem:m}]},t),x=Ie.makeSpan(["root"],[v]);return Ie.makeSpan(["mord","sqrt"],[x,f],t)}return Ie.makeSpan(["mord","sqrt"],[f],t)},mathmlBuilder(e,t){var{body:r,index:n}=e;return n?new Ke.MathNode("mroot",[Rr(r,t),Rr(n,t)]):new Ke.MathNode("msqrt",[Rr(r,t)])}});var _R={display:Bt.DISPLAY,text:Bt.TEXT,script:Bt.SCRIPT,scriptscript:Bt.SCRIPTSCRIPT};dt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:n,parser:i}=e,a=i.parseExpression(!0,r),s=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(e,t){var r=_R[e.style],n=t.havingStyle(r).withFont("");return kA(e.body,n,t)},mathmlBuilder(e,t){var r=_R[e.style],n=t.havingStyle(r),i=na(e.body,n),a=new Ke.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return a.setAttribute("scriptlevel",s[0]),a.setAttribute("displaystyle",s[1]),a}});var wye=l(function(e,t){var r=e.base;return r?r.type==="op"?r.limits&&(t.style.size===Bt.DISPLAY.size||r.alwaysHandleSupSub)?yd:null:r.type==="operatorname"?r.alwaysHandleSupSub&&(t.style.size===Bt.DISPLAY.size||r.limits)?E3:null:r.type==="accent"?Mt.isCharacterBox(r.base)?K_:null:r.type==="horizBrace"&&!e.sub===r.isOver?k3:null:null},"htmlBuilderDelegate");tc({type:"supsub",htmlBuilder(e,t){var r=wye(e,t);if(r)return r(e,t);var n,i,a,{base:s,sup:o,sub:u}=e,h=ur(s,t),d=t.fontMetrics(),p=0,f=0,g=s&&Mt.isCharacterBox(s);if(o){var m=t.havingStyle(t.style.sup());n=ur(o,m,t),g||(p=h.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(u){var y=t.havingStyle(t.style.sub());i=ur(u,y,t),g||(f=h.depth+y.fontMetrics().subDrop*y.sizeMultiplier/t.sizeMultiplier)}a=t.style===Bt.DISPLAY?d.sup1:t.style.cramped?d.sup3:d.sup2;var v,x=t.sizeMultiplier,b=it(.5/d.ptPerEm/x),w=null;if(i){var T=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(h instanceof ss||T)&&(w=it(-h.italic))}if(n&&i){p=Math.max(p,a,n.depth+.25*d.xHeight),f=Math.max(f,d.sub2);var k=4*d.defaultRuleThickness;if(p-n.depth-(i.height-f)<k){f=k-(p-n.depth)+i.height;var R=.8*d.xHeight-(p-n.depth);R>0&&(p+=R,f-=R)}var C=[{type:"elem",elem:i,shift:f,marginRight:b,marginLeft:w},{type:"elem",elem:n,shift:-p,marginRight:b}];v=Ie.makeVList({positionType:"individualShift",children:C},t)}else if(i){f=Math.max(f,d.sub1,i.height-.8*d.xHeight);var E=[{type:"elem",elem:i,marginLeft:w,marginRight:b}];v=Ie.makeVList({positionType:"shift",positionData:f,children:E},t)}else{if(!n)throw new Error("supsub must have either sup or sub.");p=Math.max(p,a,n.depth+.25*d.xHeight),v=Ie.makeVList({positionType:"shift",positionData:-p,children:[{type:"elem",elem:n,marginRight:b}]},t)}var _=H_(h,"right")||"mord";return Ie.makeSpan([_],[h,Ie.makeSpan(["msupsub"],[v])],t)},mathmlBuilder(e,t){var r,n=!1;e.base&&e.base.type==="horizBrace"&&!!e.sup===e.base.isOver&&(n=!0,r=e.base.isOver),!e.base||e.base.type!=="op"&&e.base.type!=="operatorname"||(e.base.parentIsSupSub=!0);var i,a=[Rr(e.base,t)];if(e.sub&&a.push(Rr(e.sub,t)),e.sup&&a.push(Rr(e.sup,t)),n)i=r?"mover":"munder";else if(e.sub)if(e.sup){var s=e.base;i=s&&s.type==="op"&&s.limits&&t.style===Bt.DISPLAY||s&&s.type==="operatorname"&&s.alwaysHandleSupSub&&(t.style===Bt.DISPLAY||s.limits)?"munderover":"msubsup"}else{var o=e.base;i=o&&o.type==="op"&&o.limits&&(t.style===Bt.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||t.style===Bt.DISPLAY)?"munder":"msub"}else{var u=e.base;i=u&&u.type==="op"&&u.limits&&(t.style===Bt.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||t.style===Bt.DISPLAY)?"mover":"msup"}return new Ke.MathNode(i,a)}}),tc({type:"atom",htmlBuilder:(e,t)=>Ie.mathsym(e.text,e.mode,t,["m"+e.family]),mathmlBuilder(e,t){var r=new Ke.MathNode("mo",[Xa(e.text,e.mode)]);if(e.family==="bin"){var n=V_(e,t);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else e.family==="punct"?r.setAttribute("separator","true"):e.family!=="open"&&e.family!=="close"||r.setAttribute("stretchy","false");return r}});var ER={mi:"italic",mn:"normal",mtext:"normal"};tc({type:"mathord",htmlBuilder:(e,t)=>Ie.makeOrd(e,t,"mathord"),mathmlBuilder(e,t){var r=new Ke.MathNode("mi",[Xa(e.text,e.mode,t)]),n=V_(e,t)||"italic";return n!==ER[r.type]&&r.setAttribute("mathvariant",n),r}}),tc({type:"textord",htmlBuilder:(e,t)=>Ie.makeOrd(e,t,"textord"),mathmlBuilder(e,t){var r,n=Xa(e.text,e.mode,t),i=V_(e,t)||"normal";return r=e.mode==="text"?new Ke.MathNode("mtext",[n]):/[0-9]/.test(e.text)?new Ke.MathNode("mn",[n]):e.text==="\\prime"?new Ke.MathNode("mo",[n]):new Ke.MathNode("mi",[n]),i!==ER[r.type]&&r.setAttribute("mathvariant",i),r}});var mk={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},yk={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};tc({type:"spacing",htmlBuilder(e,t){if(yk.hasOwnProperty(e.text)){var r=yk[e.text].className||"";if(e.mode==="text"){var n=Ie.makeOrd(e,t,"textord");return n.classes.push(r),n}return Ie.makeSpan(["mspace",r],[Ie.mathsym(e.text,e.mode,t)],t)}if(mk.hasOwnProperty(e.text))return Ie.makeSpan(["mspace",mk[e.text]],[],t);throw new et('Unknown type of space "'+e.text+'"')},mathmlBuilder(e,t){if(!yk.hasOwnProperty(e.text)){if(mk.hasOwnProperty(e.text))return new Ke.MathNode("mspace");throw new et('Unknown type of space "'+e.text+'"')}return new Ke.MathNode("mtext",[new Ke.TextNode("")])}});var CR=l(()=>{var e=new Ke.MathNode("mtd",[]);return e.setAttribute("width","50%"),e},"pad");tc({type:"tag",mathmlBuilder(e,t){var r=new Ke.MathNode("mtable",[new Ke.MathNode("mtr",[CR(),new Ke.MathNode("mtd",[Ul(e.body,t)]),CR(),new Ke.MathNode("mtd",[Ul(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});var SR={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},AR={"\\textbf":"textbf","\\textmd":"textmd"},kye={"\\textit":"textit","\\textup":"textup"},LR=l((e,t)=>{var r=e.font;return r?SR[r]?t.withTextFontFamily(SR[r]):AR[r]?t.withTextFontWeight(AR[r]):r==="\\emph"?t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit"):t.withTextFontShape(kye[r]):t},"optionsWithFont");dt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"text",mode:r.mode,body:vn(i),font:n}},htmlBuilder(e,t){var r=LR(e,t),n=$n(e.body,r,!0);return Ie.makeSpan(["mord","text"],n,r)},mathmlBuilder(e,t){var r=LR(e,t);return Ul(e.body,r)}}),dt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=ur(e.body,t),n=Ie.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,a=Ie.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},t);return Ie.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(e,t){var r=new Ke.MathNode("mo",[new Ke.TextNode("")]);r.setAttribute("stretchy","true");var n=new Ke.MathNode("munder",[Rr(e.body,t),r]);return n.setAttribute("accentunder","true"),n}}),dt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=ur(e.body,t),n=t.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return Ie.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},t)},mathmlBuilder:(e,t)=>new Ke.MathNode("mpadded",[Rr(e.body,t)],["vcenter"])}),dt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new et("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=NR(e),n=[],i=t.havingStyle(t.style.text()),a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),n.push(Ie.makeSymbol(s,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return Ie.makeSpan(["mord","text"].concat(i.sizingClasses(t)),Ie.tryCombineChars(n),i)},mathmlBuilder(e,t){var r=new Ke.TextNode(NR(e)),n=new Ke.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var NR=l(e=>e.body.replace(/ /g,e.star?"":""),"makeVerb"),Rl=a3,Tye=new RegExp("[-]+$"),up,IR=(up=class{constructor(t,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=r,this.tokenRegex=new RegExp(`([ \r
	]+)|\\\\(
|[ \r	]+
?)[ \r	]*|([!-\\[\\]---][-]*|[\uD800-\uDBFF][\uDC00-\uDFFF][-]*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|(\\\\[a-zA-Z@]+)[ \r
	]*|\\\\[^\uD800-\uDFFF])`,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,r){this.catcodes[t]=r}lex(){var t=this.input,r=this.tokenRegex.lastIndex;if(r===t.length)return new io("EOF",new ys(this,r,r));var n=this.tokenRegex.exec(t);if(n===null||n.index!==r)throw new et("Unexpected character: '"+t[r]+"'",new io(t[r],new ys(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=t.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new io(i,new ys(this,r,this.tokenRegex.lastIndex))}},l(up,"Lexer"),up),hp,_ye=(hp=class{constructor(t,r){t===void 0&&(t={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new et("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var r in t)t.hasOwnProperty(r)&&(t[r]==null?delete this.current[r]:this.current[r]=t[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=r)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(t)&&(a[t]=this.current[t])}r==null?delete this.current[t]:this.current[t]=r}},l(hp,"Namespace"),hp),Eye=b3;ae("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}}),ae("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}}),ae("\\@firstoftwo",function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}}),ae("\\@secondoftwo",function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}}),ae("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return t[0].length===1&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),ae("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),ae("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var MR={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ae("\\char",function(e){var t,r=e.popToken(),n="";if(r.text==="'")t=8,r=e.popToken();else if(r.text==='"')t=16,r=e.popToken();else if(r.text==="`")if((r=e.popToken()).text[0]==="\\")n=r.text.charCodeAt(1);else{if(r.text==="EOF")throw new et("\\char` missing argument");n=r.text.charCodeAt(0)}else t=10;if(t){if((n=MR[r.text])==null||n>=t)throw new et("Invalid base-"+t+" digit "+r.text);for(var i;(i=MR[e.future().text])!=null&&i<t;)n*=t,n+=i,e.popToken()}return"\\@char{"+n+"}"});var vk=l((e,t,r)=>{var n=e.consumeArg().tokens;if(n.length!==1)throw new et("\\newcommand's first argument must be a macro name");var i=n[0].text,a=e.isDefined(i);if(a&&!t)throw new et("\\newcommand{"+i+"} attempting to redefine "+i+"; use \\renewcommand");if(!a&&!r)throw new et("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if((n=e.consumeArg().tokens).length===1&&n[0].text==="["){for(var o="",u=e.expandNextToken();u.text!=="]"&&u.text!=="EOF";)o+=u.text,u=e.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new et("Invalid number of arguments: "+o);s=parseInt(o),n=e.consumeArg().tokens}return e.macros.set(i,{tokens:n,numArgs:s}),""},"newcommand");ae("\\newcommand",e=>vk(e,!1,!0)),ae("\\renewcommand",e=>vk(e,!0,!1)),ae("\\providecommand",e=>vk(e,!0,!0)),ae("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(r=>r.text).join("")),""}),ae("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(r=>r.text).join("")),""}),ae("\\show",e=>{var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),Rl[r],Ur.math[r],Ur.text[r]),""}),ae("\\bgroup","{"),ae("\\egroup","}"),ae("~","\\nobreakspace"),ae("\\lq","`"),ae("\\rq","'"),ae("\\aa","\\r a"),ae("\\AA","\\r A"),ae("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),ae("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),ae("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),ae("","\\mathscr{B}"),ae("","\\mathscr{E}"),ae("","\\mathscr{F}"),ae("","\\mathscr{H}"),ae("","\\mathscr{I}"),ae("","\\mathscr{L}"),ae("","\\mathscr{M}"),ae("","\\mathscr{R}"),ae("","\\mathfrak{C}"),ae("","\\mathfrak{H}"),ae("","\\mathfrak{Z}"),ae("\\Bbbk","\\Bbb{k}"),ae("","\\cdotp"),ae("\\llap","\\mathllap{\\textrm{#1}}"),ae("\\rlap","\\mathrlap{\\textrm{#1}}"),ae("\\clap","\\mathclap{\\textrm{#1}}"),ae("\\mathstrut","\\vphantom{(}"),ae("\\underbar","\\underline{\\text{#1}}"),ae("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),ae("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),ae("\\ne","\\neq"),ae("","\\neq"),ae("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),ae("","\\notin"),ae("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),ae("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),ae("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),ae("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),ae("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),ae("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),ae("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),ae("","\\perp"),ae("","\\mathclose{!\\mkern-0.8mu!}"),ae("","\\notni"),ae("","\\ulcorner"),ae("","\\urcorner"),ae("","\\llcorner"),ae("","\\lrcorner"),ae("","\\copyright"),ae("","\\textregistered"),ae("","\\textregistered"),ae("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),ae("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),ae("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),ae("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),ae("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),ae("","\\vdots"),ae("\\varGamma","\\mathit{\\Gamma}"),ae("\\varDelta","\\mathit{\\Delta}"),ae("\\varTheta","\\mathit{\\Theta}"),ae("\\varLambda","\\mathit{\\Lambda}"),ae("\\varXi","\\mathit{\\Xi}"),ae("\\varPi","\\mathit{\\Pi}"),ae("\\varSigma","\\mathit{\\Sigma}"),ae("\\varUpsilon","\\mathit{\\Upsilon}"),ae("\\varPhi","\\mathit{\\Phi}"),ae("\\varPsi","\\mathit{\\Psi}"),ae("\\varOmega","\\mathit{\\Omega}"),ae("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),ae("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),ae("\\boxed","\\fbox{$\\displaystyle{#1}$}"),ae("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),ae("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),ae("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var RR={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ae("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in RR?t=RR[r]:(r.slice(0,4)==="\\not"||r in Ur.math&&Mt.contains(["bin","rel"],Ur.math[r].group))&&(t="\\dotsb"),t});var xk={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ae("\\dotso",function(e){return e.future().text in xk?"\\ldots\\,":"\\ldots"}),ae("\\dotsc",function(e){var t=e.future().text;return t in xk&&t!==","?"\\ldots\\,":"\\ldots"}),ae("\\cdots",function(e){return e.future().text in xk?"\\@cdots\\,":"\\@cdots"}),ae("\\dotsb","\\cdots"),ae("\\dotsm","\\cdots"),ae("\\dotsi","\\!\\cdots"),ae("\\dotsx","\\ldots\\,"),ae("\\DOTSI","\\relax"),ae("\\DOTSB","\\relax"),ae("\\DOTSX","\\relax"),ae("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),ae("\\,","\\tmspace+{3mu}{.1667em}"),ae("\\thinspace","\\,"),ae("\\>","\\mskip{4mu}"),ae("\\:","\\tmspace+{4mu}{.2222em}"),ae("\\medspace","\\:"),ae("\\;","\\tmspace+{5mu}{.2777em}"),ae("\\thickspace","\\;"),ae("\\!","\\tmspace-{3mu}{.1667em}"),ae("\\negthinspace","\\!"),ae("\\negmedspace","\\tmspace-{4mu}{.2222em}"),ae("\\negthickspace","\\tmspace-{5mu}{.277em}"),ae("\\enspace","\\kern.5em "),ae("\\enskip","\\hskip.5em\\relax"),ae("\\quad","\\hskip1em\\relax"),ae("\\qquad","\\hskip2em\\relax"),ae("\\tag","\\@ifstar\\tag@literal\\tag@paren"),ae("\\tag@paren","\\tag@literal{({#1})}"),ae("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new et("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),ae("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),ae("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),ae("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),ae("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),ae("\\newline","\\\\\\relax"),ae("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var DR=it(Qs["Main-Regular"][84][1]-.7*Qs["Main-Regular"][65][1]);ae("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+DR+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),ae("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+DR+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),ae("\\hspace","\\@ifstar\\@hspacer\\@hspace"),ae("\\@hspace","\\hskip #1\\relax"),ae("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),ae("\\ordinarycolon",":"),ae("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),ae("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),ae("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),ae("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),ae("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),ae("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),ae("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),ae("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),ae("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),ae("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),ae("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),ae("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),ae("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),ae("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),ae("","\\dblcolon"),ae("","\\eqcolon"),ae("","\\coloneqq"),ae("","\\eqqcolon"),ae("","\\Coloneqq"),ae("\\ratio","\\vcentcolon"),ae("\\coloncolon","\\dblcolon"),ae("\\colonequals","\\coloneqq"),ae("\\coloncolonequals","\\Coloneqq"),ae("\\equalscolon","\\eqqcolon"),ae("\\equalscoloncolon","\\Eqqcolon"),ae("\\colonminus","\\coloneq"),ae("\\coloncolonminus","\\Coloneq"),ae("\\minuscolon","\\eqcolon"),ae("\\minuscoloncolon","\\Eqcolon"),ae("\\coloncolonapprox","\\Colonapprox"),ae("\\coloncolonsim","\\Colonsim"),ae("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ae("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ae("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ae("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ae("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),ae("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),ae("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),ae("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),ae("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),ae("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),ae("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),ae("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),ae("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),ae("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),ae("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),ae("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),ae("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),ae("\\nleqq","\\html@mathml{\\@nleqq}{}"),ae("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),ae("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),ae("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),ae("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),ae("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),ae("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),ae("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),ae("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),ae("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),ae("\\imath","\\html@mathml{\\@imath}{}"),ae("\\jmath","\\html@mathml{\\@jmath}{}"),ae("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),ae("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),ae("","\\llbracket"),ae("","\\rrbracket"),ae("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),ae("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),ae("","\\lBrace"),ae("","\\rBrace"),ae("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),ae("","\\minuso"),ae("\\darr","\\downarrow"),ae("\\dArr","\\Downarrow"),ae("\\Darr","\\Downarrow"),ae("\\lang","\\langle"),ae("\\rang","\\rangle"),ae("\\uarr","\\uparrow"),ae("\\uArr","\\Uparrow"),ae("\\Uarr","\\Uparrow"),ae("\\N","\\mathbb{N}"),ae("\\R","\\mathbb{R}"),ae("\\Z","\\mathbb{Z}"),ae("\\alef","\\aleph"),ae("\\alefsym","\\aleph"),ae("\\Alpha","\\mathrm{A}"),ae("\\Beta","\\mathrm{B}"),ae("\\bull","\\bullet"),ae("\\Chi","\\mathrm{X}"),ae("\\clubs","\\clubsuit"),ae("\\cnums","\\mathbb{C}"),ae("\\Complex","\\mathbb{C}"),ae("\\Dagger","\\ddagger"),ae("\\diamonds","\\diamondsuit"),ae("\\empty","\\emptyset"),ae("\\Epsilon","\\mathrm{E}"),ae("\\Eta","\\mathrm{H}"),ae("\\exist","\\exists"),ae("\\harr","\\leftrightarrow"),ae("\\hArr","\\Leftrightarrow"),ae("\\Harr","\\Leftrightarrow"),ae("\\hearts","\\heartsuit"),ae("\\image","\\Im"),ae("\\infin","\\infty"),ae("\\Iota","\\mathrm{I}"),ae("\\isin","\\in"),ae("\\Kappa","\\mathrm{K}"),ae("\\larr","\\leftarrow"),ae("\\lArr","\\Leftarrow"),ae("\\Larr","\\Leftarrow"),ae("\\lrarr","\\leftrightarrow"),ae("\\lrArr","\\Leftrightarrow"),ae("\\Lrarr","\\Leftrightarrow"),ae("\\Mu","\\mathrm{M}"),ae("\\natnums","\\mathbb{N}"),ae("\\Nu","\\mathrm{N}"),ae("\\Omicron","\\mathrm{O}"),ae("\\plusmn","\\pm"),ae("\\rarr","\\rightarrow"),ae("\\rArr","\\Rightarrow"),ae("\\Rarr","\\Rightarrow"),ae("\\real","\\Re"),ae("\\reals","\\mathbb{R}"),ae("\\Reals","\\mathbb{R}"),ae("\\Rho","\\mathrm{P}"),ae("\\sdot","\\cdot"),ae("\\sect","\\S"),ae("\\spades","\\spadesuit"),ae("\\sub","\\subset"),ae("\\sube","\\subseteq"),ae("\\supe","\\supseteq"),ae("\\Tau","\\mathrm{T}"),ae("\\thetasym","\\vartheta"),ae("\\weierp","\\wp"),ae("\\Zeta","\\mathrm{Z}"),ae("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),ae("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),ae("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),ae("\\bra","\\mathinner{\\langle{#1}|}"),ae("\\ket","\\mathinner{|{#1}\\rangle}"),ae("\\braket","\\mathinner{\\langle{#1}\\rangle}"),ae("\\Bra","\\left\\langle#1\\right|"),ae("\\Ket","\\left|#1\\right\\rangle");var OR=l(e=>t=>{var r=t.consumeArg().tokens,n=t.consumeArg().tokens,i=t.consumeArg().tokens,a=t.consumeArg().tokens,s=t.macros.get("|"),o=t.macros.get("\\|");t.macros.beginGroup();var u=l(p=>f=>{e&&(f.macros.set("|",s),i.length&&f.macros.set("\\|",o));var g=p;return!p&&i.length&&f.future().text==="|"&&(f.popToken(),g=!0),{tokens:g?i:n,numArgs:0}},"midMacro");t.macros.set("|",u(!1)),i.length&&t.macros.set("\\|",u(!0));var h=t.consumeArg().tokens,d=t.expandTokens([...a,...h,...r]);return t.macros.endGroup(),{tokens:d.reverse(),numArgs:0}},"braketHelper");ae("\\bra@ket",OR(!1)),ae("\\bra@set",OR(!0)),ae("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),ae("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),ae("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),ae("\\angln","{\\angl n}"),ae("\\blue","\\textcolor{##6495ed}{#1}"),ae("\\orange","\\textcolor{##ffa500}{#1}"),ae("\\pink","\\textcolor{##ff00af}{#1}"),ae("\\red","\\textcolor{##df0030}{#1}"),ae("\\green","\\textcolor{##28ae7b}{#1}"),ae("\\gray","\\textcolor{gray}{#1}"),ae("\\purple","\\textcolor{##9d38bd}{#1}"),ae("\\blueA","\\textcolor{##ccfaff}{#1}"),ae("\\blueB","\\textcolor{##80f6ff}{#1}"),ae("\\blueC","\\textcolor{##63d9ea}{#1}"),ae("\\blueD","\\textcolor{##11accd}{#1}"),ae("\\blueE","\\textcolor{##0c7f99}{#1}"),ae("\\tealA","\\textcolor{##94fff5}{#1}"),ae("\\tealB","\\textcolor{##26edd5}{#1}"),ae("\\tealC","\\textcolor{##01d1c1}{#1}"),ae("\\tealD","\\textcolor{##01a995}{#1}"),ae("\\tealE","\\textcolor{##208170}{#1}"),ae("\\greenA","\\textcolor{##b6ffb0}{#1}"),ae("\\greenB","\\textcolor{##8af281}{#1}"),ae("\\greenC","\\textcolor{##74cf70}{#1}"),ae("\\greenD","\\textcolor{##1fab54}{#1}"),ae("\\greenE","\\textcolor{##0d923f}{#1}"),ae("\\goldA","\\textcolor{##ffd0a9}{#1}"),ae("\\goldB","\\textcolor{##ffbb71}{#1}"),ae("\\goldC","\\textcolor{##ff9c39}{#1}"),ae("\\goldD","\\textcolor{##e07d10}{#1}"),ae("\\goldE","\\textcolor{##a75a05}{#1}"),ae("\\redA","\\textcolor{##fca9a9}{#1}"),ae("\\redB","\\textcolor{##ff8482}{#1}"),ae("\\redC","\\textcolor{##f9685d}{#1}"),ae("\\redD","\\textcolor{##e84d39}{#1}"),ae("\\redE","\\textcolor{##bc2612}{#1}"),ae("\\maroonA","\\textcolor{##ffbde0}{#1}"),ae("\\maroonB","\\textcolor{##ff92c6}{#1}"),ae("\\maroonC","\\textcolor{##ed5fa6}{#1}"),ae("\\maroonD","\\textcolor{##ca337c}{#1}"),ae("\\maroonE","\\textcolor{##9e034e}{#1}"),ae("\\purpleA","\\textcolor{##ddd7ff}{#1}"),ae("\\purpleB","\\textcolor{##c6b9fc}{#1}"),ae("\\purpleC","\\textcolor{##aa87ff}{#1}"),ae("\\purpleD","\\textcolor{##7854ab}{#1}"),ae("\\purpleE","\\textcolor{##543b78}{#1}"),ae("\\mintA","\\textcolor{##f5f9e8}{#1}"),ae("\\mintB","\\textcolor{##edf2df}{#1}"),ae("\\mintC","\\textcolor{##e0e5cc}{#1}"),ae("\\grayA","\\textcolor{##f6f7f7}{#1}"),ae("\\grayB","\\textcolor{##f0f1f2}{#1}"),ae("\\grayC","\\textcolor{##e3e5e6}{#1}"),ae("\\grayD","\\textcolor{##d6d8da}{#1}"),ae("\\grayE","\\textcolor{##babec2}{#1}"),ae("\\grayF","\\textcolor{##888d93}{#1}"),ae("\\grayG","\\textcolor{##626569}{#1}"),ae("\\grayH","\\textcolor{##3b3e40}{#1}"),ae("\\grayI","\\textcolor{##21242c}{#1}"),ae("\\kaBlue","\\textcolor{##314453}{#1}"),ae("\\kaGreen","\\textcolor{##71B307}{#1}");var C3={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},dp,Cye=(dp=class{constructor(t,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(t),this.macros=new _ye(Eye,r.macros),this.mode=n,this.stack=[]}feed(t){this.lexer=new IR(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var r,n,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new io("EOF",n.loc)),this.pushTokens(i),r.range(n,"")}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(t){var r=[],n=t&&t.length>0;n||this.consumeSpaces();var i,a=this.future(),s=0,o=0;do{if(i=this.popToken(),r.push(i),i.text==="{")++s;else if(i.text==="}"){if(--s===-1)throw new et("Extra }",i)}else if(i.text==="EOF")throw new et("Unexpected end of input in a macro argument, expected '"+(t&&n?t[o]:"}")+"'",i);if(t&&n)if((s===0||s===1&&t[o]==="{")&&i.text===t[o]){if(++o===t.length){r.splice(-o,o);break}}else o=0}while(s!==0||n);return a.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:a,end:i}}consumeArgs(t,r){if(r){if(r.length!==t+1)throw new et("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var a=this.popToken();if(n[i]!==a.text)throw new et("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<t;o++)s.push(this.consumeArg(r&&r[o+1]).tokens);return s}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new et("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||t&&i.unexpandable){if(t&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new et("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs)for(var o=(a=a.slice()).length-1;o>=0;--o){var u=a[o];if(u.text==="#"){if(o===0)throw new et("Incomplete placeholder at end of macro body",u);if((u=a[--o]).text==="#")a.splice(o+1,1);else{if(!/^[1-9]$/.test(u.text))throw new et("Not a valid argument number",u);a.splice(o,2,...s[+u.text-1])}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new io(t)]):void 0}expandTokens(t){var r=[],n=this.stack.length;for(this.pushTokens(t);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(t){var r=this.expandMacro(t);return r&&r.map(n=>n.text).join("")}_getExpansion(t){var r=this.macros.get(t);if(r==null)return r;if(t.length===1){var n=this.lexer.catcodes[t];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new IR(i,this.settings),u=[],h=o.lex();h.text!=="EOF";)u.push(h),h=o.lex();return u.reverse(),{tokens:u,numArgs:a}}return i}isDefined(t){return this.macros.has(t)||Rl.hasOwnProperty(t)||Ur.math.hasOwnProperty(t)||Ur.text.hasOwnProperty(t)||C3.hasOwnProperty(t)}isExpandable(t){var r=this.macros.get(t);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Rl.hasOwnProperty(t)&&!Rl[t].primitive}},l(dp,"MacroExpander"),dp),PR=/^[]/,$v=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),bk={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},BR={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ku,S3=(ku=class{constructor(t,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Cye(t,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(t,r){if(r===void 0&&(r=!0),this.fetch().text!==t)throw new et("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var r=this.nextToken;this.consume(),this.gullet.pushToken(new io("}")),this.gullet.pushTokens(t);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(t,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(ku.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||t&&Rl[i.text]&&Rl[i.text].infix)break;var a=this.parseAtom(r);if(!a)break;a.type!=="internal"&&n.push(a)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(t){for(var r,n=-1,i=0;i<t.length;i++)if(t[i].type==="infix"){if(n!==-1)throw new et("only one infix operator per group",t[i].token);n=i,r=t[i].replaceWith}if(n!==-1&&r){var a,s,o=t.slice(0,n),u=t.slice(n+1);return a=o.length===1&&o[0].type==="ordgroup"?o[0]:{type:"ordgroup",mode:this.mode,body:o},s=u.length===1&&u[0].type==="ordgroup"?u[0]:{type:"ordgroup",mode:this.mode,body:u},[r==="\\\\abovefrac"?this.callFunction(r,[a,t[n],s],[]):this.callFunction(r,[a,s],[])]}return t}handleSupSubscript(t){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(t);if(!i)throw new et("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(t){for(var r=[],n=0;n<t.length;n++)r.push({type:"textord",mode:"text",text:t[n]});var i={type:"text",mode:this.mode,body:r};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]}}parseAtom(t){var r,n,i=this.parseGroup("atom",t);if(this.mode==="text")return i;for(;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(i&&i.type==="op"){var s=a.text==="\\limits";i.limits=s,i.alwaysHandleSupSub=!0}else{if(!i||i.type!=="operatorname")throw new et("Limit controls must follow a math operator",a);i.alwaysHandleSupSub&&(i.limits=a.text==="\\limits")}this.consume()}else if(a.text==="^"){if(r)throw new et("Double superscript",a);r=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(n)throw new et("Double subscript",a);n=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(r)throw new et("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},u=[o];for(this.consume();this.fetch().text==="'";)u.push(o),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:u}}else{if(!$v[a.text])break;var h=PR.test(a.text),d=[];for(d.push(new io($v[a.text])),this.consume();;){var p=this.fetch().text;if(!$v[p]||PR.test(p)!==h)break;d.unshift(new io($v[p])),this.consume()}var f=this.subparse(d);h?n={type:"ordgroup",mode:"math",body:f}:r={type:"ordgroup",mode:"math",body:f}}}return r||n?{type:"supsub",mode:this.mode,base:i,sup:r,sub:n}:i}parseFunction(t,r){var n=this.fetch(),i=n.text,a=Rl[i];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new et("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!a.allowedInText)throw new et("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&a.allowedInMath===!1)throw new et("Can't use function '"+i+"' in math mode",n);var{args:s,optArgs:o}=this.parseArguments(i,a);return this.callFunction(i,s,o,n,t)}callFunction(t,r,n,i,a){var s={funcName:t,parser:this,token:i,breakOnTokenText:a},o=Rl[t];if(o&&o.handler)return o.handler(s,r,n);throw new et("No function handler for "+t)}parseArguments(t,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<n;s++){var o=r.argTypes&&r.argTypes[s],u=s<r.numOptionalArgs;(r.primitive&&o==null||r.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var h=this.parseGroupOfType("argument to '"+t+"'",o,u);if(u)a.push(h);else{if(h==null)throw new et("Null argument, please report this as a bug");i.push(h)}}return{args:i,optArgs:a}}parseGroupOfType(t,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null;case"raw":var a=this.parseStringGroup("raw",n);return a!=null?{type:"raw",mode:"text",string:a.text}:null;case"primitive":if(n)throw new et("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new et("Expected group as "+t,this.fetch());return s;case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new et("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i,a="";(i=this.fetch()).text!=="EOF";)a+=i.text,this.consume();return this.consume(),n.text=a,n}parseRegexGroup(t,r){for(var n,i=this.fetch(),a=i,s="";(n=this.fetch()).text!=="EOF"&&t.test(s+n.text);)s+=(a=n).text,this.consume();if(s==="")throw new et("Invalid "+r+": '"+i.text+"'",i);return i.range(a,s)}parseColorGroup(t){var r=this.parseStringGroup("color",t);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new et("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var r,n=!1;if(this.gullet.consumeSpaces(),!(r=t||this.gullet.future().text==="{"?this.parseStringGroup("size",t):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;t||r.text.length!==0||(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new et("Invalid size: '"+r.text+"'",r);var a={number:+(i[1]+i[2]),unit:i[3]};if(!XX(a))throw new et("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:n}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(t,r){var n=this.gullet.scanArgument(t);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:n.loc,body:a};return r&&this.switchMode(i),s}parseGroup(t,r){var n,i=this.fetch(),a=i.text;if(a==="{"||a==="\\begingroup"){this.consume();var s=a==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),u=this.fetch();this.expect(s),this.gullet.endGroup(),n={type:"ordgroup",mode:this.mode,loc:ys.range(i,u),body:o,semisimple:a==="\\begingroup"||void 0}}else if((n=this.parseFunction(r,t)||this.parseSymbol())==null&&a[0]==="\\"&&!C3.hasOwnProperty(a)){if(this.settings.throwOnError)throw new et("Undefined control sequence: "+a,i);n=this.formatUnsupportedCmd(a),this.consume()}return n}formLigatures(t){for(var r=t.length-1,n=0;n<r;++n){var i=t[n],a=i.text;a==="-"&&t[n+1].text==="-"&&(n+1<r&&t[n+2].text==="-"?(t.splice(n,3,{type:"textord",mode:"text",loc:ys.range(i,t[n+2]),text:"---"}),r-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:ys.range(i,t[n+1]),text:"--"}),r-=1)),a!=="'"&&a!=="`"||t[n+1].text!==a||(t.splice(n,2,{type:"textord",mode:"text",loc:ys.range(i,t[n+1]),text:a+a}),r-=1)}}parseSymbol(){var t=this.fetch(),r=t.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new et(`\\verb assertion failed --
                    please report what input caused this bug`);return{type:"verb",mode:"text",body:n=n.slice(1,-1),star:i}}BR.hasOwnProperty(r[0])&&!Ur[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',t),r=BR[r[0]]+r.slice(1));var a,s=Tye.exec(r);if(s&&((r=r.substring(0,s.index))==="i"?r="":r==="j"&&(r="")),Ur[this.mode][r]){this.settings.strict&&this.mode==="math"&&"".indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',t);var o,u=Ur[this.mode][r].group,h=ys.range(t);if(kme.hasOwnProperty(u)){var d=u;o={type:"atom",mode:this.mode,family:d,loc:h,text:r}}else o={type:u,mode:this.mode,loc:h,text:r};a=o}else{if(!(r.charCodeAt(0)>=128))return null;this.settings.strict&&(mA(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'" ('+r.charCodeAt(0)+")",t)),a={type:"textord",mode:"text",loc:ys.range(t),text:r}}if(this.consume(),s)for(var p=0;p<s[0].length;p++){var f=s[0][p];if(!bk[f])throw new et("Unknown accent ' "+f+"'",t);var g=bk[f][this.mode]||bk[f].text;if(!g)throw new et("Accent "+f+" unsupported in "+this.mode+" mode",t);a={type:"accent",mode:this.mode,loc:ys.range(t),label:g,isStretchy:!1,isShifty:!0,base:a}}return a}},l(ku,"Parser"),ku);S3.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var TA=l(function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new S3(e,t);delete r.gullet.macros.current["\\df@tag"];var n=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new et("\\tag works only in display equations");n=[{type:"tag",mode:"text",body:n,tag:r.subparse([new io("\\df@tag")])}]}return n},"parseTree"),A3=l(function(e,t,r){t.textContent="";var n=_A(e,r).toNode();t.appendChild(n)},"render");typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),A3=l(function(){throw new et("KaTeX doesn't work in quirks mode.")},"render"));var Sye=l(function(e,t){return _A(e,t).toMarkup()},"renderToString"),Aye=l(function(e,t){var r=new gA(t);return TA(e,r)},"generateParseTree"),L3=l(function(e,t,r){if(r.throwOnError||!(e instanceof et))throw e;var n=Ie.makeSpan(["katex-error"],[new ss(t)]);return n.setAttribute("title",e.toString()),n.setAttribute("style","color:"+r.errorColor),n},"renderError"),_A=l(function(e,t){var r=new gA(t);try{var n=TA(e,r);return Yme(n,e,r)}catch(i){return L3(i,e,r)}},"renderToDomTree"),Lye=l(function(e,t){var r=new gA(t);try{var n=TA(e,r);return Wme(n,e,r)}catch(i){return L3(i,e,r)}},"renderToHTMLTree"),Nye={version:"0.16.11",render:A3,renderToString:Sye,ParseError:et,SETTINGS_SCHEMA:Dx,__parse:Aye,__renderToDomTree:_A,__renderToHTMLTree:Lye,__setFontMetrics:WX,__defineSymbol:F,__defineFunction:dt,__defineMacro:ae,__domTree:{Span:O2,Anchor:yA,SymbolNode:ss,SvgNode:jo,PathNode:ec,LineNode:Y_}},Iye=Object.freeze({__proto__:null,default:Nye});function N3(e){return Os(e)?FW(e):uA(e)}l(N3,"keys");var On=N3;function I3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}l(I3,"arrayEach");var M3=I3;function R3(e,t){return e&&k0(t,On(t),e)}l(R3,"baseAssign");var Mye=R3;function D3(e,t){return e&&k0(t,dh(t),e)}l(D3,"baseAssignIn");var Rye=D3;function O3(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}l(O3,"arrayFilter");var EA=O3;function P3(){return[]}l(P3,"stubArray");var B3=P3,Dye=Object.prototype.propertyIsEnumerable,$R=Object.getOwnPropertySymbols,Oye=$R?function(e){return e==null?[]:(e=Object(e),EA($R(e),function(t){return Dye.call(e,t)}))}:B3,CA=Oye;function $3(e,t){return k0(e,CA(e),t)}l($3,"copySymbols");var Pye=$3;function F3(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}l(F3,"arrayPush");var SA=F3,Bye=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)SA(t,CA(e)),e=P8(e);return t}:B3,z3=Bye;function U3(e,t){return k0(e,z3(e),t)}l(U3,"copySymbolsIn");var $ye=U3;function G3(e,t,r){var n=t(e);return Jt(e)?n:SA(n,r(e))}l(G3,"baseGetAllKeys");var q3=G3;function j3(e){return q3(e,On,CA)}l(j3,"getAllKeys");var rE=j3;function Y3(e){return q3(e,dh,z3)}l(Y3,"getAllKeysIn");var W3=Y3,Fye=Object.prototype.hasOwnProperty;function H3(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Fye.call(e,"index")&&(r.index=e.index,r.input=e.input),r}l(H3,"initCloneArray");var zye=H3;function V3(e,t){var r=t?O8(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}l(V3,"cloneDataView");var Uye=V3,Gye=/\w*$/;function X3(e){var t=new e.constructor(e.source,Gye.exec(e));return t.lastIndex=e.lastIndex,t}l(X3,"cloneRegExp");var qye=X3,FR=rs?rs.prototype:void 0,zR=FR?FR.valueOf:void 0;function K3(e){return zR?Object(zR.call(e)):{}}l(K3,"cloneSymbol");var jye=K3;function Z3(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return O8(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return Uye(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return dW(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return qye(e);case"[object Symbol]":return jye(e)}}l(Z3,"initCloneByTag");var Yye=Z3;function Q3(e){return is(e)&&Vu(e)=="[object Map]"}l(Q3,"baseIsMap");var Wye=Q3,UR=Zl&&Zl.isMap,Hye=UR?w0(UR):Wye;function J3(e){return is(e)&&Vu(e)=="[object Set]"}l(J3,"baseIsSet");var Vye=J3,GR=Zl&&Zl.isSet,Xye=GR?w0(GR):Vye,Fr={};function Jm(e,t,r,n,i,a){var s,o=1&t,u=2&t,h=4&t;if(r&&(s=i?r(e,n,i,a):r(e)),s!==void 0)return s;if(!la(e))return e;var d=Jt(e);if(d){if(s=zye(e),!o)return fW(e,s)}else{var p=Vu(e),f=p=="[object Function]"||p=="[object GeneratorFunction]";if(Kg(e))return cW(e,o);if(p=="[object Object]"||p=="[object Arguments]"||f&&!i){if(s=u||f?{}:xW(e),!o)return u?$ye(e,Rye(s,e)):Pye(e,Mye(s,e))}else{if(!Fr[p])return i?e:{};s=Yye(e,p,o)}}a||(a=new gd);var g=a.get(e);if(g)return g;a.set(e,s),Xye(e)?e.forEach(function(y){s.add(Jm(y,t,r,y,e,a))}):Hye(e)&&e.forEach(function(y,v){s.set(v,Jm(y,t,r,v,e,a))});var m=d?void 0:(h?u?W3:rE:u?dh:On)(e);return M3(m||e,function(y,v){m&&(y=e[v=y]),L2(s,v,Jm(y,t,r,v,e,a))}),s}Fr["[object Arguments]"]=Fr["[object Array]"]=Fr["[object ArrayBuffer]"]=Fr["[object DataView]"]=Fr["[object Boolean]"]=Fr["[object Date]"]=Fr["[object Float32Array]"]=Fr["[object Float64Array]"]=Fr["[object Int8Array]"]=Fr["[object Int16Array]"]=Fr["[object Int32Array]"]=Fr["[object Map]"]=Fr["[object Number]"]=Fr["[object Object]"]=Fr["[object RegExp]"]=Fr["[object Set]"]=Fr["[object String]"]=Fr["[object Symbol]"]=Fr["[object Uint8Array]"]=Fr["[object Uint8ClampedArray]"]=Fr["[object Uint16Array]"]=Fr["[object Uint32Array]"]=!0,Fr["[object Error]"]=Fr["[object Function]"]=Fr["[object WeakMap]"]=!1,l(Jm,"baseClone");var eK=Jm;function tK(e){return eK(e,4)}l(tK,"clone");var Un=tK,rK=Object.prototype,Kye=rK.hasOwnProperty,Zye=N2(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&Hu(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],s=dh(a),o=-1,u=s.length;++o<u;){var h=s[o],d=e[h];(d===void 0||b0(d,rK[h])&&!Kye.call(e,h))&&(e[h]=a[h])}return e}),p6=Zye;function nK(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}l(nK,"last");var lo=nK;function iK(e,t){return e&&D8(e,t,On)}l(iK,"baseForOwn");var AA=iK;function aK(e,t){return function(r,n){if(r==null)return r;if(!Os(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}l(aK,"createBaseEach");var fh=aK(AA);function sK(e){return typeof e=="function"?e:Uo}l(sK,"castFunction");var LA=sK;function oK(e,t){return(Jt(e)?M3:fh)(e,LA(t))}l(oK,"forEach");var Le=oK;function lK(e,t){var r=[];return fh(e,function(n,i,a){t(n,i,a)&&r.push(n)}),r}l(lK,"baseFilter");var cK=lK;function uK(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}l(uK,"setCacheAdd");var Qye=uK;function hK(e){return this.__data__.has(e)}l(hK,"setCacheHas");var Jye=hK;function vm(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Z5;++t<r;)this.add(e[t])}l(vm,"SetCache"),vm.prototype.add=vm.prototype.push=Qye,vm.prototype.has=Jye;var NA=vm;function dK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}l(dK,"arraySome");var pK=dK;function fK(e,t){return e.has(t)}l(fK,"cacheHas");var IA=fK;function gK(e,t,r,n,i,a){var s=1&r,o=e.length,u=t.length;if(o!=u&&!(s&&u>o))return!1;var h=a.get(e),d=a.get(t);if(h&&d)return h==t&&d==e;var p=-1,f=!0,g=2&r?new NA:void 0;for(a.set(e,t),a.set(t,e);++p<o;){var m=e[p],y=t[p];if(n)var v=s?n(y,m,p,t,e,a):n(m,y,p,e,t,a);if(v!==void 0){if(v)continue;f=!1;break}if(g){if(!pK(t,function(x,b){if(!IA(g,b)&&(m===x||i(m,x,r,n,a)))return g.push(b)})){f=!1;break}}else if(m!==y&&!i(m,y,r,n,a)){f=!1;break}}return a.delete(e),a.delete(t),f}l(gK,"equalArrays");var mK=gK;function yK(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}l(yK,"mapToArray");var e2e=yK;function vK(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}l(vK,"setToArray");var MA=vK,qR=rs?rs.prototype:void 0,wk=qR?qR.valueOf:void 0;function xK(e,t,r,n,i,a,s){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Zb(e),new Zb(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return b0(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var o=e2e;case"[object Set]":var u=1&n;if(o||(o=MA),e.size!=t.size&&!u)return!1;var h=s.get(e);if(h)return h==t;n|=2,s.set(e,t);var d=mK(o(e),o(t),n,i,a,s);return s.delete(e),d;case"[object Symbol]":if(wk)return wk.call(e)==wk.call(t)}return!1}l(xK,"equalByTag");var t2e=xK,r2e=Object.prototype.hasOwnProperty;function bK(e,t,r,n,i,a){var s=1&r,o=rE(e),u=o.length;if(u!=rE(t).length&&!s)return!1;for(var h=u;h--;){var d=o[h];if(!(s?d in t:r2e.call(t,d)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var g=!0;a.set(e,t),a.set(t,e);for(var m=s;++h<u;){var y=e[d=o[h]],v=t[d];if(n)var x=s?n(v,y,d,t,e,a):n(y,v,d,e,t,a);if(!(x===void 0?y===v||i(y,v,r,n,a):x)){g=!1;break}m||(m=d=="constructor")}if(g&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||typeof b=="function"&&b instanceof b&&typeof w=="function"&&w instanceof w||(g=!1)}return a.delete(e),a.delete(t),g}l(bK,"equalObjects");var n2e=bK,jR=Object.prototype.hasOwnProperty;function wK(e,t,r,n,i,a){var s=Jt(e),o=Jt(t),u=s?"[object Array]":Vu(e),h=o?"[object Array]":Vu(t),d=(u=u=="[object Arguments]"?"[object Object]":u)=="[object Object]",p=(h=h=="[object Arguments]"?"[object Object]":h)=="[object Object]",f=u==h;if(f&&Kg(e)){if(!Kg(t))return!1;s=!0,d=!1}if(f&&!d)return a||(a=new gd),s||J5(e)?mK(e,t,r,n,i,a):t2e(e,t,u,r,n,i,a);if(!(1&r)){var g=d&&jR.call(e,"__wrapped__"),m=p&&jR.call(t,"__wrapped__");if(g||m){var y=g?e.value():e,v=m?t.value():t;return a||(a=new gd),i(y,v,r,n,a)}}return!!f&&(a||(a=new gd),n2e(e,t,r,n,i,a))}l(wK,"baseIsEqualDeep");var i2e=wK;function RA(e,t,r,n,i){return e===t||(e==null||t==null||!is(e)&&!is(t)?e!=e&&t!=t:i2e(e,t,r,n,RA,i))}l(RA,"baseIsEqual");var kK=RA;function TK(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null)return!a;for(e=Object(e);i--;){var o=r[i];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){var u=(o=r[i])[0],h=e[u],d=o[1];if(s&&o[2]){if(h===void 0&&!(u in e))return!1}else{var p=new gd;if(n)var f=n(h,d,u,e,t,p);if(!(f===void 0?kK(d,h,3,n,p):f))return!1}}return!0}l(TK,"baseIsMatch");var a2e=TK;function _K(e){return e==e&&!la(e)}l(_K,"isStrictComparable");var EK=_K;function CK(e){for(var t=On(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,EK(i)]}return t}l(CK,"getMatchData");var s2e=CK;function SK(e,t){return function(r){return r!=null&&r[e]===t&&(t!==void 0||e in Object(r))}}l(SK,"matchesStrictComparable");var AK=SK;function LK(e){var t=s2e(e);return t.length==1&&t[0][2]?AK(t[0][0],t[0][1]):function(r){return r===e||a2e(r,e,t)}}l(LK,"baseMatches");var o2e=LK;function NK(e){return typeof e=="symbol"||is(e)&&al(e)=="[object Symbol]"}l(NK,"isSymbol");var Zu=NK,l2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c2e=/^\w*$/;function IK(e,t){if(Jt(e))return!1;var r=typeof e;return!(r!="number"&&r!="symbol"&&r!="boolean"&&e!=null&&!Zu(e))||c2e.test(e)||!l2e.test(e)||t!=null&&e in Object(t)}l(IK,"isKey");var DA=IK;function MK(e){var t=Q5(e,function(n){return r.size===500&&r.clear(),n}),r=t.cache;return t}l(MK,"memoizeCapped");var u2e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h2e=/\\(\\)?/g,d2e=MK(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(u2e,function(r,n,i,a){t.push(i?a.replace(h2e,"$1"):n||r)}),t}),p2e=d2e;function RK(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}l(RK,"arrayMap");var Gl=RK,YR=rs?rs.prototype:void 0,WR=YR?YR.toString:void 0;function OA(e){if(typeof e=="string")return e;if(Jt(e))return Gl(e,OA)+"";if(Zu(e))return WR?WR.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}l(OA,"baseToString");var f2e=OA;function DK(e){return e==null?"":f2e(e)}l(DK,"toString");var OK=DK;function PK(e,t){return Jt(e)?e:DA(e,t)?[e]:p2e(OK(e))}l(PK,"castPath");var f6=PK;function BK(e){if(typeof e=="string"||Zu(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}l(BK,"toKey");var P2=BK;function $K(e,t){for(var r=0,n=(t=f6(t,e)).length;e!=null&&r<n;)e=e[P2(t[r++])];return r&&r==n?e:void 0}l($K,"baseGet");var g6=$K;function FK(e,t,r){var n=e==null?void 0:g6(e,t);return n===void 0?r:n}l(FK,"get");var g2e=FK;function zK(e,t){return e!=null&&t in Object(e)}l(zK,"baseHasIn");var m2e=zK;function UK(e,t,r){for(var n=-1,i=(t=f6(t,e)).length,a=!1;++n<i;){var s=P2(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:!!(i=e==null?0:e.length)&&B8(i)&&e6(s,i)&&(Jt(e)||Xg(e))}l(UK,"hasPath");var GK=UK;function qK(e,t){return e!=null&&GK(e,t,m2e)}l(qK,"hasIn");var jK=qK;function YK(e,t){return DA(e)&&EK(t)?AK(P2(e),t):function(r){var n=g2e(r,e);return n===void 0&&n===t?jK(r,e):kK(t,n,3)}}l(YK,"baseMatchesProperty");var y2e=YK;function WK(e){return function(t){return t==null?void 0:t[e]}}l(WK,"baseProperty");var HK=WK;function VK(e){return function(t){return g6(t,e)}}l(VK,"basePropertyDeep");var v2e=VK;function XK(e){return DA(e)?HK(P2(e)):v2e(e)}l(XK,"property");var x2e=XK;function KK(e){return typeof e=="function"?e:e==null?Uo:typeof e=="object"?Jt(e)?y2e(e[0],e[1]):o2e(e):x2e(e)}l(KK,"baseIteratee");var pa=KK;function ZK(e,t){return(Jt(e)?EA:cK)(e,pa(t))}l(ZK,"filter");var un=ZK;function QK(e,t){var r=-1,n=Os(e)?Array(e.length):[];return fh(e,function(i,a,s){n[++r]=t(i,a,s)}),n}l(QK,"baseMap");var JK=QK;function eZ(e,t){return(Jt(e)?Gl:JK)(e,pa(t))}l(eZ,"map");var nt=eZ;function tZ(e,t){return Gl(t,function(r){return e[r]})}l(tZ,"baseValues");var b2e=tZ;function rZ(e){return e==null?[]:b2e(e,On(e))}l(rZ,"values");var Nr=rZ;function nZ(e){return e===void 0}l(nZ,"isUndefined");var wr=nZ;function iZ(e,t){var r={};return t=pa(t),AA(e,function(n,i,a){S2(r,i,t(n,i,a))}),r}l(iZ,"mapValues");var m6=iZ;function aZ(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(s!=null&&(o===void 0?s==s&&!Zu(s):r(s,o)))var o=s,u=a}return u}l(aZ,"baseExtremum");var PA=aZ;function sZ(e,t){return e>t}l(sZ,"baseGt");var w2e=sZ;function oZ(e){return e&&e.length?PA(e,Uo,w2e):void 0}l(oZ,"max");var Qu=oZ;function lZ(e,t,r,n){if(!la(e))return e;for(var i=-1,a=(t=f6(t,e)).length,s=a-1,o=e;o!=null&&++i<a;){var u=P2(t[i]),h=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(i!=s){var d=o[u];(h=n?n(d,u,o):void 0)===void 0&&(h=la(d)?d:e6(t[i+1])?[]:{})}L2(o,u,h),o=o[u]}return e}l(lZ,"baseSet");var k2e=lZ;function cZ(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var s=t[n],o=g6(e,s);r(o,s)&&k2e(a,f6(s,e),o)}return a}l(cZ,"basePickBy");var uZ=cZ;function hZ(e,t){return uZ(e,t,function(r,n){return jK(e,n)})}l(hZ,"basePick");var T2e=hZ,HR=rs?rs.isConcatSpreadable:void 0;function dZ(e){return Jt(e)||Xg(e)||!!(HR&&e&&e[HR])}l(dZ,"isFlattenable");var _2e=dZ;function BA(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=_2e),i||(i=[]);++a<s;){var o=e[a];t>0&&r(o)?t>1?BA(o,t-1,r,n,i):SA(i,o):n||(i[i.length]=o)}return i}l(BA,"baseFlatten");var B2=BA;function pZ(e){return e!=null&&e.length?B2(e,1):[]}l(pZ,"flatten");var Wn=pZ;function fZ(e){return KW(VW(e,void 0,Wn),e+"")}l(fZ,"flatRest");var E2e=fZ(function(e,t){return e==null?{}:T2e(e,t)}),b4=E2e;function gZ(e,t,r,n){var i=-1,a=e==null?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}l(gZ,"arrayReduce");var C2e=gZ;function mZ(e,t,r,n,i){return i(e,function(a,s,o){r=n?(n=!1,a):t(r,a,s,o)}),r}l(mZ,"baseReduce");var S2e=mZ;function yZ(e,t,r){var n=Jt(e)?C2e:S2e,i=arguments.length<3;return n(e,pa(t),r,i,fh)}l(yZ,"reduce");var Cn=yZ;function vZ(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}l(vZ,"baseFindIndex");var xZ=vZ;function bZ(e){return e!=e}l(bZ,"baseIsNaN");var A2e=bZ;function wZ(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}l(wZ,"strictIndexOf");var L2e=wZ;function kZ(e,t,r){return t==t?L2e(e,t,r):xZ(e,A2e,r)}l(kZ,"baseIndexOf");var $A=kZ;function TZ(e,t){return!!(e!=null&&e.length)&&$A(e,t,0)>-1}l(TZ,"arrayIncludes");var _Z=TZ;function EZ(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}l(EZ,"arrayIncludesWith");var CZ=EZ;function SZ(){}l(SZ,"noop");var Ln=SZ,N2e=md&&1/MA(new md([,-0]))[1]==1/0?function(e){return new md(e)}:Ln;function AZ(e,t,r){var n=-1,i=_Z,a=e.length,s=!0,o=[],u=o;if(r)s=!1,i=CZ;else if(a>=200){var h=t?null:N2e(e);if(h)return MA(h);s=!1,i=IA,u=new NA}else u=t?[]:o;e:for(;++n<a;){var d=e[n],p=t?t(d):d;if(d=r||d!==0?d:0,s&&p==p){for(var f=u.length;f--;)if(u[f]===p)continue e;t&&u.push(p),o.push(d)}else i(u,p,r)||(u!==o&&u.push(p),o.push(d))}return o}l(AZ,"baseUniq");var FA=AZ,I2e=N2(function(e){return FA(B2(e,1,Qb,!0))}),M2e=/\s/;function LZ(e){for(var t=e.length;t--&&M2e.test(e.charAt(t)););return t}l(LZ,"trimmedEndIndex");var R2e=LZ,D2e=/^\s+/;function NZ(e){return e&&e.slice(0,R2e(e)+1).replace(D2e,"")}l(NZ,"baseTrim");var O2e=NZ,P2e=/^[-+]0x[0-9a-f]+$/i,B2e=/^0b[01]+$/i,$2e=/^0o[0-7]+$/i,F2e=parseInt;function IZ(e){if(typeof e=="number")return e;if(Zu(e))return NaN;if(la(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=la(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=O2e(e);var r=B2e.test(e);return r||$2e.test(e)?F2e(e.slice(2),r?2:8):P2e.test(e)?NaN:+e}l(IZ,"toNumber");var z2e=IZ;function MZ(e){return e?(e=z2e(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:e===0?e:0}l(MZ,"toFinite");var Fx=MZ;function RZ(e){var t=Fx(e),r=t%1;return t==t?r?t-r:t:0}l(RZ,"toInteger");var $2=RZ,U2e=Object.prototype.hasOwnProperty,G2e=eH(function(e,t){if(A2(t)||Os(t))k0(t,On(t),e);else for(var r in t)U2e.call(t,r)&&L2(e,r,t[r])}),Ca=G2e;function DZ(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}l(DZ,"baseSlice");var OZ=DZ,q2e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function PZ(e){return q2e.test(e)}l(PZ,"hasUnicode");var j2e=PZ;function BZ(e){return eK(e,5)}l(BZ,"cloneDeep");var Y2e=BZ;function $Z(e){for(var t=-1,r=e==null?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i}l($Z,"compact");var F2=$Z;function FZ(e,t,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;){var s=e[i];t(n,s,r(s),e)}return n}l(FZ,"arrayAggregator");var W2e=FZ;function zZ(e,t,r,n){return fh(e,function(i,a,s){t(n,i,r(i),s)}),n}l(zZ,"baseAggregator");var H2e=zZ;function UZ(e,t){return function(r,n){var i=Jt(r)?W2e:H2e,a=t?t():{};return i(r,e,pa(n),a)}}l(UZ,"createAggregator");var V2e=UZ,VR=l(function(){return Ds.Date.now()},"now");function GZ(e,t,r,n){var i=-1,a=_Z,s=!0,o=e.length,u=[],h=t.length;if(!o)return u;r&&(t=Gl(t,w0(r))),n?(a=CZ,s=!1):t.length>=200&&(a=IA,s=!1,t=new NA(t));e:for(;++i<o;){var d=e[i],p=r==null?d:r(d);if(d=n||d!==0?d:0,s&&p==p){for(var f=h;f--;)if(t[f]===p)continue e;u.push(d)}else a(t,p,n)||u.push(d)}return u}l(GZ,"baseDifference");var X2e=GZ,K2e=N2(function(e,t){return Qb(e)?X2e(e,B2(t,1,Qb,!0)):[]}),y6=K2e;function qZ(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:$2(t),OZ(e,t<0?0:t,n)):[]}l(qZ,"drop");var ri=qZ;function jZ(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:$2(t),OZ(e,0,(t=n-t)<0?0:t)):[]}l(jZ,"dropRight");var Py=jZ;function YZ(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}l(YZ,"arrayEvery");var Z2e=YZ;function WZ(e,t){var r=!0;return fh(e,function(n,i,a){return r=!!t(n,i,a)}),r}l(WZ,"baseEvery");var Q2e=WZ;function HZ(e,t,r){var n=Jt(e)?Z2e:Q2e;return r&&Hu(e,t,r)&&(t=void 0),n(e,pa(t))}l(HZ,"every");var Es=HZ;function VZ(e){return function(t,r,n){var i=Object(t);if(!Os(t)){var a=pa(r);t=On(t),r=l(function(o){return a(i[o],o,i)},"predicate")}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:void 0}}l(VZ,"createFind");var J2e=VZ,eve=Math.max;function XZ(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:$2(r);return i<0&&(i=eve(n+i,0)),xZ(e,pa(t),i)}l(XZ,"findIndex");var Ho=J2e(XZ);function KZ(e){return e&&e.length?e[0]:void 0}l(KZ,"head");var Ns=KZ;function ZZ(e,t){return B2(nt(e,t),1)}l(ZZ,"flatMap");var _a=ZZ;function QZ(e,t){return e==null?e:D8(e,LA(t),dh)}l(QZ,"forIn");var tve=QZ;function JZ(e,t){return e&&AA(e,LA(t))}l(JZ,"forOwn");var rve=JZ,nve=Object.prototype.hasOwnProperty,ive=V2e(function(e,t,r){nve.call(e,r)?e[r].push(t):S2(e,r,[t])}),ave=ive,sve=Object.prototype.hasOwnProperty;function eQ(e,t){return e!=null&&sve.call(e,t)}l(eQ,"baseHas");var ove=eQ;function tQ(e,t){return e!=null&&GK(e,t,ove)}l(tQ,"has");var Dt=tQ;function rQ(e){return typeof e=="string"||!Jt(e)&&is(e)&&al(e)=="[object String]"}l(rQ,"isString");var Pi=rQ,lve=Math.max;function nQ(e,t,r,n){e=Os(e)?e:Nr(e),r=r&&!n?$2(r):0;var i=e.length;return r<0&&(r=lve(i+r,0)),Pi(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&$A(e,t,r)>-1}l(nQ,"includes");var zi=nQ,cve=Math.max;function iQ(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:$2(r);return i<0&&(i=cve(n+i,0)),$A(e,t,i)}l(iQ,"indexOf");var XR=iQ;function aQ(e){return is(e)&&al(e)=="[object RegExp]"}l(aQ,"baseIsRegExp");var uve=aQ,KR=Zl&&Zl.isRegExp,Vo=KR?w0(KR):uve;function sQ(e,t){return e<t}l(sQ,"baseLt");var oQ=sQ;function lQ(e){return e&&e.length?PA(e,Uo,oQ):void 0}l(lQ,"min");var e0=lQ;function cQ(e,t){return e&&e.length?PA(e,pa(t),oQ):void 0}l(cQ,"minBy");var zA=cQ;function uQ(e){if(typeof e!="function")throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}l(uQ,"negate");var hve=uQ;function hQ(e,t){if(e==null)return{};var r=Gl(W3(e),function(n){return[n]});return t=pa(t),uZ(e,r,function(n,i){return t(n,i[0])})}l(hQ,"pickBy");var Ps=hQ;function dQ(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}l(dQ,"baseSortBy");var dve=dQ;function pQ(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e==e,a=Zu(e),s=t!==void 0,o=t===null,u=t==t,h=Zu(t);if(!o&&!h&&!a&&e>t||a&&s&&u&&!o&&!h||n&&s&&u||!r&&u||!i)return 1;if(!n&&!a&&!h&&e<t||h&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!u)return-1}return 0}l(pQ,"compareAscending");var pve=pQ;function fQ(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,o=r.length;++n<s;){var u=pve(i[n],a[n]);if(u)return n>=o?u:u*(r[n]=="desc"?-1:1)}return e.index-t.index}l(fQ,"compareMultiple");var fve=fQ;function gQ(e,t,r){t=t.length?Gl(t,function(a){return Jt(a)?function(s){return g6(s,a.length===1?a[0]:a)}:a}):[Uo];var n=-1;t=Gl(t,w0(pa));var i=JK(e,function(a,s,o){return{criteria:Gl(t,function(u){return u(a)}),index:++n,value:a}});return dve(i,function(a,s){return fve(a,s,r)})}l(gQ,"baseOrderBy");var gve=gQ,mve=HK("length"),yve="[\\ud800-\\udfff]",nE="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",iE="\\ud83c[\\udffb-\\udfff]",mQ="[^\\ud800-\\udfff]",yQ="(?:\\ud83c[\\udde6-\\uddff]){2}",vQ="[\\ud800-\\udbff][\\udc00-\\udfff]",ZR="(?:"+nE+"|"+iE+")?",vve="[\\ufe0e\\ufe0f]?"+ZR+("(?:\\u200d(?:"+[mQ,yQ,vQ].join("|")+")[\\ufe0e\\ufe0f]?"+ZR+")*"),xve="(?:"+[mQ+nE+"?",nE,yQ,vQ,yve].join("|")+")",QR=RegExp(iE+"(?="+iE+")|"+xve+vve,"g");function xQ(e){for(var t=QR.lastIndex=0;QR.test(e);)++t;return t}l(xQ,"unicodeSize");var bve=xQ;function bQ(e){return j2e(e)?bve(e):mve(e)}l(bQ,"stringSize");var wve=bQ,kve=Math.ceil,Tve=Math.max;function wQ(e,t,r,n){for(var i=-1,a=Tve(kve((t-e)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=e,e+=r;return s}l(wQ,"baseRange");var _ve=wQ;function kQ(e){return function(t,r,n){return n&&typeof n!="number"&&Hu(t,r,n)&&(r=n=void 0),t=Fx(t),r===void 0?(r=t,t=0):r=Fx(r),n=n===void 0?t<r?1:-1:Fx(n),_ve(t,r,n,e)}}l(kQ,"createRange");var t0=kQ();function TQ(e,t){return(Jt(e)?EA:cK)(e,hve(pa(t)))}l(TQ,"reject");var v6=TQ;function _Q(e){if(e==null)return 0;if(Os(e))return Pi(e)?wve(e):e.length;var t=Vu(e);return t=="[object Map]"||t=="[object Set]"?e.size:uA(e).length}l(_Q,"size");var Eve=_Q;function EQ(e,t){var r;return fh(e,function(n,i,a){return!(r=t(n,i,a))}),!!r}l(EQ,"baseSome");var Cve=EQ;function CQ(e,t,r){var n=Jt(e)?pK:Cve;return r&&Hu(e,t,r)&&(t=void 0),n(e,pa(t))}l(CQ,"some");var SQ=CQ,Sve=N2(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Hu(e,t[0],t[1])?t=[]:r>2&&Hu(t[0],t[1],t[2])&&(t=[t[0]]),gve(e,B2(t,1),[])}),z2=Sve;function AQ(e){return e&&e.length?FA(e):[]}l(AQ,"uniq");var UA=AQ;function LQ(e,t){return e&&e.length?FA(e,pa(t)):[]}l(LQ,"uniqBy");var Ave=LQ,Lve=0;function NQ(e){var t=++Lve;return OK(e)+t}l(NQ,"uniqueId");var GA=NQ;function IQ(e,t,r){for(var n=-1,i=e.length,a=t.length,s={};++n<i;){var o=n<a?t[n]:void 0;r(s,e[n],o)}return s}l(IQ,"baseZipObject");var Nve=IQ;function MQ(e,t){return Nve(e||[],t||[],L2)}l(MQ,"zipObject");var Ive=MQ,pp,_i=(pp=class{constructor(t={}){this._isDirected=!Object.prototype.hasOwnProperty.call(t,"directed")||t.directed,this._isMultigraph=!!Object.prototype.hasOwnProperty.call(t,"multigraph")&&t.multigraph,this._isCompound=!!Object.prototype.hasOwnProperty.call(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=nd(void 0),this._defaultEdgeLabelFn=nd(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return ns(t)||(t=nd(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return On(this._nodes)}sources(){var t=this;return un(this.nodes(),function(r){return yr(t._in[r])})}sinks(){var t=this;return un(this.nodes(),function(r){return yr(t._out[r])})}setNodes(t,r){var n=arguments,i=this;return Le(t,function(a){n.length>1?i.setNode(a,r):i.setNode(a)}),this}setNode(t,r){return Object.prototype.hasOwnProperty.call(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=r),this):(this._nodes[t]=arguments.length>1?r:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\0",this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return Object.prototype.hasOwnProperty.call(this._nodes,t)}removeNode(t){if(Object.prototype.hasOwnProperty.call(this._nodes,t)){var r=l(n=>this.removeEdge(this._edgeObjs[n]),"removeEdge");delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],Le(this.children(t),n=>{this.setParent(n)}),delete this._children[t]),Le(On(this._in[t]),r),delete this._in[t],delete this._preds[t],Le(On(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(wr(r))r="\0";else{for(var n=r+="";!wr(n);n=this.parent(n))if(n===t)throw new Error("Setting "+r+" as parent of "+t+" would create a cycle");this.setNode(r)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=r,this._children[r][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var r=this._parent[t];if(r!=="\0")return r}}children(t){if(wr(t)&&(t="\0"),this._isCompound){var r=this._children[t];if(r)return On(r)}else{if(t==="\0")return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var r=this._preds[t];if(r)return On(r)}successors(t){var r=this._sucs[t];if(r)return On(r)}neighbors(t){var r=this.predecessors(t);if(r)return I2e(r,this.successors(t))}isLeaf(t){return(this.isDirected()?this.successors(t):this.neighbors(t)).length===0}filterNodes(t){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var n=this;Le(this._nodes,function(s,o){t(o)&&r.setNode(o,s)}),Le(this._edgeObjs,function(s){r.hasNode(s.v)&&r.hasNode(s.w)&&r.setEdge(s,n.edge(s))});var i={};function a(s){var o=n.parent(s);return o===void 0||r.hasNode(o)?(i[s]=o,o):o in i?i[o]:a(o)}return l(a,"findParent"),this._isCompound&&Le(r.nodes(),function(s){r.setParent(s,a(s))}),r}setDefaultEdgeLabel(t){return ns(t)||(t=nd(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return Nr(this._edgeObjs)}setPath(t,r){var n=this,i=arguments;return Cn(t,function(a,s){return i.length>1?n.setEdge(a,s,r):n.setEdge(a,s),s}),this}setEdge(){var t,r,n,i,a=!1,s=arguments[0];typeof s=="object"&&s!==null&&"v"in s?(t=s.v,r=s.w,n=s.name,arguments.length===2&&(i=arguments[1],a=!0)):(t=s,r=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],a=!0)),t=""+t,r=""+r,wr(n)||(n=""+n);var o=id(this._isDirected,t,r,n);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,o))return a&&(this._edgeLabels[o]=i),this;if(!wr(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(r),this._edgeLabels[o]=a?i:this._defaultEdgeLabelFn(t,r,n);var u=RQ(this._isDirected,t,r,n);return t=u.v,r=u.w,Object.freeze(u),this._edgeObjs[o]=u,aE(this._preds[r],t),aE(this._sucs[t],r),this._in[r][o]=u,this._out[t][o]=u,this._edgeCount++,this}edge(t,r,n){var i=arguments.length===1?zx(this._isDirected,arguments[0]):id(this._isDirected,t,r,n);return this._edgeLabels[i]}hasEdge(t,r,n){var i=arguments.length===1?zx(this._isDirected,arguments[0]):id(this._isDirected,t,r,n);return Object.prototype.hasOwnProperty.call(this._edgeLabels,i)}removeEdge(t,r,n){var i=arguments.length===1?zx(this._isDirected,arguments[0]):id(this._isDirected,t,r,n),a=this._edgeObjs[i];return a&&(t=a.v,r=a.w,delete this._edgeLabels[i],delete this._edgeObjs[i],sE(this._preds[r],t),sE(this._sucs[t],r),delete this._in[r][i],delete this._out[t][i],this._edgeCount--),this}inEdges(t,r){var n=this._in[t];if(n){var i=Nr(n);return r?un(i,function(a){return a.v===r}):i}}outEdges(t,r){var n=this._out[t];if(n){var i=Nr(n);return r?un(i,function(a){return a.w===r}):i}}nodeEdges(t,r){var n=this.inEdges(t,r);if(n)return n.concat(this.outEdges(t,r))}},l(pp,"Graph"),pp);/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/function aE(e,t){e[t]?e[t]++:e[t]=1}function sE(e,t){--e[t]||delete e[t]}function id(e,t,r,n){var i=""+t,a=""+r;if(!e&&i>a){var s=i;i=a,a=s}return i+""+a+""+(wr(n)?"\0":n)}function RQ(e,t,r,n){var i=""+t,a=""+r;if(!e&&i>a){var s=i;i=a,a=s}var o={v:i,w:a};return n&&(o.name=n),o}function zx(e,t){return id(e,t.v,t.w,t.name)}function gh(e,t,r,n){var i;do i=GA(n);while(e.hasNode(i));return r.dummy=t,e.setNode(i,r),i}function DQ(e){var t=new _i().setGraph(e.graph());return Le(e.nodes(),function(r){t.setNode(r,e.node(r))}),Le(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),t}function qA(e){var t=new _i({multigraph:e.isMultigraph()}).setGraph(e.graph());return Le(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),Le(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function oE(e,t){var r,n,i=e.x,a=e.y,s=t.x-i,o=t.y-a,u=e.width/2,h=e.height/2;if(!s&&!o)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(o)*u>Math.abs(s)*h?(o<0&&(h=-h),r=h*s/o,n=h):(s<0&&(u=-u),r=u,n=u*o/s),{x:i+r,y:a+n}}function U2(e){var t=nt(t0(jA(e)+1),function(){return[]});return Le(e.nodes(),function(r){var n=e.node(r),i=n.rank;wr(i)||(t[i][n.order]=r)}),t}function OQ(e){var t=e0(nt(e.nodes(),function(r){return e.node(r).rank}));Le(e.nodes(),function(r){var n=e.node(r);Dt(n,"rank")&&(n.rank-=t)})}function PQ(e){var t=e0(nt(e.nodes(),function(a){return e.node(a).rank})),r=[];Le(e.nodes(),function(a){var s=e.node(a).rank-t;r[s]||(r[s]=[]),r[s].push(a)});var n=0,i=e.graph().nodeRankFactor;Le(r,function(a,s){wr(a)&&s%i!=0?--n:n&&Le(a,function(o){e.node(o).rank+=n})})}function lE(e,t,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),gh(e,"border",i,t)}function jA(e){return Qu(nt(e.nodes(),function(t){var r=e.node(t).rank;if(!wr(r))return r}))}function BQ(e,t){var r={lhs:[],rhs:[]};return Le(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function $Q(e,t){var r=VR();try{return t()}finally{console.log(e+" time: "+(VR()-r)+"ms")}}function FQ(e,t){return t()}function zQ(e){function t(r){var n=e.children(r),i=e.node(r);if(n.length&&Le(n,t),Object.prototype.hasOwnProperty.call(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,s=i.maxRank+1;a<s;++a)cE(e,"borderLeft","_bl",r,i,a),cE(e,"borderRight","_br",r,i,a)}}l(t,"dfs"),Le(e.children(),t)}function cE(e,t,r,n,i,a){var s={width:0,height:0,rank:a,borderType:t},o=i[t][a-1],u=gh(e,"border",s,r);i[t][a]=u,e.setParent(u,n),o&&e.setEdge(o,u,{weight:1})}function UQ(e){var t=e.graph().rankdir.toLowerCase();t!=="lr"&&t!=="rl"||YA(e)}function GQ(e){var t=e.graph().rankdir.toLowerCase();t!=="bt"&&t!=="rl"||qQ(e),t!=="lr"&&t!=="rl"||(jQ(e),YA(e))}function YA(e){Le(e.nodes(),function(t){uE(e.node(t))}),Le(e.edges(),function(t){uE(e.edge(t))})}function uE(e){var t=e.width;e.width=e.height,e.height=t}function qQ(e){Le(e.nodes(),function(t){Ux(e.node(t))}),Le(e.edges(),function(t){var r=e.edge(t);Le(r.points,Ux),Object.prototype.hasOwnProperty.call(r,"y")&&Ux(r)})}function Ux(e){e.y=-e.y}function jQ(e){Le(e.nodes(),function(t){Gx(e.node(t))}),Le(e.edges(),function(t){var r=e.edge(t);Le(r.points,Gx),Object.prototype.hasOwnProperty.call(r,"x")&&Gx(r)})}function Gx(e){var t=e.x;e.x=e.y,e.y=t}_i.prototype._nodeCount=0,_i.prototype._edgeCount=0,l(aE,"incrementOrInitEntry"),l(sE,"decrementOrRemoveEntry"),l(id,"edgeArgsToId"),l(RQ,"edgeArgsToObj"),l(zx,"edgeObjToId"),l(gh,"addDummyNode"),l(DQ,"simplify"),l(qA,"asNonCompoundGraph"),l(oE,"intersectRect"),l(U2,"buildLayerMatrix"),l(OQ,"normalizeRanks"),l(PQ,"removeEmptyRanks"),l(lE,"addBorderNode"),l(jA,"maxRank"),l(BQ,"partition"),l($Q,"time"),l(FQ,"notime"),l(zQ,"addBorderSegments"),l(cE,"addBorderNode"),l(UQ,"adjust"),l(GQ,"undo"),l(YA,"swapWidthHeight"),l(uE,"swapWidthHeightOne"),l(qQ,"reverseY"),l(Ux,"reverseYOne"),l(jQ,"swapXY"),l(Gx,"swapXYOne");var fp,Mve=(fp=class{constructor(){var t={};t._next=t._prev=t,this._sentinel=t}dequeue(){var t=this._sentinel,r=t._prev;if(r!==t)return hE(r),r}enqueue(t){var r=this._sentinel;t._prev&&t._next&&hE(t),t._next=r._next,r._next._prev=t,r._next=t,t._prev=r}toString(){for(var t=[],r=this._sentinel,n=r._prev;n!==r;)t.push(JSON.stringify(n,YQ)),n=n._prev;return"["+t.join(", ")+"]"}},l(fp,"List"),fp);function hE(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function YQ(e,t){if(e!=="_next"&&e!=="_prev")return t}l(hE,"unlink"),l(YQ,"filterOutLinks");var Rve=nd(1);function WQ(e,t){if(e.nodeCount()<=1)return[];var r=VQ(e,t||Rve),n=HQ(r.graph,r.buckets,r.zeroIdx);return Wn(nt(n,function(i){return e.outEdges(i.v,i.w)}))}function HQ(e,t,r){for(var n,i=[],a=t[t.length-1],s=t[0];e.nodeCount();){for(;n=s.dequeue();)qx(e,t,r,n);for(;n=a.dequeue();)qx(e,t,r,n);if(e.nodeCount()){for(var o=t.length-2;o>0;--o)if(n=t[o].dequeue()){i=i.concat(qx(e,t,r,n,!0));break}}}return i}function qx(e,t,r,n,i){var a=i?[]:void 0;return Le(e.inEdges(n.v),function(s){var o=e.edge(s),u=e.node(s.v);i&&a.push({v:s.v,w:s.w}),u.out-=o,w4(t,r,u)}),Le(e.outEdges(n.v),function(s){var o=e.edge(s),u=s.w,h=e.node(u);h.in-=o,w4(t,r,h)}),e.removeNode(n.v),a}function VQ(e,t){var r=new _i,n=0,i=0;Le(e.nodes(),function(o){r.setNode(o,{v:o,in:0,out:0})}),Le(e.edges(),function(o){var u=r.edge(o.v,o.w)||0,h=t(o),d=u+h;r.setEdge(o.v,o.w,d),i=Math.max(i,r.node(o.v).out+=h),n=Math.max(n,r.node(o.w).in+=h)});var a=t0(i+n+3).map(function(){return new Mve}),s=n+1;return Le(r.nodes(),function(o){w4(a,s,r.node(o))}),{graph:r,buckets:a,zeroIdx:s}}function w4(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}function XQ(e){var t=e.graph().acyclicer==="greedy"?WQ(e,r(e)):KQ(e);function r(n){return function(i){return n.edge(i).weight}}Le(t,function(n){var i=e.edge(n);e.removeEdge(n),i.forwardName=n.name,i.reversed=!0,e.setEdge(n.w,n.v,i,GA("rev"))}),l(r,"weightFn")}function KQ(e){var t=[],r={},n={};function i(a){Object.prototype.hasOwnProperty.call(n,a)||(n[a]=!0,r[a]=!0,Le(e.outEdges(a),function(s){Object.prototype.hasOwnProperty.call(r,s.w)?t.push(s):i(s.w)}),delete r[a])}return l(i,"dfs"),Le(e.nodes(),i),t}function ZQ(e){Le(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}function QQ(e){e.graph().dummyChains=[],Le(e.edges(),function(t){JQ(e,t)})}function JQ(e,t){var r=t.v,n=e.node(r).rank,i=t.w,a=e.node(i).rank,s=t.name,o=e.edge(t),u=o.labelRank;if(a!==n+1){e.removeEdge(t);var h,d,p=void 0;for(d=0,++n;n<a;++d,++n)o.points=[],h=gh(e,"edge",p={width:0,height:0,edgeLabel:o,edgeObj:t,rank:n},"_d"),n===u&&(p.width=o.width,p.height=o.height,p.dummy="edge-label",p.labelpos=o.labelpos),e.setEdge(r,h,{weight:o.weight},s),d===0&&e.graph().dummyChains.push(h),r=h;e.setEdge(r,i,{weight:o.weight},s)}}function eJ(e){Le(e.graph().dummyChains,function(t){var r,n=e.node(t),i=n.edgeLabel;for(e.setEdge(n.edgeObj,i);n.dummy;)r=e.successors(t)[0],e.removeNode(t),i.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(i.x=n.x,i.y=n.y,i.width=n.width,i.height=n.height),t=r,n=e.node(t)})}function x6(e){var t={};function r(n){var i=e.node(n);if(Object.prototype.hasOwnProperty.call(t,n))return i.rank;t[n]=!0;var a=e0(nt(e.outEdges(n),function(s){return r(s.w)-e.edge(s).minlen}));return a!==Number.POSITIVE_INFINITY&&a!=null||(a=0),i.rank=a}l(r,"dfs"),Le(e.sources(),r)}function r0(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}function WA(e){var t,r,n=new _i({directed:!1}),i=e.nodes()[0],a=e.nodeCount();for(n.setNode(i,{});tJ(n,e)<a;)t=rJ(n,e),r=n.hasNode(t.v)?r0(e,t):-r0(e,t),nJ(n,e,r);return n}function tJ(e,t){function r(n){Le(t.nodeEdges(n),function(i){var a=i.v,s=n===a?i.w:a;e.hasNode(s)||r0(t,i)||(e.setNode(s,{}),e.setEdge(n,s,{}),r(s))})}return l(r,"dfs"),Le(e.nodes(),r),e.nodeCount()}function rJ(e,t){return zA(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return r0(t,r)})}function nJ(e,t,r){Le(e.nodes(),function(n){t.node(n).rank+=r})}function JR(e){var t={},r={},n=[];function i(a){if(Object.prototype.hasOwnProperty.call(r,a))throw new ey;Object.prototype.hasOwnProperty.call(t,a)||(r[a]=!0,t[a]=!0,Le(e.predecessors(a),i),delete r[a],n.push(a))}if(l(i,"visit"),Le(e.sinks(),i),Eve(t)!==e.nodeCount())throw new ey;return n}function ey(){}function HA(e,t,r){Jt(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],a={};return Le(t,function(s){if(!e.hasNode(s))throw new Error("Graph does not have node: "+s);VA(e,s,r==="post",a,n,i)}),i}function VA(e,t,r,n,i,a){Object.prototype.hasOwnProperty.call(n,t)||(n[t]=!0,r||a.push(t),Le(i(t),function(s){VA(e,s,r,n,i,a)}),r&&a.push(t))}function iJ(e,t){return HA(e,t,"post")}function aJ(e,t){return HA(e,t,"pre")}function kl(e){x6(e=DQ(e));var t,r=WA(e);for(T4(r),k4(r,e);t=pE(r);)gE(r,e,t,fE(r,e,t))}function k4(e,t){var r=iJ(e,e.nodes());r=r.slice(0,r.length-1),Le(r,function(n){sJ(e,t,n)})}function sJ(e,t,r){var n=e.node(r).parent;e.edge(r,n).cutvalue=dE(e,t,r)}function dE(e,t,r){var n=e.node(r).parent,i=!0,a=t.edge(r,n),s=0;return a||(i=!1,a=t.edge(n,r)),s=a.weight,Le(t.nodeEdges(r),function(o){var u=o.v===r,h=u?o.w:o.v;if(h!==n){var d=u===i,p=t.edge(o).weight;if(s+=d?p:-p,lJ(e,r,h)){var f=e.edge(r,h).cutvalue;s+=d?-f:f}}}),s}function T4(e,t){arguments.length<2&&(t=e.nodes()[0]),XA(e,{},1,t)}function XA(e,t,r,n,i){var a=r,s=e.node(n);return t[n]=!0,Le(e.neighbors(n),function(o){Object.prototype.hasOwnProperty.call(t,o)||(r=XA(e,t,r,o,n))}),s.low=a,s.lim=r++,i?s.parent=i:delete s.parent,r}function pE(e){return Ho(e.edges(),function(t){return e.edge(t).cutvalue<0})}function fE(e,t,r){var n=r.v,i=r.w;t.hasEdge(n,i)||(n=r.w,i=r.v);var a=e.node(n),s=e.node(i),o=a,u=!1;a.lim>s.lim&&(o=s,u=!0);var h=un(t.edges(),function(d){return u===mE(e,e.node(d.v),o)&&u!==mE(e,e.node(d.w),o)});return zA(h,function(d){return r0(t,d)})}function gE(e,t,r,n){var i=r.v,a=r.w;e.removeEdge(i,a),e.setEdge(n.v,n.w,{}),T4(e),k4(e,t),oJ(e,t)}function oJ(e,t){var r=Ho(e.nodes(),function(i){return!t.node(i).parent}),n=aJ(e,r);n=n.slice(1),Le(n,function(i){var a=e.node(i).parent,s=t.edge(i,a),o=!1;s||(s=t.edge(a,i),o=!0),t.node(i).rank=t.node(a).rank+(o?s.minlen:-s.minlen)})}function lJ(e,t,r){return e.hasEdge(t,r)}function mE(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}function cJ(e){switch(e.graph().ranker){case"network-simplex":default:hJ(e);break;case"tight-tree":uJ(e);break;case"longest-path":Dve(e)}}l(WQ,"greedyFAS"),l(HQ,"doGreedyFAS"),l(qx,"removeNode"),l(VQ,"buildState"),l(w4,"assignBucket"),l(XQ,"run"),l(KQ,"dfsFAS"),l(ZQ,"undo"),l(QQ,"run"),l(JQ,"normalizeEdge"),l(eJ,"undo"),l(x6,"longestPath"),l(r0,"slack"),l(WA,"feasibleTree"),l(tJ,"tightTree"),l(rJ,"findMinSlackEdge"),l(nJ,"shiftRanks"),JR.CycleException=ey,l(JR,"topsort"),l(ey,"CycleException"),ey.prototype=new Error,l(HA,"dfs"),l(VA,"doDfs"),l(iJ,"postorder"),l(aJ,"preorder"),kl.initLowLimValues=T4,kl.initCutValues=k4,kl.calcCutValue=dE,kl.leaveEdge=pE,kl.enterEdge=fE,kl.exchangeEdges=gE,l(kl,"networkSimplex"),l(k4,"initCutValues"),l(sJ,"assignCutValue"),l(dE,"calcCutValue"),l(T4,"initLowLimValues"),l(XA,"dfsAssignLowLim"),l(pE,"leaveEdge"),l(fE,"enterEdge"),l(gE,"exchangeEdges"),l(oJ,"updateRanks"),l(lJ,"isTreeEdge"),l(mE,"isDescendant"),l(cJ,"rank");var Dve=x6;function uJ(e){x6(e),WA(e)}function hJ(e){kl(e)}function dJ(e){var t=gh(e,"root",{},"_root"),r=pJ(e),n=Qu(Nr(r))-1,i=2*n+1;e.graph().nestingRoot=t,Le(e.edges(),function(s){e.edge(s).minlen*=i});var a=fJ(e)+1;Le(e.children(),function(s){KA(e,t,i,a,n,r,s)}),e.graph().nodeRankFactor=i}function KA(e,t,r,n,i,a,s){var o=e.children(s);if(o.length){var u=lE(e,"_bt"),h=lE(e,"_bb"),d=e.node(s);e.setParent(u,s),d.borderTop=u,e.setParent(h,s),d.borderBottom=h,Le(o,function(p){KA(e,t,r,n,i,a,p);var f=e.node(p),g=f.borderTop?f.borderTop:p,m=f.borderBottom?f.borderBottom:p,y=f.borderTop?n:2*n,v=g!==m?1:i-a[s]+1;e.setEdge(u,g,{weight:y,minlen:v,nestingEdge:!0}),e.setEdge(m,h,{weight:y,minlen:v,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,u,{weight:0,minlen:i+a[s]})}else s!==t&&e.setEdge(t,s,{weight:0,minlen:r})}function pJ(e){var t={};function r(n,i){var a=e.children(n);a&&a.length&&Le(a,function(s){r(s,i+1)}),t[n]=i}return l(r,"dfs"),Le(e.children(),function(n){r(n,1)}),t}function fJ(e){return Cn(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function gJ(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Le(e.edges(),function(r){e.edge(r).nestingEdge&&e.removeEdge(r)})}function mJ(e,t,r){var n,i={};Le(r,function(a){for(var s,o,u=e.parent(a);u;){if((s=e.parent(u))?(o=i[s],i[s]=u):(o=n,n=u),o&&o!==u)return void t.setEdge(o,u);u=s}})}function yJ(e,t,r){var n=vJ(e),i=new _i({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(a){return e.node(a)});return Le(e.nodes(),function(a){var s=e.node(a),o=e.parent(a);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(a),i.setParent(a,o||n),Le(e[r](a),function(u){var h=u.v===a?u.w:u.v,d=i.edge(h,a),p=wr(d)?0:d.weight;i.setEdge(h,a,{weight:e.edge(u).weight+p})}),Object.prototype.hasOwnProperty.call(s,"minRank")&&i.setNode(a,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),i}function vJ(e){for(var t;e.hasNode(t=GA("_root")););return t}function xJ(e,t){for(var r=0,n=1;n<t.length;++n)r+=bJ(e,t[n-1],t[n]);return r}function bJ(e,t,r){for(var n=Ive(r,nt(r,function(h,d){return d})),i=Wn(nt(t,function(h){return z2(nt(e.outEdges(h),function(d){return{pos:n[d.w],weight:e.edge(d).weight}}),"pos")})),a=1;a<r.length;)a<<=1;var s=2*a-1;a-=1;var o=nt(new Array(s),function(){return 0}),u=0;return Le(i.forEach(function(h){var d=h.pos+a;o[d]+=h.weight;for(var p=0;d>0;)d%2&&(p+=o[d+1]),o[d=d-1>>1]+=h.weight;u+=h.weight*p})),u}function wJ(e){var t={},r=un(e.nodes(),function(o){return!e.children(o).length}),n=Qu(nt(r,function(o){return e.node(o).rank})),i=nt(t0(n+1),function(){return[]});function a(o){if(!Dt(t,o)){t[o]=!0;var u=e.node(o);i[u.rank].push(o),Le(e.successors(o),a)}}l(a,"dfs");var s=z2(r,function(o){return e.node(o).rank});return Le(s,a),i}function kJ(e,t){return nt(t,function(r){var n=e.inEdges(r);if(n.length){var i=Cn(n,function(a,s){var o=e.edge(s),u=e.node(s.v);return{sum:a.sum+o.weight*u.order,weight:a.weight+o.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}return{v:r}})}function TJ(e,t){var r={};return Le(e,function(n,i){var a=r[n.v]={indegree:0,in:[],out:[],vs:[n.v],i};wr(n.barycenter)||(a.barycenter=n.barycenter,a.weight=n.weight)}),Le(t.edges(),function(n){var i=r[n.v],a=r[n.w];wr(i)||wr(a)||(a.indegree++,i.out.push(r[n.w]))}),_J(un(r,function(n){return!n.indegree}))}function _J(e){var t=[];function r(a){return function(s){s.merged||(wr(s.barycenter)||wr(a.barycenter)||s.barycenter>=a.barycenter)&&EJ(a,s)}}function n(a){return function(s){s.in.push(a),--s.indegree==0&&e.push(s)}}for(l(r,"handleIn"),l(n,"handleOut");e.length;){var i=e.pop();t.push(i),Le(i.in.reverse(),r(i)),Le(i.out,n(i))}return nt(un(t,function(a){return!a.merged}),function(a){return b4(a,["vs","i","barycenter","weight"])})}function EJ(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}function CJ(e,t){var r=BQ(e,function(d){return Object.prototype.hasOwnProperty.call(d,"barycenter")}),n=r.lhs,i=z2(r.rhs,function(d){return-d.i}),a=[],s=0,o=0,u=0;n.sort(SJ(!!t)),u=yE(a,i,u),Le(n,function(d){u+=d.vs.length,a.push(d.vs),s+=d.barycenter*d.weight,o+=d.weight,u=yE(a,i,u)});var h={vs:Wn(a)};return o&&(h.barycenter=s/o,h.weight=o),h}function yE(e,t,r){for(var n;t.length&&(n=lo(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function SJ(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}function ZA(e,t,r,n){var i=e.children(t),a=e.node(t),s=a?a.borderLeft:void 0,o=a?a.borderRight:void 0,u={};s&&(i=un(i,function(m){return m!==s&&m!==o}));var h=kJ(e,i);Le(h,function(m){if(e.children(m.v).length){var y=ZA(e,m.v,r,n);u[m.v]=y,Object.prototype.hasOwnProperty.call(y,"barycenter")&&LJ(m,y)}});var d=TJ(h,r);AJ(d,u);var p=CJ(d,n);if(s&&(p.vs=Wn([s,p.vs,o]),e.predecessors(s).length)){var f=e.node(e.predecessors(s)[0]),g=e.node(e.predecessors(o)[0]);Object.prototype.hasOwnProperty.call(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+f.order+g.order)/(p.weight+2),p.weight+=2}return p}function AJ(e,t){Le(e,function(r){r.vs=Wn(r.vs.map(function(n){return t[n]?t[n].vs:n}))})}function LJ(e,t){wr(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}function NJ(e){var t=jA(e),r=vE(e,t0(1,t+1),"inEdges"),n=vE(e,t0(t-1,-1,-1),"outEdges"),i=wJ(e);xE(e,i);for(var a,s=Number.POSITIVE_INFINITY,o=0,u=0;u<4;++o,++u){IJ(o%2?r:n,o%4>=2);var h=xJ(e,i=U2(e));h<s&&(u=0,a=Y2e(i),s=h)}xE(e,a)}function vE(e,t,r){return nt(t,function(n){return yJ(e,n,r)})}function IJ(e,t){var r=new _i;Le(e,function(n){var i=n.graph().root,a=ZA(n,i,r,t);Le(a.vs,function(s,o){n.node(s).order=o}),mJ(n,r,a.vs)})}function xE(e,t){Le(t,function(r){Le(r,function(n,i){e.node(n).order=i})})}function MJ(e){var t=DJ(e);Le(e.graph().dummyChains,function(r){for(var n=e.node(r),i=n.edgeObj,a=RJ(e,t,i.v,i.w),s=a.path,o=a.lca,u=0,h=s[u],d=!0;r!==i.w;){if(n=e.node(r),d){for(;(h=s[u])!==o&&e.node(h).maxRank<n.rank;)u++;h===o&&(d=!1)}if(!d){for(;u<s.length-1&&e.node(h=s[u+1]).minRank<=n.rank;)u++;h=s[u]}e.setParent(r,h),r=e.successors(r)[0]}})}function RJ(e,t,r,n){var i,a,s=[],o=[],u=Math.min(t[r].low,t[n].low),h=Math.max(t[r].lim,t[n].lim);i=r;do i=e.parent(i),s.push(i);while(i&&(t[i].low>u||h>t[i].lim));for(a=i,i=n;(i=e.parent(i))!==a;)o.push(i);return{path:s.concat(o.reverse()),lca:a}}function DJ(e){var t={},r=0;function n(i){var a=r;Le(e.children(i),n),t[i]={low:a,lim:r++}}return l(n,"dfs"),Le(e.children(),n),t}function OJ(e,t){var r={};function n(i,a){var s=0,o=0,u=i.length,h=lo(a);return Le(a,function(d,p){var f=BJ(e,d),g=f?e.node(f).order:u;(f||d===h)&&(Le(a.slice(o,p+1),function(m){Le(e.predecessors(m),function(y){var v=e.node(y),x=v.order;!(x<s||g<x)||v.dummy&&e.node(m).dummy||QA(r,y,m)})}),o=p+1,s=g)}),a}return l(n,"visitLayer"),Cn(t,n),r}function PJ(e,t){var r={};function n(a,s,o,u,h){var d;Le(t0(s,o),function(p){d=a[p],e.node(d).dummy&&Le(e.predecessors(d),function(f){var g=e.node(f);g.dummy&&(g.order<u||g.order>h)&&QA(r,f,d)})})}function i(a,s){var o,u=-1,h=0;return Le(s,function(d,p){if(e.node(d).dummy==="border"){var f=e.predecessors(d);f.length&&(o=e.node(f[0]).order,n(s,h,p,u,o),h=p,u=o)}n(s,h,s.length,o,a.length)}),s}return l(n,"scan"),l(i,"visitLayer"),Cn(t,i),r}function BJ(e,t){if(e.node(t).dummy)return Ho(e.predecessors(t),function(r){return e.node(r).dummy})}function QA(e,t,r){if(t>r){var n=t;t=r,r=n}var i=e[t];i||(e[t]=i={}),i[r]=!0}function $J(e,t,r){if(t>r){var n=t;t=r,r=n}return!!e[t]&&Object.prototype.hasOwnProperty.call(e[t],r)}function FJ(e,t,r,n){var i={},a={},s={};return Le(t,function(o){Le(o,function(u,h){i[u]=u,a[u]=u,s[u]=h})}),Le(t,function(o){var u=-1;Le(o,function(h){var d=n(h);if(d.length)for(var p=((d=z2(d,function(y){return s[y]})).length-1)/2,f=Math.floor(p),g=Math.ceil(p);f<=g;++f){var m=d[f];a[h]===h&&u<s[m]&&!$J(r,h,m)&&(a[m]=h,a[h]=i[h]=i[m],u=s[m])}})}),{root:i,align:a}}function zJ(e,t,r,n,i){var a={},s=UJ(e,t,r,i),o=i?"borderLeft":"borderRight";function u(p,f){for(var g=s.nodes(),m=g.pop(),y={};m;)y[m]?p(m):(y[m]=!0,g.push(m),g=g.concat(f(m))),m=g.pop()}function h(p){a[p]=s.inEdges(p).reduce(function(f,g){return Math.max(f,a[g.v]+s.edge(g))},0)}function d(p){var f=s.outEdges(p).reduce(function(m,y){return Math.min(m,a[y.w]-s.edge(y))},Number.POSITIVE_INFINITY),g=e.node(p);f!==Number.POSITIVE_INFINITY&&g.borderType!==o&&(a[p]=Math.max(a[p],f))}return l(u,"iterate"),l(h,"pass1"),l(d,"pass2"),u(h,s.predecessors.bind(s)),u(d,s.successors.bind(s)),Le(n,function(p){a[p]=a[r[p]]}),a}function UJ(e,t,r,n){var i=new _i,a=e.graph(),s=WJ(a.nodesep,a.edgesep,n);return Le(t,function(o){var u;Le(o,function(h){var d=r[h];if(i.setNode(d),u){var p=r[u],f=i.edge(p,d);i.setEdge(p,d,Math.max(s(e,h,u),f||0))}u=h})}),i}function GJ(e,t){return zA(Nr(t),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return tve(r,function(a,s){var o=HJ(e,s)/2;n=Math.max(a+o,n),i=Math.min(a-o,i)}),n-i})}function qJ(e,t){var r=Nr(t),n=e0(r),i=Qu(r);Le(["u","d"],function(a){Le(["l","r"],function(s){var o,u=a+s,h=e[u];if(h!==t){var d=Nr(h);(o=s==="l"?n-e0(d):i-Qu(d))&&(e[u]=m6(h,function(p){return p+o}))}})})}function jJ(e,t){return m6(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var i=z2(nt(e,n));return(i[1]+i[2])/2})}function YJ(e){var t,r=U2(e),n=Jb(OJ(e,r),PJ(e,r)),i={};Le(["u","d"],function(s){t=s==="u"?r:Nr(r).reverse(),Le(["l","r"],function(o){o==="r"&&(t=nt(t,function(p){return Nr(p).reverse()}));var u=(s==="u"?e.predecessors:e.successors).bind(e),h=FJ(0,t,n,u),d=zJ(e,t,h.root,h.align,o==="r");o==="r"&&(d=m6(d,function(p){return-p})),i[s+o]=d})});var a=GJ(e,i);return qJ(i,a),jJ(i,e.graph().align)}function WJ(e,t,r){return function(n,i,a){var s,o=n.node(i),u=n.node(a),h=0;if(h+=o.width/2,Object.prototype.hasOwnProperty.call(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":s=-o.width/2;break;case"r":s=o.width/2}if(s&&(h+=r?s:-s),s=0,h+=(o.dummy?t:e)/2,h+=(u.dummy?t:e)/2,h+=u.width/2,Object.prototype.hasOwnProperty.call(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":s=u.width/2;break;case"r":s=-u.width/2}return s&&(h+=r?s:-s),s=0,h}}function HJ(e,t){return e.node(t).width}function VJ(e){XJ(e=qA(e)),rve(YJ(e),function(t,r){e.node(r).x=t})}function XJ(e){var t=U2(e),r=e.graph().ranksep,n=0;Le(t,function(i){var a=Qu(nt(i,function(s){return e.node(s).height}));Le(i,function(s){e.node(s).y=n+a/2}),n+=a+r})}function G2(e,t){var r=t&&t.debugTiming?$Q:FQ;r("layout",()=>{var n=r("  buildLayoutGraph",()=>QJ(e));r("  runLayout",()=>KJ(n,r)),r("  updateInputGraph",()=>ZJ(e,n))})}function KJ(e,t){t("    makeSpaceForEdgeLabels",()=>JJ(e)),t("    removeSelfEdges",()=>l7(e)),t("    acyclic",()=>XQ(e)),t("    nestingGraph.run",()=>dJ(e)),t("    rank",()=>cJ(qA(e))),t("    injectEdgeLabelProxies",()=>e7(e)),t("    removeEmptyRanks",()=>PQ(e)),t("    nestingGraph.cleanup",()=>gJ(e)),t("    normalizeRanks",()=>OQ(e)),t("    assignRankMinMax",()=>t7(e)),t("    removeEdgeLabelProxies",()=>r7(e)),t("    normalize.run",()=>QQ(e)),t("    parentDummyChains",()=>MJ(e)),t("    addBorderSegments",()=>zQ(e)),t("    order",()=>NJ(e)),t("    insertSelfEdges",()=>c7(e)),t("    adjustCoordinateSystem",()=>UQ(e)),t("    position",()=>VJ(e)),t("    positionSelfEdges",()=>u7(e)),t("    removeBorderNodes",()=>o7(e)),t("    normalize.undo",()=>eJ(e)),t("    fixupEdgeLabelCoords",()=>a7(e)),t("    undoCoordinateSystem",()=>GQ(e)),t("    translateGraph",()=>n7(e)),t("    assignNodeIntersects",()=>i7(e)),t("    reversePoints",()=>s7(e)),t("    acyclic.undo",()=>ZQ(e))}function ZJ(e,t){Le(e.nodes(),function(r){var n=e.node(r),i=t.node(r);n&&(n.x=i.x,n.y=i.y,t.children(r).length&&(n.width=i.width,n.height=i.height))}),Le(e.edges(),function(r){var n=e.edge(r),i=t.edge(r);n.points=i.points,Object.prototype.hasOwnProperty.call(i,"x")&&(n.x=i.x,n.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}l(uJ,"tightTreeRanker"),l(hJ,"networkSimplexRanker"),l(dJ,"run"),l(KA,"dfs"),l(pJ,"treeDepths"),l(fJ,"sumWeights"),l(gJ,"cleanup"),l(mJ,"addSubgraphConstraints"),l(yJ,"buildLayerGraph"),l(vJ,"createRootNode"),l(xJ,"crossCount"),l(bJ,"twoLayerCrossCount"),l(wJ,"initOrder"),l(kJ,"barycenter"),l(TJ,"resolveConflicts"),l(_J,"doResolveConflicts"),l(EJ,"mergeEntries"),l(CJ,"sort"),l(yE,"consumeUnsortable"),l(SJ,"compareWithBias"),l(ZA,"sortSubgraph"),l(AJ,"expandSubgraphs"),l(LJ,"mergeBarycenters"),l(NJ,"order"),l(vE,"buildLayerGraphs"),l(IJ,"sweepLayerGraphs"),l(xE,"assignOrder"),l(MJ,"parentDummyChains"),l(RJ,"findPath"),l(DJ,"postorder"),l(OJ,"findType1Conflicts"),l(PJ,"findType2Conflicts"),l(BJ,"findOtherInnerSegmentNode"),l(QA,"addConflict"),l($J,"hasConflict"),l(FJ,"verticalAlignment"),l(zJ,"horizontalCompaction"),l(UJ,"buildBlockGraph"),l(GJ,"findSmallestWidthAlignment"),l(qJ,"alignCoordinates"),l(jJ,"balance"),l(YJ,"positionX"),l(WJ,"sep"),l(HJ,"width"),l(VJ,"position"),l(XJ,"positionY"),l(G2,"layout"),l(KJ,"runLayout"),l(ZJ,"updateInputGraph");var Ove=["nodesep","edgesep","ranksep","marginx","marginy"],Pve={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Bve=["acyclicer","ranker","rankdir","align"],$ve=["width","height"],Fve={width:0,height:0},zve=["minlen","weight","width","height","labeloffset"],Uve={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Gve=["labelpos"];function QJ(e){var t=new _i({multigraph:!0,compound:!0}),r=Yx(e.graph());return t.setGraph(Jb({},Pve,jx(r,Ove),b4(r,Bve))),Le(e.nodes(),function(n){var i=Yx(e.node(n));t.setNode(n,p6(jx(i,$ve),Fve)),t.setParent(n,e.parent(n))}),Le(e.edges(),function(n){var i=Yx(e.edge(n));t.setEdge(n,Jb({},Uve,jx(i,zve),b4(i,Gve)))}),t}function JJ(e){var t=e.graph();t.ranksep/=2,Le(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function e7(e){Le(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),i={rank:(e.node(t.w).rank-n.rank)/2+n.rank,e:t};gh(e,"edge-proxy",i,"_ep")}})}function t7(e){var t=0;Le(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=Qu(t,n.maxRank))}),e.graph().maxRank=t}function r7(e){Le(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function n7(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,a=e.graph(),s=a.marginx||0,o=a.marginy||0;function u(h){var d=h.x,p=h.y,f=h.width,g=h.height;t=Math.min(t,d-f/2),r=Math.max(r,d+f/2),n=Math.min(n,p-g/2),i=Math.max(i,p+g/2)}l(u,"getExtremes"),Le(e.nodes(),function(h){u(e.node(h))}),Le(e.edges(),function(h){var d=e.edge(h);Object.prototype.hasOwnProperty.call(d,"x")&&u(d)}),t-=s,n-=o,Le(e.nodes(),function(h){var d=e.node(h);d.x-=t,d.y-=n}),Le(e.edges(),function(h){var d=e.edge(h);Le(d.points,function(p){p.x-=t,p.y-=n}),Object.prototype.hasOwnProperty.call(d,"x")&&(d.x-=t),Object.prototype.hasOwnProperty.call(d,"y")&&(d.y-=n)}),a.width=r-t+s,a.height=i-n+o}function i7(e){Le(e.edges(),function(t){var r,n,i=e.edge(t),a=e.node(t.v),s=e.node(t.w);i.points?(r=i.points[0],n=i.points[i.points.length-1]):(i.points=[],r=s,n=a),i.points.unshift(oE(a,r)),i.points.push(oE(s,n))})}function a7(e){Le(e.edges(),function(t){var r=e.edge(t);if(Object.prototype.hasOwnProperty.call(r,"x"))switch(r.labelpos!=="l"&&r.labelpos!=="r"||(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset}})}function s7(e){Le(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function o7(e){Le(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),i=e.node(r.borderBottom),a=e.node(lo(r.borderLeft)),s=e.node(lo(r.borderRight));r.width=Math.abs(s.x-a.x),r.height=Math.abs(i.y-n.y),r.x=a.x+r.width/2,r.y=n.y+r.height/2}}),Le(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function l7(e){Le(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function c7(e){var t=U2(e);Le(t,function(r){var n=0;Le(r,function(i,a){var s=e.node(i);s.order=a+n,Le(s.selfEdges,function(o){gh(e,"selfedge",{width:o.label.width,height:o.label.height,rank:s.rank,order:a+ ++n,e:o.e,label:o.label},"_se")}),delete s.selfEdges})})}function u7(e){Le(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),i=n.x+n.width/2,a=n.y,s=r.x-i,o=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:i+2*s/3,y:a-o},{x:i+5*s/6,y:a-o},{x:i+s,y:a},{x:i+5*s/6,y:a+o},{x:i+2*s/3,y:a+o}],r.label.x=r.x,r.label.y=r.y}})}function jx(e,t){return m6(b4(e,t),Number)}function Yx(e){var t={};return Le(e,function(r,n){t[n.toLowerCase()]=r}),t}function Ts(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:h7(e),edges:d7(e)};return wr(e.graph())||(t.value=Un(e.graph())),t}function h7(e){return nt(e.nodes(),function(t){var r=e.node(t),n=e.parent(t),i={v:t};return wr(r)||(i.value=r),wr(n)||(i.parent=n),i})}function d7(e){return nt(e.edges(),function(t){var r=e.edge(t),n={v:t.v,w:t.w};return wr(t.name)||(n.name=t.name),wr(r)||(n.value=r),n})}l(QJ,"buildLayoutGraph"),l(JJ,"makeSpaceForEdgeLabels"),l(e7,"injectEdgeLabelProxies"),l(t7,"assignRankMinMax"),l(r7,"removeEdgeLabelProxies"),l(n7,"translateGraph"),l(i7,"assignNodeIntersects"),l(a7,"fixupEdgeLabelCoords"),l(s7,"reversePointsForReversedEdges"),l(o7,"removeBorderNodes"),l(l7,"removeSelfEdges"),l(c7,"insertSelfEdges"),l(u7,"positionSelfEdges"),l(jx,"selectNumberAttrs"),l(Yx,"canonicalize"),l(Ts,"write"),l(h7,"writeNodes"),l(d7,"writeEdges");var Kt=new Map,du=new Map,p7=new Map,qve=l(()=>{du.clear(),p7.clear(),Kt.clear()},"clear"),_4=l((e,t)=>{const r=du.get(t)||[];return re.trace("In isDescendant",t," ",e," = ",r.includes(e)),r.includes(e)},"isDescendant"),jve=l((e,t)=>{const r=du.get(t)||[];return re.info("Descendants of ",t," is ",r),re.info("Edge is ",e),e.v!==t&&e.w!==t&&(r?r.includes(e.v)||_4(e.v,t)||_4(e.w,t)||r.includes(e.w):(re.debug("Tilt, ",t,",not in descendants"),!1))},"edgeInCluster"),f7=l((e,t,r,n)=>{re.warn("Copying children of ",e,"root",n,"data",t.node(e),n);const i=t.children(e)||[];e!==n&&i.push(e),re.warn("Copying (nodes) clusterId",e,"nodes",i),i.forEach(a=>{if(t.children(a).length>0)f7(a,t,r,n);else{const s=t.node(a);re.info("cp ",a," to ",n," with parent ",e),r.setNode(a,s),n!==t.parent(a)&&(re.warn("Setting parent",a,t.parent(a)),r.setParent(a,t.parent(a))),e!==n&&a!==e?(re.debug("Setting parent",a,e),r.setParent(a,e)):(re.info("In copy ",e,"root",n,"data",t.node(e),n),re.debug("Not Setting parent for node=",a,"cluster!==rootId",e!==n,"node!==clusterId",a!==e));const o=t.edges(a);re.debug("Copying Edges",o),o.forEach(u=>{re.info("Edge",u);const h=t.edge(u.v,u.w,u.name);re.info("Edge data",h,n);try{jve(u,n)?(re.info("Copying as ",u.v,u.w,h,u.name),r.setEdge(u.v,u.w,h,u.name),re.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):re.info("Skipping copy of edge ",u.v,"-->",u.w," rootId: ",n," clusterId:",e)}catch(d){re.error(d)}})}re.debug("Removing node",a),t.removeNode(a)})},"copy"),g7=l((e,t)=>{const r=t.children(e);let n=[...r];for(const i of r)p7.set(i,e),n=[...n,...g7(i,t)];return n},"extractDescendants"),Yve=l((e,t,r)=>{const n=e.edges().filter(o=>o.v===t||o.w===t),i=e.edges().filter(o=>o.v===r||o.w===r),a=n.map(o=>({v:o.v===t?r:o.v,w:o.w===t?t:o.w})),s=i.map(o=>({v:o.v,w:o.w}));return a.filter(o=>s.some(u=>o.v===u.v&&o.w===u.w))},"findCommonEdges"),By=l((e,t,r)=>{const n=t.children(e);if(re.trace("Searching children of id ",e,n),n.length<1)return e;let i;for(const a of n){const s=By(a,t,r),o=Yve(t,r,s);if(s){if(!(o.length>0))return s;i=s}}return i},"findNonClusterChild"),eD=l(e=>Kt.has(e)&&Kt.get(e).externalConnections&&Kt.has(e)?Kt.get(e).id:e,"getAnchorId"),Wve=l((e,t)=>{if(!e||t>10)re.debug("Opting out, no graph ");else{re.debug("Opting in, graph "),e.nodes().forEach(function(r){e.children(r).length>0&&(re.warn("Cluster identified",r," Replacement id in edges: ",By(r,e,r)),du.set(r,g7(r,e)),Kt.set(r,{id:By(r,e,r),clusterData:e.node(r)}))}),e.nodes().forEach(function(r){const n=e.children(r),i=e.edges();n.length>0?(re.debug("Cluster identified",r,du),i.forEach(a=>{_4(a.v,r)^_4(a.w,r)&&(re.warn("Edge: ",a," leaves cluster ",r),re.warn("Descendants of XXX ",r,": ",du.get(r)),Kt.get(r).externalConnections=!0)})):re.debug("Not a cluster ",r,du)});for(let r of Kt.keys()){const n=Kt.get(r).id,i=e.parent(n);i!==r&&Kt.has(i)&&!Kt.get(i).externalConnections&&(Kt.get(r).id=i)}e.edges().forEach(function(r){const n=e.edge(r);re.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),re.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(e.edge(r)));let i=r.v,a=r.w;if(re.warn("Fix XXX",Kt,"ids:",r.v,r.w,"Translating: ",Kt.get(r.v)," --- ",Kt.get(r.w)),Kt.get(r.v)||Kt.get(r.w)){if(re.warn("Fixing and trying - removing XXX",r.v,r.w,r.name),i=eD(r.v),a=eD(r.w),e.removeEdge(r.v,r.w,r.name),i!==r.v){const s=e.parent(i);Kt.get(s).externalConnections=!0,n.fromCluster=r.v}if(a!==r.w){const s=e.parent(a);Kt.get(s).externalConnections=!0,n.toCluster=r.w}re.warn("Fix Replacing with XXX",i,a,r.name),e.setEdge(i,a,n,r.name)}}),re.warn("Adjusted Graph",Ts(e)),m7(e,0),re.trace(Kt)}},"adjustClustersAndEdges"),m7=l((e,t)=>{var i,a;if(re.warn("extractor - ",t,Ts(e),e.children("D")),t>10)return void re.error("Bailing out");let r=e.nodes(),n=!1;for(const s of r){const o=e.children(s);n=n||o.length>0}if(n){re.debug("Nodes = ",r,t);for(const s of r)if(re.debug("Extracting node",s,Kt,Kt.has(s)&&!Kt.get(s).externalConnections,!e.parent(s),e.node(s),e.children("D")," Depth ",t),Kt.has(s))if(!Kt.get(s).externalConnections&&e.children(s)&&e.children(s).length>0){re.warn("Cluster without external connections, without a parent and with children",s,t);let o=e.graph().rankdir==="TB"?"LR":"TB";(a=(i=Kt.get(s))==null?void 0:i.clusterData)!=null&&a.dir&&(o=Kt.get(s).clusterData.dir,re.warn("Fixing dir",Kt.get(s).clusterData.dir,o));const u=new _i({multigraph:!0,compound:!0}).setGraph({rankdir:o,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});re.warn("Old graph before copy",Ts(e)),f7(s,e,u,s),e.setNode(s,{clusterNode:!0,id:s,clusterData:Kt.get(s).clusterData,label:Kt.get(s).label,graph:u}),re.warn("New graph after copy node: (",s,")",Ts(u)),re.debug("Old graph after copy",Ts(e))}else re.warn("Cluster ** ",s," **not meeting the criteria !externalConnections:",!Kt.get(s).externalConnections," no parent: ",!e.parent(s)," children ",e.children(s)&&e.children(s).length>0,e.children("D"),t),re.debug(Kt);else re.debug("Not a cluster",s,t);r=e.nodes(),re.warn("New list of nodes",r);for(const s of r){const o=e.node(s);re.warn(" Now next level",s,o),o!=null&&o.clusterNode&&m7(o.graph,t+1)}}else re.debug("Done, no node has children",e.nodes())},"extractor"),y7=l((e,t)=>{if(t.length===0)return[];let r=Object.assign([],t);return t.forEach(n=>{const i=e.children(n),a=y7(e,i);r=[...r,...a]}),r},"sorter"),Hve=l(e=>y7(e,e.children()),"sortNodesByHierarchy"),v7=l(async(e,t,r,n,i,a)=>{re.warn("Graph in recursive render:XAX",Ts(t),i);const s=t.graph().rankdir;re.trace("Dir in recursive render - dir:",s);const o=e.insert("g").attr("class","root");t.nodes()?re.info("Recursive render XXX",t.nodes()):re.info("No nodes found for",t),t.edges().length>0&&re.info("Recursive edges",t.edge(t.edges()[0]));const u=o.insert("g").attr("class","clusters"),h=o.insert("g").attr("class","edgePaths"),d=o.insert("g").attr("class","edgeLabels"),p=o.insert("g").attr("class","nodes");await Promise.all(t.nodes().map(async function(y){const v=t.node(y);if(i!==void 0){const x=JSON.parse(JSON.stringify(i.clusterData));re.trace(`Setting data for parent cluster XXX
 Node.id = `,y,`
 data=`,x.height,`
Parent cluster`,i.height),t.setNode(i.id,x),t.parent(y)||(re.trace("Setting parent",y,i.id),t.setParent(y,i.id,x))}if(re.info("(Insert) Node XXX"+y+": "+JSON.stringify(t.node(y))),v==null?void 0:v.clusterNode){re.info("Cluster identified XBX",y,v.width,t.node(y));const{ranksep:x,nodesep:b}=t.graph();v.graph.setGraph({...v.graph.graph(),ranksep:x+25,nodesep:b});const w=await v7(p,v.graph,r,n,t.node(y),a),T=w.elem;At(v,T),v.diff=w.diff||0,re.info("New compound node after recursive render XAX",y,"width",v.width,"height",v.height),yge(T,v)}else t.children(y).length>0?(re.trace("Cluster - the non recursive path XBX",y,v.id,v,v.width,"Graph:",t),re.trace(By(v.id,t)),Kt.set(v.id,{id:By(v.id,t),node:v})):(re.trace("Node - the non recursive path XAX",y,p,t.node(y),s),await o6(p,t.node(y),{config:a,dir:s}))})),await l(async()=>{const y=t.edges().map(async function(v){const x=t.edge(v.v,v.w,v.name);re.info("Edge "+v.v+" -> "+v.w+": "+JSON.stringify(v)),re.info("Edge "+v.v+" -> "+v.w+": ",v," ",JSON.stringify(t.edge(v))),re.info("Fix",Kt,"ids:",v.v,v.w,"Translating: ",Kt.get(v.v),Kt.get(v.w)),await nX(d,x)});await Promise.all(y)},"processEdges")(),re.info("Graph before layout:",JSON.stringify(Ts(t))),re.info("############################################# XXX"),re.info("###                Layout                 ### XXX"),re.info("############################################# XXX"),G2(t),re.info("Graph after layout:",JSON.stringify(Ts(t)));let g=0,{subGraphTitleTotalMargin:m}=E2(a);return await Promise.all(Hve(t).map(async function(y){var x;const v=t.node(y);if(re.info("Position XBX => "+y+": ("+v.x,","+v.y,") width: ",v.width," height: ",v.height),v==null?void 0:v.clusterNode)v.y+=m,re.info("A tainted cluster node XBX1",y,v.id,v.width,v.height,v.x,v.y,t.parent(y)),Kt.get(v.id).node=v,O_(v);else if(t.children(y).length>0){re.info("A pure cluster node XBX1",y,v.id,v.x,v.y,v.width,v.height,t.parent(y)),v.height+=m,t.node(v.parentId);const b=(v==null?void 0:v.padding)/2||0,w=((x=v==null?void 0:v.labelBBox)==null?void 0:x.height)||0,T=w-b||0;re.debug("OffsetY",T,"labelHeight",w,"halfPadding",b),await lA(u,v),Kt.get(v.id).node=v}else{const b=t.node(v.parentId);v.y+=m/2,re.info("A regular node XBX1 - using the padding",v.id,"parent",v.parentId,v.width,v.height,v.x,v.y,"offsetY",v.offsetY,"parent",b,b==null?void 0:b.offsetY,v),O_(v)}})),t.edges().forEach(function(y){const v=t.edge(y);re.info("Edge "+y.v+" -> "+y.w+": "+JSON.stringify(v),v),v.points.forEach(T=>T.y+=m/2);const x=t.node(y.v);var b=t.node(y.w);const w=sX(h,v,Kt,r,x,b,n);iX(v,w)}),t.nodes().forEach(function(y){const v=t.node(y);re.info(y,v.type,v.diff),v.isGroup&&(g=v.diff)}),re.warn("Returning from recursive render XAX",o,g),{elem:o,diff:g}},"recursiveRender"),Vve=l(async(e,t)=>{var a,s,o,u,h,d;const r=new _i({multigraph:!0,compound:!0}).setGraph({rankdir:e.direction,nodesep:((a=e.config)==null?void 0:a.nodeSpacing)||((o=(s=e.config)==null?void 0:s.flowchart)==null?void 0:o.nodeSpacing)||e.nodeSpacing,ranksep:((u=e.config)==null?void 0:u.rankSpacing)||((d=(h=e.config)==null?void 0:h.flowchart)==null?void 0:d.rankSpacing)||e.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),n=t.select("g");oX(n,e.markers,e.type,e.diagramId),vge(),wge(),Jfe(),qve(),e.nodes.forEach(p=>{r.setNode(p.id,{...p}),p.parentId&&r.setParent(p.id,p.parentId)}),re.debug("Edges:",e.edges),e.edges.forEach(p=>{if(p.start===p.end){const f=p.start,g=f+"---"+f+"---1",m=f+"---"+f+"---2",y=r.node(f);r.setNode(g,{domId:g,id:g,parentId:y.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),r.setParent(g,y.parentId),r.setNode(m,{domId:m,id:m,parentId:y.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),r.setParent(m,y.parentId);const v=structuredClone(p),x=structuredClone(p),b=structuredClone(p);v.label="",v.arrowTypeEnd="none",v.id=f+"-cyclic-special-1",x.arrowTypeEnd="none",x.id=f+"-cyclic-special-mid",b.label="",y.isGroup&&(v.fromCluster=f,b.toCluster=f),b.id=f+"-cyclic-special-2",r.setEdge(f,g,v,f+"-cyclic-special-0"),r.setEdge(g,m,x,f+"-cyclic-special-1"),r.setEdge(m,f,b,f+"-cyc<lic-special-2")}else r.setEdge(p.start,p.end,{...p},p.id)}),re.warn("Graph at first:",JSON.stringify(Ts(r))),Wve(r),re.warn("Graph after XAX:",JSON.stringify(Ts(r)));const i=ye();await v7(n,r,e.type,e.diagramId,void 0,i)},"render"),Xve=Object.freeze({__proto__:null,render:Vve}),x7=Ei(C2()),b6=l((e,t)=>{const r=e.append("rect");if(r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),t.name&&r.attr("name",t.name),t.rx&&r.attr("rx",t.rx),t.ry&&r.attr("ry",t.ry),t.attrs!==void 0)for(const n in t.attrs)r.attr(n,t.attrs[n]);return t.class&&r.attr("class",t.class),r},"drawRect"),b7=l((e,t)=>{const r={x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,stroke:t.stroke,class:"rect"};b6(e,r).lower()},"drawBackgroundRect"),Kve=l((e,t)=>{const r=t.text.replace(y0," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class&&n.attr("class",t.class);const i=n.append("tspan");return i.attr("x",t.x+2*t.textMargin),i.text(r),n},"drawText"),Zve=l((e,t,r,n)=>{const i=e.append("image");i.attr("x",t),i.attr("y",r);const a=(0,x7.sanitizeUrl)(n);i.attr("xlink:href",a)},"drawImage"),Qve=l((e,t,r,n)=>{const i=e.append("use");i.attr("x",t),i.attr("y",r);const a=(0,x7.sanitizeUrl)(n);i.attr("xlink:href",`#${a}`)},"drawEmbeddedImage"),mh=l(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),JA=l(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj"),E4=function(){var e=l(function(Ge,V,ue,oe){for(ue=ue||{},oe=Ge.length;oe--;ue[Ge[oe]]=V);return ue},"o"),t=[1,24],r=[1,25],n=[1,26],i=[1,27],a=[1,28],s=[1,63],o=[1,64],u=[1,65],h=[1,66],d=[1,67],p=[1,68],f=[1,69],g=[1,29],m=[1,30],y=[1,31],v=[1,32],x=[1,33],b=[1,34],w=[1,35],T=[1,36],k=[1,37],R=[1,38],C=[1,39],E=[1,40],_=[1,41],L=[1,42],D=[1,43],B=[1,44],S=[1,45],N=[1,46],A=[1,47],M=[1,48],O=[1,50],I=[1,51],P=[1,52],$=[1,53],z=[1,54],G=[1,55],q=[1,56],J=[1,57],ie=[1,58],te=[1,59],W=[1,60],H=[14,42],X=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Q=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],ne=[1,82],ee=[1,83],pe=[1,84],j=[1,85],ce=[12,14,42],le=[12,14,33,42],Ae=[12,14,33,42,76,77,79,80],Se=[12,33],ze=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Pe={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:l(function(Ge,V,ue,oe,we,K,ve){var Y=K.length-1;switch(we){case 3:oe.setDirection("TB");break;case 4:oe.setDirection("BT");break;case 5:oe.setDirection("RL");break;case 6:oe.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:oe.setC4Type(K[Y-3]);break;case 19:oe.setTitle(K[Y].substring(6)),this.$=K[Y].substring(6);break;case 20:oe.setAccDescription(K[Y].substring(15)),this.$=K[Y].substring(15);break;case 21:this.$=K[Y].trim(),oe.setTitle(this.$);break;case 22:case 23:this.$=K[Y].trim(),oe.setAccDescription(this.$);break;case 28:K[Y].splice(2,0,"ENTERPRISE"),oe.addPersonOrSystemBoundary(...K[Y]),this.$=K[Y];break;case 29:K[Y].splice(2,0,"SYSTEM"),oe.addPersonOrSystemBoundary(...K[Y]),this.$=K[Y];break;case 30:oe.addPersonOrSystemBoundary(...K[Y]),this.$=K[Y];break;case 31:K[Y].splice(2,0,"CONTAINER"),oe.addContainerBoundary(...K[Y]),this.$=K[Y];break;case 32:oe.addDeploymentNode("node",...K[Y]),this.$=K[Y];break;case 33:oe.addDeploymentNode("nodeL",...K[Y]),this.$=K[Y];break;case 34:oe.addDeploymentNode("nodeR",...K[Y]),this.$=K[Y];break;case 35:oe.popBoundaryParseStack();break;case 39:oe.addPersonOrSystem("person",...K[Y]),this.$=K[Y];break;case 40:oe.addPersonOrSystem("external_person",...K[Y]),this.$=K[Y];break;case 41:oe.addPersonOrSystem("system",...K[Y]),this.$=K[Y];break;case 42:oe.addPersonOrSystem("system_db",...K[Y]),this.$=K[Y];break;case 43:oe.addPersonOrSystem("system_queue",...K[Y]),this.$=K[Y];break;case 44:oe.addPersonOrSystem("external_system",...K[Y]),this.$=K[Y];break;case 45:oe.addPersonOrSystem("external_system_db",...K[Y]),this.$=K[Y];break;case 46:oe.addPersonOrSystem("external_system_queue",...K[Y]),this.$=K[Y];break;case 47:oe.addContainer("container",...K[Y]),this.$=K[Y];break;case 48:oe.addContainer("container_db",...K[Y]),this.$=K[Y];break;case 49:oe.addContainer("container_queue",...K[Y]),this.$=K[Y];break;case 50:oe.addContainer("external_container",...K[Y]),this.$=K[Y];break;case 51:oe.addContainer("external_container_db",...K[Y]),this.$=K[Y];break;case 52:oe.addContainer("external_container_queue",...K[Y]),this.$=K[Y];break;case 53:oe.addComponent("component",...K[Y]),this.$=K[Y];break;case 54:oe.addComponent("component_db",...K[Y]),this.$=K[Y];break;case 55:oe.addComponent("component_queue",...K[Y]),this.$=K[Y];break;case 56:oe.addComponent("external_component",...K[Y]),this.$=K[Y];break;case 57:oe.addComponent("external_component_db",...K[Y]),this.$=K[Y];break;case 58:oe.addComponent("external_component_queue",...K[Y]),this.$=K[Y];break;case 60:oe.addRel("rel",...K[Y]),this.$=K[Y];break;case 61:oe.addRel("birel",...K[Y]),this.$=K[Y];break;case 62:oe.addRel("rel_u",...K[Y]),this.$=K[Y];break;case 63:oe.addRel("rel_d",...K[Y]),this.$=K[Y];break;case 64:oe.addRel("rel_l",...K[Y]),this.$=K[Y];break;case 65:oe.addRel("rel_r",...K[Y]),this.$=K[Y];break;case 66:oe.addRel("rel_b",...K[Y]),this.$=K[Y];break;case 67:K[Y].splice(0,1),oe.addRel("rel",...K[Y]),this.$=K[Y];break;case 68:oe.updateElStyle("update_el_style",...K[Y]),this.$=K[Y];break;case 69:oe.updateRelStyle("update_rel_style",...K[Y]),this.$=K[Y];break;case 70:oe.updateLayoutConfig("update_layout_config",...K[Y]),this.$=K[Y];break;case 71:this.$=[K[Y]];break;case 72:K[Y].unshift(K[Y-1]),this.$=K[Y];break;case 73:case 75:this.$=K[Y].trim();break;case 74:let he={};he[K[Y-1].trim()]=K[Y].trim(),this.$=he;break;case 76:this.$=""}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:v,48:x,49:b,50:w,51:T,52:k,53:R,54:C,55:E,56:_,57:L,58:D,59:B,60:S,61:N,62:A,63:M,64:O,65:I,66:P,67:$,68:z,69:G,70:q,71:J,72:ie,73:te,74:W},{13:70,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:v,48:x,49:b,50:w,51:T,52:k,53:R,54:C,55:E,56:_,57:L,58:D,59:B,60:S,61:N,62:A,63:M,64:O,65:I,66:P,67:$,68:z,69:G,70:q,71:J,72:ie,73:te,74:W},{13:71,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:v,48:x,49:b,50:w,51:T,52:k,53:R,54:C,55:E,56:_,57:L,58:D,59:B,60:S,61:N,62:A,63:M,64:O,65:I,66:P,67:$,68:z,69:G,70:q,71:J,72:ie,73:te,74:W},{13:72,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:v,48:x,49:b,50:w,51:T,52:k,53:R,54:C,55:E,56:_,57:L,58:D,59:B,60:S,61:N,62:A,63:M,64:O,65:I,66:P,67:$,68:z,69:G,70:q,71:J,72:ie,73:te,74:W},{13:73,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:v,48:x,49:b,50:w,51:T,52:k,53:R,54:C,55:E,56:_,57:L,58:D,59:B,60:S,61:N,62:A,63:M,64:O,65:I,66:P,67:$,68:z,69:G,70:q,71:J,72:ie,73:te,74:W},{14:[1,74]},e(H,[2,13],{43:23,29:49,30:61,32:62,20:75,34:s,36:o,37:u,38:h,39:d,40:p,41:f,44:g,45:m,46:y,47:v,48:x,49:b,50:w,51:T,52:k,53:R,54:C,55:E,56:_,57:L,58:D,59:B,60:S,61:N,62:A,63:M,64:O,65:I,66:P,67:$,68:z,69:G,70:q,71:J,72:ie,73:te,74:W}),e(H,[2,14]),e(X,[2,16],{12:[1,76]}),e(H,[2,36],{12:[1,77]}),e(Q,[2,19]),e(Q,[2,20]),{25:[1,78]},{27:[1,79]},e(Q,[2,23]),{35:80,75:81,76:ne,77:ee,79:pe,80:j},{35:86,75:81,76:ne,77:ee,79:pe,80:j},{35:87,75:81,76:ne,77:ee,79:pe,80:j},{35:88,75:81,76:ne,77:ee,79:pe,80:j},{35:89,75:81,76:ne,77:ee,79:pe,80:j},{35:90,75:81,76:ne,77:ee,79:pe,80:j},{35:91,75:81,76:ne,77:ee,79:pe,80:j},{35:92,75:81,76:ne,77:ee,79:pe,80:j},{35:93,75:81,76:ne,77:ee,79:pe,80:j},{35:94,75:81,76:ne,77:ee,79:pe,80:j},{35:95,75:81,76:ne,77:ee,79:pe,80:j},{35:96,75:81,76:ne,77:ee,79:pe,80:j},{35:97,75:81,76:ne,77:ee,79:pe,80:j},{35:98,75:81,76:ne,77:ee,79:pe,80:j},{35:99,75:81,76:ne,77:ee,79:pe,80:j},{35:100,75:81,76:ne,77:ee,79:pe,80:j},{35:101,75:81,76:ne,77:ee,79:pe,80:j},{35:102,75:81,76:ne,77:ee,79:pe,80:j},{35:103,75:81,76:ne,77:ee,79:pe,80:j},{35:104,75:81,76:ne,77:ee,79:pe,80:j},e(ce,[2,59]),{35:105,75:81,76:ne,77:ee,79:pe,80:j},{35:106,75:81,76:ne,77:ee,79:pe,80:j},{35:107,75:81,76:ne,77:ee,79:pe,80:j},{35:108,75:81,76:ne,77:ee,79:pe,80:j},{35:109,75:81,76:ne,77:ee,79:pe,80:j},{35:110,75:81,76:ne,77:ee,79:pe,80:j},{35:111,75:81,76:ne,77:ee,79:pe,80:j},{35:112,75:81,76:ne,77:ee,79:pe,80:j},{35:113,75:81,76:ne,77:ee,79:pe,80:j},{35:114,75:81,76:ne,77:ee,79:pe,80:j},{35:115,75:81,76:ne,77:ee,79:pe,80:j},{20:116,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:v,48:x,49:b,50:w,51:T,52:k,53:R,54:C,55:E,56:_,57:L,58:D,59:B,60:S,61:N,62:A,63:M,64:O,65:I,66:P,67:$,68:z,69:G,70:q,71:J,72:ie,73:te,74:W},{12:[1,118],33:[1,117]},{35:119,75:81,76:ne,77:ee,79:pe,80:j},{35:120,75:81,76:ne,77:ee,79:pe,80:j},{35:121,75:81,76:ne,77:ee,79:pe,80:j},{35:122,75:81,76:ne,77:ee,79:pe,80:j},{35:123,75:81,76:ne,77:ee,79:pe,80:j},{35:124,75:81,76:ne,77:ee,79:pe,80:j},{35:125,75:81,76:ne,77:ee,79:pe,80:j},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},e(H,[2,15]),e(X,[2,17],{21:22,19:130,22:t,23:r,24:n,26:i,28:a}),e(H,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:t,23:r,24:n,26:i,28:a,34:s,36:o,37:u,38:h,39:d,40:p,41:f,44:g,45:m,46:y,47:v,48:x,49:b,50:w,51:T,52:k,53:R,54:C,55:E,56:_,57:L,58:D,59:B,60:S,61:N,62:A,63:M,64:O,65:I,66:P,67:$,68:z,69:G,70:q,71:J,72:ie,73:te,74:W}),e(Q,[2,21]),e(Q,[2,22]),e(ce,[2,39]),e(le,[2,71],{75:81,35:132,76:ne,77:ee,79:pe,80:j}),e(Ae,[2,73]),{78:[1,133]},e(Ae,[2,75]),e(Ae,[2,76]),e(ce,[2,40]),e(ce,[2,41]),e(ce,[2,42]),e(ce,[2,43]),e(ce,[2,44]),e(ce,[2,45]),e(ce,[2,46]),e(ce,[2,47]),e(ce,[2,48]),e(ce,[2,49]),e(ce,[2,50]),e(ce,[2,51]),e(ce,[2,52]),e(ce,[2,53]),e(ce,[2,54]),e(ce,[2,55]),e(ce,[2,56]),e(ce,[2,57]),e(ce,[2,58]),e(ce,[2,60]),e(ce,[2,61]),e(ce,[2,62]),e(ce,[2,63]),e(ce,[2,64]),e(ce,[2,65]),e(ce,[2,66]),e(ce,[2,67]),e(ce,[2,68]),e(ce,[2,69]),e(ce,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},e(Se,[2,28]),e(Se,[2,29]),e(Se,[2,30]),e(Se,[2,31]),e(Se,[2,32]),e(Se,[2,33]),e(Se,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},e(X,[2,18]),e(H,[2,38]),e(le,[2,72]),e(Ae,[2,74]),e(ce,[2,24]),e(ce,[2,35]),e(ze,[2,25]),e(ze,[2,26],{12:[1,138]}),e(ze,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:l(function(Ge,V){if(!V.recoverable){var ue=new Error(Ge);throw ue.hash=V,ue}this.trace(Ge)},"parseError"),parse:l(function(Ge){var V=this,ue=[0],oe=[],we=[null],K=[],ve=this.table,Y="",he=0,se=0,be=2,Te=1,_e=K.slice.call(arguments,1),Re=Object.create(this.lexer),ke={yy:{}};for(var Be in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Be)&&(ke.yy[Be]=this.yy[Be]);Re.setInput(Ge,ke.yy),ke.yy.lexer=Re,ke.yy.parser=this,Re.yylloc===void 0&&(Re.yylloc={});var Oe=Re.yylloc;K.push(Oe);var ft=Re.options&&Re.options.ranges;function Et(Fe){ue.length=ue.length-2*Fe,we.length=we.length-Fe,K.length=K.length-Fe}function Ye(){var Fe;return typeof(Fe=oe.pop()||Re.lex()||Te)!="number"&&(Fe instanceof Array&&(Fe=(oe=Fe).pop()),Fe=V.symbols_[Fe]||Fe),Fe}typeof ke.yy.parseError=="function"?this.parseError=ke.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,l(Et,"popStack"),l(Ye,"lex");for(var bt,at,De,rt,Je,Ze,ht,mt,yt={};;){if(at=ue[ue.length-1],this.defaultActions[at]?De=this.defaultActions[at]:(bt==null&&(bt=Ye()),De=ve[at]&&ve[at][bt]),De===void 0||!De.length||!De[0]){var Xe="";for(Je in mt=[],ve[at])this.terminals_[Je]&&Je>be&&mt.push("'"+this.terminals_[Je]+"'");Xe=Re.showPosition?"Parse error on line "+(he+1)+`:
`+Re.showPosition()+`
Expecting `+mt.join(", ")+", got '"+(this.terminals_[bt]||bt)+"'":"Parse error on line "+(he+1)+": Unexpected "+(bt==Te?"end of input":"'"+(this.terminals_[bt]||bt)+"'"),this.parseError(Xe,{text:Re.match,token:this.terminals_[bt]||bt,line:Re.yylineno,loc:Oe,expected:mt})}if(De[0]instanceof Array&&De.length>1)throw new Error("Parse Error: multiple actions possible at state: "+at+", token: "+bt);switch(De[0]){case 1:ue.push(bt),we.push(Re.yytext),K.push(Re.yylloc),ue.push(De[1]),bt=null,se=Re.yyleng,Y=Re.yytext,he=Re.yylineno,Oe=Re.yylloc;break;case 2:if(Ze=this.productions_[De[1]][1],yt.$=we[we.length-Ze],yt._$={first_line:K[K.length-(Ze||1)].first_line,last_line:K[K.length-1].last_line,first_column:K[K.length-(Ze||1)].first_column,last_column:K[K.length-1].last_column},ft&&(yt._$.range=[K[K.length-(Ze||1)].range[0],K[K.length-1].range[1]]),(rt=this.performAction.apply(yt,[Y,se,he,ke.yy,De[1],we,K].concat(_e)))!==void 0)return rt;Ze&&(ue=ue.slice(0,-1*Ze*2),we=we.slice(0,-1*Ze),K=K.slice(0,-1*Ze)),ue.push(this.productions_[De[1]][0]),we.push(yt.$),K.push(yt._$),ht=ve[ue[ue.length-2]][ue[ue.length-1]],ue.push(ht);break;case 3:return!0}}return!0},"parse")},Ve=function(){var Ge={EOF:1,parseError:l(function(V,ue){if(!this.yy.parser)throw new Error(V);this.yy.parser.parseError(V,ue)},"parseError"),setInput:l(function(V,ue){return this.yy=ue||this.yy||{},this._input=V,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var V=this._input[0];return this.yytext+=V,this.yyleng++,this.offset++,this.match+=V,this.matched+=V,V.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),V},"input"),unput:l(function(V){var ue=V.length,oe=V.split(/(?:\r\n?|\n)/g);this._input=V+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ue),this.offset-=ue;var we=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),oe.length-1&&(this.yylineno-=oe.length-1);var K=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:oe?(oe.length===we.length?this.yylloc.first_column:0)+we[we.length-oe.length].length-oe[0].length:this.yylloc.first_column-ue},this.options.ranges&&(this.yylloc.range=[K[0],K[0]+this.yyleng-ue]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:l(function(V){this.unput(this.match.slice(V))},"less"),pastInput:l(function(){var V=this.matched.substr(0,this.matched.length-this.match.length);return(V.length>20?"...":"")+V.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var V=this.match;return V.length<20&&(V+=this._input.substr(0,20-V.length)),(V.substr(0,20)+(V.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var V=this.pastInput(),ue=new Array(V.length+1).join("-");return V+this.upcomingInput()+`
`+ue+"^"},"showPosition"),test_match:l(function(V,ue){var oe,we,K;if(this.options.backtrack_lexer&&(K={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(K.yylloc.range=this.yylloc.range.slice(0))),(we=V[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=we.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:we?we[we.length-1].length-we[we.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+V[0].length},this.yytext+=V[0],this.match+=V[0],this.matches=V,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(V[0].length),this.matched+=V[0],oe=this.performAction.call(this,this.yy,this,ue,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),oe)return oe;if(this._backtrack){for(var ve in K)this[ve]=K[ve];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;var V,ue,oe,we;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var K=this._currentRules(),ve=0;ve<K.length;ve++)if((oe=this._input.match(this.rules[K[ve]]))&&(!ue||oe[0].length>ue[0].length)){if(ue=oe,we=ve,this.options.backtrack_lexer){if((V=this.test_match(oe,K[ve]))!==!1)return V;if(this._backtrack){ue=!1;continue}return!1}if(!this.options.flex)break}return ue?(V=this.test_match(ue,K[we]))!==!1&&V:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var V=this.next();return V||this.lex()},"lex"),begin:l(function(V){this.conditionStack.push(V)},"begin"),popState:l(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(V){return(V=this.conditionStack.length-1-Math.abs(V||0))>=0?this.conditionStack[V]:"INITIAL"},"topState"),pushState:l(function(V){this.begin(V)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:l(function(V,ue,oe,we){switch(oe){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 73:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:case 16:case 70:break;case 14:c;break;case 15:return 12;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:case 53:return this.begin("rel_u"),66;case 54:case 55:return this.begin("rel_d"),67;case 56:case 57:return this.begin("rel_l"),68;case 58:case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:case 79:this.popState(),this.popState();break;case 69:case 71:return 80;case 72:this.begin("string");break;case 74:case 80:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return Ge}();function Ue(){this.yy={}}return Pe.lexer=Ve,l(Ue,"Parser"),Ue.prototype=Pe,Pe.Parser=Ue,new Ue}();E4.parser=E4;var w7,Jve=E4,Is=[],ql=[""],Di="global",Cs="",co=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],$y=[],e1="",t1=!1,C4=4,S4=2,exe=l(function(){return w7},"getC4Type"),txe=l(function(e){w7=Ir(e,ye())},"setC4Type"),rxe=l(function(e,t,r,n,i,a,s,o,u){if(e==null||t==null||r==null||n==null)return;let h={};const d=$y.find(p=>p.from===t&&p.to===r);if(d?h=d:$y.push(h),h.type=e,h.from=t,h.to=r,h.label={text:n},i==null)h.techn={text:""};else if(typeof i=="object"){let[p,f]=Object.entries(i)[0];h[p]={text:f}}else h.techn={text:i};if(a==null)h.descr={text:""};else if(typeof a=="object"){let[p,f]=Object.entries(a)[0];h[p]={text:f}}else h.descr={text:a};if(typeof s=="object"){let[p,f]=Object.entries(s)[0];h[p]=f}else h.sprite=s;if(typeof o=="object"){let[p,f]=Object.entries(o)[0];h[p]=f}else h.tags=o;if(typeof u=="object"){let[p,f]=Object.entries(u)[0];h[p]=f}else h.link=u;h.wrap=vc()},"addRel"),nxe=l(function(e,t,r,n,i,a,s){if(t===null||r===null)return;let o={};const u=Is.find(h=>h.alias===t);if(u&&t===u.alias?o=u:(o.alias=t,Is.push(o)),o.label=r==null?{text:""}:{text:r},n==null)o.descr={text:""};else if(typeof n=="object"){let[h,d]=Object.entries(n)[0];o[h]={text:d}}else o.descr={text:n};if(typeof i=="object"){let[h,d]=Object.entries(i)[0];o[h]=d}else o.sprite=i;if(typeof a=="object"){let[h,d]=Object.entries(a)[0];o[h]=d}else o.tags=a;if(typeof s=="object"){let[h,d]=Object.entries(s)[0];o[h]=d}else o.link=s;o.typeC4Shape={text:e},o.parentBoundary=Di,o.wrap=vc()},"addPersonOrSystem"),ixe=l(function(e,t,r,n,i,a,s,o){if(t===null||r===null)return;let u={};const h=Is.find(d=>d.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,Is.push(u)),u.label=r==null?{text:""}:{text:r},n==null)u.techn={text:""};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];u[d]={text:p}}else u.techn={text:n};if(i==null)u.descr={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.descr={text:i};if(typeof a=="object"){let[d,p]=Object.entries(a)[0];u[d]=p}else u.sprite=a;if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.tags=s;if(typeof o=="object"){let[d,p]=Object.entries(o)[0];u[d]=p}else u.link=o;u.wrap=vc(),u.typeC4Shape={text:e},u.parentBoundary=Di},"addContainer"),axe=l(function(e,t,r,n,i,a,s,o){if(t===null||r===null)return;let u={};const h=Is.find(d=>d.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,Is.push(u)),u.label=r==null?{text:""}:{text:r},n==null)u.techn={text:""};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];u[d]={text:p}}else u.techn={text:n};if(i==null)u.descr={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.descr={text:i};if(typeof a=="object"){let[d,p]=Object.entries(a)[0];u[d]=p}else u.sprite=a;if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.tags=s;if(typeof o=="object"){let[d,p]=Object.entries(o)[0];u[d]=p}else u.link=o;u.wrap=vc(),u.typeC4Shape={text:e},u.parentBoundary=Di},"addComponent"),sxe=l(function(e,t,r,n,i){if(e===null||t===null)return;let a={};const s=co.find(o=>o.alias===e);if(s&&e===s.alias?a=s:(a.alias=e,co.push(a)),a.label=t==null?{text:""}:{text:t},r==null)a.type={text:"system"};else if(typeof r=="object"){let[o,u]=Object.entries(r)[0];a[o]={text:u}}else a.type={text:r};if(typeof n=="object"){let[o,u]=Object.entries(n)[0];a[o]=u}else a.tags=n;if(typeof i=="object"){let[o,u]=Object.entries(i)[0];a[o]=u}else a.link=i;a.parentBoundary=Di,a.wrap=vc(),Cs=Di,Di=e,ql.push(Cs)},"addPersonOrSystemBoundary"),oxe=l(function(e,t,r,n,i){if(e===null||t===null)return;let a={};const s=co.find(o=>o.alias===e);if(s&&e===s.alias?a=s:(a.alias=e,co.push(a)),a.label=t==null?{text:""}:{text:t},r==null)a.type={text:"container"};else if(typeof r=="object"){let[o,u]=Object.entries(r)[0];a[o]={text:u}}else a.type={text:r};if(typeof n=="object"){let[o,u]=Object.entries(n)[0];a[o]=u}else a.tags=n;if(typeof i=="object"){let[o,u]=Object.entries(i)[0];a[o]=u}else a.link=i;a.parentBoundary=Di,a.wrap=vc(),Cs=Di,Di=e,ql.push(Cs)},"addContainerBoundary"),lxe=l(function(e,t,r,n,i,a,s,o){if(t===null||r===null)return;let u={};const h=co.find(d=>d.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,co.push(u)),u.label=r==null?{text:""}:{text:r},n==null)u.type={text:"node"};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];u[d]={text:p}}else u.type={text:n};if(i==null)u.descr={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.descr={text:i};if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.tags=s;if(typeof o=="object"){let[d,p]=Object.entries(o)[0];u[d]=p}else u.link=o;u.nodeType=e,u.parentBoundary=Di,u.wrap=vc(),Cs=Di,Di=t,ql.push(Cs)},"addDeploymentNode"),cxe=l(function(){Di=Cs,ql.pop(),Cs=ql.pop(),ql.push(Cs)},"popBoundaryParseStack"),uxe=l(function(e,t,r,n,i,a,s,o,u,h,d){let p=Is.find(f=>f.alias===t);if(p!==void 0||(p=co.find(f=>f.alias===t),p!==void 0)){if(r!=null)if(typeof r=="object"){let[f,g]=Object.entries(r)[0];p[f]=g}else p.bgColor=r;if(n!=null)if(typeof n=="object"){let[f,g]=Object.entries(n)[0];p[f]=g}else p.fontColor=n;if(i!=null)if(typeof i=="object"){let[f,g]=Object.entries(i)[0];p[f]=g}else p.borderColor=i;if(a!=null)if(typeof a=="object"){let[f,g]=Object.entries(a)[0];p[f]=g}else p.shadowing=a;if(s!=null)if(typeof s=="object"){let[f,g]=Object.entries(s)[0];p[f]=g}else p.shape=s;if(o!=null)if(typeof o=="object"){let[f,g]=Object.entries(o)[0];p[f]=g}else p.sprite=o;if(u!=null)if(typeof u=="object"){let[f,g]=Object.entries(u)[0];p[f]=g}else p.techn=u;if(h!=null)if(typeof h=="object"){let[f,g]=Object.entries(h)[0];p[f]=g}else p.legendText=h;if(d!=null)if(typeof d=="object"){let[f,g]=Object.entries(d)[0];p[f]=g}else p.legendSprite=d}},"updateElStyle"),hxe=l(function(e,t,r,n,i,a,s){const o=$y.find(u=>u.from===t&&u.to===r);if(o!==void 0){if(n!=null)if(typeof n=="object"){let[u,h]=Object.entries(n)[0];o[u]=h}else o.textColor=n;if(i!=null)if(typeof i=="object"){let[u,h]=Object.entries(i)[0];o[u]=h}else o.lineColor=i;if(a!=null)if(typeof a=="object"){let[u,h]=Object.entries(a)[0];o[u]=parseInt(h)}else o.offsetX=parseInt(a);if(s!=null)if(typeof s=="object"){let[u,h]=Object.entries(s)[0];o[u]=parseInt(h)}else o.offsetY=parseInt(s)}},"updateRelStyle"),dxe=l(function(e,t,r){let n=C4,i=S4;if(typeof t=="object"){const a=Object.values(t)[0];n=parseInt(a)}else n=parseInt(t);if(typeof r=="object"){const a=Object.values(r)[0];i=parseInt(a)}else i=parseInt(r);n>=1&&(C4=n),i>=1&&(S4=i)},"updateLayoutConfig"),pxe=l(function(){return C4},"getC4ShapeInRow"),fxe=l(function(){return S4},"getC4BoundaryInRow"),gxe=l(function(){return Di},"getCurrentBoundaryParse"),mxe=l(function(){return Cs},"getParentBoundaryParse"),k7=l(function(e){return e==null?Is:Is.filter(t=>t.parentBoundary===e)},"getC4ShapeArray"),yxe=l(function(e){return Is.find(t=>t.alias===e)},"getC4Shape"),vxe=l(function(e){return Object.keys(k7(e))},"getC4ShapeKeys"),T7=l(function(e){return e==null?co:co.filter(t=>t.parentBoundary===e)},"getBoundaries"),xxe=T7,bxe=l(function(){return $y},"getRels"),wxe=l(function(){return e1},"getTitle"),kxe=l(function(e){t1=e},"setWrap"),vc=l(function(){return t1},"autoWrap"),Txe=l(function(){Is=[],co=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Cs="",Di="global",ql=[""],$y=[],ql=[""],e1="",t1=!1,C4=4,S4=2},"clear"),_xe=l(function(e){e1=Ir(e,ye())},"setTitle"),bE={addPersonOrSystem:nxe,addPersonOrSystemBoundary:sxe,addContainer:ixe,addContainerBoundary:oxe,addComponent:axe,addDeploymentNode:lxe,popBoundaryParseStack:cxe,addRel:rxe,updateElStyle:uxe,updateRelStyle:hxe,updateLayoutConfig:dxe,autoWrap:vc,setWrap:kxe,getC4ShapeArray:k7,getC4Shape:yxe,getC4ShapeKeys:vxe,getBoundaries:T7,getBoundarys:xxe,getCurrentBoundaryParse:gxe,getParentBoundaryParse:mxe,getRels:bxe,getTitle:wxe,getC4Type:exe,getC4ShapeInRow:pxe,getC4BoundaryInRow:fxe,setAccTitle:Vn,getAccTitle:ci,getAccDescription:hi,setAccDescription:ui,getConfig:l(()=>ye().c4,"getConfig"),clear:Txe,LINETYPE:{SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},setTitle:_xe,setC4Type:txe},Exe=Ei(C2()),r1=l(function(e,t){return b6(e,t)},"drawRect"),_7=l(function(e,t,r,n,i,a){const s=e.append("image");s.attr("width",t),s.attr("height",r),s.attr("x",n),s.attr("y",i);let o=a.startsWith("data:image/png;base64")?a:(0,Exe.sanitizeUrl)(a);s.attr("xlink:href",o)},"drawImage"),Cxe=l((e,t,r)=>{const n=e.append("g");let i=0;for(let a of t){let s=a.textColor?a.textColor:"#444444",o=a.lineColor?a.lineColor:"#444444",u=a.offsetX?parseInt(a.offsetX):0,h=a.offsetY?parseInt(a.offsetY):0,d="";if(i===0){let f=n.append("line");f.attr("x1",a.startPoint.x),f.attr("y1",a.startPoint.y),f.attr("x2",a.endPoint.x),f.attr("y2",a.endPoint.y),f.attr("stroke-width","1"),f.attr("stroke",o),f.style("fill","none"),a.type!=="rel_b"&&f.attr("marker-end","url("+d+"#arrowhead)"),a.type!=="birel"&&a.type!=="rel_b"||f.attr("marker-start","url("+d+"#arrowend)"),i=-1}else{let f=n.append("path");f.attr("fill","none").attr("stroke-width","1").attr("stroke",o).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",a.startPoint.x).replaceAll("starty",a.startPoint.y).replaceAll("controlx",a.startPoint.x+(a.endPoint.x-a.startPoint.x)/2-(a.endPoint.x-a.startPoint.x)/4).replaceAll("controly",a.startPoint.y+(a.endPoint.y-a.startPoint.y)/2).replaceAll("stopx",a.endPoint.x).replaceAll("stopy",a.endPoint.y)),a.type!=="rel_b"&&f.attr("marker-end","url("+d+"#arrowhead)"),a.type!=="birel"&&a.type!=="rel_b"||f.attr("marker-start","url("+d+"#arrowend)")}let p=r.messageFont();Ro(r)(a.label.text,n,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+u,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+h,a.label.width,a.label.height,{fill:s},p),a.techn&&a.techn.text!==""&&(p=r.messageFont(),Ro(r)("["+a.techn.text+"]",n,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+u,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+r.messageFontSize+5+h,Math.max(a.label.width,a.techn.width),a.techn.height,{fill:s,"font-style":"italic"},p))}},"drawRels"),Sxe=l(function(e,t,r){const n=e.append("g");let i=t.bgColor?t.bgColor:"none",a=t.borderColor?t.borderColor:"#444444",s=t.fontColor?t.fontColor:"black",o={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(o={"stroke-width":1});let u={x:t.x,y:t.y,fill:i,stroke:a,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:o};r1(n,u);let h=r.boundaryFont();h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=s,Ro(r)(t.label.text,n,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},h),t.type&&t.type.text!==""&&(h=r.boundaryFont(),h.fontColor=s,Ro(r)(t.type.text,n,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},h)),t.descr&&t.descr.text!==""&&(h=r.boundaryFont(),h.fontSize=h.fontSize-2,h.fontColor=s,Ro(r)(t.descr.text,n,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},h))},"drawBoundary"),Axe=l(function(e,t,r){var p;let n=t.bgColor?t.bgColor:r[t.typeC4Shape.text+"_bg_color"],i=t.borderColor?t.borderColor:r[t.typeC4Shape.text+"_border_color"],a=t.fontColor?t.fontColor:"#FFFFFF",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII="}const o=e.append("g");o.attr("class","person-man");const u=mh();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":u.x=t.x,u.y=t.y,u.fill=n,u.width=t.width,u.height=t.height,u.stroke=i,u.rx=2.5,u.ry=2.5,u.attrs={"stroke-width":.5},r1(o,u);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":o.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":o.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2))}let h=Bxe(r,t.typeC4Shape.text);switch(o.append("text").attr("fill",a).attr("font-family",h.fontFamily).attr("font-size",h.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":_7(o,48,48,t.x+t.width/2-24,t.y+t.image.Y,s)}let d=r[t.typeC4Shape.text+"Font"]();return d.fontWeight="bold",d.fontSize=d.fontSize+2,d.fontColor=a,Ro(r)(t.label.text,o,t.x,t.y+t.label.Y,t.width,t.height,{fill:a},d),d=r[t.typeC4Shape.text+"Font"](),d.fontColor=a,t.techn&&((p=t.techn)==null?void 0:p.text)!==""?Ro(r)(t.techn.text,o,t.x,t.y+t.techn.Y,t.width,t.height,{fill:a,"font-style":"italic"},d):t.type&&t.type.text!==""&&Ro(r)(t.type.text,o,t.x,t.y+t.type.Y,t.width,t.height,{fill:a,"font-style":"italic"},d),t.descr&&t.descr.text!==""&&(d=r.personFont(),d.fontColor=a,Ro(r)(t.descr.text,o,t.x,t.y+t.descr.Y,t.width,t.height,{fill:a},d)),t.height},"drawC4Shape"),Lxe=l(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),Nxe=l(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),Ixe=l(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),Mxe=l(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),Rxe=l(function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),Dxe=l(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),Oxe=l(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),Pxe=l(function(e){const t=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);t.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),t.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),Bxe=l((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"getC4ShapeFont"),Ro=function(){function e(i,a,s,o,u,h,d){n(a.append("text").attr("x",s+u/2).attr("y",o+h/2+5).style("text-anchor","middle").text(i),d)}function t(i,a,s,o,u,h,d,p){const{fontSize:f,fontFamily:g,fontWeight:m}=p,y=i.split(He.lineBreakRegex);for(let v=0;v<y.length;v++){const x=v*f-f*(y.length-1)/2,b=a.append("text").attr("x",s+u/2).attr("y",o).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",f).style("font-weight",m).style("font-family",g);b.append("tspan").attr("dy",x).text(y[v]).attr("alignment-baseline","mathematical"),n(b,d)}}function r(i,a,s,o,u,h,d,p){const f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",o).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,f,s,o,u,0,d,p),n(g,d)}function n(i,a){for(const s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return l(e,"byText"),l(t,"byTspan"),l(r,"byFo"),l(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),Ys={drawRect:r1,drawBoundary:Sxe,drawC4Shape:Axe,drawRels:Cxe,drawImage:_7,insertArrowHead:Mxe,insertArrowEnd:Rxe,insertArrowFilledHead:Dxe,insertDynamicNumber:Oxe,insertArrowCrossHead:Pxe,insertDatabaseIcon:Lxe,insertComputerIcon:Nxe,insertClockIcon:Ixe},A4=0,L4=0,E7=4,wE=2;E4.yy=bE;var kt={},gp,C7=(gp=class{constructor(t){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,kE(t.db.getConfig())}setData(t,r,n,i){this.nextData.startx=this.data.startx=t,this.nextData.stopx=this.data.stopx=r,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=i}updateVal(t,r,n,i){t[r]===void 0?t[r]=n:t[r]=i(n,t[r])}insert(t){this.nextData.cnt=this.nextData.cnt+1;let r=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+t.margin:this.nextData.stopx+2*t.margin,n=r+t.width,i=this.nextData.starty+2*t.margin,a=i+t.height;(r>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>E7)&&(r=this.nextData.startx+t.margin+kt.nextLinePaddingX,i=this.nextData.stopy+2*t.margin,this.nextData.stopx=n=r+t.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=a=i+t.height,this.nextData.cnt=1),t.x=r,t.y=i,this.updateVal(this.data,"startx",r,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",a,Math.max),this.updateVal(this.nextData,"startx",r,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",a,Math.max)}init(t){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},kE(t.db.getConfig())}bumpLastMargin(t){this.data.stopx+=t,this.data.stopy+=t}},l(gp,"Bounds"),gp),kE=l(function(e){Pn(kt,e),e.fontFamily&&(kt.personFontFamily=kt.systemFontFamily=kt.messageFontFamily=e.fontFamily),e.fontSize&&(kt.personFontSize=kt.systemFontSize=kt.messageFontSize=e.fontSize),e.fontWeight&&(kt.personFontWeight=kt.systemFontWeight=kt.messageFontWeight=e.fontWeight)},"setConf"),K0=l((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"c4ShapeFont"),Wx=l(e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),"boundaryFont"),$xe=l(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont");function Za(e,t,r,n,i){if(!t[e].width)if(r)t[e].text=cH(t[e].text,i,n),t[e].textLines=t[e].text.split(He.lineBreakRegex).length,t[e].width=i,t[e].height=e4(t[e].text,n);else{let a=t[e].text.split(He.lineBreakRegex);t[e].textLines=a.length;let s=0;t[e].height=0,t[e].width=0;for(const o of a)t[e].width=Math.max(Ja(o,n),t[e].width),s=e4(o,n),t[e].height=t[e].height+s}}l(Za,"calcC4ShapeTextWH");var S7=l(function(e,t,r){t.x=r.data.startx,t.y=r.data.starty,t.width=r.data.stopx-r.data.startx,t.height=r.data.stopy-r.data.starty,t.label.y=kt.c4ShapeMargin-35;let n=t.wrap&&kt.wrap,i=Wx(kt);i.fontSize=i.fontSize+2,i.fontWeight="bold",Za("label",t,n,i,Ja(t.label.text,i)),Ys.drawBoundary(e,t,kt)},"drawBoundary"),A7=l(function(e,t,r,n){let i=0;for(const a of n){i=0;const s=r[a];let o=K0(kt,s.typeC4Shape.text);switch(o.fontSize=o.fontSize-2,s.typeC4Shape.width=Ja(""+s.typeC4Shape.text+"",o),s.typeC4Shape.height=o.fontSize+2,s.typeC4Shape.Y=kt.c4ShapePadding,i=s.typeC4Shape.Y+s.typeC4Shape.height-4,s.image={width:0,height:0,Y:0},s.typeC4Shape.text){case"person":case"external_person":s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height}s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height);let u=s.wrap&&kt.wrap,h=kt.width-2*kt.c4ShapePadding,d=K0(kt,s.typeC4Shape.text);d.fontSize=d.fontSize+2,d.fontWeight="bold",Za("label",s,u,d,h),s.label.Y=i+8,i=s.label.Y+s.label.height,s.type&&s.type.text!==""?(s.type.text="["+s.type.text+"]",Za("type",s,u,K0(kt,s.typeC4Shape.text),h),s.type.Y=i+5,i=s.type.Y+s.type.height):s.techn&&s.techn.text!==""&&(s.techn.text="["+s.techn.text+"]",Za("techn",s,u,K0(kt,s.techn.text),h),s.techn.Y=i+5,i=s.techn.Y+s.techn.height);let p=i,f=s.label.width;s.descr&&s.descr.text!==""&&(Za("descr",s,u,K0(kt,s.typeC4Shape.text),h),s.descr.Y=i+20,i=s.descr.Y+s.descr.height,f=Math.max(s.label.width,s.descr.width),p=i-5*s.descr.textLines),f+=kt.c4ShapePadding,s.width=Math.max(s.width||kt.width,f,kt.width),s.height=Math.max(s.height||kt.height,p,kt.height),s.margin=s.margin||kt.c4ShapeMargin,e.insert(s),Ys.drawC4Shape(t,s,kt)}e.bumpLastMargin(kt.c4ShapeMargin)},"drawC4ShapeArray"),mp,Pa=(mp=class{constructor(t,r){this.x=t,this.y=r}},l(mp,"Point"),mp),tD=l(function(e,t){let r=e.x,n=e.y,i=t.x,a=t.y,s=r+e.width/2,o=n+e.height/2,u=Math.abs(r-i),h=Math.abs(n-a),d=h/u,p=e.height/e.width,f=null;return n==a&&r<i?f=new Pa(r+e.width,o):n==a&&r>i?f=new Pa(r,o):r==i&&n<a?f=new Pa(s,n+e.height):r==i&&n>a&&(f=new Pa(s,n)),r>i&&n<a?f=p>=d?new Pa(r,o+d*e.width/2):new Pa(s-u/h*e.height/2,n+e.height):r<i&&n<a?f=p>=d?new Pa(r+e.width,o+d*e.width/2):new Pa(s+u/h*e.height/2,n+e.height):r<i&&n>a?f=p>=d?new Pa(r+e.width,o-d*e.width/2):new Pa(s+e.height/2*u/h,n):r>i&&n>a&&(f=p>=d?new Pa(r,o-e.width/2*d):new Pa(s-e.height/2*u/h,n)),f},"getIntersectPoint"),Fxe=l(function(e,t){let r={x:0,y:0};r.x=t.x+t.width/2,r.y=t.y+t.height/2;let n=tD(e,r);return r.x=e.x+e.width/2,r.y=e.y+e.height/2,{startPoint:n,endPoint:tD(t,r)}},"getIntersectPoints"),zxe=l(function(e,t,r,n){let i=0;for(let a of t){i+=1;let s=a.wrap&&kt.wrap,o=$xe(kt);n.db.getC4Type()==="C4Dynamic"&&(a.label.text=i+": "+a.label.text);let u=Ja(a.label.text,o);Za("label",a,s,o,u),a.techn&&a.techn.text!==""&&(u=Ja(a.techn.text,o),Za("techn",a,s,o,u)),a.descr&&a.descr.text!==""&&(u=Ja(a.descr.text,o),Za("descr",a,s,o,u));let h=r(a.from),d=r(a.to),p=Fxe(h,d);a.startPoint=p.startPoint,a.endPoint=p.endPoint}Ys.drawRels(e,t,kt)},"drawRels");function n1(e,t,r,n,i){let a=new C7(i);a.data.widthLimit=r.data.widthLimit/Math.min(wE,n.length);for(let[s,o]of n.entries()){let u=0;o.image={width:0,height:0,Y:0},o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=u,u=o.image.Y+o.image.height);let h=o.wrap&&kt.wrap,d=Wx(kt);if(d.fontSize=d.fontSize+2,d.fontWeight="bold",Za("label",o,h,d,a.data.widthLimit),o.label.Y=u+8,u=o.label.Y+o.label.height,o.type&&o.type.text!==""&&(o.type.text="["+o.type.text+"]",Za("type",o,h,Wx(kt),a.data.widthLimit),o.type.Y=u+5,u=o.type.Y+o.type.height),o.descr&&o.descr.text!==""){let m=Wx(kt);m.fontSize=m.fontSize-2,Za("descr",o,h,m,a.data.widthLimit),o.descr.Y=u+20,u=o.descr.Y+o.descr.height}if(s==0||s%wE==0){let m=r.data.startx+kt.diagramMarginX,y=r.data.stopy+kt.diagramMarginY+u;a.setData(m,m,y,y)}else{let m=a.data.stopx!==a.data.startx?a.data.stopx+kt.diagramMarginX:a.data.startx,y=a.data.starty;a.setData(m,m,y,y)}a.name=o.alias;let p=i.db.getC4ShapeArray(o.alias),f=i.db.getC4ShapeKeys(o.alias);f.length>0&&A7(a,e,p,f),t=o.alias;let g=i.db.getBoundarys(t);g.length>0&&n1(e,t,a,g,i),o.alias!=="global"&&S7(e,o,a),r.data.stopy=Math.max(a.data.stopy+kt.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(a.data.stopx+kt.c4ShapeMargin,r.data.stopx),A4=Math.max(A4,r.data.stopx),L4=Math.max(L4,r.data.stopy)}}l(n1,"drawInsideBoundary");var ds,w6,Uxe=l(function(e,t,r,n){kt=ye().c4;const i=ye().securityLevel;let a;i==="sandbox"&&(a=Qe("#i"+t));const s=Qe(i==="sandbox"?a.nodes()[0].contentDocument.body:"body");let o=n.db;n.db.setWrap(kt.wrap),E7=o.getC4ShapeInRow(),wE=o.getC4BoundaryInRow(),re.debug(`C:${JSON.stringify(kt,null,2)}`);const u=i==="sandbox"?s.select(`[id="${t}"]`):Qe(`[id="${t}"]`);Ys.insertComputerIcon(u),Ys.insertDatabaseIcon(u),Ys.insertClockIcon(u);let h=new C7(n);h.setData(kt.diagramMarginX,kt.diagramMarginX,kt.diagramMarginY,kt.diagramMarginY),h.data.widthLimit=screen.availWidth,A4=kt.diagramMarginX,L4=kt.diagramMarginY;const d=n.db.getTitle();n1(u,"",h,n.db.getBoundarys(""),n),Ys.insertArrowHead(u),Ys.insertArrowEnd(u),Ys.insertArrowCrossHead(u),Ys.insertArrowFilledHead(u),zxe(u,n.db.getRels(),n.db.getC4Shape,n),h.data.stopx=A4,h.data.stopy=L4;const p=h.data;let f=p.stopy-p.starty+2*kt.diagramMarginY;const g=p.stopx-p.startx+2*kt.diagramMarginX;d&&u.append("text").text(d).attr("x",(p.stopx-p.startx)/2-4*kt.diagramMarginX).attr("y",p.starty+kt.diagramMarginY),Ci(u,f,g,kt.useMaxWidth);const m=d?60:0;u.attr("viewBox",p.startx-kt.diagramMarginX+" -"+(kt.diagramMarginY+m)+" "+g+" "+(f+m)),re.debug("models:",p)},"draw"),rD={drawPersonOrSystemArray:A7,drawBoundary:S7,setConf:kE,draw:Uxe},Gxe={parser:Jve,db:bE,renderer:rD,styles:l(e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,"getStyles"),init:l(({c4:e,wrap:t})=>{rD.setConf(e),bE.setWrap(t)},"init")},qxe=Object.freeze({__proto__:null,diagram:Gxe}),i1=l((e,t)=>{let r;return t==="sandbox"&&(r=Qe("#i"+e)),Qe(t==="sandbox"?r.nodes()[0].contentDocument.body:"body").select(`[id="${e}"]`)},"getDiagramElement"),a1=l((e,t,r,n)=>{e.attr("class",r);const{width:i,height:a,x:s,y:o}=jxe(e,t);Ci(e,a,i,n);const u=Yxe(s,o,i,a,t);e.attr("viewBox",u),re.debug(`viewBox configured: ${u} with padding: ${t}`)},"setupViewPortForSVG"),jxe=l((e,t)=>{var n;const r=((n=e.node())==null?void 0:n.getBBox())||{width:0,height:0,x:0,y:0};return{width:r.width+2*t,height:r.height+2*t,x:r.x,y:r.y}},"calculateDimensionsWithPadding"),Yxe=l((e,t,r,n,i)=>`${e-i} ${t-i} ${r} ${n}`,"createViewBox"),nD=0,n0=ye(),rc=new Map,Wi=[],Fy=new Map,Xo=[],s1=new Map,o1=new Map,TE=0,_E=!0,k6=[],T6=l(e=>He.sanitizeText(e,n0),"sanitizeText"),_6=l(function(e){for(const t of rc.values())if(t.id===e)return t.domId;return e},"lookUpDomId"),Wxe=l(function(e,t,r,n,i,a,s={},o){var d,p;if(!e||e.trim().length===0)return;let u,h=rc.get(e);if(h===void 0&&(h={id:e,labelType:"text",domId:"flowchart-"+e+"-"+nD,styles:[],classes:[]},rc.set(e,h)),nD++,t!==void 0?(n0=ye(),u=T6(t.text.trim()),h.labelType=t.type,u.startsWith('"')&&u.endsWith('"')&&(u=u.substring(1,u.length-1)),h.text=u):h.text===void 0&&(h.text=e),r!==void 0&&(h.type=r),n!=null&&n.forEach(function(f){h.styles.push(f)}),i!=null&&i.forEach(function(f){h.classes.push(f)}),a!==void 0&&(h.dir=a),h.props===void 0?h.props=s:s!==void 0&&Object.assign(h.props,s),o!==void 0){let f;f=o.includes(`
`)?o+`
`:`{
`+o+`
}`;const g=R8(f,{schema:M8});if(g.shape){if(g.shape!==g.shape.toLowerCase()||g.shape.includes("_"))throw new Error(`No such shape: ${g.shape}. Shape names should be lowercase.`);if(!tX(g.shape))throw new Error(`No such shape: ${g.shape}.`);h.type=g==null?void 0:g.shape}g!=null&&g.label&&(h.text=g==null?void 0:g.label),g!=null&&g.icon&&(h.icon=g==null?void 0:g.icon,(d=g.label)!=null&&d.trim()||h.text!==e||(h.text="")),g!=null&&g.form&&(h.form=g==null?void 0:g.form),g!=null&&g.pos&&(h.pos=g==null?void 0:g.pos),g!=null&&g.img&&(h.img=g==null?void 0:g.img,(p=g.label)!=null&&p.trim()||h.text!==e||(h.text="")),g!=null&&g.constraint&&(h.constraint=g.constraint),g.w&&(h.assetWidth=Number(g.w)),g.h&&(h.assetHeight=Number(g.h))}},"addVertex"),Hxe=l(function(e,t,r){const n={start:e,end:t,type:void 0,text:"",labelType:"text"};re.info("abc78 Got edge...",n);const i=r.text;if(i!==void 0&&(n.text=T6(i.text.trim()),n.text.startsWith('"')&&n.text.endsWith('"')&&(n.text=n.text.substring(1,n.text.length-1)),n.labelType=i.type),r!==void 0&&(n.type=r.type,n.stroke=r.stroke,n.length=r.length>10?10:r.length),!(Wi.length<(n0.maxEdges??500)))throw new Error(`Edge limit exceeded. ${Wi.length} edges found, but the limit is ${n0.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`);re.info("Pushing edge..."),Wi.push(n)},"addSingleLink"),Vxe=l(function(e,t,r){re.info("addLink",e,t,r);for(const n of e)for(const i of t)Hxe(n,i,r)},"addLink"),Xxe=l(function(e,t){e.forEach(function(r){r==="default"?Wi.defaultInterpolate=t:Wi[r].interpolate=t})},"updateLinkInterpolate"),Kxe=l(function(e,t){e.forEach(function(r){var n,i,a,s,o,u;if(typeof r=="number"&&r>=Wi.length)throw new Error(`The index ${r} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${Wi.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);r==="default"?Wi.defaultStyle=t:(Wi[r].style=t,(((i=(n=Wi[r])==null?void 0:n.style)==null?void 0:i.length)??0)>0&&!((s=(a=Wi[r])==null?void 0:a.style)!=null&&s.some(h=>h==null?void 0:h.startsWith("fill")))&&((u=(o=Wi[r])==null?void 0:o.style)==null||u.push("fill:none")))})},"updateLink"),Zxe=l(function(e,t){e.split(",").forEach(function(r){let n=Fy.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},Fy.set(r,n)),t!=null&&t.forEach(function(i){if(/color/.exec(i)){const a=i.replace("fill","bgFill");n.textStyles.push(a)}n.styles.push(i)})})},"addClass"),Qxe=l(function(e){/.*</.exec(ds=e)&&(ds="RL"),/.*\^/.exec(ds)&&(ds="BT"),/.*>/.exec(ds)&&(ds="LR"),/.*v/.exec(ds)&&(ds="TB"),ds==="TD"&&(ds="TB")},"setDirection"),l1=l(function(e,t){for(const r of e.split(",")){const n=rc.get(r);n&&n.classes.push(t);const i=s1.get(r);i&&i.classes.push(t)}},"setClass"),Jxe=l(function(e,t){if(t!==void 0){t=T6(t);for(const r of e.split(","))o1.set(w6==="gen-1"?_6(r):r,t)}},"setTooltip"),ebe=l(function(e,t,r){const n=_6(e);if(ye().securityLevel!=="loose"||t===void 0)return;let i=[];if(typeof r=="string"){i=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<i.length;s++){let o=i[s].trim();o.startsWith('"')&&o.endsWith('"')&&(o=o.substr(1,o.length-2)),i[s]=o}}i.length===0&&i.push(e);const a=rc.get(e);a&&(a.haveCallback=!0,k6.push(function(){const s=document.querySelector(`[id="${n}"]`);s!==null&&s.addEventListener("click",function(){Yt.runFunc(t,...i)},!1)}))},"setClickFun"),tbe=l(function(e,t,r){e.split(",").forEach(function(n){const i=rc.get(n);i!==void 0&&(i.link=Yt.formatUrl(t,n0),i.linkTarget=r)}),l1(e,"clickable")},"setLink"),L7=l(function(e){return o1.get(e)},"getTooltip"),rbe=l(function(e,t,r){e.split(",").forEach(function(n){ebe(n,t,r)}),l1(e,"clickable")},"setClickEvent"),nbe=l(function(e){k6.forEach(function(t){t(e)})},"bindFunctions"),N7=l(function(){return ds.trim()},"getDirection"),I7=l(function(){return rc},"getVertices"),M7=l(function(){return Wi},"getEdges"),ibe=l(function(){return Fy},"getClasses"),R7=l(function(e){let t=Qe(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=Qe("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Qe(e).select("svg").selectAll("g.node").on("mouseover",function(){const r=Qe(this);if(r.attr("title")===null)return;const n=this==null?void 0:this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(r.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.bottom+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),r.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),Qe(this).classed("hover",!1)})},"setupToolTips");k6.push(R7);var abe=l(function(e="gen-1"){rc=new Map,Fy=new Map,Wi=[],k6=[R7],Xo=[],s1=new Map,TE=0,o1=new Map,_E=!0,w6=e,n0=ye(),Hn()},"clear"),sbe=l(e=>{w6=e||"gen-2"},"setGen"),obe=l(function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},"defaultStyle"),lbe=l(function(e,t,r){let n=e.text.trim(),i=r.text;function a(h){const d={boolean:{},number:{},string:{}},p=[];let f;return{nodeList:h.filter(function(m){const y=typeof m;return m.stmt&&m.stmt==="dir"?(f=m.value,!1):m.trim()!==""&&(y in d?!d[y].hasOwnProperty(m)&&(d[y][m]=!0):!p.includes(m)&&p.push(m))}),dir:f}}e===r&&/\s/.exec(r.text)&&(n=void 0),l(a,"uniq");const{nodeList:s,dir:o}=a(t.flat());if(w6==="gen-1")for(let h=0;h<s.length;h++)s[h]=_6(s[h]);n=n??"subGraph"+TE,i=i||"",i=T6(i),TE+=1;const u={id:n,nodes:s,title:i.trim(),classes:[],dir:o,labelType:r.type};return re.info("Adding",u.id,u.nodes,u.dir),u.nodes=$7(u,Xo).nodes,Xo.push(u),s1.set(n,u),n},"addSubGraph"),cbe=l(function(e){for(const[t,r]of Xo.entries())if(r.id===e)return t;return-1},"getPosForId"),EE=-1,D7=[],O7=l(function(e,t){const r=Xo[t].nodes;if((EE+=1)>2e3)return{result:!1,count:0};if(D7[EE]=t,Xo[t].id===e)return{result:!0,count:0};let n=0,i=1;for(;n<r.length;){const a=cbe(r[n]);if(a>=0){const s=O7(e,a);if(s.result)return{result:!0,count:i+s.count};i+=s.count}n+=1}return{result:!1,count:i}},"indexNodes2"),ube=l(function(e){return D7[e]},"getDepthFirstPos"),hbe=l(function(){EE=-1,Xo.length>0&&O7("none",Xo.length-1)},"indexNodes"),P7=l(function(){return Xo},"getSubGraphs"),dbe=l(()=>!!_E&&(_E=!1,!0),"firstGraph"),pbe=l(e=>{let t=e.trim(),r="arrow_open";switch(t[0]){case"<":r="arrow_point",t=t.slice(1);break;case"x":r="arrow_cross",t=t.slice(1);break;case"o":r="arrow_circle",t=t.slice(1)}let n="normal";return t.includes("=")&&(n="thick"),t.includes(".")&&(n="dotted"),{type:r,stroke:n}},"destructStartLink"),fbe=l((e,t)=>{const r=t.length;let n=0;for(let i=0;i<r;++i)t[i]===e&&++n;return n},"countChar"),gbe=l(e=>{const t=e.trim();let r=t.slice(0,-1),n="arrow_open";switch(t.slice(-1)){case"x":n="arrow_cross",t.startsWith("x")&&(n="double_"+n,r=r.slice(1));break;case">":n="arrow_point",t.startsWith("<")&&(n="double_"+n,r=r.slice(1));break;case"o":n="arrow_circle",t.startsWith("o")&&(n="double_"+n,r=r.slice(1))}let i="normal",a=r.length-1;r.startsWith("=")&&(i="thick"),r.startsWith("~")&&(i="invisible");const s=fbe(".",r);return s&&(i="dotted",a=s),{type:n,stroke:i,length:a}},"destructEndLink"),mbe=l((e,t)=>{const r=gbe(e);let n;if(t){if(n=pbe(t),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=r.length,n}return r},"destructLink"),B7=l((e,t)=>{for(const r of e)if(r.nodes.includes(t))return!0;return!1},"exists"),$7=l((e,t)=>{const r=[];return e.nodes.forEach((n,i)=>{B7(t,n)||r.push(e.nodes[i])}),{nodes:r}},"makeUniq"),ybe={firstGraph:dbe},vbe=l(e=>{if(e.img)return"imageSquare";if(e.icon)return e.form==="circle"?"iconCircle":e.form==="square"?"iconSquare":e.form==="rounded"?"iconRounded":"icon";switch(e.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return e.type}},"getTypeFromVertex"),xbe=l((e,t)=>e.find(r=>r.id===t),"findNode"),bbe=l(e=>{let t="none",r="arrow_point";switch(e){case"arrow_point":case"arrow_circle":case"arrow_cross":r=e;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":t=e.replace("double_",""),r=t}return{arrowTypeStart:t,arrowTypeEnd:r}},"destructEdgeType"),wbe=l((e,t,r,n,i,a)=>{var h;const s=r.get(e.id),o=n.get(e.id)??!1,u=xbe(t,e.id);if(u)u.cssStyles=e.styles,u.cssCompiledStyles=N4(e.classes),u.cssClasses=e.classes.join(" ");else{const d={id:e.id,label:e.text,labelStyle:"",parentId:s,padding:((h=i.flowchart)==null?void 0:h.padding)||8,cssStyles:e.styles,cssCompiledStyles:N4(["default","node",...e.classes]),cssClasses:"default "+e.classes.join(" "),dir:e.dir,domId:e.domId,look:a,link:e.link,linkTarget:e.linkTarget,tooltip:L7(e.id),icon:e.icon,pos:e.pos,img:e.img,assetWidth:e.assetWidth,assetHeight:e.assetHeight,constraint:e.constraint};o?t.push({...d,isGroup:!0,shape:"rect"}):t.push({...d,isGroup:!1,shape:vbe(e)})}},"addNodeFromVertex");function N4(e){let t=[];for(const r of e){const n=Fy.get(r);n!=null&&n.styles&&(t=[...t,...n.styles??[]].map(i=>i.trim())),n!=null&&n.textStyles&&(t=[...t,...n.textStyles??[]].map(i=>i.trim()))}return t}l(N4,"getCompiledStyles");var kbe=l(()=>{const e=ye(),t=[],r=[],n=P7(),i=new Map,a=new Map;for(let o=n.length-1;o>=0;o--){const u=n[o];u.nodes.length>0&&a.set(u.id,!0);for(const h of u.nodes)i.set(h,u.id)}for(let o=n.length-1;o>=0;o--){const u=n[o];t.push({id:u.id,label:u.title,labelStyle:"",parentId:i.get(u.id),padding:8,cssCompiledStyles:N4(u.classes),cssClasses:u.classes.join(" "),shape:"rect",dir:u.dir,isGroup:!0,look:e.look})}I7().forEach(o=>{wbe(o,t,i,a,e,e.look||"classic")});const s=M7();return s.forEach((o,u)=>{const{arrowTypeStart:h,arrowTypeEnd:d}=bbe(o.type),p=[...s.defaultStyle??[]];o.style&&p.push(...o.style);const f={id:uH(o.start,o.end,{counter:u,prefix:"L"}),start:o.start,end:o.end,type:o.type??"normal",label:o.text,labelpos:"c",thickness:o.stroke,minlen:o.length,classes:(o==null?void 0:o.stroke)==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:(o==null?void 0:o.stroke)==="invisible"?"none":h,arrowTypeEnd:(o==null?void 0:o.stroke)==="invisible"?"none":d,arrowheadStyle:"fill: #333",labelStyle:p,style:p,pattern:o.stroke,look:e.look};r.push(f)}),{nodes:t,edges:r,other:{},config:e}},"getData"),kk={defaultConfig:l(()=>p$.flowchart,"defaultConfig"),setAccTitle:Vn,getAccTitle:ci,getAccDescription:hi,getData:kbe,setAccDescription:ui,addVertex:Wxe,lookUpDomId:_6,addLink:Vxe,updateLinkInterpolate:Xxe,updateLink:Kxe,addClass:Zxe,setDirection:Qxe,setClass:l1,setTooltip:Jxe,getTooltip:L7,setClickEvent:rbe,setLink:tbe,bindFunctions:nbe,getDirection:N7,getVertices:I7,getEdges:M7,getClasses:ibe,clear:abe,setGen:sbe,defaultStyle:obe,addSubGraph:lbe,getDepthFirstPos:ube,indexNodes:hbe,getSubGraphs:P7,destructLink:mbe,lex:ybe,exists:B7,makeUniq:$7,setDiagramTitle:Fi,getDiagramTitle:di},Tbe=l(function(e,t){return t.db.getClasses()},"getClasses"),_be=l(async function(e,t,r,n){var g;re.info("REF0:"),re.info("Drawing state diagram (v2)",t);const{securityLevel:i,flowchart:a,layout:s}=ye();let o;i==="sandbox"&&(o=Qe("#i"+t));const u=i==="sandbox"?o.nodes()[0].contentDocument:document;re.debug("Before getData: ");const h=n.db.getData();re.debug("Data: ",h);const d=i1(t,i),p=N7();h.type=n.type,h.layoutAlgorithm=cX(s),h.layoutAlgorithm==="dagre"&&s==="elk"&&re.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),h.direction=p,h.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,h.rankSpacing=(a==null?void 0:a.rankSpacing)||50,h.markers=["point","circle","cross"],h.diagramId=t,re.debug("REF1:",h),await cA(h,d);const f=((g=h.config.flowchart)==null?void 0:g.diagramPadding)??8;Yt.insertTitle(d,"flowchartTitleText",(a==null?void 0:a.titleTopMargin)||0,n.db.getDiagramTitle()),a1(d,f,"flowchart",(a==null?void 0:a.useMaxWidth)||!1);for(const m of h.nodes){const y=Qe(`#${t} [id="${m.id}"]`);if(!y||!m.link)continue;const v=u.createElementNS("http://www.w3.org/2000/svg","a");v.setAttributeNS("http://www.w3.org/2000/svg","class",m.cssClasses),v.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?v.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):m.linkTarget&&v.setAttributeNS("http://www.w3.org/2000/svg","target",m.linkTarget);const x=y.insert(function(){return v},":first-child"),b=y.select(".label-container");b&&x.append(function(){return b.node()});const w=y.select(".label");w&&x.append(function(){return w.node()})}},"draw"),Ebe={getClasses:Tbe,draw:_be},CE=function(){var e=l(function(Vr,st,We,$e){for(We=We||{},$e=Vr.length;$e--;We[Vr[$e]]=st);return We},"o"),t=[1,4],r=[1,3],n=[1,5],i=[1,8,9,10,11,27,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],a=[2,2],s=[1,13],o=[1,14],u=[1,15],h=[1,16],d=[1,23],p=[1,25],f=[1,26],g=[1,27],m=[1,49],y=[1,48],v=[1,29],x=[1,30],b=[1,31],w=[1,32],T=[1,33],k=[1,44],R=[1,46],C=[1,42],E=[1,47],_=[1,43],L=[1,50],D=[1,45],B=[1,51],S=[1,52],N=[1,34],A=[1,35],M=[1,36],O=[1,37],I=[1,57],P=[1,8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],$=[1,61],z=[1,60],G=[1,62],q=[8,9,11,75,77],J=[1,77],ie=[1,90],te=[1,95],W=[1,94],H=[1,91],X=[1,87],Q=[1,93],ne=[1,89],ee=[1,96],pe=[1,92],j=[1,97],ce=[1,88],le=[8,9,10,11,40,75,77],Ae=[8,9,10,11,40,46,75,77],Se=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,88,101,104,105,108,110,113,114,115],ze=[8,9,11,44,60,75,77,88,101,104,105,108,110,113,114,115],Pe=[44,60,88,101,104,105,108,110,113,114,115],Ve=[1,123],Ue=[1,122],Ge=[1,130],V=[1,144],ue=[1,145],oe=[1,146],we=[1,147],K=[1,132],ve=[1,134],Y=[1,138],he=[1,139],se=[1,140],be=[1,141],Te=[1,142],_e=[1,143],Re=[1,148],ke=[1,149],Be=[1,128],Oe=[1,129],ft=[1,136],Et=[1,131],Ye=[1,135],bt=[1,133],at=[8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],De=[1,151],rt=[1,153],Je=[8,9,11],Ze=[8,9,10,11,14,44,60,88,104,105,108,110,113,114,115],ht=[1,173],mt=[1,169],yt=[1,170],Xe=[1,174],Fe=[1,171],pt=[1,172],Rt=[77,115,118],Ft=[8,9,10,11,12,14,27,29,32,44,60,75,83,84,85,86,87,88,89,104,108,110,113,114,115],Sr=[10,105],wn=[31,49,51,53,55,57,62,64,66,67,69,71,115,116,117],Wt=[1,242],Zt=[1,240],Or=[1,244],rr=[1,238],Hr=[1,239],Tr=[1,241],me=[1,243],ot=[1,245],tt=[1,263],er=[8,9,11,105],vr=[8,9,10,11,60,83,104,105,108,109,110,111],dr={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,edgeTextToken:78,STR:79,MD_STR:80,textToken:81,keywords:82,STYLE:83,LINKSTYLE:84,CLASSDEF:85,CLASS:86,CLICK:87,DOWN:88,UP:89,textNoTagsToken:90,stylesOpt:91,"idString[vertex]":92,"idString[class]":93,CALLBACKNAME:94,CALLBACKARGS:95,HREF:96,LINK_TARGET:97,"STR[link]":98,"STR[tooltip]":99,alphaNum:100,DEFAULT:101,numList:102,INTERPOLATE:103,NUM:104,COMMA:105,style:106,styleComponent:107,NODE_STRING:108,UNIT:109,BRKT:110,PCT:111,idStringToken:112,MINUS:113,MULT:114,UNICODE_TEXT:115,TEXT:116,TAGSTART:117,EDGE_TEXT:118,alphaNumToken:119,direction_tb:120,direction_bt:121,direction_rl:122,direction_lr:123,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",79:"STR",80:"MD_STR",83:"STYLE",84:"LINKSTYLE",85:"CLASSDEF",86:"CLASS",87:"CLICK",88:"DOWN",89:"UP",92:"idString[vertex]",93:"idString[class]",94:"CALLBACKNAME",95:"CALLBACKARGS",96:"HREF",97:"LINK_TARGET",98:"STR[link]",99:"STR[tooltip]",101:"DEFAULT",103:"INTERPOLATE",104:"NUM",105:"COMMA",108:"NODE_STRING",109:"UNIT",110:"BRKT",111:"PCT",113:"MINUS",114:"MULT",115:"UNICODE_TEXT",116:"TEXT",117:"TAGSTART",118:"EDGE_TEXT",120:"direction_tb",121:"direction_bt",122:"direction_rl",123:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[76,1],[76,2],[76,1],[76,1],[72,1],[73,3],[30,1],[30,2],[30,1],[30,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[102,1],[102,3],[91,1],[91,3],[106,1],[106,2],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[81,1],[81,1],[81,1],[81,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[78,1],[78,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[47,1],[47,2],[100,1],[100,2],[33,1],[33,1],[33,1],[33,1]],performAction:l(function(Vr,st,We,$e,Ht,de,Ui){var xe=de.length-1;switch(Ht){case 2:case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 3:(!Array.isArray(de[xe])||de[xe].length>0)&&de[xe-1].push(de[xe]),this.$=de[xe-1];break;case 4:case 181:case 44:case 54:case 76:case 179:this.$=de[xe];break;case 11:$e.setDirection("TB"),this.$="TB";break;case 12:$e.setDirection(de[xe-1]),this.$=de[xe-1];break;case 27:this.$=de[xe-1].nodes;break;case 33:this.$=$e.addSubGraph(de[xe-6],de[xe-1],de[xe-4]);break;case 34:this.$=$e.addSubGraph(de[xe-3],de[xe-1],de[xe-3]);break;case 35:this.$=$e.addSubGraph(void 0,de[xe-1],void 0);break;case 37:this.$=de[xe].trim(),$e.setAccTitle(this.$);break;case 38:case 39:this.$=de[xe].trim(),$e.setAccDescription(this.$);break;case 43:case 131:this.$=de[xe-1]+de[xe];break;case 45:$e.addVertex(de[xe-1][0],void 0,void 0,void 0,void 0,void 0,void 0,de[xe]),$e.addLink(de[xe-3].stmt,de[xe-1],de[xe-2]),this.$={stmt:de[xe-1],nodes:de[xe-1].concat(de[xe-3].nodes)};break;case 46:$e.addLink(de[xe-2].stmt,de[xe],de[xe-1]),this.$={stmt:de[xe],nodes:de[xe].concat(de[xe-2].nodes)};break;case 47:$e.addLink(de[xe-3].stmt,de[xe-1],de[xe-2]),this.$={stmt:de[xe-1],nodes:de[xe-1].concat(de[xe-3].nodes)};break;case 48:this.$={stmt:de[xe-1],nodes:de[xe-1]};break;case 49:$e.addVertex(de[xe-1][0],void 0,void 0,void 0,void 0,void 0,void 0,de[xe]),this.$={stmt:de[xe-1],nodes:de[xe-1],shapeData:de[xe]};break;case 50:this.$={stmt:de[xe],nodes:de[xe]};break;case 51:case 126:case 128:this.$=[de[xe]];break;case 52:$e.addVertex(de[xe-5][0],void 0,void 0,void 0,void 0,void 0,void 0,de[xe-4]),this.$=de[xe-5].concat(de[xe]);break;case 53:this.$=de[xe-4].concat(de[xe]);break;case 55:this.$=de[xe-2],$e.setClass(de[xe-2],de[xe]);break;case 56:this.$=de[xe-3],$e.addVertex(de[xe-3],de[xe-1],"square");break;case 57:this.$=de[xe-3],$e.addVertex(de[xe-3],de[xe-1],"doublecircle");break;case 58:this.$=de[xe-5],$e.addVertex(de[xe-5],de[xe-2],"circle");break;case 59:this.$=de[xe-3],$e.addVertex(de[xe-3],de[xe-1],"ellipse");break;case 60:this.$=de[xe-3],$e.addVertex(de[xe-3],de[xe-1],"stadium");break;case 61:this.$=de[xe-3],$e.addVertex(de[xe-3],de[xe-1],"subroutine");break;case 62:this.$=de[xe-7],$e.addVertex(de[xe-7],de[xe-1],"rect",void 0,void 0,void 0,Object.fromEntries([[de[xe-5],de[xe-3]]]));break;case 63:this.$=de[xe-3],$e.addVertex(de[xe-3],de[xe-1],"cylinder");break;case 64:this.$=de[xe-3],$e.addVertex(de[xe-3],de[xe-1],"round");break;case 65:this.$=de[xe-3],$e.addVertex(de[xe-3],de[xe-1],"diamond");break;case 66:this.$=de[xe-5],$e.addVertex(de[xe-5],de[xe-2],"hexagon");break;case 67:this.$=de[xe-3],$e.addVertex(de[xe-3],de[xe-1],"odd");break;case 68:this.$=de[xe-3],$e.addVertex(de[xe-3],de[xe-1],"trapezoid");break;case 69:this.$=de[xe-3],$e.addVertex(de[xe-3],de[xe-1],"inv_trapezoid");break;case 70:this.$=de[xe-3],$e.addVertex(de[xe-3],de[xe-1],"lean_right");break;case 71:this.$=de[xe-3],$e.addVertex(de[xe-3],de[xe-1],"lean_left");break;case 72:this.$=de[xe],$e.addVertex(de[xe]);break;case 73:de[xe-1].text=de[xe],this.$=de[xe-1];break;case 74:case 75:de[xe-2].text=de[xe-1],this.$=de[xe-2];break;case 77:var Ia=$e.destructLink(de[xe],de[xe-2]);this.$={type:Ia.type,stroke:Ia.stroke,length:Ia.length,text:de[xe-1]};break;case 78:case 84:case 99:case 101:this.$={text:de[xe],type:"text"};break;case 79:case 85:case 100:this.$={text:de[xe-1].text+""+de[xe],type:de[xe-1].type};break;case 80:case 86:this.$={text:de[xe],type:"string"};break;case 81:case 87:case 102:this.$={text:de[xe],type:"markdown"};break;case 82:Ia=$e.destructLink(de[xe]),this.$={type:Ia.type,stroke:Ia.stroke,length:Ia.length};break;case 83:this.$=de[xe-1];break;case 103:this.$=de[xe-4],$e.addClass(de[xe-2],de[xe]);break;case 104:this.$=de[xe-4],$e.setClass(de[xe-2],de[xe]);break;case 105:case 113:this.$=de[xe-1],$e.setClickEvent(de[xe-1],de[xe]);break;case 106:case 114:this.$=de[xe-3],$e.setClickEvent(de[xe-3],de[xe-2]),$e.setTooltip(de[xe-3],de[xe]);break;case 107:this.$=de[xe-2],$e.setClickEvent(de[xe-2],de[xe-1],de[xe]);break;case 108:this.$=de[xe-4],$e.setClickEvent(de[xe-4],de[xe-3],de[xe-2]),$e.setTooltip(de[xe-4],de[xe]);break;case 109:this.$=de[xe-2],$e.setLink(de[xe-2],de[xe]);break;case 110:this.$=de[xe-4],$e.setLink(de[xe-4],de[xe-2]),$e.setTooltip(de[xe-4],de[xe]);break;case 111:this.$=de[xe-4],$e.setLink(de[xe-4],de[xe-2],de[xe]);break;case 112:this.$=de[xe-6],$e.setLink(de[xe-6],de[xe-4],de[xe]),$e.setTooltip(de[xe-6],de[xe-2]);break;case 115:this.$=de[xe-1],$e.setLink(de[xe-1],de[xe]);break;case 116:this.$=de[xe-3],$e.setLink(de[xe-3],de[xe-2]),$e.setTooltip(de[xe-3],de[xe]);break;case 117:this.$=de[xe-3],$e.setLink(de[xe-3],de[xe-2],de[xe]);break;case 118:this.$=de[xe-5],$e.setLink(de[xe-5],de[xe-4],de[xe]),$e.setTooltip(de[xe-5],de[xe-2]);break;case 119:this.$=de[xe-4],$e.addVertex(de[xe-2],void 0,void 0,de[xe]);break;case 120:this.$=de[xe-4],$e.updateLink([de[xe-2]],de[xe]);break;case 121:this.$=de[xe-4],$e.updateLink(de[xe-2],de[xe]);break;case 122:this.$=de[xe-8],$e.updateLinkInterpolate([de[xe-6]],de[xe-2]),$e.updateLink([de[xe-6]],de[xe]);break;case 123:this.$=de[xe-8],$e.updateLinkInterpolate(de[xe-6],de[xe-2]),$e.updateLink(de[xe-6],de[xe]);break;case 124:this.$=de[xe-6],$e.updateLinkInterpolate([de[xe-4]],de[xe]);break;case 125:this.$=de[xe-6],$e.updateLinkInterpolate(de[xe-4],de[xe]);break;case 127:case 129:de[xe-2].push(de[xe]),this.$=de[xe-2];break;case 180:case 182:this.$=de[xe-1]+""+de[xe];break;case 183:this.$={stmt:"dir",value:"TB"};break;case 184:this.$={stmt:"dir",value:"BT"};break;case 185:this.$={stmt:"dir",value:"RL"};break;case 186:this.$={stmt:"dir",value:"LR"}}},"anonymous"),table:[{3:1,4:2,9:t,10:r,12:n},{1:[3]},e(i,a,{5:6}),{4:7,9:t,10:r,12:n},{4:8,9:t,10:r,12:n},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:s,9:o,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,33:24,34:p,36:f,38:g,42:28,43:38,44:m,45:39,47:40,60:y,83:v,84:x,85:b,86:w,87:T,88:k,101:R,104:C,105:E,108:_,110:L,112:41,113:D,114:B,115:S,120:N,121:A,122:M,123:O},e(i,[2,9]),e(i,[2,10]),e(i,[2,11]),{8:[1,54],9:[1,55],10:I,15:53,18:56},e(P,[2,3]),e(P,[2,4]),e(P,[2,5]),e(P,[2,6]),e(P,[2,7]),e(P,[2,8]),{8:$,9:z,11:G,21:58,41:59,72:63,75:[1,64],77:[1,65]},{8:$,9:z,11:G,21:66},{8:$,9:z,11:G,21:67},{8:$,9:z,11:G,21:68},{8:$,9:z,11:G,21:69},{8:$,9:z,11:G,21:70},{8:$,9:z,10:[1,71],11:G,21:72},e(P,[2,36]),{35:[1,73]},{37:[1,74]},e(P,[2,39]),e(q,[2,50],{18:75,39:76,10:I,40:J}),{10:[1,78]},{10:[1,79]},{10:[1,80]},{10:[1,81]},{14:ie,44:te,60:W,79:[1,85],88:H,94:[1,82],96:[1,83],100:84,104:X,105:Q,108:ne,110:ee,113:pe,114:j,115:ce,119:86},e(P,[2,183]),e(P,[2,184]),e(P,[2,185]),e(P,[2,186]),e(le,[2,51]),e(le,[2,54],{46:[1,98]}),e(Ae,[2,72],{112:111,29:[1,99],44:m,48:[1,100],50:[1,101],52:[1,102],54:[1,103],56:[1,104],58:[1,105],60:y,63:[1,106],65:[1,107],67:[1,108],68:[1,109],70:[1,110],88:k,101:R,104:C,105:E,108:_,110:L,113:D,114:B,115:S}),e(Se,[2,179]),e(Se,[2,140]),e(Se,[2,141]),e(Se,[2,142]),e(Se,[2,143]),e(Se,[2,144]),e(Se,[2,145]),e(Se,[2,146]),e(Se,[2,147]),e(Se,[2,148]),e(Se,[2,149]),e(Se,[2,150]),e(i,[2,12]),e(i,[2,18]),e(i,[2,19]),{9:[1,112]},e(ze,[2,26],{18:113,10:I}),e(P,[2,27]),{42:114,43:38,44:m,45:39,47:40,60:y,88:k,101:R,104:C,105:E,108:_,110:L,112:41,113:D,114:B,115:S},e(P,[2,40]),e(P,[2,41]),e(P,[2,42]),e(Pe,[2,76],{73:115,62:[1,117],74:[1,116]}),{76:118,78:119,79:[1,120],80:[1,121],115:Ve,118:Ue},e([44,60,62,74,88,101,104,105,108,110,113,114,115],[2,82]),e(P,[2,28]),e(P,[2,29]),e(P,[2,30]),e(P,[2,31]),e(P,[2,32]),{10:Ge,12:V,14:ue,27:oe,28:124,32:we,44:K,60:ve,75:Y,79:[1,126],80:[1,127],82:137,83:he,84:se,85:be,86:Te,87:_e,88:Re,89:ke,90:125,104:Be,108:Oe,110:ft,113:Et,114:Ye,115:bt},e(at,a,{5:150}),e(P,[2,37]),e(P,[2,38]),e(q,[2,48],{44:De}),e(q,[2,49],{18:152,10:I,40:rt}),e(le,[2,44]),{44:m,47:154,60:y,88:k,101:R,104:C,105:E,108:_,110:L,112:41,113:D,114:B,115:S},{101:[1,155],102:156,104:[1,157]},{44:m,47:158,60:y,88:k,101:R,104:C,105:E,108:_,110:L,112:41,113:D,114:B,115:S},{44:m,47:159,60:y,88:k,101:R,104:C,105:E,108:_,110:L,112:41,113:D,114:B,115:S},e(Je,[2,105],{10:[1,160],95:[1,161]}),{79:[1,162]},e(Je,[2,113],{119:164,10:[1,163],14:ie,44:te,60:W,88:H,104:X,105:Q,108:ne,110:ee,113:pe,114:j,115:ce}),e(Je,[2,115],{10:[1,165]}),e(Ze,[2,181]),e(Ze,[2,168]),e(Ze,[2,169]),e(Ze,[2,170]),e(Ze,[2,171]),e(Ze,[2,172]),e(Ze,[2,173]),e(Ze,[2,174]),e(Ze,[2,175]),e(Ze,[2,176]),e(Ze,[2,177]),e(Ze,[2,178]),{44:m,47:166,60:y,88:k,101:R,104:C,105:E,108:_,110:L,112:41,113:D,114:B,115:S},{30:167,67:ht,79:mt,80:yt,81:168,115:Xe,116:Fe,117:pt},{30:175,67:ht,79:mt,80:yt,81:168,115:Xe,116:Fe,117:pt},{30:177,50:[1,176],67:ht,79:mt,80:yt,81:168,115:Xe,116:Fe,117:pt},{30:178,67:ht,79:mt,80:yt,81:168,115:Xe,116:Fe,117:pt},{30:179,67:ht,79:mt,80:yt,81:168,115:Xe,116:Fe,117:pt},{30:180,67:ht,79:mt,80:yt,81:168,115:Xe,116:Fe,117:pt},{108:[1,181]},{30:182,67:ht,79:mt,80:yt,81:168,115:Xe,116:Fe,117:pt},{30:183,65:[1,184],67:ht,79:mt,80:yt,81:168,115:Xe,116:Fe,117:pt},{30:185,67:ht,79:mt,80:yt,81:168,115:Xe,116:Fe,117:pt},{30:186,67:ht,79:mt,80:yt,81:168,115:Xe,116:Fe,117:pt},{30:187,67:ht,79:mt,80:yt,81:168,115:Xe,116:Fe,117:pt},e(Se,[2,180]),e(i,[2,20]),e(ze,[2,25]),e(q,[2,46],{39:188,18:189,10:I,40:J}),e(Pe,[2,73],{10:[1,190]}),{10:[1,191]},{30:192,67:ht,79:mt,80:yt,81:168,115:Xe,116:Fe,117:pt},{77:[1,193],78:194,115:Ve,118:Ue},e(Rt,[2,78]),e(Rt,[2,80]),e(Rt,[2,81]),e(Rt,[2,166]),e(Rt,[2,167]),{8:$,9:z,10:Ge,11:G,12:V,14:ue,21:196,27:oe,29:[1,195],32:we,44:K,60:ve,75:Y,82:137,83:he,84:se,85:be,86:Te,87:_e,88:Re,89:ke,90:197,104:Be,108:Oe,110:ft,113:Et,114:Ye,115:bt},e(Ft,[2,99]),e(Ft,[2,101]),e(Ft,[2,102]),e(Ft,[2,155]),e(Ft,[2,156]),e(Ft,[2,157]),e(Ft,[2,158]),e(Ft,[2,159]),e(Ft,[2,160]),e(Ft,[2,161]),e(Ft,[2,162]),e(Ft,[2,163]),e(Ft,[2,164]),e(Ft,[2,165]),e(Ft,[2,88]),e(Ft,[2,89]),e(Ft,[2,90]),e(Ft,[2,91]),e(Ft,[2,92]),e(Ft,[2,93]),e(Ft,[2,94]),e(Ft,[2,95]),e(Ft,[2,96]),e(Ft,[2,97]),e(Ft,[2,98]),{6:11,7:12,8:s,9:o,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,198],33:24,34:p,36:f,38:g,42:28,43:38,44:m,45:39,47:40,60:y,83:v,84:x,85:b,86:w,87:T,88:k,101:R,104:C,105:E,108:_,110:L,112:41,113:D,114:B,115:S,120:N,121:A,122:M,123:O},{10:I,18:199},{44:[1,200]},e(le,[2,43]),{10:[1,201],44:m,60:y,88:k,101:R,104:C,105:E,108:_,110:L,112:111,113:D,114:B,115:S},{10:[1,202]},{10:[1,203],105:[1,204]},e(Sr,[2,126]),{10:[1,205],44:m,60:y,88:k,101:R,104:C,105:E,108:_,110:L,112:111,113:D,114:B,115:S},{10:[1,206],44:m,60:y,88:k,101:R,104:C,105:E,108:_,110:L,112:111,113:D,114:B,115:S},{79:[1,207]},e(Je,[2,107],{10:[1,208]}),e(Je,[2,109],{10:[1,209]}),{79:[1,210]},e(Ze,[2,182]),{79:[1,211],97:[1,212]},e(le,[2,55],{112:111,44:m,60:y,88:k,101:R,104:C,105:E,108:_,110:L,113:D,114:B,115:S}),{31:[1,213],67:ht,81:214,115:Xe,116:Fe,117:pt},e(wn,[2,84]),e(wn,[2,86]),e(wn,[2,87]),e(wn,[2,151]),e(wn,[2,152]),e(wn,[2,153]),e(wn,[2,154]),{49:[1,215],67:ht,81:214,115:Xe,116:Fe,117:pt},{30:216,67:ht,79:mt,80:yt,81:168,115:Xe,116:Fe,117:pt},{51:[1,217],67:ht,81:214,115:Xe,116:Fe,117:pt},{53:[1,218],67:ht,81:214,115:Xe,116:Fe,117:pt},{55:[1,219],67:ht,81:214,115:Xe,116:Fe,117:pt},{57:[1,220],67:ht,81:214,115:Xe,116:Fe,117:pt},{60:[1,221]},{64:[1,222],67:ht,81:214,115:Xe,116:Fe,117:pt},{66:[1,223],67:ht,81:214,115:Xe,116:Fe,117:pt},{30:224,67:ht,79:mt,80:yt,81:168,115:Xe,116:Fe,117:pt},{31:[1,225],67:ht,81:214,115:Xe,116:Fe,117:pt},{67:ht,69:[1,226],71:[1,227],81:214,115:Xe,116:Fe,117:pt},{67:ht,69:[1,229],71:[1,228],81:214,115:Xe,116:Fe,117:pt},e(q,[2,45],{18:152,10:I,40:rt}),e(q,[2,47],{44:De}),e(Pe,[2,75]),e(Pe,[2,74]),{62:[1,230],67:ht,81:214,115:Xe,116:Fe,117:pt},e(Pe,[2,77]),e(Rt,[2,79]),{30:231,67:ht,79:mt,80:yt,81:168,115:Xe,116:Fe,117:pt},e(at,a,{5:232}),e(Ft,[2,100]),e(P,[2,35]),{43:233,44:m,45:39,47:40,60:y,88:k,101:R,104:C,105:E,108:_,110:L,112:41,113:D,114:B,115:S},{10:I,18:234},{10:Wt,60:Zt,83:Or,91:235,104:rr,106:236,107:237,108:Hr,109:Tr,110:me,111:ot},{10:Wt,60:Zt,83:Or,91:246,103:[1,247],104:rr,106:236,107:237,108:Hr,109:Tr,110:me,111:ot},{10:Wt,60:Zt,83:Or,91:248,103:[1,249],104:rr,106:236,107:237,108:Hr,109:Tr,110:me,111:ot},{104:[1,250]},{10:Wt,60:Zt,83:Or,91:251,104:rr,106:236,107:237,108:Hr,109:Tr,110:me,111:ot},{44:m,47:252,60:y,88:k,101:R,104:C,105:E,108:_,110:L,112:41,113:D,114:B,115:S},e(Je,[2,106]),{79:[1,253]},{79:[1,254],97:[1,255]},e(Je,[2,114]),e(Je,[2,116],{10:[1,256]}),e(Je,[2,117]),e(Ae,[2,56]),e(wn,[2,85]),e(Ae,[2,57]),{51:[1,257],67:ht,81:214,115:Xe,116:Fe,117:pt},e(Ae,[2,64]),e(Ae,[2,59]),e(Ae,[2,60]),e(Ae,[2,61]),{108:[1,258]},e(Ae,[2,63]),e(Ae,[2,65]),{66:[1,259],67:ht,81:214,115:Xe,116:Fe,117:pt},e(Ae,[2,67]),e(Ae,[2,68]),e(Ae,[2,70]),e(Ae,[2,69]),e(Ae,[2,71]),e([10,44,60,88,101,104,105,108,110,113,114,115],[2,83]),{31:[1,260],67:ht,81:214,115:Xe,116:Fe,117:pt},{6:11,7:12,8:s,9:o,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,261],33:24,34:p,36:f,38:g,42:28,43:38,44:m,45:39,47:40,60:y,83:v,84:x,85:b,86:w,87:T,88:k,101:R,104:C,105:E,108:_,110:L,112:41,113:D,114:B,115:S,120:N,121:A,122:M,123:O},e(le,[2,53]),{43:262,44:m,45:39,47:40,60:y,88:k,101:R,104:C,105:E,108:_,110:L,112:41,113:D,114:B,115:S},e(Je,[2,119],{105:tt}),e(er,[2,128],{107:264,10:Wt,60:Zt,83:Or,104:rr,108:Hr,109:Tr,110:me,111:ot}),e(vr,[2,130]),e(vr,[2,132]),e(vr,[2,133]),e(vr,[2,134]),e(vr,[2,135]),e(vr,[2,136]),e(vr,[2,137]),e(vr,[2,138]),e(vr,[2,139]),e(Je,[2,120],{105:tt}),{10:[1,265]},e(Je,[2,121],{105:tt}),{10:[1,266]},e(Sr,[2,127]),e(Je,[2,103],{105:tt}),e(Je,[2,104],{112:111,44:m,60:y,88:k,101:R,104:C,105:E,108:_,110:L,113:D,114:B,115:S}),e(Je,[2,108]),e(Je,[2,110],{10:[1,267]}),e(Je,[2,111]),{97:[1,268]},{51:[1,269]},{62:[1,270]},{66:[1,271]},{8:$,9:z,11:G,21:272},e(P,[2,34]),e(le,[2,52]),{10:Wt,60:Zt,83:Or,104:rr,106:273,107:237,108:Hr,109:Tr,110:me,111:ot},e(vr,[2,131]),{14:ie,44:te,60:W,88:H,100:274,104:X,105:Q,108:ne,110:ee,113:pe,114:j,115:ce,119:86},{14:ie,44:te,60:W,88:H,100:275,104:X,105:Q,108:ne,110:ee,113:pe,114:j,115:ce,119:86},{97:[1,276]},e(Je,[2,118]),e(Ae,[2,58]),{30:277,67:ht,79:mt,80:yt,81:168,115:Xe,116:Fe,117:pt},e(Ae,[2,66]),e(at,a,{5:278}),e(er,[2,129],{107:264,10:Wt,60:Zt,83:Or,104:rr,108:Hr,109:Tr,110:me,111:ot}),e(Je,[2,124],{119:164,10:[1,279],14:ie,44:te,60:W,88:H,104:X,105:Q,108:ne,110:ee,113:pe,114:j,115:ce}),e(Je,[2,125],{119:164,10:[1,280],14:ie,44:te,60:W,88:H,104:X,105:Q,108:ne,110:ee,113:pe,114:j,115:ce}),e(Je,[2,112]),{31:[1,281],67:ht,81:214,115:Xe,116:Fe,117:pt},{6:11,7:12,8:s,9:o,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,282],33:24,34:p,36:f,38:g,42:28,43:38,44:m,45:39,47:40,60:y,83:v,84:x,85:b,86:w,87:T,88:k,101:R,104:C,105:E,108:_,110:L,112:41,113:D,114:B,115:S,120:N,121:A,122:M,123:O},{10:Wt,60:Zt,83:Or,91:283,104:rr,106:236,107:237,108:Hr,109:Tr,110:me,111:ot},{10:Wt,60:Zt,83:Or,91:284,104:rr,106:236,107:237,108:Hr,109:Tr,110:me,111:ot},e(Ae,[2,62]),e(P,[2,33]),e(Je,[2,122],{105:tt}),e(Je,[2,123],{105:tt})],defaultActions:{},parseError:l(function(Vr,st){if(!st.recoverable){var We=new Error(Vr);throw We.hash=st,We}this.trace(Vr)},"parseError"),parse:l(function(Vr){var st=this,We=[0],$e=[],Ht=[null],de=[],Ui=this.table,xe="",Ia=0,SI=0,Ece=2,AI=1,Cce=de.slice.call(arguments,1),jn=Object.create(this.lexer),Tc={yy:{}};for(var Mw in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Mw)&&(Tc.yy[Mw]=this.yy[Mw]);jn.setInput(Vr,Tc.yy),Tc.yy.lexer=jn,Tc.yy.parser=this,jn.yylloc===void 0&&(jn.yylloc={});var Rw=jn.yylloc;de.push(Rw);var Sce=jn.options&&jn.options.ranges;function Ace(Ra){We.length=We.length-2*Ra,Ht.length=Ht.length-Ra,de.length=de.length-Ra}function LI(){var Ra;return typeof(Ra=$e.pop()||jn.lex()||AI)!="number"&&(Ra instanceof Array&&(Ra=($e=Ra).pop()),Ra=st.symbols_[Ra]||Ra),Ra}typeof Tc.yy.parseError=="function"?this.parseError=Tc.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,l(Ace,"popStack"),l(LI,"lex");for(var ya,_c,Ma,NI,uv,go,II,hv,Eh={};;){if(_c=We[We.length-1],this.defaultActions[_c]?Ma=this.defaultActions[_c]:(ya==null&&(ya=LI()),Ma=Ui[_c]&&Ui[_c][ya]),Ma===void 0||!Ma.length||!Ma[0]){var MI="";for(uv in hv=[],Ui[_c])this.terminals_[uv]&&uv>Ece&&hv.push("'"+this.terminals_[uv]+"'");MI=jn.showPosition?"Parse error on line "+(Ia+1)+`:
`+jn.showPosition()+`
Expecting `+hv.join(", ")+", got '"+(this.terminals_[ya]||ya)+"'":"Parse error on line "+(Ia+1)+": Unexpected "+(ya==AI?"end of input":"'"+(this.terminals_[ya]||ya)+"'"),this.parseError(MI,{text:jn.match,token:this.terminals_[ya]||ya,line:jn.yylineno,loc:Rw,expected:hv})}if(Ma[0]instanceof Array&&Ma.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_c+", token: "+ya);switch(Ma[0]){case 1:We.push(ya),Ht.push(jn.yytext),de.push(jn.yylloc),We.push(Ma[1]),ya=null,SI=jn.yyleng,xe=jn.yytext,Ia=jn.yylineno,Rw=jn.yylloc;break;case 2:if(go=this.productions_[Ma[1]][1],Eh.$=Ht[Ht.length-go],Eh._$={first_line:de[de.length-(go||1)].first_line,last_line:de[de.length-1].last_line,first_column:de[de.length-(go||1)].first_column,last_column:de[de.length-1].last_column},Sce&&(Eh._$.range=[de[de.length-(go||1)].range[0],de[de.length-1].range[1]]),(NI=this.performAction.apply(Eh,[xe,SI,Ia,Tc.yy,Ma[1],Ht,de].concat(Cce)))!==void 0)return NI;go&&(We=We.slice(0,-1*go*2),Ht=Ht.slice(0,-1*go),de=de.slice(0,-1*go)),We.push(this.productions_[Ma[1]][0]),Ht.push(Eh.$),de.push(Eh._$),II=Ui[We[We.length-2]][We[We.length-1]],We.push(II);break;case 3:return!0}}return!0},"parse")},ma=function(){var Vr={EOF:1,parseError:l(function(st,We){if(!this.yy.parser)throw new Error(st);this.yy.parser.parseError(st,We)},"parseError"),setInput:l(function(st,We){return this.yy=We||this.yy||{},this._input=st,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var st=this._input[0];return this.yytext+=st,this.yyleng++,this.offset++,this.match+=st,this.matched+=st,st.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),st},"input"),unput:l(function(st){var We=st.length,$e=st.split(/(?:\r\n?|\n)/g);this._input=st+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-We),this.offset-=We;var Ht=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),$e.length-1&&(this.yylineno-=$e.length-1);var de=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:$e?($e.length===Ht.length?this.yylloc.first_column:0)+Ht[Ht.length-$e.length].length-$e[0].length:this.yylloc.first_column-We},this.options.ranges&&(this.yylloc.range=[de[0],de[0]+this.yyleng-We]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:l(function(st){this.unput(this.match.slice(st))},"less"),pastInput:l(function(){var st=this.matched.substr(0,this.matched.length-this.match.length);return(st.length>20?"...":"")+st.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var st=this.match;return st.length<20&&(st+=this._input.substr(0,20-st.length)),(st.substr(0,20)+(st.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var st=this.pastInput(),We=new Array(st.length+1).join("-");return st+this.upcomingInput()+`
`+We+"^"},"showPosition"),test_match:l(function(st,We){var $e,Ht,de;if(this.options.backtrack_lexer&&(de={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(de.yylloc.range=this.yylloc.range.slice(0))),(Ht=st[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=Ht.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ht?Ht[Ht.length-1].length-Ht[Ht.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+st[0].length},this.yytext+=st[0],this.match+=st[0],this.matches=st,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(st[0].length),this.matched+=st[0],$e=this.performAction.call(this,this.yy,this,We,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),$e)return $e;if(this._backtrack){for(var Ui in de)this[Ui]=de[Ui];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;var st,We,$e,Ht;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var de=this._currentRules(),Ui=0;Ui<de.length;Ui++)if(($e=this._input.match(this.rules[de[Ui]]))&&(!We||$e[0].length>We[0].length)){if(We=$e,Ht=Ui,this.options.backtrack_lexer){if((st=this.test_match($e,de[Ui]))!==!1)return st;if(this._backtrack){We=!1;continue}return!1}if(!this.options.flex)break}return We?(st=this.test_match(We,de[Ht]))!==!1&&st:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var st=this.next();return st||this.lex()},"lex"),begin:l(function(st){this.conditionStack.push(st)},"begin"),popState:l(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(st){return(st=this.conditionStack.length-1-Math.abs(st||0))>=0?this.conditionStack[st]:"INITIAL"},"topState"),pushState:l(function(st){this.begin(st)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:l(function(st,We,$e,Ht){switch($e){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:case 12:case 14:case 17:case 20:case 23:case 33:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),We.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:const de=/\n\s*/g;return We.yytext=We.yytext.replace(de,"<br/>"),40;case 11:return 40;case 13:this.begin("callbackname");break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 94;case 18:return 95;case 19:return"MD_STR";case 21:this.begin("md_string");break;case 22:return"STR";case 24:this.pushState("string");break;case 25:return 83;case 26:return 101;case 27:return 84;case 28:return 103;case 29:return 85;case 30:return 86;case 31:return 96;case 32:this.begin("click");break;case 34:return 87;case 35:case 36:case 37:return st.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:case 41:case 42:case 43:return 97;case 44:return this.popState(),13;case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 53:case 54:return this.popState(),14;case 55:return 120;case 56:return 121;case 57:return 122;case 58:return 123;case 59:return 104;case 60:case 101:return 110;case 61:return 46;case 62:return 60;case 63:case 102:return 44;case 64:return 8;case 65:return 105;case 66:case 100:return 114;case 67:case 70:case 73:return this.popState(),77;case 68:return this.pushState("edgeText"),75;case 69:case 72:case 75:return 118;case 71:return this.pushState("thickEdgeText"),75;case 74:return this.pushState("dottedEdgeText"),75;case 76:return 77;case 77:return this.popState(),53;case 78:case 114:return"TEXT";case 79:return this.pushState("ellipseText"),52;case 80:return this.popState(),55;case 81:return this.pushState("text"),54;case 82:return this.popState(),57;case 83:return this.pushState("text"),56;case 84:return 58;case 85:return this.pushState("text"),67;case 86:return this.popState(),64;case 87:return this.pushState("text"),63;case 88:return this.popState(),49;case 89:return this.pushState("text"),48;case 90:return this.popState(),69;case 91:return this.popState(),71;case 92:return 116;case 93:return this.pushState("trapText"),68;case 94:return this.pushState("trapText"),70;case 95:return 117;case 96:return 67;case 97:return 89;case 98:return"SEP";case 99:return 88;case 103:return 108;case 104:return 113;case 105:return 115;case 106:return this.popState(),62;case 107:return this.pushState("text"),62;case 108:return this.popState(),51;case 109:return this.pushState("text"),50;case 110:return this.popState(),31;case 111:return this.pushState("text"),29;case 112:return this.popState(),66;case 113:return this.pushState("text"),65;case 115:return"QUOTE";case 116:return 9;case 117:return 10;case 118:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeData:{rules:[8,11,12,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackargs:{rules:[17,18,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackname:{rules:[14,15,16,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},href:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},click:{rules:[21,24,33,34,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dottedEdgeText:{rules:[21,24,73,75,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},thickEdgeText:{rules:[21,24,70,72,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},edgeText:{rules:[21,24,67,69,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},trapText:{rules:[21,24,76,79,81,83,87,89,90,91,92,93,94,107,109,111,113],inclusive:!1},ellipseText:{rules:[21,24,76,77,78,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},text:{rules:[21,24,76,79,80,81,82,83,86,87,88,89,93,94,106,107,108,109,110,111,112,113,114],inclusive:!1},vertex:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr:{rules:[3,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_title:{rules:[1,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},md_string:{rules:[19,20,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},string:{rules:[21,22,23,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,70,71,73,74,76,79,81,83,84,85,87,89,93,94,95,96,97,98,99,100,101,102,103,104,105,107,109,111,113,115,116,117,118],inclusive:!0}}};return Vr}();function Zn(){this.yy={}}return dr.lexer=ma,l(Zn,"Parser"),Zn.prototype=dr,dr.Parser=Zn,new Zn}();CE.parser=CE;var Cbe=CE,Sbe=l((e,t)=>{const r=KB,n=r(e,"r"),i=r(e,"g"),a=r(e,"b");return mu(n,i,a,t)},"fade"),Abe={parser:Cbe,db:kk,renderer:Ebe,styles:l(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span {
    color: ${e.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${e.lineColor} !important;
    stroke-width: 0;
    stroke: ${e.lineColor};
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${Sbe(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }
`,"getStyles"),init:l(e=>{e.flowchart||(e.flowchart={}),e.layout&&VI({layout:e.layout}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,VI({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}}),kk.clear(),kk.setGen("gen-2")},"init")},c1=Object.freeze({__proto__:null,diagram:Abe}),SE=function(){var e=l(function(E,_,L,D){for(L=L||{},D=E.length;D--;L[E[D]]=_);return L},"o"),t=[6,8,10,20,22,24,26,27,28],r=[1,10],n=[1,11],i=[1,12],a=[1,13],s=[1,14],o=[1,15],u=[1,21],h=[1,22],d=[1,23],p=[1,24],f=[1,25],g=[6,8,10,13,15,18,19,20,22,24,26,27,28,41,42,43,44,45],m=[1,34],y=[27,28,46,47],v=[41,42,43,44,45],x=[17,34],b=[1,54],w=[1,53],T=[17,34,36,38],k={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,":":13,role:14,BLOCK_START:15,attributes:16,BLOCK_STOP:17,SQS:18,SQE:19,title:20,title_value:21,acc_title:22,acc_title_value:23,acc_descr:24,acc_descr_value:25,acc_descr_multiline_value:26,ALPHANUM:27,ENTITY_NAME:28,attribute:29,attributeType:30,attributeName:31,attributeKeyTypeList:32,attributeComment:33,ATTRIBUTE_WORD:34,attributeKeyType:35,COMMA:36,ATTRIBUTE_KEY:37,COMMENT:38,cardinality:39,relType:40,ZERO_OR_ONE:41,ZERO_OR_MORE:42,ONE_OR_MORE:43,ONLY_ONE:44,MD_PARENT:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:":",15:"BLOCK_START",17:"BLOCK_STOP",18:"SQS",19:"SQE",20:"title",21:"title_value",22:"acc_title",23:"acc_title_value",24:"acc_descr",25:"acc_descr_value",26:"acc_descr_multiline_value",27:"ALPHANUM",28:"ENTITY_NAME",34:"ATTRIBUTE_WORD",36:"COMMA",37:"ATTRIBUTE_KEY",38:"COMMENT",41:"ZERO_OR_ONE",42:"ZERO_OR_MORE",43:"ONE_OR_MORE",44:"ONLY_ONE",45:"MD_PARENT",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,4],[9,3],[9,1],[9,7],[9,6],[9,4],[9,2],[9,2],[9,2],[9,1],[11,1],[11,1],[16,1],[16,2],[29,2],[29,3],[29,3],[29,4],[30,1],[31,1],[32,1],[32,3],[35,1],[33,1],[12,3],[39,1],[39,1],[39,1],[39,1],[39,1],[40,1],[40,1],[14,1],[14,1],[14,1]],performAction:l(function(E,_,L,D,B,S,N){var A=S.length-1;switch(B){case 1:break;case 2:case 6:case 7:this.$=[];break;case 3:S[A-1].push(S[A]),this.$=S[A-1];break;case 4:case 5:case 19:case 43:case 27:case 28:case 31:this.$=S[A];break;case 8:D.addEntity(S[A-4]),D.addEntity(S[A-2]),D.addRelationship(S[A-4],S[A],S[A-2],S[A-3]);break;case 9:D.addEntity(S[A-3]),D.addAttributes(S[A-3],S[A-1]);break;case 10:D.addEntity(S[A-2]);break;case 11:D.addEntity(S[A]);break;case 12:D.addEntity(S[A-6],S[A-4]),D.addAttributes(S[A-6],S[A-1]);break;case 13:D.addEntity(S[A-5],S[A-3]);break;case 14:D.addEntity(S[A-3],S[A-1]);break;case 15:case 16:this.$=S[A].trim(),D.setAccTitle(this.$);break;case 17:case 18:this.$=S[A].trim(),D.setAccDescription(this.$);break;case 20:case 41:case 42:case 32:this.$=S[A].replace(/"/g,"");break;case 21:case 29:this.$=[S[A]];break;case 22:S[A].push(S[A-1]),this.$=S[A];break;case 23:this.$={attributeType:S[A-1],attributeName:S[A]};break;case 24:this.$={attributeType:S[A-2],attributeName:S[A-1],attributeKeyTypeList:S[A]};break;case 25:this.$={attributeType:S[A-2],attributeName:S[A-1],attributeComment:S[A]};break;case 26:this.$={attributeType:S[A-3],attributeName:S[A-2],attributeKeyTypeList:S[A-1],attributeComment:S[A]};break;case 30:S[A-2].push(S[A]),this.$=S[A-2];break;case 33:this.$={cardA:S[A],relType:S[A-1],cardB:S[A-2]};break;case 34:this.$=D.Cardinality.ZERO_OR_ONE;break;case 35:this.$=D.Cardinality.ZERO_OR_MORE;break;case 36:this.$=D.Cardinality.ONE_OR_MORE;break;case 37:this.$=D.Cardinality.ONLY_ONE;break;case 38:this.$=D.Cardinality.MD_PARENT;break;case 39:this.$=D.Identification.NON_IDENTIFYING;break;case 40:this.$=D.Identification.IDENTIFYING}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,20:r,22:n,24:i,26:a,27:s,28:o},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:16,11:9,20:r,22:n,24:i,26:a,27:s,28:o},e(t,[2,5]),e(t,[2,6]),e(t,[2,11],{12:17,39:20,15:[1,18],18:[1,19],41:u,42:h,43:d,44:p,45:f}),{21:[1,26]},{23:[1,27]},{25:[1,28]},e(t,[2,18]),e(g,[2,19]),e(g,[2,20]),e(t,[2,4]),{11:29,27:s,28:o},{16:30,17:[1,31],29:32,30:33,34:m},{11:35,27:s,28:o},{40:36,46:[1,37],47:[1,38]},e(y,[2,34]),e(y,[2,35]),e(y,[2,36]),e(y,[2,37]),e(y,[2,38]),e(t,[2,15]),e(t,[2,16]),e(t,[2,17]),{13:[1,39]},{17:[1,40]},e(t,[2,10]),{16:41,17:[2,21],29:32,30:33,34:m},{31:42,34:[1,43]},{34:[2,27]},{19:[1,44]},{39:45,41:u,42:h,43:d,44:p,45:f},e(v,[2,39]),e(v,[2,40]),{14:46,27:[1,49],28:[1,48],48:[1,47]},e(t,[2,9]),{17:[2,22]},e(x,[2,23],{32:50,33:51,35:52,37:b,38:w}),e([17,34,37,38],[2,28]),e(t,[2,14],{15:[1,55]}),e([27,28],[2,33]),e(t,[2,8]),e(t,[2,41]),e(t,[2,42]),e(t,[2,43]),e(x,[2,24],{33:56,36:[1,57],38:w}),e(x,[2,25]),e(T,[2,29]),e(x,[2,32]),e(T,[2,31]),{16:58,17:[1,59],29:32,30:33,34:m},e(x,[2,26]),{35:60,37:b},{17:[1,61]},e(t,[2,13]),e(T,[2,30]),e(t,[2,12])],defaultActions:{34:[2,27],41:[2,22]},parseError:l(function(E,_){if(!_.recoverable){var L=new Error(E);throw L.hash=_,L}this.trace(E)},"parseError"),parse:l(function(E){var _=this,L=[0],D=[],B=[null],S=[],N=this.table,A="",M=0,O=0,I=2,P=1,$=S.slice.call(arguments,1),z=Object.create(this.lexer),G={yy:{}};for(var q in this.yy)Object.prototype.hasOwnProperty.call(this.yy,q)&&(G.yy[q]=this.yy[q]);z.setInput(E,G.yy),G.yy.lexer=z,G.yy.parser=this,z.yylloc===void 0&&(z.yylloc={});var J=z.yylloc;S.push(J);var ie=z.options&&z.options.ranges;function te(Se){L.length=L.length-2*Se,B.length=B.length-Se,S.length=S.length-Se}function W(){var Se;return typeof(Se=D.pop()||z.lex()||P)!="number"&&(Se instanceof Array&&(Se=(D=Se).pop()),Se=_.symbols_[Se]||Se),Se}typeof G.yy.parseError=="function"?this.parseError=G.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,l(te,"popStack"),l(W,"lex");for(var H,X,Q,ne,ee,pe,j,ce,le={};;){if(X=L[L.length-1],this.defaultActions[X]?Q=this.defaultActions[X]:(H==null&&(H=W()),Q=N[X]&&N[X][H]),Q===void 0||!Q.length||!Q[0]){var Ae="";for(ee in ce=[],N[X])this.terminals_[ee]&&ee>I&&ce.push("'"+this.terminals_[ee]+"'");Ae=z.showPosition?"Parse error on line "+(M+1)+`:
`+z.showPosition()+`
Expecting `+ce.join(", ")+", got '"+(this.terminals_[H]||H)+"'":"Parse error on line "+(M+1)+": Unexpected "+(H==P?"end of input":"'"+(this.terminals_[H]||H)+"'"),this.parseError(Ae,{text:z.match,token:this.terminals_[H]||H,line:z.yylineno,loc:J,expected:ce})}if(Q[0]instanceof Array&&Q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+X+", token: "+H);switch(Q[0]){case 1:L.push(H),B.push(z.yytext),S.push(z.yylloc),L.push(Q[1]),H=null,O=z.yyleng,A=z.yytext,M=z.yylineno,J=z.yylloc;break;case 2:if(pe=this.productions_[Q[1]][1],le.$=B[B.length-pe],le._$={first_line:S[S.length-(pe||1)].first_line,last_line:S[S.length-1].last_line,first_column:S[S.length-(pe||1)].first_column,last_column:S[S.length-1].last_column},ie&&(le._$.range=[S[S.length-(pe||1)].range[0],S[S.length-1].range[1]]),(ne=this.performAction.apply(le,[A,O,M,G.yy,Q[1],B,S].concat($)))!==void 0)return ne;pe&&(L=L.slice(0,-1*pe*2),B=B.slice(0,-1*pe),S=S.slice(0,-1*pe)),L.push(this.productions_[Q[1]][0]),B.push(le.$),S.push(le._$),j=N[L[L.length-2]][L[L.length-1]],L.push(j);break;case 3:return!0}}return!0},"parse")},R=function(){var E={EOF:1,parseError:l(function(_,L){if(!this.yy.parser)throw new Error(_);this.yy.parser.parseError(_,L)},"parseError"),setInput:l(function(_,L){return this.yy=L||this.yy||{},this._input=_,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var _=this._input[0];return this.yytext+=_,this.yyleng++,this.offset++,this.match+=_,this.matched+=_,_.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),_},"input"),unput:l(function(_){var L=_.length,D=_.split(/(?:\r\n?|\n)/g);this._input=_+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-L),this.offset-=L;var B=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),D.length-1&&(this.yylineno-=D.length-1);var S=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:D?(D.length===B.length?this.yylloc.first_column:0)+B[B.length-D.length].length-D[0].length:this.yylloc.first_column-L},this.options.ranges&&(this.yylloc.range=[S[0],S[0]+this.yyleng-L]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:l(function(_){this.unput(this.match.slice(_))},"less"),pastInput:l(function(){var _=this.matched.substr(0,this.matched.length-this.match.length);return(_.length>20?"...":"")+_.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var _=this.match;return _.length<20&&(_+=this._input.substr(0,20-_.length)),(_.substr(0,20)+(_.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var _=this.pastInput(),L=new Array(_.length+1).join("-");return _+this.upcomingInput()+`
`+L+"^"},"showPosition"),test_match:l(function(_,L){var D,B,S;if(this.options.backtrack_lexer&&(S={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(S.yylloc.range=this.yylloc.range.slice(0))),(B=_[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=B.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:B?B[B.length-1].length-B[B.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+_[0].length},this.yytext+=_[0],this.match+=_[0],this.matches=_,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(_[0].length),this.matched+=_[0],D=this.performAction.call(this,this.yy,this,L,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),D)return D;if(this._backtrack){for(var N in S)this[N]=S[N];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;var _,L,D,B;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var S=this._currentRules(),N=0;N<S.length;N++)if((D=this._input.match(this.rules[S[N]]))&&(!L||D[0].length>L[0].length)){if(L=D,B=N,this.options.backtrack_lexer){if((_=this.test_match(D,S[N]))!==!1)return _;if(this._backtrack){L=!1;continue}return!1}if(!this.options.flex)break}return L?(_=this.test_match(L,S[B]))!==!1&&_:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var _=this.next();return _||this.lex()},"lex"),begin:l(function(_){this.conditionStack.push(_)},"begin"),popState:l(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(_){return(_=this.conditionStack.length-1-Math.abs(_||0))>=0?this.conditionStack[_]:"INITIAL"},"topState"),pushState:l(function(_){this.begin(_)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(_,L,D,B){switch(D){case 0:return this.begin("acc_title"),22;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),24;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 10;case 8:case 15:case 20:break;case 9:return 8;case 10:return 28;case 11:return 48;case 12:return 4;case 13:return this.begin("block"),15;case 14:return 36;case 16:return 37;case 17:case 18:return 34;case 19:return 38;case 21:return this.popState(),17;case 22:case 54:return L.yytext[0];case 23:return 18;case 24:return 19;case 25:case 29:case 30:case 43:return 41;case 26:case 27:case 28:case 36:case 38:case 45:return 43;case 31:case 32:case 33:case 34:case 35:case 37:case 44:return 42;case 39:case 40:case 41:case 42:return 44;case 46:return 45;case 47:case 50:case 51:case 52:return 46;case 48:case 49:return 47;case 53:return 27;case 55:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[14,15,16,17,18,19,20,21,22],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}};return E}();function C(){this.yy={}}return k.lexer=R,l(C,"Parser"),C.prototype=k,k.Parser=C,new C}();SE.parser=SE;var Lbe=SE,tu=new Map,u1=[],F7=l(function(e,t){return tu.has(e)?!tu.get(e).alias&&t&&(tu.get(e).alias=t,re.info(`Add alias '${t}' to entity '${e}'`)):(tu.set(e,{attributes:[],alias:t}),re.info("Added new entity :",e)),tu.get(e)},"addEntity"),Nbe=l(()=>tu,"getEntities"),Ibe=l(function(e,t){let r,n=F7(e);for(r=t.length-1;r>=0;r--)n.attributes.push(t[r]),re.debug("Added attribute ",t[r].attributeName)},"addAttributes"),Mbe=l(function(e,t,r,n){let i={entityA:e,roleA:t,entityB:r,relSpec:n};u1.push(i),re.debug("Added new relationship :",i)},"addRelationship"),Rbe=l(()=>u1,"getRelationships"),Dbe=l(function(){tu=new Map,u1=[],Hn()},"clear"),Obe={Cardinality:{ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},Identification:{NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},getConfig:l(()=>ye().er,"getConfig"),addEntity:F7,addAttributes:Ibe,getEntities:Nbe,addRelationship:Mbe,getRelationships:Rbe,clear:Dbe,setAccTitle:Vn,getAccTitle:ci,setAccDescription:ui,getAccDescription:hi,setDiagramTitle:Fi,getDiagramTitle:di},cs={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END",MD_PARENT_END:"MD_PARENT_END",MD_PARENT_START:"MD_PARENT_START"},ps={ERMarkers:cs,insertMarkers:l(function(e,t){let r;e.append("defs").append("marker").attr("id",cs.MD_PARENT_START).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",cs.MD_PARENT_END).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",cs.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",cs.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",cs.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",cs.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,0 L21,18"),e.append("defs").append("marker").attr("id",cs.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",cs.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),r=e.append("defs").append("marker").attr("id",cs.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),r=e.append("defs").append("marker").attr("id",cs.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"insertMarkers")},Pbe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function z7(e){return typeof e=="string"&&Pbe.test(e)}l(z7,"validate");var Bbe=z7,ei=[];for(let e=0;e<256;++e)ei.push((e+256).toString(16).slice(1));function U7(e,t=0){return ei[e[t+0]]+ei[e[t+1]]+ei[e[t+2]]+ei[e[t+3]]+"-"+ei[e[t+4]]+ei[e[t+5]]+"-"+ei[e[t+6]]+ei[e[t+7]]+"-"+ei[e[t+8]]+ei[e[t+9]]+"-"+ei[e[t+10]]+ei[e[t+11]]+ei[e[t+12]]+ei[e[t+13]]+ei[e[t+14]]+ei[e[t+15]]}function G7(e){if(!Bbe(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}l(U7,"unsafeStringify"),l(G7,"parse");var $be=G7;function q7(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}l(q7,"stringToBytes");function j7(e,t,r){function n(i,a,s,o){var u;if(typeof i=="string"&&(i=q7(i)),typeof a=="string"&&(a=$be(a)),((u=a)===null||u===void 0?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+i.length);if(h.set(a),h.set(i,a.length),h=r(h),h[6]=15&h[6]|t,h[8]=63&h[8]|128,s){o=o||0;for(let d=0;d<16;++d)s[o+d]=h[d];return s}return U7(h)}l(n,"generateUUID");try{n.name=e}catch{}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function Y7(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function Hx(e,t){return e<<t|e>>>32-t}function W7(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const s=unescape(encodeURIComponent(e));e=[];for(let o=0;o<s.length;++o)e.push(s.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const n=e.length/4+2,i=Math.ceil(n/16),a=new Array(i);for(let s=0;s<i;++s){const o=new Uint32Array(16);for(let u=0;u<16;++u)o[u]=e[64*s+4*u]<<24|e[64*s+4*u+1]<<16|e[64*s+4*u+2]<<8|e[64*s+4*u+3];a[s]=o}a[i-1][14]=8*(e.length-1)/Math.pow(2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=8*(e.length-1)&4294967295;for(let s=0;s<i;++s){const o=new Uint32Array(80);for(let g=0;g<16;++g)o[g]=a[s][g];for(let g=16;g<80;++g)o[g]=Hx(o[g-3]^o[g-8]^o[g-14]^o[g-16],1);let u=r[0],h=r[1],d=r[2],p=r[3],f=r[4];for(let g=0;g<80;++g){const m=Math.floor(g/20),y=Hx(u,5)+Y7(m,h,d,p)+f+t[m]+o[g]>>>0;f=p,p=d,d=Hx(h,30)>>>0,h=u,u=y}r[0]=r[0]+u>>>0,r[1]=r[1]+h>>>0,r[2]=r[2]+d>>>0,r[3]=r[3]+p>>>0,r[4]=r[4]+f>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}l(j7,"v35"),l(Y7,"f"),l(Hx,"ROTL"),l(W7,"sha1");var Fbe=j7("v5",80,W7),zbe=/[^\dA-Za-z](\W)*/g,Mn={},zy=new Map,Ube=l(function(e){const t=Object.keys(e);for(const r of t)Mn[r]=e[r]},"setConf"),Gbe=l((e,t,r)=>{const n=Mn.entityPadding/3,i=Mn.entityPadding/3,a=.85*Mn.fontSize,s=t.node().getBBox(),o=[];let u=!1,h=!1,d=0,p=0,f=0,g=0,m=s.height+2*n,y=1;r.forEach(w=>{w.attributeKeyTypeList!==void 0&&w.attributeKeyTypeList.length>0&&(u=!0),w.attributeComment!==void 0&&(h=!0)}),r.forEach(w=>{const T=`${t.node().id}-attr-${y}`;let k=0;const R=Pc(w.attributeType),C=e.append("text").classed("er entityLabel",!0).attr("id",`${T}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ye().fontFamily).style("font-size",a+"px").text(R),E=e.append("text").classed("er entityLabel",!0).attr("id",`${T}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ye().fontFamily).style("font-size",a+"px").text(w.attributeName),_={};_.tn=C,_.nn=E;const L=C.node().getBBox(),D=E.node().getBBox();if(d=Math.max(d,L.width),p=Math.max(p,D.width),k=Math.max(L.height,D.height),u){const B=w.attributeKeyTypeList!==void 0?w.attributeKeyTypeList.join(","):"",S=e.append("text").classed("er entityLabel",!0).attr("id",`${T}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ye().fontFamily).style("font-size",a+"px").text(B);_.kn=S;const N=S.node().getBBox();f=Math.max(f,N.width),k=Math.max(k,N.height)}if(h){const B=e.append("text").classed("er entityLabel",!0).attr("id",`${T}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ye().fontFamily).style("font-size",a+"px").text(w.attributeComment||"");_.cn=B;const S=B.node().getBBox();g=Math.max(g,S.width),k=Math.max(k,S.height)}_.height=k,o.push(_),m+=k+2*n,y+=1});let v=4;u&&(v+=2),h&&(v+=2);const x=d+p+f+g,b={width:Math.max(Mn.minEntityWidth,Math.max(s.width+2*Mn.entityPadding,x+i*v)),height:r.length>0?m:Math.max(Mn.minEntityHeight,s.height+2*Mn.entityPadding)};if(r.length>0){const w=Math.max(0,(b.width-x-i*v)/(v/2));t.attr("transform","translate("+b.width/2+","+(n+s.height/2)+")");let T=s.height+2*n,k="attributeBoxOdd";o.forEach(R=>{const C=T+n+R.height/2;R.tn.attr("transform","translate("+i+","+C+")");const E=e.insert("rect","#"+R.tn.node().id).classed(`er ${k}`,!0).attr("x",0).attr("y",T).attr("width",d+2*i+w).attr("height",R.height+2*n),_=parseFloat(E.attr("x"))+parseFloat(E.attr("width"));R.nn.attr("transform","translate("+(_+i)+","+C+")");const L=e.insert("rect","#"+R.nn.node().id).classed(`er ${k}`,!0).attr("x",_).attr("y",T).attr("width",p+2*i+w).attr("height",R.height+2*n);let D=parseFloat(L.attr("x"))+parseFloat(L.attr("width"));if(u){R.kn.attr("transform","translate("+(D+i)+","+C+")");const B=e.insert("rect","#"+R.kn.node().id).classed(`er ${k}`,!0).attr("x",D).attr("y",T).attr("width",f+2*i+w).attr("height",R.height+2*n);D=parseFloat(B.attr("x"))+parseFloat(B.attr("width"))}h&&(R.cn.attr("transform","translate("+(D+i)+","+C+")"),e.insert("rect","#"+R.cn.node().id).classed(`er ${k}`,"true").attr("x",D).attr("y",T).attr("width",g+2*i+w).attr("height",R.height+2*n)),T+=R.height+2*n,k=k==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else b.height=Math.max(Mn.minEntityHeight,m),t.attr("transform","translate("+b.width/2+","+b.height/2+")");return b},"drawAttributes"),qbe=l(function(e,t,r){let n;return[...t.keys()].forEach(function(i){const a=V7(i,"entity");zy.set(i,a);const s=e.append("g").attr("id",a);n=n===void 0?a:n;const o="text-"+a,u=s.append("text").classed("er entityLabel",!0).attr("id",o).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",ye().fontFamily).style("font-size",Mn.fontSize+"px").text(t.get(i).alias??i),{width:h,height:d}=Gbe(s,u,t.get(i).attributes),p=s.insert("rect","#"+o).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",h).attr("height",d).node().getBBox();r.setNode(a,{width:p.width,height:p.height,shape:"rect",id:a})}),n},"drawEntities"),jbe=l(function(e,t){t.nodes().forEach(function(r){r!==void 0&&t.node(r)!==void 0&&e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )")})},"adjustEntities"),H7=l(function(e){return(e.entityA+e.roleA+e.entityB).replace(/\s/g,"")},"getEdgeName"),Ybe=l(function(e,t){return e.forEach(function(r){t.setEdge(zy.get(r.entityA),zy.get(r.entityB),{relationship:r},H7(r))}),e},"addRelationships"),iD=0,Wbe=l(function(e,t,r,n,i){iD++;const a=r.edge(zy.get(t.entityA),zy.get(t.entityB),H7(t)),s=Xl().x(function(y){return y.x}).y(function(y){return y.y}).curve(x0),o=e.insert("path","#"+n).classed("er relationshipLine",!0).attr("d",s(a.points)).style("stroke",Mn.stroke).style("fill","none");t.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&o.attr("stroke-dasharray","8,8");let u="";switch(Mn.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),t.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:o.attr("marker-end","url("+u+"#"+ps.ERMarkers.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:o.attr("marker-end","url("+u+"#"+ps.ERMarkers.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:o.attr("marker-end","url("+u+"#"+ps.ERMarkers.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:o.attr("marker-end","url("+u+"#"+ps.ERMarkers.ONLY_ONE_END+")");break;case i.db.Cardinality.MD_PARENT:o.attr("marker-end","url("+u+"#"+ps.ERMarkers.MD_PARENT_END+")")}switch(t.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:o.attr("marker-start","url("+u+"#"+ps.ERMarkers.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:o.attr("marker-start","url("+u+"#"+ps.ERMarkers.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:o.attr("marker-start","url("+u+"#"+ps.ERMarkers.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:o.attr("marker-start","url("+u+"#"+ps.ERMarkers.ONLY_ONE_START+")");break;case i.db.Cardinality.MD_PARENT:o.attr("marker-start","url("+u+"#"+ps.ERMarkers.MD_PARENT_START+")")}const h=o.node().getTotalLength(),d=o.node().getPointAtLength(.5*h),p="rel"+iD,f=t.roleA.split(/<br ?\/>/g),g=e.append("text").classed("er relationshipLabel",!0).attr("id",p).attr("x",d.x).attr("y",d.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",ye().fontFamily).style("font-size",Mn.fontSize+"px");if(f.length==1)g.text(t.roleA);else{const y=.5*-(f.length-1);f.forEach((v,x)=>{g.append("tspan").attr("x",d.x).attr("dy",`${x===0?y:1}em`).text(v)})}const m=g.node().getBBox();e.insert("rect","#"+p).classed("er relationshipLabelBox",!0).attr("x",d.x-m.width/2).attr("y",d.y-m.height/2).attr("width",m.width).attr("height",m.height)},"drawRelationshipFromLayout"),Hbe=l(function(e,t,r,n){Mn=ye().er,re.info("Drawing ER diagram");const i=ye().securityLevel;let a;i==="sandbox"&&(a=Qe("#i"+t));const s=Qe(i==="sandbox"?a.nodes()[0].contentDocument.body:"body").select(`[id='${t}']`);let o;ps.insertMarkers(s,Mn),o=new _i({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:Mn.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const u=qbe(s,n.db.getEntities(),o),h=Ybe(n.db.getRelationships(),o);G2(o),jbe(s,o),h.forEach(function(m){Wbe(s,m,o,u,n)});const d=Mn.diagramPadding;Yt.insertTitle(s,"entityTitleText",Mn.titleTopMargin,n.db.getDiagramTitle());const p=s.node().getBBox(),f=p.width+2*d,g=p.height+2*d;Ci(s,g,f,Mn.useMaxWidth),s.attr("viewBox",`${p.x-d} ${p.y-d} ${f} ${g}`)},"draw");function V7(e="",t=""){const r=e.replace(zbe,"");return`${AE(t)}${AE(r)}${Fbe(e,"28e9f9db-3c8d-5aa5-9faf-44286ae5937c")}`}function AE(e=""){return e.length>0?`${e}-`:""}l(V7,"generateId"),l(AE,"strWithHyphen");var Vbe={parser:Lbe,db:Obe,renderer:{setConf:Ube,draw:Hbe},styles:l(e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${e.attributeBackgroundColorOdd};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${e.attributeBackgroundColorEven};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${e.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }    
  #MD_PARENT_START {
    fill: #f5f5f5 !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
  #MD_PARENT_END {
    fill: #f5f5f5 !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
  
`,"getStyles")},Xbe=Object.freeze({__proto__:null,diagram:Vbe}),yp,h1=(yp=class{constructor(t){this.init=t,this.records=this.init()}reset(){this.records=this.init()}},l(yp,"ImperativeState"),yp);function q2(e,t){var r,n,i;e.accDescr&&((r=t.setAccDescription)==null||r.call(t,e.accDescr)),e.accTitle&&((n=t.setAccTitle)==null||n.call(t,e.accTitle)),e.title&&((i=t.setDiagramTitle)==null||i.call(t,e.title))}l(q2,"populateCommonDb");var X7=qn({"../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/ral.js"(e){var t;function r(){if(t===void 0)throw new Error("No runtime abstraction layer installed");return t}Object.defineProperty(e,"__esModule",{value:!0}),l(r,"RAL"),function(n){function i(a){if(a===void 0)throw new Error("No runtime abstraction layer provided");t=a}l(i,"install"),n.install=i}(r||(r={})),e.default=r}}),Kbe=qn({"../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/is.js"(e){function t(u){return u===!0||u===!1}function r(u){return typeof u=="string"||u instanceof String}function n(u){return typeof u=="number"||u instanceof Number}function i(u){return u instanceof Error}function a(u){return typeof u=="function"}function s(u){return Array.isArray(u)}function o(u){return s(u)&&u.every(h=>r(h))}Object.defineProperty(e,"__esModule",{value:!0}),e.stringArray=e.array=e.func=e.error=e.number=e.string=e.boolean=void 0,l(t,"boolean"),e.boolean=t,l(r,"string"),e.string=r,l(n,"number"),e.number=n,l(i,"error"),e.error=i,l(a,"func"),e.func=a,l(s,"array"),e.array=s,l(o,"stringArray"),e.stringArray=o}}),K7=qn({"../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/events.js"(e){var a,s;Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=e.Event=void 0;var t,r=X7();(function(o){const u={dispose(){}};o.None=function(){return u}})(t||(e.Event=t={}));var n=(a=class{add(u,h=null,d){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(u),this._contexts.push(h),Array.isArray(d)&&d.push({dispose:l(()=>this.remove(u,h),"dispose")})}remove(u,h=null){if(!this._callbacks)return;let d=!1;for(let p=0,f=this._callbacks.length;p<f;p++)if(this._callbacks[p]===u){if(this._contexts[p]===h)return this._callbacks.splice(p,1),void this._contexts.splice(p,1);d=!0}if(d)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...u){if(!this._callbacks)return[];const h=[],d=this._callbacks.slice(0),p=this._contexts.slice(0);for(let f=0,g=d.length;f<g;f++)try{h.push(d[f].apply(p[f],u))}catch(m){(0,r.default)().console.error(m)}return h}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},l(a,"CallbackList"),a),i=(s=class{constructor(u){this._options=u}get event(){return this._event||(this._event=(u,h,d)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(u,h);const p={dispose:l(()=>{this._callbacks&&(this._callbacks.remove(u,h),p.dispose=s._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(d)&&d.push(p),p}),this._event}fire(u){this._callbacks&&this._callbacks.invoke.call(this._callbacks,u)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}},l(s,"Emitter"),s);e.Emitter=i,i._noop=function(){}}}),Zbe=qn({"../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/cancellation.js"(e){var u,h;Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;var t,r=X7(),n=Kbe(),i=K7();(function(d){function p(f){const g=f;return g&&(g===d.None||g===d.Cancelled||n.boolean(g.isCancellationRequested)&&!!g.onCancellationRequested)}d.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:i.Event.None}),d.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i.Event.None}),l(p,"is"),d.is=p})(t||(e.CancellationToken=t={}));var a=Object.freeze(function(d,p){const f=(0,r.default)().timer.setTimeout(d.bind(p),0);return{dispose(){f.dispose()}}}),s=(u=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new i.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},l(u,"MutableToken"),u),o=(h=class{get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=t.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=t.None}},l(h,"CancellationTokenSource"),h);e.CancellationTokenSource=o}}),Z7={};il(Z7,{AbstractAstReflection:()=>f1,AbstractCstNode:()=>kL,AbstractLangiumParser:()=>_L,AbstractParserErrorMessageProvider:()=>Jre,AbstractThreadedAsyncParser:()=>q4e,AstUtils:()=>C9,BiMap:()=>r5,Cancellation:()=>dn,CompositeCstNodeImpl:()=>Q6,ContextCache:()=>tw,CstNodeBuilder:()=>Kre,CstUtils:()=>d1,DONE_RESULT:()=>Ki,DatatypeSymbol:()=>Q4,DefaultAstNodeDescriptionProvider:()=>Ene,DefaultAstNodeLocator:()=>Sne,DefaultAsyncParser:()=>Yne,DefaultCommentProvider:()=>jne,DefaultConfigurationProvider:()=>Ane,DefaultDocumentBuilder:()=>Lne,DefaultDocumentValidator:()=>_ne,DefaultHydrator:()=>Hne,DefaultIndexManager:()=>Nne,DefaultJsonSerializer:()=>wne,DefaultLangiumDocumentFactory:()=>dne,DefaultLangiumDocuments:()=>pne,DefaultLexer:()=>Mne,DefaultLinker:()=>fne,DefaultNameProvider:()=>gne,DefaultReferenceDescriptionProvider:()=>Cne,DefaultReferences:()=>mne,DefaultScopeComputation:()=>yne,DefaultScopeProvider:()=>bne,DefaultServiceRegistry:()=>kne,DefaultTokenBuilder:()=>RL,DefaultValueConverter:()=>DL,DefaultWorkspaceLock:()=>Wne,DefaultWorkspaceManager:()=>Ine,Deferred:()=>tl,Disposable:()=>l0,DisposableCache:()=>ew,DocumentCache:()=>xne,DocumentState:()=>Yr,DocumentValidator:()=>Ao,EMPTY_SCOPE:()=>F4e,EMPTY_STREAM:()=>C6,EmptyFileSystem:()=>kh,EmptyFileSystemProvider:()=>Vne,ErrorWithLocation:()=>A6,GrammarAST:()=>aee,GrammarUtils:()=>T1,JSDocDocumentationProvider:()=>qne,LangiumCompletionParser:()=>ene,LangiumParser:()=>Qre,LangiumParserErrorMessageProvider:()=>EL,LeafCstNodeImpl:()=>Z4,MapScope:()=>vne,Module:()=>tC,MultiMap:()=>Z2,OperationCancelled:()=>oc,ParserWorker:()=>j4e,Reduction:()=>Gy,RegExpUtils:()=>A9,RootCstNodeImpl:()=>TL,SimpleCache:()=>zL,StreamImpl:()=>Js,StreamScope:()=>ZE,TextDocument:()=>e5,TreeStreamImpl:()=>i0,URI:()=>lc,UriUtils:()=>ho,ValidationCategory:()=>Qy,ValidationRegistry:()=>Tne,ValueConverter:()=>Ws,WorkspaceCache:()=>UL,assertUnreachable:()=>vh,createCompletionParser:()=>NL,createDefaultCoreModule:()=>bc,createDefaultSharedCoreModule:()=>wc,createGrammarConfig:()=>H9,createLangiumParser:()=>IL,delayNextTick:()=>J6,diagnosticData:()=>n5,eagerLoad:()=>QL,getDiagnosticRange:()=>qL,inject:()=>ha,interruptAndCheck:()=>aa,isAstNode:()=>En,isAstNodeDescription:()=>p1,isAstNodeWithComment:()=>GL,isCompositeCstNode:()=>uo,isIMultiModeLexerDefinition:()=>rw,isJSDoc:()=>WL,isLeafCstNode:()=>yh,isLinkingError:()=>vd,isNamed:()=>FL,isOperationCancelled:()=>D0,isReference:()=>ta,isRootCstNode:()=>E6,isTokenTypeArray:()=>jL,isTokenTypeDictionary:()=>i5,loadGrammarFromJson:()=>kc,parseJSDoc:()=>YL,prepareLangiumParser:()=>ML,setInterruptionPeriod:()=>PL,startCancelableOperation:()=>OL,stream:()=>bn,toDiagnosticSeverity:()=>ay});var d1={};function En(e){return typeof e=="object"&&e!==null&&typeof e.$type=="string"}function ta(e){return typeof e=="object"&&e!==null&&typeof e.$refText=="string"}function p1(e){return typeof e=="object"&&e!==null&&typeof e.name=="string"&&typeof e.type=="string"&&typeof e.path=="string"}function vd(e){return typeof e=="object"&&e!==null&&En(e.container)&&ta(e.reference)&&typeof e.message=="string"}il(d1,{DefaultNameRegexp:()=>v1,RangeComparison:()=>No,compareRange:()=>m1,findCommentNode:()=>x1,findDeclarationNodeAtOffset:()=>eee,findLeafNodeAtOffset:()=>S6,findLeafNodeBeforeOffset:()=>b1,flattenCst:()=>J7,getInteriorNodes:()=>nee,getNextNode:()=>tee,getPreviousNode:()=>k1,getStartlineNode:()=>ree,inRange:()=>y1,isChildNode:()=>g1,isCommentNode:()=>I4,streamCst:()=>a0,toDocumentSegment:()=>s0,tokenToRange:()=>qy}),l(En,"isAstNode"),l(ta,"isReference"),l(p1,"isAstNodeDescription"),l(vd,"isLinkingError");var vp,f1=(vp=class{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(t,r){return En(t)&&this.isSubtype(t.$type,r)}isSubtype(t,r){if(t===r)return!0;let n=this.subtypes[t];n||(n=this.subtypes[t]={});const i=n[r];if(i!==void 0)return i;{const a=this.computeIsSubtype(t,r);return n[r]=a,a}}getAllSubTypes(t){const r=this.allSubtypes[t];if(r)return r;{const n=this.getAllTypes(),i=[];for(const a of n)this.isSubtype(a,t)&&i.push(a);return this.allSubtypes[t]=i,i}}},l(vp,"AbstractAstReflection"),vp);function uo(e){return typeof e=="object"&&e!==null&&Array.isArray(e.content)}function yh(e){return typeof e=="object"&&e!==null&&typeof e.tokenType=="object"}function E6(e){return uo(e)&&typeof e.fullText=="string"}l(uo,"isCompositeCstNode"),l(yh,"isLeafCstNode"),l(E6,"isRootCstNode");var wa,Js=(wa=class{constructor(t,r){this.startFn=t,this.nextFn=r}iterator(){const t={state:this.startFn(),next:l(()=>this.nextFn(t.state),"next"),[Symbol.iterator]:()=>t};return t}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const t=this.iterator();let r=0,n=t.next();for(;!n.done;)r++,n=t.next();return r}toArray(){const t=[],r=this.iterator();let n;do n=r.next(),n.value!==void 0&&t.push(n.value);while(!n.done);return t}toSet(){return new Set(this)}toMap(t,r){const n=this.map(i=>[t?t(i):i,r?r(i):i]);return new Map(n)}toString(){return this.join()}concat(t){const r=t[Symbol.iterator]();return new wa(()=>({first:this.startFn(),firstDone:!1}),n=>{let i;if(!n.firstDone){do if(i=this.nextFn(n.first),!i.done)return i;while(!i.done);n.firstDone=!0}do if(i=r.next(),!i.done)return i;while(!i.done);return Ki})}join(t=","){const r=this.iterator();let n,i="",a=!1;do n=r.next(),n.done||(a&&(i+=t),i+=Q7(n.value)),a=!0;while(!n.done);return i}indexOf(t,r=0){const n=this.iterator();let i=0,a=n.next();for(;!a.done;){if(i>=r&&a.value===t)return i;a=n.next(),i++}return-1}every(t){const r=this.iterator();let n=r.next();for(;!n.done;){if(!t(n.value))return!1;n=r.next()}return!0}some(t){const r=this.iterator();let n=r.next();for(;!n.done;){if(t(n.value))return!0;n=r.next()}return!1}forEach(t){const r=this.iterator();let n=0,i=r.next();for(;!i.done;)t(i.value,n),i=r.next(),n++}map(t){return new wa(this.startFn,r=>{const{done:n,value:i}=this.nextFn(r);return n?Ki:{done:!1,value:t(i)}})}filter(t){return new wa(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&t(n.value))return n;while(!n.done);return Ki})}nonNullable(){return this.filter(t=>t!=null)}reduce(t,r){const n=this.iterator();let i=r,a=n.next();for(;!a.done;)i=i===void 0?a.value:t(i,a.value),a=n.next();return i}reduceRight(t,r){return this.recursiveReduce(this.iterator(),t,r)}recursiveReduce(t,r,n){const i=t.next();if(i.done)return n;const a=this.recursiveReduce(t,r,n);return a===void 0?i.value:r(a,i.value)}find(t){const r=this.iterator();let n=r.next();for(;!n.done;){if(t(n.value))return n.value;n=r.next()}}findIndex(t){const r=this.iterator();let n=0,i=r.next();for(;!i.done;){if(t(i.value))return n;i=r.next(),n++}return-1}includes(t){const r=this.iterator();let n=r.next();for(;!n.done;){if(n.value===t)return!0;n=r.next()}return!1}flatMap(t){return new wa(()=>({this:this.startFn()}),r=>{do{if(r.iterator){const a=r.iterator.next();if(!a.done)return a;r.iterator=void 0}const{done:n,value:i}=this.nextFn(r.this);if(!n){const a=t(i);if(!Uy(a))return{done:!1,value:a};r.iterator=a[Symbol.iterator]()}}while(r.iterator);return Ki})}flat(t){if(t===void 0&&(t=1),t<=0)return this;const r=t>1?this.flat(t-1):this;return new wa(()=>({this:r.startFn()}),n=>{do{if(n.iterator){const s=n.iterator.next();if(!s.done)return s;n.iterator=void 0}const{done:i,value:a}=r.nextFn(n.this);if(!i){if(!Uy(a))return{done:!1,value:a};n.iterator=a[Symbol.iterator]()}}while(n.iterator);return Ki})}head(){const t=this.iterator().next();if(!t.done)return t.value}tail(t=1){return new wa(()=>{const r=this.startFn();for(let n=0;n<t;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(t){return new wa(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>t?Ki:this.nextFn(r.state)))}distinct(t){const r=new Set;return this.filter(n=>{const i=t?t(n):n;return!r.has(i)&&(r.add(i),!0)})}exclude(t,r){const n=new Set;for(const i of t){const a=r?r(i):i;n.add(a)}return this.filter(i=>{const a=r?r(i):i;return!n.has(a)})}},l(wa,"StreamImpl"),wa);function Q7(e){return typeof e=="string"?e:e===void 0?"undefined":typeof e.toString=="function"?e.toString():Object.prototype.toString.call(e)}function Uy(e){return!!e&&typeof e[Symbol.iterator]=="function"}l(Q7,"toString"),l(Uy,"isIterable");var C6=new Js(()=>{},()=>Ki),Ki=Object.freeze({done:!0,value:void 0});function bn(...e){if(e.length===1){const t=e[0];if(t instanceof Js)return t;if(Uy(t))return new Js(()=>t[Symbol.iterator](),r=>r.next());if(typeof t.length=="number")return new Js(()=>({index:0}),r=>r.index<t.length?{done:!1,value:t[r.index++]}:Ki)}return e.length>1?new Js(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){const r=t.iterator.next();if(!r.done)return r;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){const r=e[t.collIndex++];Uy(r)?t.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(t.array=r)}}while(t.iterator||t.array||t.collIndex<e.length);return Ki}):C6}l(bn,"stream");var Gy,No,Gs,xp,i0=(xp=class extends Js{constructor(t,r,n){super(()=>({iterators:n!=null&&n.includeRoot?[[t][Symbol.iterator]()]:[r(t)[Symbol.iterator]()],pruned:!1}),i=>{for(i.pruned&&(i.iterators.pop(),i.pruned=!1);i.iterators.length>0;){const a=i.iterators[i.iterators.length-1].next();if(!a.done)return i.iterators.push(r(a.value)[Symbol.iterator]()),a;i.iterators.pop()}return Ki})}iterator(){const t={state:this.startFn(),next:l(()=>this.nextFn(t.state),"next"),prune:l(()=>{t.state.pruned=!0},"prune"),[Symbol.iterator]:()=>t};return t}},l(xp,"TreeStreamImpl"),xp);function a0(e){return new i0(e,t=>uo(t)?t.content:[],{includeRoot:!0})}function J7(e){return a0(e).filter(yh)}function g1(e,t){for(;e.container;)if((e=e.container)===t)return!0;return!1}function qy(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function s0(e){if(!e)return;const{offset:t,end:r,range:n}=e;return{range:n,offset:t,end:r,length:r-t}}function m1(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<e.start.character)return No.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>t.end.character)return No.After;const r=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,n=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return r&&n?No.Inside:r?No.OverlapBack:No.OverlapFront}function y1(e,t){return m1(e,t)>No.After}(function(e){function t(a){return a.reduce((s,o)=>s+o,0)}function r(a){return a.reduce((s,o)=>s*o,0)}function n(a){return a.reduce((s,o)=>Math.min(s,o))}function i(a){return a.reduce((s,o)=>Math.max(s,o))}l(t,"sum"),e.sum=t,l(r,"product"),e.product=r,l(n,"min"),e.min=n,l(i,"max"),e.max=i})(Gy||(Gy={})),l(a0,"streamCst"),l(J7,"flattenCst"),l(g1,"isChildNode"),l(qy,"tokenToRange"),l(s0,"toDocumentSegment"),(Gs=No||(No={}))[Gs.Before=0]="Before",Gs[Gs.After=1]="After",Gs[Gs.OverlapFront=2]="OverlapFront",Gs[Gs.OverlapBack=3]="OverlapBack",Gs[Gs.Inside=4]="Inside",l(m1,"compareRange"),l(y1,"inRange");var v1=/^[\w\p{L}]$/u;function eee(e,t,r=v1){if(e){if(t>0){const n=t-e.offset,i=e.text.charAt(n);r.test(i)||t--}return S6(e,t)}}function x1(e,t){if(e){const r=k1(e,!0);if(r&&I4(r,t))return r;if(E6(e)){const n=e.content.findIndex(i=>!i.hidden);for(let i=n-1;i>=0;i--){const a=e.content[i];if(I4(a,t))return a}}}}function I4(e,t){return yh(e)&&t.includes(e.tokenType.name)}function S6(e,t){if(yh(e))return e;if(uo(e)){const r=w1(e,t,!1);if(r)return S6(r,t)}}function b1(e,t){if(yh(e))return e;if(uo(e)){const r=w1(e,t,!0);if(r)return b1(r,t)}}function w1(e,t,r){let n,i=0,a=e.content.length-1;for(;i<=a;){const s=Math.floor((i+a)/2),o=e.content[s];if(o.offset<=t&&o.end>t)return o;o.end<=t?(n=r?o:void 0,i=s+1):a=s-1}return n}function k1(e,t=!0){for(;e.container;){const r=e.container;let n=r.content.indexOf(e);for(;n>0;){n--;const i=r.content[n];if(t||!i.hidden)return i}e=r}}function tee(e,t=!0){for(;e.container;){const r=e.container;let n=r.content.indexOf(e);const i=r.content.length-1;for(;n<i;){n++;const a=r.content[n];if(t||!a.hidden)return a}e=r}}function ree(e){if(e.range.start.character===0)return e;const t=e.range.start.line;let r,n=e;for(;e.container;){const i=e.container,a=r??i.content.indexOf(e);if(a===0?(e=i,r=void 0):(r=a-1,e=i.content[r]),e.range.start.line!==t)break;n=e}return n}function nee(e,t){const r=iee(e,t);return r?r.parent.content.slice(r.a+1,r.b):[]}function iee(e,t){const r=LE(e),n=LE(t);let i;for(let a=0;a<r.length&&a<n.length;a++){const s=r[a],o=n[a];if(s.parent!==o.parent)break;i={parent:s.parent,a:s.index,b:o.index}}return i}function LE(e){const t=[];for(;e.container;){const r=e.container,n=r.content.indexOf(e);t.push({parent:r,index:n}),e=r}return t.reverse()}l(eee,"findDeclarationNodeAtOffset"),l(x1,"findCommentNode"),l(I4,"isCommentNode"),l(S6,"findLeafNodeAtOffset"),l(b1,"findLeafNodeBeforeOffset"),l(w1,"binarySearch"),l(k1,"getPreviousNode"),l(tee,"getNextNode"),l(ree,"getStartlineNode"),l(nee,"getInteriorNodes"),l(iee,"getCommonParent"),l(LE,"getParentChain");var T1={};il(T1,{findAssignment:()=>z9,findNameAssignment:()=>U6,findNodeForKeyword:()=>F9,findNodeForProperty:()=>$6,findNodesForKeyword:()=>Lee,findNodesForKeywordInternal:()=>z6,findNodesForProperty:()=>$9,getActionAtElement:()=>G9,getActionType:()=>j9,getAllReachableRules:()=>B6,getCrossReferenceTerminal:()=>P9,getEntryRule:()=>R9,getExplicitRuleType:()=>G6,getHiddenRules:()=>D9,getRuleType:()=>Y9,getTypeName:()=>A0,isArrayCardinality:()=>Iee,isArrayOperator:()=>Mee,isCommentTerminal:()=>B9,isDataType:()=>Ree,isDataTypeRule:()=>W2,isOptionalCardinality:()=>Nee,terminalRegex:()=>H2});var bp,A6=(bp=class extends Error{constructor(t,r){super(t?`${r} at ${t.range.start.line}:${t.range.start.character}`:r)}},l(bp,"ErrorWithLocation"),bp);function vh(e){throw new Error("Error! The input value was not handled.")}l(vh,"assertUnreachable");var aee={};il(aee,{AbstractElement:()=>C1,AbstractRule:()=>ty,AbstractType:()=>ry,Action:()=>e9,Alternatives:()=>t9,ArrayLiteral:()=>S1,ArrayType:()=>A1,Assignment:()=>r9,BooleanLiteral:()=>N1,CharacterRange:()=>n9,Condition:()=>M4,Conjunction:()=>M1,CrossReference:()=>a9,Disjunction:()=>D1,EndOfFile:()=>s9,Grammar:()=>P1,GrammarImport:()=>fee,Group:()=>l9,InferredType:()=>B1,Interface:()=>$1,Keyword:()=>c9,LangiumGrammarAstReflection:()=>E9,LangiumGrammarTerminals:()=>Qbe,NamedArgument:()=>mee,NegatedToken:()=>u9,Negation:()=>F1,NumberLiteral:()=>U1,Parameter:()=>G1,ParameterReference:()=>q1,ParserRule:()=>Y1,ReferenceType:()=>W1,RegexToken:()=>d9,ReturnType:()=>bee,RuleCall:()=>f9,SimpleType:()=>X1,StringLiteral:()=>K1,TerminalAlternatives:()=>g9,TerminalGroup:()=>y9,TerminalRule:()=>D4,TerminalRuleCall:()=>x9,Type:()=>Z1,TypeAttribute:()=>kee,TypeDefinition:()=>E1,UnionType:()=>Q1,UnorderedGroup:()=>b9,UntilToken:()=>w9,ValueLiteral:()=>R4,Wildcard:()=>T9,isAbstractElement:()=>L6,isAbstractRule:()=>see,isAbstractType:()=>oee,isAction:()=>nc,isAlternatives:()=>R6,isArrayLiteral:()=>dee,isArrayType:()=>L1,isAssignment:()=>Ko,isBooleanLiteral:()=>I1,isCharacterRange:()=>i9,isCondition:()=>lee,isConjunction:()=>R1,isCrossReference:()=>Y2,isDisjunction:()=>O1,isEndOfFile:()=>o9,isFeatureName:()=>cee,isGrammar:()=>pee,isGrammarImport:()=>gee,isGroup:()=>xh,isInferredType:()=>N6,isInterface:()=>I6,isKeyword:()=>Zo,isNamedArgument:()=>yee,isNegatedToken:()=>h9,isNegation:()=>z1,isNumberLiteral:()=>vee,isParameter:()=>xee,isParameterReference:()=>j1,isParserRule:()=>ca,isPrimitiveType:()=>_1,isReferenceType:()=>H1,isRegexToken:()=>p9,isReturnType:()=>V1,isRuleCall:()=>Qo,isSimpleType:()=>M6,isStringLiteral:()=>wee,isTerminalAlternatives:()=>m9,isTerminalGroup:()=>v9,isTerminalRule:()=>cl,isTerminalRuleCall:()=>D6,isType:()=>j2,isTypeAttribute:()=>Tee,isTypeDefinition:()=>uee,isUnionType:()=>J1,isUnorderedGroup:()=>O6,isUntilToken:()=>k9,isValueLiteral:()=>hee,isWildcard:()=>_9,reflection:()=>jt});var Qbe={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/},ty="AbstractRule";function see(e){return jt.isInstance(e,ty)}l(see,"isAbstractRule");var ry="AbstractType";function oee(e){return jt.isInstance(e,ry)}l(oee,"isAbstractType");var M4="Condition";function lee(e){return jt.isInstance(e,M4)}function cee(e){return _1(e)||e==="current"||e==="entry"||e==="extends"||e==="false"||e==="fragment"||e==="grammar"||e==="hidden"||e==="import"||e==="interface"||e==="returns"||e==="terminal"||e==="true"||e==="type"||e==="infer"||e==="infers"||e==="with"||typeof e=="string"&&/\^?[_a-zA-Z][\w_]*/.test(e)}function _1(e){return e==="string"||e==="number"||e==="boolean"||e==="Date"||e==="bigint"}l(lee,"isCondition"),l(cee,"isFeatureName"),l(_1,"isPrimitiveType");var E1="TypeDefinition";function uee(e){return jt.isInstance(e,E1)}l(uee,"isTypeDefinition");var R4="ValueLiteral";function hee(e){return jt.isInstance(e,R4)}l(hee,"isValueLiteral");var C1="AbstractElement";function L6(e){return jt.isInstance(e,C1)}l(L6,"isAbstractElement");var S1="ArrayLiteral";function dee(e){return jt.isInstance(e,S1)}l(dee,"isArrayLiteral");var A1="ArrayType";function L1(e){return jt.isInstance(e,A1)}l(L1,"isArrayType");var N1="BooleanLiteral";function I1(e){return jt.isInstance(e,N1)}l(I1,"isBooleanLiteral");var M1="Conjunction";function R1(e){return jt.isInstance(e,M1)}l(R1,"isConjunction");var D1="Disjunction";function O1(e){return jt.isInstance(e,D1)}l(O1,"isDisjunction");var P1="Grammar";function pee(e){return jt.isInstance(e,P1)}l(pee,"isGrammar");var fee="GrammarImport";function gee(e){return jt.isInstance(e,fee)}l(gee,"isGrammarImport");var B1="InferredType";function N6(e){return jt.isInstance(e,B1)}l(N6,"isInferredType");var $1="Interface";function I6(e){return jt.isInstance(e,$1)}l(I6,"isInterface");var mee="NamedArgument";function yee(e){return jt.isInstance(e,mee)}l(yee,"isNamedArgument");var F1="Negation";function z1(e){return jt.isInstance(e,F1)}l(z1,"isNegation");var U1="NumberLiteral";function vee(e){return jt.isInstance(e,U1)}l(vee,"isNumberLiteral");var G1="Parameter";function xee(e){return jt.isInstance(e,G1)}l(xee,"isParameter");var q1="ParameterReference";function j1(e){return jt.isInstance(e,q1)}l(j1,"isParameterReference");var Y1="ParserRule";function ca(e){return jt.isInstance(e,Y1)}l(ca,"isParserRule");var W1="ReferenceType";function H1(e){return jt.isInstance(e,W1)}l(H1,"isReferenceType");var bee="ReturnType";function V1(e){return jt.isInstance(e,bee)}l(V1,"isReturnType");var X1="SimpleType";function M6(e){return jt.isInstance(e,X1)}l(M6,"isSimpleType");var K1="StringLiteral";function wee(e){return jt.isInstance(e,K1)}l(wee,"isStringLiteral");var D4="TerminalRule";function cl(e){return jt.isInstance(e,D4)}l(cl,"isTerminalRule");var Z1="Type";function j2(e){return jt.isInstance(e,Z1)}l(j2,"isType");var kee="TypeAttribute";function Tee(e){return jt.isInstance(e,kee)}l(Tee,"isTypeAttribute");var Q1="UnionType";function J1(e){return jt.isInstance(e,Q1)}l(J1,"isUnionType");var e9="Action";function nc(e){return jt.isInstance(e,e9)}l(nc,"isAction");var t9="Alternatives";function R6(e){return jt.isInstance(e,t9)}l(R6,"isAlternatives");var r9="Assignment";function Ko(e){return jt.isInstance(e,r9)}l(Ko,"isAssignment");var n9="CharacterRange";function i9(e){return jt.isInstance(e,n9)}l(i9,"isCharacterRange");var a9="CrossReference";function Y2(e){return jt.isInstance(e,a9)}l(Y2,"isCrossReference");var s9="EndOfFile";function o9(e){return jt.isInstance(e,s9)}l(o9,"isEndOfFile");var l9="Group";function xh(e){return jt.isInstance(e,l9)}l(xh,"isGroup");var c9="Keyword";function Zo(e){return jt.isInstance(e,c9)}l(Zo,"isKeyword");var u9="NegatedToken";function h9(e){return jt.isInstance(e,u9)}l(h9,"isNegatedToken");var d9="RegexToken";function p9(e){return jt.isInstance(e,d9)}l(p9,"isRegexToken");var f9="RuleCall";function Qo(e){return jt.isInstance(e,f9)}l(Qo,"isRuleCall");var g9="TerminalAlternatives";function m9(e){return jt.isInstance(e,g9)}l(m9,"isTerminalAlternatives");var y9="TerminalGroup";function v9(e){return jt.isInstance(e,y9)}l(v9,"isTerminalGroup");var x9="TerminalRuleCall";function D6(e){return jt.isInstance(e,x9)}l(D6,"isTerminalRuleCall");var b9="UnorderedGroup";function O6(e){return jt.isInstance(e,b9)}l(O6,"isUnorderedGroup");var w9="UntilToken";function k9(e){return jt.isInstance(e,w9)}l(k9,"isUntilToken");var T9="Wildcard";function _9(e){return jt.isInstance(e,T9)}l(_9,"isWildcard");var wp,E9=(wp=class extends f1{getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayLiteral","ArrayType","Assignment","BooleanLiteral","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","EndOfFile","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","NamedArgument","NegatedToken","Negation","NumberLiteral","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","StringLiteral","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","ValueLiteral","Wildcard"]}computeIsSubtype(t,r){switch(t){case e9:case t9:case r9:case n9:case a9:case s9:case l9:case c9:case u9:case d9:case f9:case g9:case y9:case x9:case b9:case w9:case T9:return this.isSubtype(C1,r);case S1:case U1:case K1:return this.isSubtype(R4,r);case A1:case W1:case X1:case Q1:return this.isSubtype(E1,r);case N1:return this.isSubtype(M4,r)||this.isSubtype(R4,r);case M1:case D1:case F1:case q1:return this.isSubtype(M4,r);case B1:case $1:case Z1:return this.isSubtype(ry,r);case Y1:return this.isSubtype(ty,r)||this.isSubtype(ry,r);case D4:return this.isSubtype(ty,r);default:return!1}}getReferenceType(t){const r=`${t.container.$type}:${t.property}`;switch(r){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return ry;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return ty;case"Grammar:usedGrammars":return P1;case"NamedArgument:parameter":case"ParameterReference:parameter":return G1;case"TerminalRuleCall:rule":return D4;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(t){switch(t){case"AbstractElement":return{name:"AbstractElement",properties:[{name:"cardinality"},{name:"lookahead"}]};case"ArrayLiteral":return{name:"ArrayLiteral",properties:[{name:"elements",defaultValue:[]}]};case"ArrayType":return{name:"ArrayType",properties:[{name:"elementType"}]};case"BooleanLiteral":return{name:"BooleanLiteral",properties:[{name:"true",defaultValue:!1}]};case"Conjunction":return{name:"Conjunction",properties:[{name:"left"},{name:"right"}]};case"Disjunction":return{name:"Disjunction",properties:[{name:"left"},{name:"right"}]};case"Grammar":return{name:"Grammar",properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case"GrammarImport":return{name:"GrammarImport",properties:[{name:"path"}]};case"InferredType":return{name:"InferredType",properties:[{name:"name"}]};case"Interface":return{name:"Interface",properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case"NamedArgument":return{name:"NamedArgument",properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case"Negation":return{name:"Negation",properties:[{name:"value"}]};case"NumberLiteral":return{name:"NumberLiteral",properties:[{name:"value"}]};case"Parameter":return{name:"Parameter",properties:[{name:"name"}]};case"ParameterReference":return{name:"ParameterReference",properties:[{name:"parameter"}]};case"ParserRule":return{name:"ParserRule",properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case"ReferenceType":return{name:"ReferenceType",properties:[{name:"referenceType"}]};case"ReturnType":return{name:"ReturnType",properties:[{name:"name"}]};case"SimpleType":return{name:"SimpleType",properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case"StringLiteral":return{name:"StringLiteral",properties:[{name:"value"}]};case"TerminalRule":return{name:"TerminalRule",properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case"Type":return{name:"Type",properties:[{name:"name"},{name:"type"}]};case"TypeAttribute":return{name:"TypeAttribute",properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case"UnionType":return{name:"UnionType",properties:[{name:"types",defaultValue:[]}]};case"Action":return{name:"Action",properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case"Alternatives":return{name:"Alternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"Assignment":return{name:"Assignment",properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case"CharacterRange":return{name:"CharacterRange",properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case"CrossReference":return{name:"CrossReference",properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case"EndOfFile":return{name:"EndOfFile",properties:[{name:"cardinality"},{name:"lookahead"}]};case"Group":return{name:"Group",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case"Keyword":return{name:"Keyword",properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case"NegatedToken":return{name:"NegatedToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"RegexToken":return{name:"RegexToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case"RuleCall":return{name:"RuleCall",properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalGroup":return{name:"TerminalGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalRuleCall":return{name:"TerminalRuleCall",properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"UnorderedGroup":return{name:"UnorderedGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"UntilToken":return{name:"UntilToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"Wildcard":return{name:"Wildcard",properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:t,properties:[]}}}},l(wp,"LangiumGrammarAstReflection"),wp),jt=new E9,C9={};function O4(e){for(const[t,r]of Object.entries(e))t.startsWith("$")||(Array.isArray(r)?r.forEach((n,i)=>{En(n)&&(n.$container=e,n.$containerProperty=t,n.$containerIndex=i)}):En(r)&&(r.$container=e,r.$containerProperty=t))}function o0(e,t){let r=e;for(;r;){if(t(r))return r;r=r.$container}}function aD(e,t){let r=e;for(;r;){if(t(r))return!0;r=r.$container}return!1}function Sa(e){const t=NE(e).$document;if(!t)throw new Error("AST node has no document.");return t}function NE(e){for(;e.$container;)e=e.$container;return e}function jy(e,t){if(!e)throw new Error("Node must be an AstNode.");const r=t==null?void 0:t.range;return new Js(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),n=>{for(;n.keyIndex<n.keys.length;){const i=n.keys[n.keyIndex];if(!i.startsWith("$")){const a=e[i];if(En(a)){if(n.keyIndex++,P4(a,r))return{done:!1,value:a}}else if(Array.isArray(a)){for(;n.arrayIndex<a.length;){const s=a[n.arrayIndex++];if(En(s)&&P4(s,r))return{done:!1,value:s}}n.arrayIndex=0}}n.keyIndex++}return Ki})}function ic(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new i0(e,r=>jy(r,t))}function Fo(e,t){if(!e)throw new Error("Root node must be an AstNode.");return t!=null&&t.range&&!P4(e,t.range)?new i0(e,()=>[]):new i0(e,r=>jy(r,t),{includeRoot:!0})}function P4(e,t){var r;if(!t)return!0;const n=(r=e.$cstNode)===null||r===void 0?void 0:r.range;return!!n&&y1(n,t)}function Yy(e){return new Js(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){const r=t.keys[t.keyIndex];if(!r.startsWith("$")){const n=e[r];if(ta(n))return t.keyIndex++,{done:!1,value:{reference:n,container:e,property:r}};if(Array.isArray(n)){for(;t.arrayIndex<n.length;){const i=t.arrayIndex++,a=n[i];if(ta(a))return{done:!1,value:{reference:a,container:e,property:r,index:i}}}t.arrayIndex=0}}t.keyIndex++}return Ki})}function sD(e,t=Sa(e).parseResult.value){const r=[];return Fo(t).forEach(n=>{Yy(n).forEach(i=>{i.reference.ref===e&&r.push(i.reference)})}),bn(r)}function IE(e,t){const r=e.getTypeMetaData(t.$type),n=t;for(const i of r.properties)i.defaultValue!==void 0&&n[i.name]===void 0&&(n[i.name]=S9(i.defaultValue))}function S9(e){return Array.isArray(e)?[...e.map(S9)]:e}function B4(e,t){const r={$type:e.$type};for(const[n,i]of Object.entries(e))if(!n.startsWith("$"))if(En(i))r[n]=B4(i,t);else if(ta(i))r[n]=t(r,n,i.$refNode,i.$refText);else if(Array.isArray(i)){const a=[];for(const s of i)En(s)?a.push(B4(s,t)):ta(s)?a.push(t(r,n,s.$refNode,s.$refText)):a.push(s);r[n]=a}else r[n]=i;return O4(r),r}il(C9,{assignMandatoryProperties:()=>IE,copyAstNode:()=>B4,findLocalReferences:()=>sD,findRootNode:()=>NE,getContainerOfType:()=>o0,getDocument:()=>Sa,hasContainerOfType:()=>aD,linkContentToContainer:()=>O4,streamAllContents:()=>ic,streamAst:()=>Fo,streamContents:()=>jy,streamReferences:()=>Yy}),l(O4,"linkContentToContainer"),l(o0,"getContainerOfType"),l(aD,"hasContainerOfType"),l(Sa,"getDocument"),l(NE,"findRootNode"),l(jy,"streamContents"),l(ic,"streamAllContents"),l(Fo,"streamAst"),l(P4,"isAstNodeInRange"),l(Yy,"streamReferences"),l(sD,"findLocalReferences"),l(IE,"assignMandatoryProperties"),l(S9,"copyDefaultValue"),l(B4,"copyAstNode");var A9={};function zt(e){return e.charCodeAt(0)}function Vx(e,t){Array.isArray(e)?e.forEach(function(r){t.push(r)}):t.push(e)}function Yh(e,t){if(e[t]===!0)throw"duplicate flag "+t;e[t],e[t]=!0}function jc(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function _ee(){throw Error("Internal Error - Should never get here!")}function ME(e){return e.type==="Character"}il(A9,{NEWLINE_REGEXP:()=>Cee,escapeRegExp:()=>S0,getCaseInsensitivePattern:()=>N9,getTerminalParts:()=>Aee,isMultilineComment:()=>L9,isWhitespace:()=>z4,partialMatches:()=>I9,partialRegExp:()=>M9}),l(zt,"cc"),l(Vx,"insertToSet"),l(Yh,"addFlag"),l(jc,"ASSERT_EXISTS"),l(_ee,"ASSERT_NEVER_REACH_HERE"),l(ME,"isCharacter");var $4=[];for(let e=zt("0");e<=zt("9");e++)$4.push(e);var F4=[zt("_")].concat($4);for(let e=zt("a");e<=zt("z");e++)F4.push(e);for(let e=zt("A");e<=zt("Z");e++)F4.push(e);var oD=[zt(" "),zt("\f"),zt(`
`),zt("\r"),zt("	"),zt("\v"),zt("	"),zt(""),zt(""),zt(""),zt(""),zt(""),zt(""),zt(""),zt(""),zt(""),zt(""),zt(""),zt(""),zt(""),zt("\u2028"),zt("\u2029"),zt(""),zt(""),zt(""),zt("\uFEFF")],Jbe=/[0-9a-fA-F]/,Fv=/[0-9]/,e4e=/[1-9]/,kp,Eee=(kp=class{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx}pattern(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");const r=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:t.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Yh(n,"global");break;case"i":Yh(n,"ignoreCase");break;case"m":Yh(n,"multiLine");break;case"u":Yh(n,"unicode");break;case"y":Yh(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:r,loc:this.loc(0)}}disjunction(){const t=[],r=this.idx;for(t.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t,loc:this.loc(r)}}alternative(){const t=[],r=this.idx;for(;this.isTerm();)t.push(this.term());return{type:"Alternative",value:t,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const t=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(t)};case"$":return{type:"EndAnchor",loc:this.loc(t)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(t)};case"B":return{type:"NonWordBoundary",loc:this.loc(t)}}throw Error("Invalid Assertion Escape");case"(":let r;switch(this.consumeChar("?"),this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead"}jc(r);const n=this.disjunction();return this.consumeChar(")"),{type:r,value:n,loc:this.loc(t)}}return _ee()}quantifier(t=!1){let r;const n=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:i,atMost:i};break;case",":let a;this.isDigit()?(a=this.integerIncludingZero(),r={atLeast:i,atMost:a}):r={atLeast:i,atMost:1/0},this.consumeChar("}")}if(t===!0&&r===void 0)return;jc(r)}if(t!==!0||r!==void 0)return jc(r)?(this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(n),r):void 0}atom(){let t;const r=this.idx;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group()}if(t===void 0&&this.isPatternCharacter()&&(t=this.patternCharacter()),jc(t))return t.loc=this.loc(r),this.isQuantifier()&&(t.quantifier=this.quantifier()),t}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[zt(`
`),zt("\r"),zt("\u2028"),zt("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let t,r=!1;switch(this.popChar()){case"d":t=$4;break;case"D":t=$4,r=!0;break;case"s":t=oD;break;case"S":t=oD,r=!0;break;case"w":t=F4;break;case"W":t=F4,r=!0}if(jc(t))return{type:"Set",value:t,complement:r}}controlEscapeAtom(){let t;switch(this.popChar()){case"f":t=zt("\f");break;case"n":t=zt(`
`);break;case"r":t=zt("\r");break;case"t":t=zt("	");break;case"v":t=zt("\v")}if(jc(t))return{type:"Character",value:t}}controlLetterEscapeAtom(){this.consumeChar("c");const t=this.popChar();if(/[a-zA-Z]/.test(t)===!1)throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:zt("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:zt(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:zt(this.popChar())}}}characterClass(){const t=[];let r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){const n=this.classAtom();if(n.type,ME(n)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,ME(i)){if(i.value<n.value)throw Error("Range out of order in character class");t.push({from:n.value,to:i.value})}else Vx(n.value,t),t.push(zt("-")),Vx(i.value,t)}else Vx(n.value,t)}return this.consumeChar("]"),{type:"Set",complement:r,value:t}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:zt("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let t=!0;this.consumeChar("("),this.peekChar(0)==="?"?(this.consumeChar("?"),this.consumeChar(":"),t=!1):this.groupIdx++;const r=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:t,value:r};return t&&(n.idx=this.groupIdx),n}positiveInteger(){let t=this.popChar();if(e4e.test(t)===!1)throw Error("Expecting a positive integer");for(;Fv.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}integerIncludingZero(){let t=this.popChar();if(Fv.test(t)===!1)throw Error("Expecting an integer");for(;Fv.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}patternCharacter(){const t=this.popChar();switch(t){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:zt(t)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return Fv.test(this.peekChar(0))}isClassAtom(t=0){switch(this.peekChar(t)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const t=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(t)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(t){let r="";for(let n=0;n<t;n++){const i=this.popChar();if(Jbe.test(i)===!1)throw Error("Expecting a HexDecimal digits");r+=i}return{type:"Character",value:parseInt(r,16)}}peekChar(t=0){return this.input[this.idx+t]}popChar(){const t=this.peekChar(0);return this.consumeChar(void 0),t}consumeChar(t){if(t!==void 0&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(t){return{begin:t,end:this.idx}}},l(kp,"RegExpParser"),kp),Tp,P6=(Tp=class{visitChildren(t){for(const r in t){const n=t[r];t.hasOwnProperty(r)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(i=>{this.visit(i)},this))}}visit(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t)}this.visitChildren(t)}visitPattern(t){}visitFlags(t){}visitDisjunction(t){}visitAlternative(t){}visitStartAnchor(t){}visitEndAnchor(t){}visitWordBoundary(t){}visitNonWordBoundary(t){}visitLookahead(t){}visitNegativeLookahead(t){}visitCharacter(t){}visitSet(t){}visitGroup(t){}visitGroupBackReference(t){}visitQuantifier(t){}},l(Tp,"BaseRegExpVisitor"),Tp),Cee=/\r?\n/gm,See=new Eee,_p,t4e=(_p=class extends P6{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(t){this.multiline=!1,this.regex=t,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(t){t.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(t){const r=String.fromCharCode(t.value);if(this.multiline||r!==`
`||(this.multiline=!0),t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const n=S0(r);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitSet(t){if(!this.multiline){const r=this.regex.substring(t.loc.begin,t.loc.end),n=new RegExp(r);this.multiline=!!`
`.match(n)}if(t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const r=this.regex.substring(t.loc.begin,t.loc.end);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitChildren(t){t.type==="Group"&&t.quantifier||super.visitChildren(t)}},l(_p,"TerminalRegExpVisitor"),_p),pu=new t4e;function Aee(e){try{typeof e!="string"&&(e=e.source),e=`/${e}/`;const t=See.pattern(e),r=[];for(const n of t.value.value)pu.reset(e),pu.visit(n),r.push({start:pu.startRegexp,end:pu.endRegex});return r}catch{return[]}}function L9(e){try{return typeof e=="string"&&(e=new RegExp(e)),e=e.toString(),pu.reset(e),pu.visit(See.pattern(e)),pu.multiline}catch{return!1}}function z4(e){return(typeof e=="string"?new RegExp(e):e).test(" ")}function S0(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function N9(e){return Array.prototype.map.call(e,t=>/\w/.test(t)?`[${t.toLowerCase()}${t.toUpperCase()}]`:S0(t)).join("")}function I9(e,t){const r=M9(e),n=t.match(r);return!!n&&n[0].length>0}function M9(e){typeof e=="string"&&(e=new RegExp(e));const t=e,r=e.source;let n=0;function i(){let a,s="";function o(h){s+=r.substr(n,h),n+=h}function u(h){s+="(?:"+r.substr(n,h)+"|$)",n+=h}for(l(o,"appendRaw"),l(u,"appendOptional");n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":u(3);break;case"x":u(4);break;case"u":t.unicode?r[n+2]==="{"?u(r.indexOf("}",n)-n+1):u(6):u(2);break;case"p":case"P":t.unicode?u(r.indexOf("}",n)-n+1):u(2);break;case"k":u(r.indexOf(">",n)-n+1);break;default:u(2)}break;case"[":a=/\[(?:\\.|.)*?\]/g,a.lastIndex=n,a=a.exec(r)||[],u(a[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":o(1);break;case"{":a=/\{\d+,?\d*\}/g,a.lastIndex=n,a=a.exec(r),a?o(a[0].length):u(1);break;case"(":if(r[n+1]==="?")switch(r[n+2]){case":":s+="(?:",n+=3,s+=i()+"|$)";break;case"=":s+="(?=",n+=3,s+=i()+")";break;case"!":a=n,n+=3,i(),s+=r.substr(a,n-a);break;case"<":switch(r[n+3]){case"=":case"!":a=n,n+=4,i(),s+=r.substr(a,n-a);break;default:o(r.indexOf(">",n)-n+1),s+=i()+"|$)"}}else o(1),s+=i()+"|$)";break;case")":return++n,s;default:u(1)}return s}return l(i,"process"),new RegExp(i(),e.flags)}function R9(e){return e.rules.find(t=>ca(t)&&t.entry)}function D9(e){return e.rules.filter(t=>cl(t)&&t.hidden)}function B6(e,t){const r=new Set,n=R9(e);if(!n)return new Set(e.rules);const i=[n].concat(D9(e));for(const s of i)O9(s,r,t);const a=new Set;for(const s of e.rules)(r.has(s.name)||cl(s)&&s.hidden)&&a.add(s);return a}function O9(e,t,r){t.add(e.name),ic(e).forEach(n=>{if(Qo(n)||r&&D6(n)){const i=n.rule.ref;i&&!t.has(i.name)&&O9(i,t,r)}})}function P9(e){if(e.terminal)return e.terminal;if(e.type.ref){const t=U6(e.type.ref);return t==null?void 0:t.terminal}}function B9(e){return e.hidden&&!H2(e).test(" ")}function $9(e,t){return e&&t?F6(e,t,e.astNode,!0):[]}function $6(e,t,r){if(!e||!t)return;const n=F6(e,t,e.astNode,!0);return n.length!==0?n[r=r!==void 0?Math.max(0,Math.min(r,n.length-1)):0]:void 0}function F6(e,t,r,n){if(!n){const i=o0(e.grammarSource,Ko);if(i&&i.feature===t)return[e]}return uo(e)&&e.astNode===r?e.content.flatMap(i=>F6(i,t,r,!1)):[]}function Lee(e,t){return e?z6(e,t,e==null?void 0:e.astNode):[]}function F9(e,t,r){if(!e)return;const n=z6(e,t,e==null?void 0:e.astNode);return n.length!==0?n[r=r!==void 0?Math.max(0,Math.min(r,n.length-1)):0]:void 0}function z6(e,t,r){if(e.astNode!==r)return[];if(Zo(e.grammarSource)&&e.grammarSource.value===t)return[e];const n=a0(e).iterator();let i;const a=[];do if(i=n.next(),!i.done){const s=i.value;s.astNode===r?Zo(s.grammarSource)&&s.grammarSource.value===t&&a.push(s):n.prune()}while(!i.done);return a}function z9(e){var t;const r=e.astNode;for(;r===((t=e.container)===null||t===void 0?void 0:t.astNode);){const n=o0(e.grammarSource,Ko);if(n)return n;e=e.container}}function U6(e){let t=e;return N6(t)&&(nc(t.$container)?t=t.$container.$container:ca(t.$container)?t=t.$container:vh(t.$container)),U9(e,t,new Map)}function U9(e,t,r){var n;function i(a,s){let o;return o0(a,Ko)||(o=U9(s,s,r)),r.set(e,o),o}if(l(i,"go"),r.has(e))return r.get(e);r.set(e,void 0);for(const a of ic(t)){if(Ko(a)&&a.feature.toLowerCase()==="name")return r.set(e,a),a;if(Qo(a)&&ca(a.rule.ref))return i(a,a.rule.ref);if(M6(a)&&(!((n=a.typeRef)===null||n===void 0)&&n.ref))return i(a,a.typeRef.ref)}}function G9(e){const t=e.$container;if(xh(t)){const r=t.elements;for(let n=r.indexOf(e)-1;n>=0;n--){const i=r[n];if(nc(i))return i;{const a=ic(r[n]).find(nc);if(a)return a}}}return L6(t)?G9(t):void 0}function Nee(e,t){return e==="?"||e==="*"||xh(t)&&!!t.guardCondition}function Iee(e){return e==="*"||e==="+"}function Mee(e){return e==="+="}function W2(e){return q9(e,new Set)}function q9(e,t){if(t.has(e))return!0;t.add(e);for(const r of ic(e))if(Qo(r)){if(!r.rule.ref||ca(r.rule.ref)&&!q9(r.rule.ref,t))return!1}else if(Ko(r)||nc(r))return!1;return!!e.definition}function Ree(e){return U4(e.type,new Set)}function U4(e,t){if(t.has(e))return!0;if(t.add(e),L1(e)||H1(e))return!1;if(J1(e))return e.types.every(r=>U4(r,t));if(M6(e)){if(e.primitiveType!==void 0||e.stringType!==void 0)return!0;if(e.typeRef!==void 0){const r=e.typeRef.ref;return!!j2(r)&&U4(r.type,t)}return!1}return!1}function G6(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){const t=e.returnType.ref;if(t&&(ca(t)||I6(t)||j2(t)))return t.name}}function A0(e){var t;if(ca(e))return W2(e)?e.name:(t=G6(e))!==null&&t!==void 0?t:e.name;if(I6(e)||j2(e)||V1(e))return e.name;if(nc(e)){const r=j9(e);if(r)return r}else if(N6(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function j9(e){var t;return e.inferredType?e.inferredType.name:!((t=e.type)===null||t===void 0)&&t.ref?A0(e.type.ref):void 0}function Y9(e){var t,r,n;return cl(e)?(r=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&r!==void 0?r:"string":W2(e)?e.name:(n=G6(e))!==null&&n!==void 0?n:e.name}function H2(e){const t={s:!1,i:!1,u:!1},r=bh(e.definition,t),n=Object.entries(t).filter(([,i])=>i).map(([i])=>i).join("");return new RegExp(r,n)}l(Aee,"getTerminalParts"),l(L9,"isMultilineComment"),l(z4,"isWhitespace"),l(S0,"escapeRegExp"),l(N9,"getCaseInsensitivePattern"),l(I9,"partialMatches"),l(M9,"partialRegExp"),l(R9,"getEntryRule"),l(D9,"getHiddenRules"),l(B6,"getAllReachableRules"),l(O9,"ruleDfs"),l(P9,"getCrossReferenceTerminal"),l(B9,"isCommentTerminal"),l($9,"findNodesForProperty"),l($6,"findNodeForProperty"),l(F6,"findNodesForPropertyInternal"),l(Lee,"findNodesForKeyword"),l(F9,"findNodeForKeyword"),l(z6,"findNodesForKeywordInternal"),l(z9,"findAssignment"),l(U6,"findNameAssignment"),l(U9,"findNameAssignmentInternal"),l(G9,"getActionAtElement"),l(Nee,"isOptionalCardinality"),l(Iee,"isArrayCardinality"),l(Mee,"isArrayOperator"),l(W2,"isDataTypeRule"),l(q9,"isDataTypeRuleInternal"),l(Ree,"isDataType"),l(U4,"isDataTypeInternal"),l(G6,"getExplicitRuleType"),l(A0,"getTypeName"),l(j9,"getActionType"),l(Y9,"getRuleType"),l(H2,"terminalRegex");var W9=/[\s\S]/.source;function bh(e,t){if(m9(e))return Dee(e);if(v9(e))return Oee(e);if(i9(e))return $ee(e);if(D6(e)){const r=e.rule.ref;if(!r)throw new Error("Missing rule reference.");return ao(bh(r.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}if(h9(e))return Bee(e);if(k9(e))return Pee(e);if(p9(e)){const r=e.regex.lastIndexOf("/"),n=e.regex.substring(1,r),i=e.regex.substring(r+1);return t&&(t.i=i.includes("i"),t.s=i.includes("s"),t.u=i.includes("u")),ao(n,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}if(_9(e))return ao(W9,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${e==null?void 0:e.$type}`)}function Dee(e){return ao(e.elements.map(t=>bh(t)).join("|"),{cardinality:e.cardinality,lookahead:e.lookahead})}function Oee(e){return ao(e.elements.map(t=>bh(t)).join(""),{cardinality:e.cardinality,lookahead:e.lookahead})}function Pee(e){return ao(`${W9}*?${bh(e.terminal)}`,{cardinality:e.cardinality,lookahead:e.lookahead})}function Bee(e){return ao(`(?!${bh(e.terminal)})${W9}*?`,{cardinality:e.cardinality,lookahead:e.lookahead})}function $ee(e){return e.right?ao(`[${Xx(e.left)}-${Xx(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1}):ao(Xx(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}function Xx(e){return S0(e.value)}function ao(e,t){var r;return(t.wrap!==!1||t.lookahead)&&(e=`(${(r=t.lookahead)!==null&&r!==void 0?r:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}function H9(e){const t=[],r=e.Grammar;for(const n of r.rules)cl(n)&&B9(n)&&L9(H2(n))&&t.push(n.name);return{multilineCommentRules:t,nameRegexp:v1}}function G4(e){console&&console.error&&console.error(`Error: ${e}`)}function V9(e){console&&console.warn&&console.warn(`Warning: ${e}`)}function X9(e){const t=new Date().getTime(),r=e();return{time:new Date().getTime()-t,value:r}}function K9(e){function t(){}l(t,"FakeConstructor"),t.prototype=e;const r=new t;function n(){return typeof r.bar}return l(n,"fakeAccess"),n(),n(),e}function Fee(e){return zee(e)?e.LABEL:e.name}function zee(e){return Pi(e.LABEL)&&e.LABEL!==""}l(bh,"abstractElementToRegex"),l(Dee,"terminalAlternativesToRegex"),l(Oee,"terminalGroupToRegex"),l(Pee,"untilTokenToRegex"),l(Bee,"negateTokenToRegex"),l($ee,"characterRangeToRegex"),l(Xx,"keywordToRegex"),l(ao,"withCardinality"),l(H9,"createGrammarConfig"),l(G4,"PRINT_ERROR"),l(V9,"PRINT_WARNING"),l(X9,"timer"),l(K9,"toFastProperties"),l(Fee,"tokenLabel"),l(zee,"hasTokenLabel");var Ep,po=(Ep=class{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),Le(this.definition,r=>{r.accept(t)})}},l(Ep,"AbstractProduction"),Ep),Cp,Bi=(Cp=class extends po{constructor(t){super([]),this.idx=1,Ca(this,Ps(t,r=>r!==void 0))}set definition(t){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(t){t.visit(this)}},l(Cp,"NonTerminal"),Cp),Sp,L0=(Sp=class extends po{constructor(t){super(t.definition),this.orgText="",Ca(this,Ps(t,r=>r!==void 0))}},l(Sp,"Rule"),Sp),Ap,ua=(Ap=class extends po{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,Ca(this,Ps(t,r=>r!==void 0))}},l(Ap,"Alternative"),Ap),Lp,li=(Lp=class extends po{constructor(t){super(t.definition),this.idx=1,Ca(this,Ps(t,r=>r!==void 0))}},l(Lp,"Option"),Lp),Np,Aa=(Np=class extends po{constructor(t){super(t.definition),this.idx=1,Ca(this,Ps(t,r=>r!==void 0))}},l(Np,"RepetitionMandatory"),Np),Ip,La=(Ip=class extends po{constructor(t){super(t.definition),this.idx=1,Ca(this,Ps(t,r=>r!==void 0))}},l(Ip,"RepetitionMandatoryWithSeparator"),Ip),Mp,ln=(Mp=class extends po{constructor(t){super(t.definition),this.idx=1,Ca(this,Ps(t,r=>r!==void 0))}},l(Mp,"Repetition"),Mp),Rp,fa=(Rp=class extends po{constructor(t){super(t.definition),this.idx=1,Ca(this,Ps(t,r=>r!==void 0))}},l(Rp,"RepetitionWithSeparator"),Rp),Dp,ga=(Dp=class extends po{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Ca(this,Ps(t,r=>r!==void 0))}},l(Dp,"Alternation"),Dp),Op,Wr=(Op=class{constructor(t){this.idx=1,Ca(this,Ps(t,r=>r!==void 0))}accept(t){t.visit(this)}},l(Op,"Terminal"),Op);function Uee(e){return nt(e,ny)}function ny(e){function t(r){return nt(r,ny)}if(l(t,"convertDefinition"),e instanceof Bi){const r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return Pi(e.label)&&(r.label=e.label),r}if(e instanceof ua)return{type:"Alternative",definition:t(e.definition)};if(e instanceof li)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof Aa)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof La)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:ny(new Wr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof fa)return{type:"RepetitionWithSeparator",idx:e.idx,separator:ny(new Wr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof ln)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof ga)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof Wr){const r={type:"Terminal",name:e.terminalType.name,label:Fee(e.terminalType),idx:e.idx};Pi(e.label)&&(r.terminalLabel=e.label);const n=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=Vo(n)?n.source:n),r}if(e instanceof L0)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}l(Uee,"serializeGrammar"),l(ny,"serializeProduction");var Pp,N0=(Pp=class{visit(t){const r=t;switch(r.constructor){case Bi:return this.visitNonTerminal(r);case ua:return this.visitAlternative(r);case li:return this.visitOption(r);case Aa:return this.visitRepetitionMandatory(r);case La:return this.visitRepetitionMandatoryWithSeparator(r);case fa:return this.visitRepetitionWithSeparator(r);case ln:return this.visitRepetition(r);case ga:return this.visitAlternation(r);case Wr:return this.visitTerminal(r);case L0:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}},l(Pp,"GAstVisitor"),Pp);function Gee(e){return e instanceof ua||e instanceof li||e instanceof ln||e instanceof Aa||e instanceof La||e instanceof fa||e instanceof Wr||e instanceof L0}function Wy(e,t=[]){return e instanceof li||e instanceof ln||e instanceof fa||(e instanceof ga?SQ(e.definition,r=>Wy(r,t)):!(e instanceof Bi&&zi(t,e))&&e instanceof po&&(e instanceof Bi&&t.push(e),Es(e.definition,r=>Wy(r,t))))}function qee(e){return e instanceof ga}function ws(e){if(e instanceof Bi)return"SUBRULE";if(e instanceof li)return"OPTION";if(e instanceof ga)return"OR";if(e instanceof Aa)return"AT_LEAST_ONE";if(e instanceof La)return"AT_LEAST_ONE_SEP";if(e instanceof fa)return"MANY_SEP";if(e instanceof ln)return"MANY";if(e instanceof Wr)return"CONSUME";throw Error("non exhaustive match")}l(Gee,"isSequenceProd"),l(Wy,"isOptionalProd"),l(qee,"isBranchingProd"),l(ws,"getProductionDslName");var Bp,q6=(Bp=class{walk(t,r=[]){Le(t.definition,(n,i)=>{const a=ri(t.definition,i+1);if(n instanceof Bi)this.walkProdRef(n,a,r);else if(n instanceof Wr)this.walkTerminal(n,a,r);else if(n instanceof ua)this.walkFlat(n,a,r);else if(n instanceof li)this.walkOption(n,a,r);else if(n instanceof Aa)this.walkAtLeastOne(n,a,r);else if(n instanceof La)this.walkAtLeastOneSep(n,a,r);else if(n instanceof fa)this.walkManySep(n,a,r);else if(n instanceof ln)this.walkMany(n,a,r);else{if(!(n instanceof ga))throw Error("non exhaustive match");this.walkOr(n,a,r)}})}walkTerminal(t,r,n){}walkProdRef(t,r,n){}walkFlat(t,r,n){const i=r.concat(n);this.walk(t,i)}walkOption(t,r,n){const i=r.concat(n);this.walk(t,i)}walkAtLeastOne(t,r,n){const i=[new li({definition:t.definition})].concat(r,n);this.walk(t,i)}walkAtLeastOneSep(t,r,n){const i=RE(t,r,n);this.walk(t,i)}walkMany(t,r,n){const i=[new li({definition:t.definition})].concat(r,n);this.walk(t,i)}walkManySep(t,r,n){const i=RE(t,r,n);this.walk(t,i)}walkOr(t,r,n){const i=r.concat(n);Le(t.definition,a=>{const s=new ua({definition:[a]});this.walk(s,i)})}},l(Bp,"RestWalker"),Bp);function RE(e,t,r){return[new li({definition:[new Wr({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}function I0(e){if(e instanceof Bi)return I0(e.referencedRule);if(e instanceof Wr)return Wee(e);if(Gee(e))return jee(e);if(qee(e))return Yee(e);throw Error("non exhaustive match")}function jee(e){let t=[];const r=e.definition;let n,i=0,a=r.length>i,s=!0;for(;a&&s;)n=r[i],s=Wy(n),t=t.concat(I0(n)),i+=1,a=r.length>i;return UA(t)}function Yee(e){const t=nt(e.definition,r=>I0(r));return UA(Wn(t))}function Wee(e){return[e.terminalType]}l(RE,"restForRepetitionWithSeparator"),l(I0,"first"),l(jee,"firstForSequence"),l(Yee,"firstForBranching"),l(Wee,"firstForTerminal");var $p,r4e=($p=class extends q6{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,r,n){}walkProdRef(t,r,n){const i=Vee(t.referencedRule,t.idx)+this.topProd.name,a=r.concat(n),s=I0(new ua({definition:a}));this.follows[i]=s}},l($p,"ResyncFollowsWalker"),$p);function Hee(e){const t={};return Le(e,r=>{const n=new r4e(r).startWalking();Ca(t,n)}),t}function Vee(e,t){return e.name+t+"_~IN~_"}l(Hee,"computeAllProdsFollows"),l(Vee,"buildBetweenProdsFollowPrefix");var Kx={},n4e=new Eee;function V2(e){const t=e.toString();if(Kx.hasOwnProperty(t))return Kx[t];{const r=n4e.pattern(t);return Kx[t]=r,r}}function Xee(){Kx={}}l(V2,"getRegExpAst"),l(Xee,"clearRegExpParserCache");var q4=`Unable to use "first char" lexer optimizations:
`;function Kee(e,t=!1){try{const r=V2(e);return j4(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message==="Complement Sets are not supported for first char optimization")t&&V9(`${q4}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";t&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),G4(`${q4}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function j4(e,t,r){switch(e.type){case"Disjunction":for(let i=0;i<e.value.length;i++)j4(e.value[i],t,r);break;case"Alternative":const n=e.value;for(let i=0;i<n.length;i++){const a=n[i];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const s=a;switch(s.type){case"Character":xm(s.value,t,r);break;case"Set":if(s.complement===!0)throw Error("Complement Sets are not supported for first char optimization");Le(s.value,u=>{if(typeof u=="number")xm(u,t,r);else{const h=u;if(r===!0)for(let d=h.from;d<=h.to;d++)xm(d,t,r);else{for(let d=h.from;d<=h.to&&d<bm;d++)xm(d,t,r);if(h.to>=bm){const d=h.from>=bm?h.from:bm,p=h.to,f=Jo(d),g=Jo(p);for(let m=f;m<=g;m++)t[m]=m}}}});break;case"Group":j4(s.value,t,r);break;default:throw Error("Non Exhaustive Match")}const o=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&Y4(s)===!1||s.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return Nr(t)}function xm(e,t,r){const n=Jo(e);t[n]=n,r===!0&&Zee(e,t)}function Zee(e,t){const r=String.fromCharCode(e),n=r.toUpperCase();if(n!==r){const i=Jo(n.charCodeAt(0));t[i]=i}else{const i=r.toLowerCase();if(i!==r){const a=Jo(i.charCodeAt(0));t[a]=a}}}function DE(e,t){return Ho(e.value,r=>{if(typeof r=="number")return zi(t,r);{const n=r;return Ho(t,i=>n.from<=i&&i<=n.to)!==void 0}})}function Y4(e){const t=e.quantifier;return!(!t||t.atLeast!==0)||!!e.value&&(Jt(e.value)?Es(e.value,Y4):Y4(e.value))}l(Kee,"getOptimizedStartCodesIndices"),l(j4,"firstCharOptimizedIndices"),l(xm,"addOptimizedIdxToResult"),l(Zee,"handleIgnoreCase"),l(DE,"findCode"),l(Y4,"isWholeOptional");var Fp,i4e=(Fp=class extends P6{constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(this.found!==!0){switch(t.type){case"Lookahead":return void this.visitLookahead(t);case"NegativeLookahead":return void this.visitNegativeLookahead(t)}super.visitChildren(t)}}visitCharacter(t){zi(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?DE(t,this.targetCharCodes)===void 0&&(this.found=!0):DE(t,this.targetCharCodes)!==void 0&&(this.found=!0)}},l(Fp,"CharCodeFinder"),Fp);function j6(e,t){if(t instanceof RegExp){const r=V2(t),n=new i4e(e);return n.visit(r),n.found}return Ho(t,r=>zi(e,r.charCodeAt(0)))!==void 0}l(j6,"canMatchCharCode");var Qee=typeof new RegExp("(?:)").sticky=="boolean";function Jee(e,t){const r=(t=p6(t,{useSticky:Qee,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:l((b,w)=>w(),"tracer")})).tracer;let n;r("initCharCodeToOptimizedIndexMap",()=>{xte()}),r("Reject Lexer.NA",()=>{n=v6(e,b=>b.PATTERN===ia.NA)});let i,a,s,o,u,h,d,p,f,g,m,y=!1;r("Transform Patterns",()=>{y=!1,i=nt(n,b=>{const w=b.PATTERN;if(Vo(w)){const T=w.source;return T.length!==1||T==="^"||T==="$"||T==="."||w.ignoreCase?T.length!==2||T[0]!=="\\"||zi(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],T[1])?t.useSticky?PE(w):OE(w):T[1]:T}if(ns(w))return y=!0,{exec:w};if(typeof w=="object")return y=!0,w;if(typeof w=="string"){if(w.length===1)return w;{const T=w.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),k=new RegExp(T);return t.useSticky?PE(k):OE(k)}}throw Error("non exhaustive match")})}),r("misc mapping",()=>{a=nt(n,b=>b.tokenTypeIdx),s=nt(n,b=>{const w=b.GROUP;if(w!==ia.SKIPPED){if(Pi(w))return w;if(wr(w))return!1;throw Error("non exhaustive match")}}),o=nt(n,b=>{const w=b.LONGER_ALT;if(w)return Jt(w)?nt(w,k=>XR(n,k)):[XR(n,w)]}),u=nt(n,b=>b.PUSH_MODE),h=nt(n,b=>Dt(b,"POP_MODE"))}),r("Line Terminator Handling",()=>{const b=J9(t.lineTerminatorCharacters);d=nt(n,w=>!1),t.positionTracking!=="onlyOffset"&&(d=nt(n,w=>Dt(w,"LINE_BREAKS")?!!w.LINE_BREAKS:Q9(w,b)===!1&&j6(b,w.PATTERN)))}),r("Misc Mapping #2",()=>{p=nt(n,Z9),f=nt(i,yte),g=Cn(n,(b,w)=>{const T=w.GROUP;return Pi(T)&&T!==ia.SKIPPED&&(b[T]=[]),b},{}),m=nt(i,(b,w)=>({pattern:i[w],longerAlt:o[w],canLineTerminator:d[w],isCustom:p[w],short:f[w],group:s[w],push:u[w],pop:h[w],tokenTypeIdx:a[w],tokenType:n[w]}))});let v=!0,x=[];return t.safeMode||r("First Char Optimization",()=>{x=Cn(n,(b,w,T)=>{if(typeof w.PATTERN=="string"){const k=Jo(w.PATTERN.charCodeAt(0));Zx(b,k,m[T])}else if(Jt(w.START_CHARS_HINT)){let k;Le(w.START_CHARS_HINT,R=>{const C=Jo(typeof R=="string"?R.charCodeAt(0):R);k!==C&&(k=C,Zx(b,C,m[T]))})}else if(Vo(w.PATTERN))if(w.PATTERN.unicode)v=!1,t.ensureOptimizations&&G4(`${q4}	Unable to analyze < ${w.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const k=Kee(w.PATTERN,t.ensureOptimizations);yr(k)&&(v=!1),Le(k,R=>{Zx(b,R,m[T])})}else t.ensureOptimizations&&G4(`${q4}	TokenType: <${w.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),v=!1;return b},[])}),{emptyGroups:g,patternIdxToConfig:m,charCodeToPatternIdxToConfig:x,hasCustom:y,canBeOptimized:v}}function ete(e,t){let r=[];const n=rte(e);r=r.concat(n.errors);const i=nte(n.valid),a=i.valid;return r=r.concat(i.errors),r=r.concat(tte(a)),r=r.concat(cte(a)),r=r.concat(ute(a,t)),r=r.concat(hte(a)),r}function tte(e){let t=[];const r=un(e,n=>Vo(n.PATTERN));return t=t.concat(ite(r)),t=t.concat(ste(r)),t=t.concat(ote(r)),t=t.concat(lte(r)),t=t.concat(ate(r)),t}function rte(e){const t=un(e,r=>!Dt(r,"PATTERN"));return{errors:nt(t,r=>({message:"Token Type: ->"+r.name+"<- missing static 'PATTERN' property",type:cn.MISSING_PATTERN,tokenTypes:[r]})),valid:y6(e,t)}}function nte(e){const t=un(e,r=>{const n=r.PATTERN;return!(Vo(n)||ns(n)||Dt(n,"exec")||Pi(n))});return{errors:nt(t,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:cn.INVALID_PATTERN,tokenTypes:[r]})),valid:y6(e,t)}}l(Jee,"analyzeTokenTypes"),l(ete,"validatePatterns"),l(tte,"validateRegExpPattern"),l(rte,"findMissingPatterns"),l(nte,"findInvalidPatterns");var a4e=/[^\\][$]/;function ite(e){const n=class n extends P6{constructor(){super(...arguments),this.found=!1}visitEndAnchor(a){this.found=!0}};l(n,"EndAnchorFinder");let t=n;const r=un(e,i=>{const a=i.PATTERN;try{const s=V2(a),o=new t;return o.visit(s),o.found}catch{return a4e.test(a.source)}});return nt(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:cn.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function ate(e){const t=un(e,r=>r.PATTERN.test(""));return nt(t,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:cn.EMPTY_MATCH_PATTERN,tokenTypes:[r]}))}l(ite,"findEndOfInputAnchor"),l(ate,"findEmptyMatchRegExps");var s4e=/[^\\[][\^]|^\^/;function ste(e){const n=class n extends P6{constructor(){super(...arguments),this.found=!1}visitStartAnchor(a){this.found=!0}};l(n,"StartAnchorFinder");let t=n;const r=un(e,i=>{const a=i.PATTERN;try{const s=V2(a),o=new t;return o.visit(s),o.found}catch{return s4e.test(a.source)}});return nt(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:cn.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function ote(e){const t=un(e,r=>{const n=r.PATTERN;return n instanceof RegExp&&(n.multiline||n.global)});return nt(t,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:cn.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}))}function lte(e){const t=[];let r=nt(e,i=>Cn(e,(a,s)=>(i.PATTERN.source!==s.PATTERN.source||zi(t,s)||s.PATTERN===ia.NA||(t.push(s),a.push(s)),a),[]));r=F2(r);const n=un(r,i=>i.length>1);return nt(n,i=>{const a=nt(i,s=>s.name);return{message:`The same RegExp pattern ->${Ns(i).PATTERN}<-has been used in all of the following Token Types: ${a.join(", ")} <-`,type:cn.DUPLICATE_PATTERNS_FOUND,tokenTypes:i}})}function cte(e){const t=un(e,r=>{if(!Dt(r,"GROUP"))return!1;const n=r.GROUP;return n!==ia.SKIPPED&&n!==ia.NA&&!Pi(n)});return nt(t,r=>({message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:cn.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}))}function ute(e,t){const r=un(e,n=>n.PUSH_MODE!==void 0&&!zi(t,n.PUSH_MODE));return nt(r,n=>({message:`Token Type: ->${n.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${n.PUSH_MODE}<-which does not exist`,type:cn.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[n]}))}function hte(e){const t=[],r=Cn(e,(n,i,a)=>{const s=i.PATTERN;return s===ia.NA||(Pi(s)?n.push({str:s,idx:a,tokenType:i}):Vo(s)&&pte(s)&&n.push({str:s.source,idx:a,tokenType:i})),n},[]);return Le(e,(n,i)=>{Le(r,({str:a,idx:s,tokenType:o})=>{if(i<s&&dte(a,n.PATTERN)){const u=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:u,type:cn.UNREACHABLE_PATTERN,tokenTypes:[n,o]})}})}),t}function dte(e,t){if(Vo(t)){const r=t.exec(e);return r!==null&&r.index===0}if(ns(t))return t(e,0,[],{});if(Dt(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}function pte(e){return Ho([".","\\","[","]","|","^","$","(",")","?","*","+","{"],t=>e.source.indexOf(t)!==-1)===void 0}function OE(e){const t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function PE(e){const t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function fte(e,t,r){const n=[];return Dt(e,"defaultMode")||n.push({message:`A MultiMode Lexer cannot be initialized without a <defaultMode> property in its definition
`,type:cn.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Dt(e,"modes")||n.push({message:`A MultiMode Lexer cannot be initialized without a <modes> property in its definition
`,type:cn.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Dt(e,"modes")&&Dt(e,"defaultMode")&&!Dt(e.modes,e.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a defaultMode: <${e.defaultMode}>which does not exist
`,type:cn.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Dt(e,"modes")&&Le(e.modes,(i,a)=>{Le(i,(s,o)=>{if(wr(s))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${a}> at index: <${o}>
`,type:cn.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Dt(s,"LONGER_ALT")){const u=Jt(s.LONGER_ALT)?s.LONGER_ALT:[s.LONGER_ALT];Le(u,h=>{wr(h)||zi(i,h)||n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${h.name}> on token <${s.name}> outside of mode <${a}>
`,type:cn.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function gte(e,t,r){const n=[];let i=!1;const a=F2(Wn(Nr(e.modes))),s=v6(a,u=>u.PATTERN===ia.NA),o=J9(r);return t&&Le(s,u=>{const h=Q9(u,o);if(h!==!1){const d={message:vte(u,h),type:h.issue,tokenType:u};n.push(d)}else Dt(u,"LINE_BREAKS")?u.LINE_BREAKS===!0&&(i=!0):j6(o,u.PATTERN)&&(i=!0)}),t&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:cn.NO_LINE_BREAKS_FLAGS}),n}function mte(e){const t={},r=On(e);return Le(r,n=>{const i=e[n];if(!Jt(i))throw Error("non exhaustive match");t[n]=[]}),t}function Z9(e){const t=e.PATTERN;if(Vo(t))return!1;if(ns(t)||Dt(t,"exec"))return!0;if(Pi(t))return!1;throw Error("non exhaustive match")}function yte(e){return!(!Pi(e)||e.length!==1)&&e.charCodeAt(0)}l(ste,"findStartOfInputAnchor"),l(ote,"findUnsupportedFlags"),l(lte,"findDuplicatePatterns"),l(cte,"findInvalidGroupType"),l(ute,"findModesThatDoNotExist"),l(hte,"findUnreachablePatterns"),l(dte,"testTokenType"),l(pte,"noMetaChar"),l(OE,"addStartOfInput"),l(PE,"addStickyFlag"),l(fte,"performRuntimeChecks"),l(gte,"performWarningRuntimeChecks"),l(mte,"cloneEmptyGroups"),l(Z9,"isCustomPattern"),l(yte,"isShortPattern");var o4e={test:l(function(e){const t=e.length;for(let r=this.lastIndex;r<t;r++){const n=e.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return e.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},"test"),lastIndex:0};function Q9(e,t){if(Dt(e,"LINE_BREAKS"))return!1;if(Vo(e.PATTERN)){try{j6(t,e.PATTERN)}catch(r){return{issue:cn.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}if(Pi(e.PATTERN))return!1;if(Z9(e))return{issue:cn.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function vte(e,t){if(t.issue===cn.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===cn.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function J9(e){return nt(e,t=>Pi(t)?t.charCodeAt(0):t)}function Zx(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}l(Q9,"checkLineBreaksIssues"),l(vte,"buildLineBreakIssueMessage"),l(J9,"getCharCodes"),l(Zx,"addToMapOfArrays");var bm=256,Qx=[];function Jo(e){return e<bm?e:Qx[e]}function xte(){if(yr(Qx)){Qx=new Array(65536);for(let e=0;e<65536;e++)Qx[e]=e>255?255+~~(e/255):e}}function M0(e,t){const r=e.tokenTypeIdx;return r===t.tokenTypeIdx||t.isParent===!0&&t.categoryMatchesMap[r]===!0}function Hy(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}l(Jo,"charCodeToOptimizedIndex"),l(xte,"initCharCodeToOptimizedIndexMap"),l(M0,"tokenStructuredMatcher"),l(Hy,"tokenStructuredMatcherNoCategories");var lD=1,bte={};function R0(e){const t=wte(e);kte(t),_te(t),Tte(t),Le(t,r=>{r.isParent=r.categoryMatches.length>0})}function wte(e){let t=Un(e),r=e,n=!0;for(;n;){r=F2(Wn(nt(r,a=>a.CATEGORIES)));const i=y6(r,t);t=t.concat(i),yr(i)?n=!1:r=i}return t}function kte(e){Le(e,t=>{tL(t)||(bte[lD]=t,t.tokenTypeIdx=lD++),BE(t)&&!Jt(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),BE(t)||(t.CATEGORIES=[]),Ete(t)||(t.categoryMatches=[]),Cte(t)||(t.categoryMatchesMap={})})}function Tte(e){Le(e,t=>{t.categoryMatches=[],Le(t.categoryMatchesMap,(r,n)=>{t.categoryMatches.push(bte[n].tokenTypeIdx)})})}function _te(e){Le(e,t=>{eL([],t)})}function eL(e,t){Le(e,r=>{t.categoryMatchesMap[r.tokenTypeIdx]=!0}),Le(t.CATEGORIES,r=>{const n=e.concat(t);zi(n,r)||eL(n,r)})}function tL(e){return Dt(e,"tokenTypeIdx")}function BE(e){return Dt(e,"CATEGORIES")}function Ete(e){return Dt(e,"categoryMatches")}function Cte(e){return Dt(e,"categoryMatchesMap")}function Ste(e){return Dt(e,"tokenTypeIdx")}l(R0,"augmentTokenTypes"),l(wte,"expandCategories"),l(kte,"assignTokenDefaultProps"),l(Tte,"assignCategoriesTokensProp"),l(_te,"assignCategoriesMapProp"),l(eL,"singleAssignCategoriesToksMap"),l(tL,"hasShortKeyProperty"),l(BE,"hasCategoriesProperty"),l(Ete,"hasExtendingTokensTypesProperty"),l(Cte,"hasExtendingTokensTypesMapProperty"),l(Ste,"isTokenType");var cn,tr,l4e={buildUnableToPopLexerModeMessage:e=>`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(e,t,r,n,i)=>`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`};(tr=cn||(cn={}))[tr.MISSING_PATTERN=0]="MISSING_PATTERN",tr[tr.INVALID_PATTERN=1]="INVALID_PATTERN",tr[tr.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",tr[tr.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",tr[tr.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",tr[tr.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",tr[tr.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",tr[tr.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",tr[tr.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",tr[tr.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",tr[tr.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",tr[tr.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",tr[tr.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",tr[tr.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",tr[tr.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",tr[tr.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",tr[tr.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",tr[tr.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE";var wm={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:l4e,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(wm);var zp,ia=(zp=class{constructor(t,r=wm){if(this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,a)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const s=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${s}--> <${i}>`);const{time:o,value:u}=X9(a),h=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&h(`${s}<-- <${i}> time: ${o}ms`),this.traceInitIndent--,u}return a()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Ca({},wm,r);const n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,a=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===wm.lineTerminatorsPattern)this.config.lineTerminatorsPattern=o4e;else if(this.config.lineTerminatorCharacters===wm.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Jt(t)?i={modes:{defaultMode:Un(t)},defaultMode:"defaultMode"}:(a=!1,i=Un(t))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(fte(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(gte(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},Le(i.modes,(o,u)=>{i.modes[u]=v6(o,h=>wr(h))});const s=On(i.modes);if(Le(i.modes,(o,u)=>{this.TRACE_INIT(`Mode: <${u}> processing`,()=>{if(this.modes.push(u),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(ete(o,s))}),yr(this.lexerDefinitionErrors)){let h;R0(o),this.TRACE_INIT("analyzeTokenTypes",()=>{h=Jee(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[u]=h.patternIdxToConfig,this.charCodeToPatternIdxToConfig[u]=h.charCodeToPatternIdxToConfig,this.emptyGroups=Ca({},this.emptyGroups,h.emptyGroups),this.hasCustom=h.hasCustom||this.hasCustom,this.canModeBeOptimized[u]=h.canBeOptimized}})}),this.defaultMode=i.defaultMode,!yr(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const o=nt(this.lexerDefinitionErrors,h=>h.message),u=o.join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+u)}Le(this.lexerDefinitionWarning,o=>{V9(o.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(Qee?(this.chopInput=Uo,this.match=this.matchWithTest):(this.updateLastIndex=Ln,this.match=this.matchWithExec),a&&(this.handleModes=Ln),this.trackStartLines===!1&&(this.computeNewColumn=Uo),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Ln),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const o=Cn(this.canModeBeOptimized,(u,h,d)=>(h===!1&&u.push(d),u),[]);if(r.ensureOptimizations&&!yr(o))throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{Xee()}),this.TRACE_INIT("toFastProperties",()=>{K9(this)})})}tokenize(t,r=this.defaultMode){if(!yr(this.lexerDefinitionErrors)){const n=nt(this.lexerDefinitionErrors,a=>a.message),i=n.join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(t,r)}tokenizeInternal(t,r){let n,i,a,s,o,u,h,d,p,f,g,m,y,v,x;const b=t,w=b.length;let T=0,k=0;const R=this.hasCustom?0:Math.floor(t.length/10),C=new Array(R),E=[];let _=this.trackStartLines?1:void 0,L=this.trackStartLines?1:void 0;const D=mte(this.emptyGroups),B=this.trackStartLines,S=this.config.lineTerminatorsPattern;let N=0,A=[],M=[];const O=[],I=[];let P;function $(){return A}function z(te){const W=Jo(te),H=M[W];return H===void 0?I:H}Object.freeze(I),l($,"getPossiblePatternsSlow"),l(z,"getPossiblePatternsOptimized");const G=l(te=>{if(O.length===1&&te.tokenType.PUSH_MODE===void 0){const W=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(te);E.push({offset:te.startOffset,line:te.startLine,column:te.startColumn,length:te.image.length,message:W})}else{O.pop();const W=lo(O);A=this.patternIdxToConfig[W],M=this.charCodeToPatternIdxToConfig[W],N=A.length;const H=this.canModeBeOptimized[W]&&this.config.safeMode===!1;P=M&&H?z:$}},"pop_mode");function q(te){O.push(te),M=this.charCodeToPatternIdxToConfig[te],A=this.patternIdxToConfig[te],N=A.length,N=A.length;const W=this.canModeBeOptimized[te]&&this.config.safeMode===!1;P=M&&W?z:$}let J;l(q,"push_mode"),q.call(this,r);const ie=this.config.recoveryEnabled;for(;T<w;){u=null;const te=b.charCodeAt(T),W=P(te),H=W.length;for(n=0;n<H;n++){J=W[n];const X=J.pattern;h=null;const Q=J.short;if(Q!==!1?te===Q&&(u=X):J.isCustom===!0?(x=X.exec(b,T,C,D),x!==null?(u=x[0],x.payload!==void 0&&(h=x.payload)):u=null):(this.updateLastIndex(X,T),u=this.match(X,t,T)),u!==null){if(o=J.longerAlt,o!==void 0){const ne=o.length;for(a=0;a<ne;a++){const ee=A[o[a]],pe=ee.pattern;if(d=null,ee.isCustom===!0?(x=pe.exec(b,T,C,D),x!==null?(s=x[0],x.payload!==void 0&&(d=x.payload)):s=null):(this.updateLastIndex(pe,T),s=this.match(pe,t,T)),s&&s.length>u.length){u=s,h=d,J=ee;break}}}break}}if(u!==null){if(p=u.length,f=J.group,f!==void 0&&(g=J.tokenTypeIdx,m=this.createTokenInstance(u,T,g,J.tokenType,_,L,p),this.handlePayload(m,h),f===!1?k=this.addToken(C,k,m):D[f].push(m)),t=this.chopInput(t,p),T+=p,L=this.computeNewColumn(L,p),B===!0&&J.canLineTerminator===!0){let X,Q,ne=0;S.lastIndex=0;do X=S.test(u),X===!0&&(Q=S.lastIndex-1,ne++);while(X===!0);ne!==0&&(_+=ne,L=p-Q,this.updateTokenEndLineColumnLocation(m,f,Q,ne,_,L,p))}this.handleModes(J,G,q,m)}else{const X=T,Q=_,ne=L;let ee=ie===!1;for(;ee===!1&&T<w;)for(t=this.chopInput(t,1),T++,i=0;i<N;i++){const pe=A[i],j=pe.pattern,ce=pe.short;if(ce!==!1?b.charCodeAt(T)===ce&&(ee=!0):pe.isCustom===!0?ee=j.exec(b,T,C,D)!==null:(this.updateLastIndex(j,T),ee=j.exec(t)!==null),ee===!0)break}if(y=T-X,L=this.computeNewColumn(L,y),v=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(b,X,y,Q,ne),E.push({offset:X,line:Q,column:ne,length:y,message:v}),ie===!1)break}}return this.hasCustom||(C.length=k),{tokens:C,groups:D,errors:E}}handleModes(t,r,n,i){if(t.pop===!0){const a=t.push;r(i),a!==void 0&&n.call(this,a)}else t.push!==void 0&&n.call(this,t.push)}chopInput(t,r){return t.substring(r)}updateLastIndex(t,r){t.lastIndex=r}updateTokenEndLineColumnLocation(t,r,n,i,a,s,o){let u,h;r!==void 0&&(u=n===o-1,h=u?-1:0,i===1&&u===!0||(t.endLine=a+h,t.endColumn=s-1-h))}computeNewColumn(t,r){return t+r}createOffsetOnlyToken(t,r,n,i){return{image:t,startOffset:r,tokenTypeIdx:n,tokenType:i}}createStartOnlyToken(t,r,n,i,a,s){return{image:t,startOffset:r,startLine:a,startColumn:s,tokenTypeIdx:n,tokenType:i}}createFullToken(t,r,n,i,a,s,o){return{image:t,startOffset:r,endOffset:r+o-1,startLine:a,endLine:a,startColumn:s,endColumn:s+o-1,tokenTypeIdx:n,tokenType:i}}addTokenUsingPush(t,r,n){return t.push(n),r}addTokenUsingMemberAccess(t,r,n){return t[r]=n,++r}handlePayloadNoCustom(t,r){}handlePayloadWithCustom(t,r){r!==null&&(t.payload=r)}matchWithTest(t,r,n){return t.test(r)===!0?r.substring(n,t.lastIndex):null}matchWithExec(t,r){const n=t.exec(r);return n!==null?n[0]:null}},l(zp,"Lexer"),zp);function yu(e){return rL(e)?e.LABEL:e.name}function rL(e){return Pi(e.LABEL)&&e.LABEL!==""}ia.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",ia.NA=/NOT_APPLICABLE/,l(yu,"tokenLabel"),l(rL,"hasTokenLabel");function nL(e){return Ate(e)}function Ate(e){const t=e.pattern,r={};if(r.name=e.name,wr(t)||(r.PATTERN=t),Dt(e,"parent"))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Dt(e,"categories")&&(r.CATEGORIES=e.categories),R0([r]),Dt(e,"label")&&(r.LABEL=e.label),Dt(e,"group")&&(r.GROUP=e.group),Dt(e,"pop_mode")&&(r.POP_MODE=e.pop_mode),Dt(e,"push_mode")&&(r.PUSH_MODE=e.push_mode),Dt(e,"longer_alt")&&(r.LONGER_ALT=e.longer_alt),Dt(e,"line_breaks")&&(r.LINE_BREAKS=e.line_breaks),Dt(e,"start_chars_hint")&&(r.START_CHARS_HINT=e.start_chars_hint),r}l(nL,"createToken"),l(Ate,"createTokenInternal");var ac=nL({name:"EOF",pattern:ia.NA});function Y6(e,t,r,n,i,a,s,o){return{image:t,startOffset:r,endOffset:n,startLine:i,endLine:a,startColumn:s,endColumn:o,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function iL(e,t){return M0(e,t)}R0([ac]),l(Y6,"createTokenInstance"),l(iL,"tokenMatcher");var ad={buildMismatchTokenMessage:({expected:e,actual:t,previous:r,ruleName:n})=>`Expecting ${rL(e)?`--> ${yu(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${t.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:e,ruleName:t})=>"Redundant input, expecting EOF but found: "+e.image,buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:n,ruleName:i}){const a="Expecting: ",s=`
but found: '`+Ns(t).image+"'";if(n)return a+n+s;{const o=Cn(e,(h,d)=>h.concat(d),[]),u=nt(o,h=>`[${nt(h,d=>yu(d)).join(", ")}]`);return a+`one of these possible Token sequences:
${nt(u,(h,d)=>`  ${d+1}. ${h}`).join(`
`)}`+s}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:n}){const i="Expecting: ",a=`
but found: '`+Ns(t).image+"'";return r?i+r+a:i+`expecting at least one iteration which starts with one of these possible Token sequences::
  <${nt(e,s=>`[${nt(s,o=>yu(o)).join(",")}]`).join(" ,")}>`+a}};Object.freeze(ad);var c4e={buildRuleNotFoundError:(e,t)=>"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"},fu={buildDuplicateFoundError(e,t){function r(h){return h instanceof Wr?h.terminalType.name:h instanceof Bi?h.nonTerminalName:""}l(r,"getExtraProductionArgument");const n=e.name,i=Ns(t),a=i.idx,s=ws(i),o=r(i);let u=`->${s}${a>0?a:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return u=u.replace(/[ \t]+/g," "),u=u.replace(/\s\s+/g,`
`),u},buildNamespaceConflictError:e=>`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(e){const t=nt(e.prefixPath,n=>yu(n)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){const t=nt(e.prefixPath,i=>yu(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;let n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n+=`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(e){let t=ws(e.repetition);return e.repetition.idx!==0&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError:e=>"deprecated",buildEmptyAlternationError:e=>`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`,buildTooManyAlternativesError:e=>`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(e){const t=e.topLevelRule.name;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${`${t} --> ${nt(e.leftRecursionPath,r=>r.name).concat([t]).join(" --> ")}`}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:e=>"deprecated",buildDuplicateRuleNameError(e){let t;return t=e.topLevelRule instanceof L0?e.topLevelRule.name:e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};function Lte(e,t){const r=new u4e(e,t);return r.resolveRefs(),r.errors}l(Lte,"resolveGrammar");var rn,Ba,Up,u4e=(Up=class extends N0{constructor(t,r){super(),this.nameToTopRule=t,this.errMsgProvider=r,this.errors=[]}resolveRefs(){Le(Nr(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){const r=this.nameToTopRule[t.nonTerminalName];if(r)t.referencedRule=r;else{const n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:n,type:$i.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}},l(Up,"GastRefResolverVisitor"),Up),Gp,h4e=(Gp=class extends q6{constructor(t,r){super(),this.topProd=t,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Un(this.path.ruleStack).reverse(),this.occurrenceStack=Un(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,r=[]){this.found||super.walk(t,r)}walkProdRef(t,r,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){const i=r.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,i)}}updateExpectedNext(){yr(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},l(Gp,"AbstractNextPossibleTokensWalker"),Gp),qp,d4e=(qp=class extends h4e{constructor(t,r){super(t,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,r,n){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){const i=r.concat(n),a=new ua({definition:i});this.possibleTokTypes=I0(a),this.found=!0}}},l(qp,"NextAfterTokenWalker"),qp),jp,W6=(jp=class extends q6{constructor(t,r){super(),this.topRule=t,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},l(jp,"AbstractNextTerminalAfterProductionWalker"),jp),Yp,p4e=(Yp=class extends W6{walkMany(t,r,n){if(t.idx===this.occurrence){const i=Ns(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof Wr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(t,r,n)}},l(Yp,"NextTerminalAfterManyWalker"),Yp),Wp,cD=(Wp=class extends W6{walkManySep(t,r,n){if(t.idx===this.occurrence){const i=Ns(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof Wr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(t,r,n)}},l(Wp,"NextTerminalAfterManySepWalker"),Wp),Hp,f4e=(Hp=class extends W6{walkAtLeastOne(t,r,n){if(t.idx===this.occurrence){const i=Ns(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof Wr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(t,r,n)}},l(Hp,"NextTerminalAfterAtLeastOneWalker"),Hp),Vp,uD=(Vp=class extends W6{walkAtLeastOneSep(t,r,n){if(t.idx===this.occurrence){const i=Ns(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof Wr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(t,r,n)}},l(Vp,"NextTerminalAfterAtLeastOneSepWalker"),Vp);function W4(e,t,r=[]){r=Un(r);let n=[],i=0;function a(o){return o.concat(ri(e,i+1))}function s(o){const u=W4(a(o),t,r);return n.concat(u)}for(l(a,"remainingPathWith"),l(s,"getAlternativesForProd");r.length<t&&i<e.length;){const o=e[i];if(o instanceof ua||o instanceof Bi)return s(o.definition);if(o instanceof li)n=s(o.definition);else{if(o instanceof Aa)return s(o.definition.concat([new ln({definition:o.definition})]));if(o instanceof La)return s([new ua({definition:o.definition}),new ln({definition:[new Wr({terminalType:o.separator})].concat(o.definition)})]);if(o instanceof fa){const u=o.definition.concat([new ln({definition:[new Wr({terminalType:o.separator})].concat(o.definition)})]);n=s(u)}else if(o instanceof ln){const u=o.definition.concat([new ln({definition:o.definition})]);n=s(u)}else{if(o instanceof ga)return Le(o.definition,u=>{yr(u.definition)===!1&&(n=s(u.definition))}),n;if(!(o instanceof Wr))throw Error("non exhaustive match");r.push(o.terminalType)}}i++}return n.push({partialPath:r,suffixDef:ri(e,i)}),n}function aL(e,t,r,n){const i="EXIT_NONE_TERMINAL",a=[i],s="EXIT_ALTERNATIVE";let o=!1;const u=t.length,h=u-n-1,d=[],p=[];for(p.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!yr(p);){const f=p.pop();if(f===s){o&&lo(p).idx<=h&&p.pop();continue}const g=f.def,m=f.idx,y=f.ruleStack,v=f.occurrenceStack;if(yr(g))continue;const x=g[0];if(x===i){const b={idx:m,def:ri(g),ruleStack:Py(y),occurrenceStack:Py(v)};p.push(b)}else if(x instanceof Wr)if(m<u-1){const b=m+1;if(r(t[b],x.terminalType)){const w={idx:b,def:ri(g),ruleStack:y,occurrenceStack:v};p.push(w)}}else{if(m!==u-1)throw Error("non exhaustive match");d.push({nextTokenType:x.terminalType,nextTokenOccurrence:x.idx,ruleStack:y,occurrenceStack:v}),o=!0}else if(x instanceof Bi){const b=Un(y);b.push(x.nonTerminalName);const w=Un(v);w.push(x.idx);const T={idx:m,def:x.definition.concat(a,ri(g)),ruleStack:b,occurrenceStack:w};p.push(T)}else if(x instanceof li){const b={idx:m,def:ri(g),ruleStack:y,occurrenceStack:v};p.push(b),p.push(s);const w={idx:m,def:x.definition.concat(ri(g)),ruleStack:y,occurrenceStack:v};p.push(w)}else if(x instanceof Aa){const b=new ln({definition:x.definition,idx:x.idx}),w={idx:m,def:x.definition.concat([b],ri(g)),ruleStack:y,occurrenceStack:v};p.push(w)}else if(x instanceof La){const b=new Wr({terminalType:x.separator}),w=new ln({definition:[b].concat(x.definition),idx:x.idx}),T={idx:m,def:x.definition.concat([w],ri(g)),ruleStack:y,occurrenceStack:v};p.push(T)}else if(x instanceof fa){const b={idx:m,def:ri(g),ruleStack:y,occurrenceStack:v};p.push(b),p.push(s);const w=new Wr({terminalType:x.separator}),T=new ln({definition:[w].concat(x.definition),idx:x.idx}),k={idx:m,def:x.definition.concat([T],ri(g)),ruleStack:y,occurrenceStack:v};p.push(k)}else if(x instanceof ln){const b={idx:m,def:ri(g),ruleStack:y,occurrenceStack:v};p.push(b),p.push(s);const w=new ln({definition:x.definition,idx:x.idx}),T={idx:m,def:x.definition.concat([w],ri(g)),ruleStack:y,occurrenceStack:v};p.push(T)}else if(x instanceof ga)for(let b=x.definition.length-1;b>=0;b--){const w={idx:m,def:x.definition[b].definition.concat(ri(g)),ruleStack:y,occurrenceStack:v};p.push(w),p.push(s)}else if(x instanceof ua)p.push({idx:m,def:x.definition.concat(ri(g)),ruleStack:y,occurrenceStack:v});else{if(!(x instanceof L0))throw Error("non exhaustive match");p.push(Nte(x,m,y,v))}}return d}function Nte(e,t,r,n){const i=Un(r);i.push(e.name);const a=Un(n);return a.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:a}}function H6(e){if(e instanceof li||e==="Option")return rn.OPTION;if(e instanceof ln||e==="Repetition")return rn.REPETITION;if(e instanceof Aa||e==="RepetitionMandatory")return rn.REPETITION_MANDATORY;if(e instanceof La||e==="RepetitionMandatoryWithSeparator")return rn.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof fa||e==="RepetitionWithSeparator")return rn.REPETITION_WITH_SEPARATOR;if(e instanceof ga||e==="Alternation")return rn.ALTERNATION;throw Error("non exhaustive match")}function $E(e){const{occurrence:t,rule:r,prodType:n,maxLookahead:i}=e,a=H6(n);return a===rn.ALTERNATION?X2(t,r,i):K2(t,r,a,i)}function Ite(e,t,r,n,i,a){const s=X2(e,t,r);return a(s,n,oL(s)?Hy:M0,i)}function Mte(e,t,r,n,i,a){const s=K2(e,t,i,r),o=oL(s)?Hy:M0;return a(s[0],o,n)}function Rte(e,t,r,n){const i=e.length,a=Es(e,s=>Es(s,o=>o.length===1));if(t)return function(s){const o=nt(s,u=>u.GATE);for(let u=0;u<i;u++){const h=e[u],d=h.length,p=o[u];if(p===void 0||p.call(this)!==!1)e:for(let f=0;f<d;f++){const g=h[f],m=g.length;for(let y=0;y<m;y++){const v=this.LA(y+1);if(r(v,g[y])===!1)continue e}return u}}};if(a&&!n){const s=nt(e,u=>Wn(u)),o=Cn(s,(u,h,d)=>(Le(h,p=>{Dt(u,p.tokenTypeIdx)||(u[p.tokenTypeIdx]=d),Le(p.categoryMatches,f=>{Dt(u,f)||(u[f]=d)})}),u),{});return function(){const u=this.LA(1);return o[u.tokenTypeIdx]}}return function(){for(let s=0;s<i;s++){const o=e[s],u=o.length;e:for(let h=0;h<u;h++){const d=o[h],p=d.length;for(let f=0;f<p;f++){const g=this.LA(f+1);if(r(g,d[f])===!1)continue e}return s}}}}function Dte(e,t,r){const n=Es(e,a=>a.length===1),i=e.length;if(n&&!r){const a=Wn(e);if(a.length===1&&yr(a[0].categoryMatches)){const s=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===s}}{const s=Cn(a,(o,u,h)=>(o[u.tokenTypeIdx]=!0,Le(u.categoryMatches,d=>{o[d]=!0}),o),[]);return function(){const o=this.LA(1);return s[o.tokenTypeIdx]===!0}}}return function(){e:for(let a=0;a<i;a++){const s=e[a],o=s.length;for(let u=0;u<o;u++){const h=this.LA(u+1);if(t(h,s[u])===!1)continue e}return!0}return!1}}l(W4,"possiblePathsFrom"),l(aL,"nextPossibleTokensAfter"),l(Nte,"expandTopLevelRule"),(Ba=rn||(rn={}))[Ba.OPTION=0]="OPTION",Ba[Ba.REPETITION=1]="REPETITION",Ba[Ba.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",Ba[Ba.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",Ba[Ba.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",Ba[Ba.ALTERNATION=5]="ALTERNATION",l(H6,"getProdType"),l($E,"getLookaheadPaths"),l(Ite,"buildLookaheadFuncForOr"),l(Mte,"buildLookaheadFuncForOptionalProd"),l(Rte,"buildAlternativesLookAheadFunc"),l(Dte,"buildSingleAlternativeLookaheadFunction");var Xp,g4e=(Xp=class extends q6{constructor(t,r,n){super(),this.topProd=t,this.targetOccurrence=r,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,r,n,i){return t.idx===this.targetOccurrence&&this.targetProdType===r&&(this.restDef=n.concat(i),!0)}walkOption(t,r,n){this.checkIsTarget(t,rn.OPTION,r,n)||super.walkOption(t,r,n)}walkAtLeastOne(t,r,n){this.checkIsTarget(t,rn.REPETITION_MANDATORY,r,n)||super.walkOption(t,r,n)}walkAtLeastOneSep(t,r,n){this.checkIsTarget(t,rn.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||super.walkOption(t,r,n)}walkMany(t,r,n){this.checkIsTarget(t,rn.REPETITION,r,n)||super.walkOption(t,r,n)}walkManySep(t,r,n){this.checkIsTarget(t,rn.REPETITION_WITH_SEPARATOR,r,n)||super.walkOption(t,r,n)}},l(Xp,"RestDefinitionFinderWalker"),Xp),Kp,Ote=(Kp=class extends N0{constructor(t,r,n){super(),this.targetOccurrence=t,this.targetProdType=r,this.targetRef=n,this.result=[]}checkIsTarget(t,r){t.idx!==this.targetOccurrence||this.targetProdType!==r||this.targetRef!==void 0&&t!==this.targetRef||(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,rn.OPTION)}visitRepetition(t){this.checkIsTarget(t,rn.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,rn.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,rn.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,rn.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,rn.ALTERNATION)}},l(Kp,"InsideDefinitionFinderVisitor"),Kp);function FE(e){const t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function Jx(e){let t=[""];for(let r=0;r<e.length;r++){const n=e[r],i=[];for(let a=0;a<t.length;a++){const s=t[a];i.push(s+"_"+n.tokenTypeIdx);for(let o=0;o<n.categoryMatches.length;o++){const u="_"+n.categoryMatches[o];i.push(s+u)}}t=i}return t}function Pte(e,t,r){for(let n=0;n<e.length;n++){if(n===r)continue;const i=e[n];for(let a=0;a<t.length;a++)if(i[t[a]]===!0)return!1}return!0}function sL(e,t){const r=nt(e,s=>W4([s],1)),n=FE(r.length),i=nt(r,s=>{const o={};return Le(s,u=>{const h=Jx(u.partialPath);Le(h,d=>{o[d]=!0})}),o});let a=r;for(let s=1;s<=t;s++){const o=a;a=FE(o.length);for(let u=0;u<o.length;u++){const h=o[u];for(let d=0;d<h.length;d++){const p=h[d].partialPath,f=h[d].suffixDef,g=Jx(p);if(Pte(i,g,u)||yr(f)||p.length===t){const m=n[u];if(H4(m,p)===!1){m.push(p);for(let y=0;y<g.length;y++){const v=g[y];i[u][v]=!0}}}else{const m=W4(f,s+1,p);a[u]=a[u].concat(m),Le(m,y=>{const v=Jx(y.partialPath);Le(v,x=>{i[u][x]=!0})})}}}}return n}function X2(e,t,r,n){const i=new Ote(e,rn.ALTERNATION,n);return t.accept(i),sL(i.result,r)}function K2(e,t,r,n){const i=new Ote(e,r);t.accept(i);const a=i.result,s=new g4e(t,e,r).startWalking();return sL([new ua({definition:a}),new ua({definition:s})],n)}function H4(e,t){e:for(let r=0;r<e.length;r++){const n=e[r];if(n.length===t.length){for(let i=0;i<n.length;i++){const a=t[i],s=n[i];if(!(a===s||s.categoryMatchesMap[a.tokenTypeIdx]!==void 0))continue e}return!0}}return!1}function Bte(e,t){return e.length<t.length&&Es(e,(r,n)=>{const i=t[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}function oL(e){return Es(e,t=>Es(t,r=>Es(r,n=>yr(n.categoryMatches))))}function $te(e){const t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return nt(t,r=>Object.assign({type:$i.CUSTOM_LOOKAHEAD_VALIDATION},r))}function Fte(e,t,r,n){const i=_a(e,u=>zte(u,r)),a=Kte(e,t,r),s=_a(e,u=>Wte(u,r)),o=_a(e,u=>Gte(u,e,n,r));return i.concat(a,s,o)}function zte(e,t){const r=new m4e;e.accept(r);const n=r.allProductions,i=ave(n,Ute),a=Ps(i,s=>s.length>1);return nt(Nr(a),s=>{const o=Ns(s),u=t.buildDuplicateFoundError(e,s),h=ws(o),d={message:u,type:$i.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:h,occurrence:o.idx},p=lL(o);return p&&(d.parameter=p),d})}function Ute(e){return`${ws(e)}_#_${e.idx}_#_${lL(e)}`}function lL(e){return e instanceof Wr?e.terminalType.name:e instanceof Bi?e.nonTerminalName:""}l(FE,"initializeArrayOfArrays"),l(Jx,"pathToHashKeys"),l(Pte,"isUniquePrefixHash"),l(sL,"lookAheadSequenceFromAlternatives"),l(X2,"getLookaheadPathsForOr"),l(K2,"getLookaheadPathsForOptionalProd"),l(H4,"containsPath"),l(Bte,"isStrictPrefixOfPath"),l(oL,"areTokenCategoriesNotUsed"),l($te,"validateLookahead"),l(Fte,"validateGrammar"),l(zte,"validateDuplicateProductions"),l(Ute,"identifyProductionForDuplicates"),l(lL,"getExtraProductionArgument");var Zp,m4e=(Zp=class extends N0{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}},l(Zp,"OccurrenceValidationCollector"),Zp);function Gte(e,t,r,n){const i=[];if(Cn(t,(a,s)=>s.name===e.name?a+1:a,0)>1){const a=n.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});i.push({message:a,type:$i.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}function qte(e,t,r){const n=[];let i;return zi(t,e)||(i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:$i.INVALID_RULE_OVERRIDE,ruleName:e})),n}function cL(e,t,r,n=[]){const i=[],a=iy(t.definition);if(yr(a))return[];{const s=e.name;zi(a,e)&&i.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:n}),type:$i.LEFT_RECURSION,ruleName:s});const o=y6(a,n.concat([e])),u=_a(o,h=>{const d=Un(n);return d.push(h),cL(e,h,r,d)});return i.concat(u)}}function iy(e){let t=[];if(yr(e))return t;const r=Ns(e);if(r instanceof Bi)t.push(r.referencedRule);else if(r instanceof ua||r instanceof li||r instanceof Aa||r instanceof La||r instanceof fa||r instanceof ln)t=t.concat(iy(r.definition));else if(r instanceof ga)t=Wn(nt(r.definition,a=>iy(a.definition)));else if(!(r instanceof Wr))throw Error("non exhaustive match");const n=Wy(r),i=e.length>1;if(n&&i){const a=ri(e);return t.concat(iy(a))}return t}l(Gte,"validateRuleDoesNotAlreadyExist"),l(qte,"validateRuleIsOverridden"),l(cL,"validateNoLeftRecursion"),l(iy,"getFirstNoneTerminal");var Qp,uL=(Qp=class extends N0{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}},l(Qp,"OrCollector"),Qp);function jte(e,t){const r=new uL;e.accept(r);const n=r.alternations;return _a(n,i=>{const a=Py(i.definition);return _a(a,(s,o)=>{const u=aL([s],[],M0,1);return yr(u)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:i,emptyChoiceIdx:o}),type:$i.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:i.idx,alternative:o+1}]:[]})})}function Yte(e,t,r){const n=new uL;e.accept(n);let i=n.alternations;return i=v6(i,a=>a.ignoreAmbiguities===!0),_a(i,a=>{const s=a.idx,o=a.maxLookahead||t,u=X2(s,e,o,a),h=Vte(u,a,e,r),d=Xte(u,a,e,r);return h.concat(d)})}l(jte,"validateEmptyOrAlternative"),l(Yte,"validateAmbiguousAlternationAlternatives");var Jp,y4e=(Jp=class extends N0{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}},l(Jp,"RepetitionCollector"),Jp);function Wte(e,t){const r=new uL;e.accept(r);const n=r.alternations;return _a(n,i=>i.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:i}),type:$i.TOO_MANY_ALTS,ruleName:e.name,occurrence:i.idx}]:[])}function Hte(e,t,r){const n=[];return Le(e,i=>{const a=new y4e;i.accept(a);const s=a.allProductions;Le(s,o=>{const u=H6(o),h=o.maxLookahead||t,d=K2(o.idx,i,u,h)[0];if(yr(Wn(d))){const p=r.buildEmptyRepetitionError({topLevelRule:i,repetition:o});n.push({message:p,type:$i.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}function Vte(e,t,r,n){const i=[],a=Cn(e,(s,o,u)=>(t.definition[u].ignoreAmbiguities===!0||Le(o,h=>{const d=[u];Le(e,(p,f)=>{u!==f&&H4(p,h)&&t.definition[f].ignoreAmbiguities!==!0&&d.push(f)}),d.length>1&&!H4(i,h)&&(i.push(h),s.push({alts:d,path:h}))}),s),[]);return nt(a,s=>{const o=nt(s.alts,u=>u+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:o,prefixPath:s.path}),type:$i.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:s.alts}})}function Xte(e,t,r,n){const i=Cn(e,(a,s,o)=>{const u=nt(s,h=>({idx:o,path:h}));return a.concat(u)},[]);return F2(_a(i,a=>{if(t.definition[a.idx].ignoreAmbiguities===!0)return[];const s=a.idx,o=a.path,u=un(i,h=>t.definition[h.idx].ignoreAmbiguities!==!0&&h.idx<s&&Bte(h.path,o));return nt(u,h=>{const d=[h.idx+1,s+1],p=t.idx===0?"":t.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:d,prefixPath:h.path}),type:$i.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:p,alternatives:d}})}))}function Kte(e,t,r){const n=[],i=nt(t,a=>a.name);return Le(e,a=>{const s=a.name;if(zi(i,s)){const o=r.buildNamespaceConflictError(a);n.push({message:o,type:$i.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}}),n}function Zte(e){const t=p6(e,{errMsgProvider:c4e}),r={};return Le(e.rules,n=>{r[n.name]=n}),Lte(r,t.errMsgProvider)}function Qte(e){return Fte((e=p6(e,{errMsgProvider:fu})).rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}l(Wte,"validateTooManyAlts"),l(Hte,"validateSomeNonEmptyLookaheadPath"),l(Vte,"checkAlternativesAmbiguities"),l(Xte,"checkPrefixAlternativesAmbiguities"),l(Kte,"checkTerminalAndNoneTerminalsNameSpace"),l(Zte,"resolveGrammar"),l(Qte,"validateGrammar");var Jte=["MismatchedTokenException","NoViableAltException","EarlyExitException","NotAllInputParsedException"];function Vy(e){return zi(Jte,e.name)}Object.freeze(Jte),l(Vy,"isRecognitionException");var ef,V6=(ef=class extends Error{constructor(t,r){super(t),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},l(ef,"RecognitionException"),ef),tf,ere=(tf=class extends V6{constructor(t,r,n){super(t,r),this.previousToken=n,this.name="MismatchedTokenException"}},l(tf,"MismatchedTokenException"),tf),rf,v4e=(rf=class extends V6{constructor(t,r,n){super(t,r),this.previousToken=n,this.name="NoViableAltException"}},l(rf,"NoViableAltException"),rf),nf,x4e=(nf=class extends V6{constructor(t,r){super(t,r),this.name="NotAllInputParsedException"}},l(nf,"NotAllInputParsedException"),nf),af,b4e=(af=class extends V6{constructor(t,r,n){super(t,r),this.previousToken=n,this.name="EarlyExitException"}},l(af,"EarlyExitException"),af),Tk={},sf,w4e=(sf=class extends Error{constructor(t){super(t),this.name="InRuleRecoveryException"}},l(sf,"InRuleRecoveryException"),sf),of,k4e=(of=class{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Dt(t,"recoveryEnabled")?t.recoveryEnabled:el.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=tre)}getTokenToInsert(t){const r=Y6(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,r,n,i){const a=this.findReSyncTokenType(),s=this.exportLexerState(),o=[];let u=!1;const h=this.LA(1);let d=this.LA(1);const p=l(()=>{const f=this.LA(0),g=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:h,previous:f,ruleName:this.getCurrRuleFullName()}),m=new ere(g,h,this.LA(0));m.resyncedTokens=Py(o),this.SAVE_ERROR(m)},"generateErrorMessage");for(;!u;){if(this.tokenMatcher(d,i))return void p();if(n.call(this))return p(),void t.apply(this,r);this.tokenMatcher(d,a)?u=!0:(d=this.SKIP_TOKEN(),this.addToResyncTokens(d,o))}this.importLexerState(s)}shouldInRepetitionRecoveryBeTried(t,r,n){return n!==!1&&!this.tokenMatcher(this.LA(1),t)&&!this.isBackTracking()&&!this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,r))}getFollowsForInRuleRecovery(t,r){const n=this.getCurrentGrammarPath(t,r);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(t,r){if(this.canRecoverWithSingleTokenInsertion(t,r))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){const n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new w4e("sad sad panda")}canPerformInRuleRecovery(t,r){return this.canRecoverWithSingleTokenInsertion(t,r)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,r){if(!this.canTokenTypeBeInsertedInRecovery(t)||yr(r))return!1;const n=this.LA(1);return Ho(r,i=>this.tokenMatcher(n,i))!==void 0}canRecoverWithSingleTokenDeletion(t){return this.canTokenTypeBeDeletedInRecovery(t)?this.tokenMatcher(this.LA(2),t):!1}isInCurrentRuleReSyncSet(t){const r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return zi(n,t)}findReSyncTokenType(){const t=this.flattenFollowSet();let r=this.LA(1),n=2;for(;;){const i=Ho(t,a=>iL(r,a));if(i!==void 0)return i;r=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return Tk;const t=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const t=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return nt(t,(n,i)=>i===0?Tk:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:r[i],inRule:this.shortRuleNameToFullName(t[i-1])})}flattenFollowSet(){const t=nt(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return Wn(t)}getFollowSetFromFollowKey(t){if(t===Tk)return[ac];const r=t.ruleName+t.idxInCallingRule+"_~IN~_"+t.inRule;return this.resyncFollows[r]}addToResyncTokens(t,r){return this.tokenMatcher(t,ac)||r.push(t),r}reSyncTo(t){const r=[];let n=this.LA(1);for(;this.tokenMatcher(n,t)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return Py(r)}attemptInRepetitionRecovery(t,r,n,i,a,s,o){}getCurrentGrammarPath(t,r){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:Un(this.RULE_OCCURRENCE_STACK),lastTok:t,lastTokOccurrence:r}}getHumanReadableRuleStack(){return nt(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}},l(of,"Recoverable"),of);function tre(e,t,r,n,i,a,s){const o=this.getKeyForAutomaticLookahead(n,i);let u=this.firstAfterRepMap[o];if(u===void 0){const f=this.getCurrRuleFullName();u=new a(this.getGAstProductions()[f],i).startWalking(),this.firstAfterRepMap[o]=u}let h=u.token,d=u.occurrence;const p=u.isEndOfRule;this.RULE_STACK.length===1&&p&&h===void 0&&(h=ac,d=1),h!==void 0&&d!==void 0&&this.shouldInRepetitionRecoveryBeTried(h,d,s)&&this.tryInRepetitionRecovery(e,t,r,h)}l(tre,"attemptInRepetitionRecovery");function eb(e,t,r){return r|t|e}l(eb,"getKeyForAutomaticLookahead");var lf,hL=(lf=class{constructor(t){var r;this.maxLookahead=(r=t==null?void 0:t.maxLookahead)!==null&&r!==void 0?r:el.maxLookahead}validate(t){const r=this.validateNoLeftRecursion(t.rules);if(yr(r)){const n=this.validateEmptyOrAlternatives(t.rules),i=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),a=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...r,...n,...i,...a]}return r}validateNoLeftRecursion(t){return _a(t,r=>cL(r,r,fu))}validateEmptyOrAlternatives(t){return _a(t,r=>jte(r,fu))}validateAmbiguousAlternationAlternatives(t,r){return _a(t,n=>Yte(n,r,fu))}validateSomeNonEmptyLookaheadPath(t,r){return Hte(t,r,fu)}buildLookaheadForAlternation(t){return Ite(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,Rte)}buildLookaheadForOptional(t){return Mte(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,H6(t.prodType),Dte)}},l(lf,"LLkLookaheadStrategy"),lf),cf,T4e=(cf=class{initLooksAhead(t){this.dynamicTokensEnabled=Dt(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:el.dynamicTokensEnabled,this.maxLookahead=Dt(t,"maxLookahead")?t.maxLookahead:el.maxLookahead,this.lookaheadStrategy=Dt(t,"lookaheadStrategy")?t.lookaheadStrategy:new hL({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){Le(t,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{const{alternation:n,repetition:i,option:a,repetitionMandatory:s,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:u}=rre(r);Le(n,h=>{const d=h.idx===0?"":h.idx;this.TRACE_INIT(`${ws(h)}${d}`,()=>{const p=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:h.idx,rule:r,maxLookahead:h.maxLookahead||this.maxLookahead,hasPredicates:h.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),f=eb(this.fullRuleNameToShort[r.name],256,h.idx);this.setLaFuncCache(f,p)})}),Le(i,h=>{this.computeLookaheadFunc(r,h.idx,768,"Repetition",h.maxLookahead,ws(h))}),Le(a,h=>{this.computeLookaheadFunc(r,h.idx,512,"Option",h.maxLookahead,ws(h))}),Le(s,h=>{this.computeLookaheadFunc(r,h.idx,1024,"RepetitionMandatory",h.maxLookahead,ws(h))}),Le(o,h=>{this.computeLookaheadFunc(r,h.idx,1536,"RepetitionMandatoryWithSeparator",h.maxLookahead,ws(h))}),Le(u,h=>{this.computeLookaheadFunc(r,h.idx,1280,"RepetitionWithSeparator",h.maxLookahead,ws(h))})})})}computeLookaheadFunc(t,r,n,i,a,s){this.TRACE_INIT(`${s}${r===0?"":r}`,()=>{const o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:t,maxLookahead:a||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),u=eb(this.fullRuleNameToShort[t.name],n,r);this.setLaFuncCache(u,o)})}getKeyForAutomaticLookahead(t,r){return eb(this.getLastExplicitRuleShortName(),t,r)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,r){this.lookAheadFuncsCache.set(t,r)}},l(cf,"LooksAhead"),cf),uf,zv=new(uf=class extends N0{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}},l(uf,"DslMethodsCollectorVisitor"),uf);function rre(e){zv.reset(),e.accept(zv);const t=zv.dslMethods;return zv.reset(),t}function zE(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function UE(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function nre(e,t,r){e.children[r]===void 0?e.children[r]=[t]:e.children[r].push(t)}function ire(e,t,r){e.children[t]===void 0?e.children[t]=[r]:e.children[t].push(r)}l(rre,"collectMethods"),l(zE,"setNodeLocationOnlyOffset"),l(UE,"setNodeLocationFull"),l(nre,"addTerminalToCst"),l(ire,"addNoneTerminalToCst");var GE,Uv;function dL(e,t){Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,writable:!1,value:t})}function are(e,t){const r=On(e),n=r.length;for(let i=0;i<n;i++){const a=e[r[i]],s=a.length;for(let o=0;o<s;o++){const u=a[o];u.tokenTypeIdx===void 0&&this[u.name](u.children,t)}}}function sre(e,t){const r=l(function(){},"derivedConstructor");dL(r,e+"BaseSemantics");const n={visit:l(function(i,a){if(Jt(i)&&(i=i[0]),!wr(i))return this[i.name](i.children,a)},"visit"),validateVisitor:l(function(){const i=lre(this,t);if(!yr(i)){const a=nt(i,s=>s.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${a.join(`

`).replace(/\n/g,`
	`)}`)}},"validateVisitor")};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=t,r}function ore(e,t,r){const n=l(function(){},"derivedConstructor");dL(n,e+"BaseSemanticsWithDefaults");const i=Object.create(r.prototype);return Le(t,a=>{i[a]=are}),n.prototype=i,n.prototype.constructor=n,n}function lre(e,t){return cre(e,t)}function cre(e,t){const r=un(t,i=>ns(e[i])===!1),n=nt(r,i=>({msg:`Missing visitor method: <${i}> on ${e.constructor.name} CST Visitor.`,type:GE.MISSING_METHOD,methodName:i}));return F2(n)}l(dL,"defineNameProp"),l(are,"defaultVisit"),l(sre,"createBaseSemanticVisitorConstructor"),l(ore,"createBaseVisitorConstructorWithDefaults"),(Uv=GE||(GE={}))[Uv.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",Uv[Uv.MISSING_METHOD=1]="MISSING_METHOD",l(lre,"validateVisitor"),l(cre,"validateMissingCstMethods");var hf,_4e=(hf=class{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=Dt(t,"nodeLocationTracking")?t.nodeLocationTracking:el.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=UE,this.setNodeLocationFromNode=UE,this.cstPostRule=Ln,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Ln,this.setNodeLocationFromNode=Ln,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=zE,this.setNodeLocationFromNode=zE,this.cstPostRule=Ln,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Ln,this.setNodeLocationFromNode=Ln,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`);this.setNodeLocationFromToken=Ln,this.setNodeLocationFromNode=Ln,this.cstPostRule=Ln,this.setInitialNodeLocation=Ln}else this.cstInvocationStateUpdate=Ln,this.cstFinallyStateUpdate=Ln,this.cstPostTerminal=Ln,this.cstPostNonTerminal=Ln,this.cstPostRule=Ln}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){const r=this.LA(1);t.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){const r={name:t,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){const r=this.LA(0),n=t.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(t){const r=this.LA(0),n=t.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN}cstPostTerminal(t,r){const n=this.CST_STACK[this.CST_STACK.length-1];nre(n,r,t),this.setNodeLocationFromToken(n.location,r)}cstPostNonTerminal(t,r){const n=this.CST_STACK[this.CST_STACK.length-1];ire(n,r,t),this.setNodeLocationFromNode(n.location,t.location)}getBaseCstVisitorConstructor(){if(wr(this.baseCstVisitorConstructor)){const t=sre(this.className,On(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(wr(this.baseCstVisitorWithDefaultsConstructor)){const t=ore(this.className,On(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){const t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}},l(hf,"TreeBuilder"),hf),df,E4e=(df=class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):V4}LA(t){const r=this.currIdx+t;return r<0||this.tokVectorLength<=r?V4:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},l(df,"LexerAdapter"),df),pf,C4e=(pf=class{ACTION(t){return t.call(this)}consume(t,r,n){return this.consumeInternal(r,t,n)}subrule(t,r,n){return this.subruleInternal(r,t,n)}option(t,r){return this.optionInternal(r,t)}or(t,r){return this.orInternal(r,t)}many(t,r){return this.manyInternal(t,r)}atLeastOne(t,r){return this.atLeastOneInternal(t,r)}CONSUME(t,r){return this.consumeInternal(t,0,r)}CONSUME1(t,r){return this.consumeInternal(t,1,r)}CONSUME2(t,r){return this.consumeInternal(t,2,r)}CONSUME3(t,r){return this.consumeInternal(t,3,r)}CONSUME4(t,r){return this.consumeInternal(t,4,r)}CONSUME5(t,r){return this.consumeInternal(t,5,r)}CONSUME6(t,r){return this.consumeInternal(t,6,r)}CONSUME7(t,r){return this.consumeInternal(t,7,r)}CONSUME8(t,r){return this.consumeInternal(t,8,r)}CONSUME9(t,r){return this.consumeInternal(t,9,r)}SUBRULE(t,r){return this.subruleInternal(t,0,r)}SUBRULE1(t,r){return this.subruleInternal(t,1,r)}SUBRULE2(t,r){return this.subruleInternal(t,2,r)}SUBRULE3(t,r){return this.subruleInternal(t,3,r)}SUBRULE4(t,r){return this.subruleInternal(t,4,r)}SUBRULE5(t,r){return this.subruleInternal(t,5,r)}SUBRULE6(t,r){return this.subruleInternal(t,6,r)}SUBRULE7(t,r){return this.subruleInternal(t,7,r)}SUBRULE8(t,r){return this.subruleInternal(t,8,r)}SUBRULE9(t,r){return this.subruleInternal(t,9,r)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,r,n=X4){if(zi(this.definedRulesNames,t)){const a={message:fu.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:$i.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(a)}this.definedRulesNames.push(t);const i=this.defineRule(t,r,n);return this[t]=i,i}OVERRIDE_RULE(t,r,n=X4){const i=qte(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const a=this.defineRule(t,r,n);return this[t]=a,a}BACKTRACK(t,r){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return t.apply(this,r),!0}catch(i){if(Vy(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return Uee(Nr(this.gastProductionsCache))}},l(pf,"RecognizerApi"),pf),ff,S4e=(ff=class{initRecognizerEngine(t,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Hy,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Dt(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Jt(t)){if(yr(t))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof t[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Jt(t))this.tokensMap=Cn(t,(a,s)=>(a[s.name]=s,a),{});else if(Dt(t,"modes")&&Es(Wn(Nr(t.modes)),Ste)){const a=Wn(Nr(t.modes)),s=UA(a);this.tokensMap=Cn(s,(o,u)=>(o[u.name]=u,o),{})}else{if(!la(t))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=Un(t)}this.tokensMap.EOF=ac;const n=Dt(t,"modes")?Wn(Nr(t.modes)):Nr(t),i=Es(n,a=>yr(a.categoryMatches));this.tokenMatcher=i?Hy:M0,R0(Nr(this.tokensMap))}defineRule(t,r,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=Dt(n,"resyncEnabled")?n.resyncEnabled:X4.resyncEnabled,a=Dt(n,"recoveryValueFunc")?n.recoveryValueFunc:X4.recoveryValueFunc,s=this.ruleShortNameIdx<<12;let o;return this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=t,this.fullRuleNameToShort[t]=s,o=this.outputCst===!0?l(function(...u){try{this.ruleInvocationStateUpdate(s,t,this.subruleIdx),r.apply(this,u);const h=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(h),h}catch(h){return this.invokeRuleCatch(h,i,a)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTry"):l(function(...u){try{return this.ruleInvocationStateUpdate(s,t,this.subruleIdx),r.apply(this,u)}catch(h){return this.invokeRuleCatch(h,i,a)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTryCst"),Object.assign(o,{ruleName:t,originalGrammarAction:r})}invokeRuleCatch(t,r,n){const i=this.RULE_STACK.length===1,a=r&&!this.isBackTracking()&&this.recoveryEnabled;if(Vy(t)){const s=t;if(a){const o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o)){if(s.resyncedTokens=this.reSyncTo(o),this.outputCst){const u=this.CST_STACK[this.CST_STACK.length-1];return u.recoveredNode=!0,u}return n(t)}if(this.outputCst){const u=this.CST_STACK[this.CST_STACK.length-1];u.recoveredNode=!0,s.partialCstResult=u}throw s}if(i)return this.moveToTerminatedState(),n(t);throw s}throw t}optionInternal(t,r){const n=this.getKeyForAutomaticLookahead(512,r);return this.optionInternalLogic(t,r,n)}optionInternalLogic(t,r,n){let i,a=this.getLaFuncFromCache(n);if(typeof t!="function"){i=t.DEF;const s=t.GATE;if(s!==void 0){const o=a;a=l(()=>s.call(this)&&o.call(this),"lookAheadFunc")}}else i=t;if(a.call(this)===!0)return i.call(this)}atLeastOneInternal(t,r){const n=this.getKeyForAutomaticLookahead(1024,t);return this.atLeastOneInternalLogic(t,r,n)}atLeastOneInternalLogic(t,r,n){let i,a=this.getLaFuncFromCache(n);if(typeof r!="function"){i=r.DEF;const s=r.GATE;if(s!==void 0){const o=a;a=l(()=>s.call(this)&&o.call(this),"lookAheadFunc")}}else i=r;if(a.call(this)!==!0)throw this.raiseEarlyExitException(t,rn.REPETITION_MANDATORY,r.ERR_MSG);{let s=this.doSingleRepetition(i);for(;a.call(this)===!0&&s===!0;)s=this.doSingleRepetition(i)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,r],a,1024,t,f4e)}atLeastOneSepFirstInternal(t,r){const n=this.getKeyForAutomaticLookahead(1536,t);this.atLeastOneSepFirstInternalLogic(t,r,n)}atLeastOneSepFirstInternalLogic(t,r,n){const i=r.DEF,a=r.SEP;if(this.getLaFuncFromCache(n).call(this)!==!0)throw this.raiseEarlyExitException(t,rn.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG);{i.call(this);const s=l(()=>this.tokenMatcher(this.LA(1),a),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),a)===!0;)this.CONSUME(a),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,a,s,i,uD],s,1536,t,uD)}}manyInternal(t,r){const n=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,r,n)}manyInternalLogic(t,r,n){let i,a=this.getLaFuncFromCache(n);if(typeof r!="function"){i=r.DEF;const o=r.GATE;if(o!==void 0){const u=a;a=l(()=>o.call(this)&&u.call(this),"lookaheadFunction")}}else i=r;let s=!0;for(;a.call(this)===!0&&s===!0;)s=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.manyInternal,[t,r],a,768,t,p4e,s)}manySepFirstInternal(t,r){const n=this.getKeyForAutomaticLookahead(1280,t);this.manySepFirstInternalLogic(t,r,n)}manySepFirstInternalLogic(t,r,n){const i=r.DEF,a=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);const s=l(()=>this.tokenMatcher(this.LA(1),a),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),a)===!0;)this.CONSUME(a),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,a,s,i,cD],s,1280,t,cD)}}repetitionSepSecondInternal(t,r,n,i,a){for(;n();)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,r,n,i,a],n,1536,t,a)}doSingleRepetition(t){const r=this.getLexerPosition();return t.call(this),this.getLexerPosition()>r}orInternal(t,r){const n=this.getKeyForAutomaticLookahead(256,r),i=Jt(t)?t:t.DEF,a=this.getLaFuncFromCache(n).call(this,i);if(a!==void 0)return i[a].ALT.call(this);this.raiseNoAltException(r,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const t=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new x4e(r,t))}}subruleInternal(t,r,n){let i;try{const a=n!==void 0?n.ARGS:void 0;return this.subruleIdx=r,i=t.apply(this,a),this.cstPostNonTerminal(i,n!==void 0&&n.LABEL!==void 0?n.LABEL:t.ruleName),i}catch(a){throw this.subruleInternalError(a,n,t.ruleName)}}subruleInternalError(t,r,n){throw Vy(t)&&t.partialCstResult!==void 0&&(this.cstPostNonTerminal(t.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete t.partialCstResult),t}consumeInternal(t,r,n){let i;try{const a=this.LA(1);this.tokenMatcher(a,t)===!0?(this.consumeToken(),i=a):this.consumeInternalError(t,a,n)}catch(a){i=this.consumeInternalRecovery(t,r,a)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:t.name,i),i}consumeInternalError(t,r,n){let i;const a=this.LA(0);throw i=n!==void 0&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:r,previous:a,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new ere(i,r,a))}consumeInternalRecovery(t,r,n){if(!this.recoveryEnabled||n.name!=="MismatchedTokenException"||this.isBackTracking())throw n;{const i=this.getFollowsForInRuleRecovery(t,r);try{return this.tryInRuleRecovery(t,i)}catch(a){throw a.name==="InRuleRecoveryException"?n:a}}}saveRecogState(){const t=this.errors,r=Un(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),ac)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},l(ff,"RecognizerEngine"),ff),gf,A4e=(gf=class{initErrorHandler(t){this._errors=[],this.errorMessageProvider=Dt(t,"errorMessageProvider")?t.errorMessageProvider:el.errorMessageProvider}SAVE_ERROR(t){if(Vy(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Un(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Un(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,r,n){const i=this.getCurrRuleFullName(),a=K2(t,this.getGAstProductions()[i],r,this.maxLookahead)[0],s=[];for(let u=1;u<=this.maxLookahead;u++)s.push(this.LA(u));const o=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:s,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new b4e(o,this.LA(1),this.LA(0)))}raiseNoAltException(t,r){const n=this.getCurrRuleFullName(),i=X2(t,this.getGAstProductions()[n],this.maxLookahead),a=[];for(let u=1;u<=this.maxLookahead;u++)a.push(this.LA(u));const s=this.LA(0),o=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:i,actual:a,previous:s,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new v4e(o,this.LA(1),s))}},l(gf,"ErrorHandler"),gf),mf,L4e=(mf=class{initContentAssist(){}computeContentAssist(t,r){const n=this.gastProductionsCache[t];if(wr(n))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return aL([n],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){const r=Ns(t.ruleStack),n=this.getGAstProductions()[r];return new d4e(n,t).startWalking()}},l(mf,"ContentAssist"),mf),X6={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(X6);var hD=Math.pow(2,8)-1,ure=nL({name:"RECORDING_PHASE_TOKEN",pattern:ia.NA});R0([ure]);var hre=Y6(ure,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(hre);var N4e={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},yf,I4e=(yf=class{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){const r=t>0?t:"";this[`CONSUME${r}`]=function(n,i){return this.consumeInternalRecord(n,t,i)},this[`SUBRULE${r}`]=function(n,i){return this.subruleInternalRecord(n,t,i)},this[`OPTION${r}`]=function(n){return this.optionInternalRecord(n,t)},this[`OR${r}`]=function(n){return this.orInternalRecord(n,t)},this[`MANY${r}`]=function(n){this.manyInternalRecord(t,n)},this[`MANY_SEP${r}`]=function(n){this.manySepFirstInternalRecord(t,n)},this[`AT_LEAST_ONE${r}`]=function(n){this.atLeastOneInternalRecord(t,n)},this[`AT_LEAST_ONE_SEP${r}`]=function(n){this.atLeastOneSepFirstInternalRecord(t,n)}}this.consume=function(t,r,n){return this.consumeInternalRecord(r,t,n)},this.subrule=function(t,r,n){return this.subruleInternalRecord(r,t,n)},this.option=function(t,r){return this.optionInternalRecord(r,t)},this.or=function(t,r){return this.orInternalRecord(r,t)},this.many=function(t,r){this.manyInternalRecord(t,r)},this.atLeastOne=function(t,r){this.atLeastOneInternalRecord(t,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const t=this;for(let r=0;r<10;r++){const n=r>0?r:"";delete t[`CONSUME${n}`],delete t[`SUBRULE${n}`],delete t[`OPTION${n}`],delete t[`OR${n}`],delete t[`MANY${n}`],delete t[`MANY_SEP${n}`],delete t[`AT_LEAST_ONE${n}`],delete t[`AT_LEAST_ONE_SEP${n}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,r){return()=>!0}LA_RECORD(t){return V4}topLevelRuleRecord(t,r){try{const n=new L0({definition:[],name:t});return n.name=t,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(t,r){return Wh.call(this,li,t,r)}atLeastOneInternalRecord(t,r){Wh.call(this,Aa,r,t)}atLeastOneSepFirstInternalRecord(t,r){Wh.call(this,La,r,t,!0)}manyInternalRecord(t,r){Wh.call(this,ln,r,t)}manySepFirstInternalRecord(t,r){Wh.call(this,fa,r,t,!0)}orInternalRecord(t,r){return dre.call(this,t,r)}subruleInternalRecord(t,r,n){if(Xy(r),!t||Dt(t,"ruleName")===!1){const o=new Error(`<SUBRULE${qE(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const i=lo(this.recordingProdStack),a=t.ruleName,s=new Bi({idx:r,nonTerminalName:a,label:n==null?void 0:n.LABEL,referencedRule:void 0});return i.definition.push(s),this.outputCst?N4e:X6}consumeInternalRecord(t,r,n){if(Xy(r),!tL(t)){const s=new Error(`<CONSUME${qE(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}const i=lo(this.recordingProdStack),a=new Wr({idx:r,terminalType:t,label:n==null?void 0:n.LABEL});return i.definition.push(a),hre}},l(yf,"GastRecorder"),yf);function Wh(e,t,r,n=!1){Xy(r);const i=lo(this.recordingProdStack),a=ns(t)?t:t.DEF,s=new e({definition:[],idx:r});return n&&(s.separator=t.SEP),Dt(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),a.call(this),i.definition.push(s),this.recordingProdStack.pop(),X6}function dre(e,t){Xy(t);const r=lo(this.recordingProdStack),n=Jt(e)===!1,i=n===!1?e:e.DEF,a=new ga({definition:[],idx:t,ignoreAmbiguities:n&&e.IGNORE_AMBIGUITIES===!0});Dt(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD);const s=SQ(i,o=>ns(o.GATE));return a.hasPredicates=s,r.definition.push(a),Le(i,o=>{const u=new ua({definition:[]});a.definition.push(u),Dt(o,"IGNORE_AMBIGUITIES")?u.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:Dt(o,"GATE")&&(u.ignoreAmbiguities=!0),this.recordingProdStack.push(u),o.ALT.call(this),this.recordingProdStack.pop()}),X6}function qE(e){return e===0?"":`${e}`}function Xy(e){if(e<0||e>hD){const t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${hD+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}l(Wh,"recordProd"),l(dre,"recordOrProd"),l(qE,"getIdxSuffix"),l(Xy,"assertMethodIdxIsValid");var vf,M4e=(vf=class{initPerformanceTracer(t){if(Dt(t,"traceInitPerf")){const r=t.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=el.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,r){if(this.traceInitPerf===!0){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${t}>`);const{time:i,value:a}=X9(r),s=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(`${n}<-- <${t}> time: ${i}ms`),this.traceInitIndent--,a}return r()}},l(vf,"PerformanceTracer"),vf);function pre(e,t){t.forEach(r=>{const n=r.prototype;Object.getOwnPropertyNames(n).forEach(i=>{if(i==="constructor")return;const a=Object.getOwnPropertyDescriptor(n,i);a&&(a.get||a.set)?Object.defineProperty(e.prototype,i,a):e.prototype[i]=r.prototype[i]})})}l(pre,"applyMixins");var V4=Y6(ac,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(V4);var $i,Ar,el=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:ad,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),X4=Object.freeze({recoveryValueFunc:l(()=>{},"recoveryValueFunc"),resyncEnabled:!0});function jE(e){return function(){return e}}(Ar=$i||($i={}))[Ar.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",Ar[Ar.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",Ar[Ar.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",Ar[Ar.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",Ar[Ar.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",Ar[Ar.LEFT_RECURSION=5]="LEFT_RECURSION",Ar[Ar.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",Ar[Ar.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",Ar[Ar.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",Ar[Ar.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",Ar[Ar.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",Ar[Ar.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",Ar[Ar.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",Ar[Ar.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION",l(jE,"EMPTY_ALT");var Tu,YE=(Tu=class{static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=!0;const r=this.className;this.TRACE_INIT("toFastProps",()=>{K9(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Le(this.definedRulesNames,i=>{const a=this[i].originalGrammarAction;let s;this.TRACE_INIT(`${i} Rule`,()=>{s=this.topLevelRuleRecord(i,a)}),this.gastProductionsCache[i]=s})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=Zte({rules:Nr(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(yr(n)&&this.skipValidations===!1){const i=Qte({rules:Nr(this.gastProductionsCache),tokenTypes:Nr(this.tokensMap),errMsgProvider:fu,grammarName:r}),a=$te({lookaheadStrategy:this.lookaheadStrategy,rules:Nr(this.gastProductionsCache),tokenTypes:Nr(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,a)}}),yr(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=Hee(Nr(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,a;(a=(i=this.lookaheadStrategy).initialize)===null||a===void 0||a.call(i,{rules:Nr(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Nr(this.gastProductionsCache))})),!Tu.DEFER_DEFINITION_ERRORS_HANDLING&&!yr(this.definitionErrors))throw t=nt(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${t.join(`
-------------------------------
`)}`)})}constructor(t,r){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(t,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),Dt(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Dt(r,"skipValidations")?r.skipValidations:el.skipValidations}},l(Tu,"Parser"),Tu);YE.DEFER_DEFINITION_ERRORS_HANDLING=!1,pre(YE,[k4e,T4e,_4e,E4e,S4e,C4e,A4e,L4e,I4e,M4e]);var xf,R4e=(xf=class extends YE{constructor(t,r=el){const n=Un(r);n.outputCst=!1,super(t,n)}},l(xf,"EmbeddedActionsParser"),xf);function Ju(e,t,r){return`${e.name}_${t}_${r}`}l(Ju,"buildATNKey");var bf,pL=(bf=class{constructor(t){this.target=t}isEpsilon(){return!1}},l(bf,"AbstractTransition"),bf),wf,fL=(wf=class extends pL{constructor(t,r){super(t),this.tokenType=r}},l(wf,"AtomTransition"),wf),kf,fre=(kf=class extends pL{constructor(t){super(t)}isEpsilon(){return!0}},l(kf,"EpsilonTransition"),kf),Tf,gL=(Tf=class extends pL{constructor(t,r,n){super(t),this.rule=r,this.followState=n}isEpsilon(){return!0}},l(Tf,"RuleTransition"),Tf);function gre(e){const t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};mre(t,e);const r=e.length;for(let n=0;n<r;n++){const i=e[n],a=xc(t,i,i);a!==void 0&&Sre(t,i,a)}return t}function mre(e,t){const r=t.length;for(let n=0;n<r;n++){const i=t[n],a=zn(e,i,void 0,{type:2}),s=zn(e,i,void 0,{type:7});a.stop=s,e.ruleToStartState.set(i,a),e.ruleToStopState.set(i,s)}}function mL(e,t,r){return r instanceof Wr?K6(e,t,r.terminalType,r):r instanceof Bi?Cre(e,t,r):r instanceof ga?wre(e,t,r):r instanceof li?kre(e,t,r):r instanceof ln?yre(e,t,r):r instanceof fa?vre(e,t,r):r instanceof Aa?xre(e,t,r):r instanceof La?bre(e,t,r):xc(e,t,r)}function yre(e,t,r){const n=zn(e,t,r,{type:5});return ul(e,n),vL(e,t,r,wh(e,t,n,r,xc(e,t,r)))}function vre(e,t,r){const n=zn(e,t,r,{type:5});return ul(e,n),vL(e,t,r,wh(e,t,n,r,xc(e,t,r)),K6(e,t,r.separator,r))}function xre(e,t,r){const n=zn(e,t,r,{type:4});return ul(e,n),yL(e,t,r,wh(e,t,n,r,xc(e,t,r)))}function bre(e,t,r){const n=zn(e,t,r,{type:4});return ul(e,n),yL(e,t,r,wh(e,t,n,r,xc(e,t,r)),K6(e,t,r.separator,r))}function wre(e,t,r){const n=zn(e,t,r,{type:1});ul(e,n);const i=nt(r.definition,a=>mL(e,t,a));return wh(e,t,n,r,...i)}function kre(e,t,r){const n=zn(e,t,r,{type:1});return ul(e,n),Tre(e,t,r,wh(e,t,n,r,xc(e,t,r)))}function xc(e,t,r){const n=un(nt(r.definition,i=>mL(e,t,i)),i=>i!==void 0);return n.length===1?n[0]:n.length===0?void 0:Ere(e,n)}function yL(e,t,r,n,i){const a=n.left,s=n.right,o=zn(e,t,r,{type:11});ul(e,o);const u=zn(e,t,r,{type:12});return a.loopback=o,u.loopback=o,e.decisionMap[Ju(t,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=o,yn(s,o),i===void 0?(yn(o,a),yn(o,u)):(yn(o,u),yn(o,i.left),yn(i.right,a)),{left:a,right:u}}function vL(e,t,r,n,i){const a=n.left,s=n.right,o=zn(e,t,r,{type:10});ul(e,o);const u=zn(e,t,r,{type:12}),h=zn(e,t,r,{type:9});return o.loopback=h,u.loopback=h,yn(o,a),yn(o,u),yn(s,h),i!==void 0?(yn(h,u),yn(h,i.left),yn(i.right,a)):yn(h,o),e.decisionMap[Ju(t,i?"RepetitionWithSeparator":"Repetition",r.idx)]=o,{left:o,right:u}}function Tre(e,t,r,n){const i=n.left;return yn(i,n.right),e.decisionMap[Ju(t,"Option",r.idx)]=i,n}function ul(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function wh(e,t,r,n,...i){const a=zn(e,t,n,{type:8,start:r});r.end=a;for(const o of i)o!==void 0?(yn(r,o.left),yn(o.right,a)):yn(r,a);const s={left:r,right:a};return e.decisionMap[Ju(t,_re(n),n.idx)]=r,s}function _re(e){if(e instanceof ga)return"Alternation";if(e instanceof li)return"Option";if(e instanceof ln)return"Repetition";if(e instanceof fa)return"RepetitionWithSeparator";if(e instanceof Aa)return"RepetitionMandatory";if(e instanceof La)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function Ere(e,t){const r=t.length;for(let a=0;a<r-1;a++){const s=t[a];let o;s.left.transitions.length===1&&(o=s.left.transitions[0]);const u=o instanceof gL,h=o,d=t[a+1].left;s.left.type===1&&s.right.type===1&&o!==void 0&&(u&&h.followState===s.right||o.target===s.right)?(u?h.followState=d:o.target=d,Are(e,s.right)):yn(s.right,d)}const n=t[0],i=t[r-1];return{left:n.left,right:i.right}}function K6(e,t,r,n){const i=zn(e,t,n,{type:1}),a=zn(e,t,n,{type:1});return Z6(i,new fL(a,r)),{left:i,right:a}}function Cre(e,t,r){const n=r.referencedRule,i=e.ruleToStartState.get(n),a=zn(e,t,r,{type:1}),s=zn(e,t,r,{type:1});return Z6(a,new gL(i,n,s)),{left:a,right:s}}function Sre(e,t,r){const n=e.ruleToStartState.get(t);yn(n,r.left);const i=e.ruleToStopState.get(t);return yn(r.right,i),{left:n,right:i}}function yn(e,t){Z6(e,new fre(t))}function zn(e,t,r,n){const i=Object.assign({atn:e,production:r,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},n);return e.states.push(i),i}function Z6(e,t){e.transitions.length===0&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function Are(e,t){e.states.splice(e.states.indexOf(t),1)}l(gre,"createATN"),l(mre,"createRuleStartAndStopATNStates"),l(mL,"atom"),l(yre,"repetition"),l(vre,"repetitionSep"),l(xre,"repetitionMandatory"),l(bre,"repetitionMandatorySep"),l(wre,"alternation"),l(kre,"option"),l(xc,"block"),l(yL,"plus"),l(vL,"star"),l(Tre,"optional"),l(ul,"defineDecisionState"),l(wh,"makeAlts"),l(_re,"getProdType"),l(Ere,"makeBlock"),l(K6,"tokenRef"),l(Cre,"ruleRef"),l(Sre,"buildRuleHandle"),l(yn,"epsilon"),l(zn,"newState"),l(Z6,"addTransition"),l(Are,"removeState");var K4={},_f,WE=(_f=class{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(t){const r=xL(t);r in this.map||(this.map[r]=this.configs.length,this.configs.push(t))}get elements(){return this.configs}get alts(){return nt(this.configs,t=>t.alt)}get key(){let t="";for(const r in this.map)t+=r+":";return t}},l(_f,"ATNConfigSet"),_f);function xL(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(r=>r.stateNumber.toString()).join("_")}`}function Lre(e,t){const r={};return n=>{const i=n.toString();let a=r[i];return a!==void 0||(a={atnStartState:e,decision:t,states:{}},r[i]=a),a}}l(xL,"getATNConfigKey"),l(Lre,"createDFACache");var dD,_k,pD,Gv,xr,ir,qv,fD,Ek,gD,mD,yD,Ck,vD,Sk,xD,jv,bD,wD,kD,Yv,Ah,Lh,Ak,Nh,TD,Lk,Nk,Ik,Mk,Rk,_D,ED,Dk,CD,Ok,Z0,SD,Gr,AD,LD,ND,ID,MD,RD,DD,OD,PD,Wv,BD,$D,FD,zD,Pk,UD,GD,Pr,qD,jD,YD,WD,HD,xo,Hv,VD,XD,KD,ZD,QD,JD,eO,tO,Jr,rO,qs,nO,iO,aO,sO,oO,Bk,$k,lO,cO,uO,hO,dO,pO,fO,gO,mO,yO,Ef,Nre=(Ef=class{constructor(){this.predicates=[]}is(t){return t>=this.predicates.length||this.predicates[t]}set(t,r){this.predicates[t]=r}toString(){let t="";const r=this.predicates.length;for(let n=0;n<r;n++)t+=this.predicates[n]===!0?"1":"0";return t}},l(Ef,"PredicateSet"),Ef),vO=new Nre,Cf,D4e=(Cf=class extends hL{constructor(t){var r;super(),this.logging=(r=t==null?void 0:t.logging)!==null&&r!==void 0?r:n=>console.log(n)}initialize(t){this.atn=gre(t.rules),this.dfas=Ire(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(t){const{prodOccurrence:r,rule:n,hasPredicates:i,dynamicTokensEnabled:a}=t,s=this.dfas,o=this.logging,u=Ju(n,"Alternation",r),h=this.atn.decisionMap[u].decision,d=nt($E({maxLookahead:1,occurrence:r,prodType:"Alternation",rule:n}),p=>nt(p,f=>f[0]));if(HE(d,!1)&&!a){const p=Cn(d,(f,g,m)=>(Le(g,y=>{y&&(f[y.tokenTypeIdx]=m,Le(y.categoryMatches,v=>{f[v]=m}))}),f),{});return i?function(f){var g;const m=this.LA(1),y=p[m.tokenTypeIdx];if(f!==void 0&&y!==void 0){const v=(g=f[y])===null||g===void 0?void 0:g.GATE;if(v!==void 0&&v.call(this)===!1)return}return y}:function(){const f=this.LA(1);return p[f.tokenTypeIdx]}}return i?function(p){const f=new Nre,g=p===void 0?0:p.length;for(let y=0;y<g;y++){const v=p==null?void 0:p[y].GATE;f.set(y,v===void 0||v.call(this))}const m=tb.call(this,s,h,f,o);return typeof m=="number"?m:void 0}:function(){const p=tb.call(this,s,h,vO,o);return typeof p=="number"?p:void 0}}buildLookaheadForOptional(t){const{prodOccurrence:r,rule:n,prodType:i,dynamicTokensEnabled:a}=t,s=this.dfas,o=this.logging,u=Ju(n,i,r),h=this.atn.decisionMap[u].decision,d=nt($E({maxLookahead:1,occurrence:r,prodType:i,rule:n}),p=>nt(p,f=>f[0]));if(HE(d)&&d[0][0]&&!a){const p=d[0],f=Wn(p);if(f.length===1&&yr(f[0].categoryMatches)){const g=f[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===g}}{const g=Cn(f,(m,y)=>(y!==void 0&&(m[y.tokenTypeIdx]=!0,Le(y.categoryMatches,v=>{m[v]=!0})),m),{});return function(){const m=this.LA(1);return g[m.tokenTypeIdx]===!0}}}return function(){const p=tb.call(this,s,h,vO,o);return typeof p!="object"&&p===0}}},l(Cf,"LLStarLookaheadStrategy"),Cf);function HE(e,t=!0){const r=new Set;for(const n of e){const i=new Set;for(const a of n){if(a===void 0){if(t)break;return!1}const s=[a.tokenTypeIdx].concat(a.categoryMatches);for(const o of s)if(r.has(o)){if(!i.has(o))return!1}else r.add(o),i.add(o)}}return!0}function Ire(e){const t=e.decisionStates.length,r=Array(t);for(let n=0;n<t;n++)r[n]=Lre(e.decisionStates[n],n);return r}function tb(e,t,r,n){const i=e[t](r);let a=i.start;return a===void 0&&(a=wL(i,bL(Gre(i.atnStartState))),i.start=a),Mre.apply(this,[i,a,r,n])}function Mre(e,t,r,n){let i=t,a=1;const s=[];let o=this.LA(a++);for(;;){let u=$re(i,o);if(u===void 0&&(u=Rre.apply(this,[e,i,o,a,r,n])),u===K4)return Bre(s,i,o);if(u.isAcceptState===!0)return u.prediction;i=u,s.push(o),o=this.LA(a++)}}function Rre(e,t,r,n,i,a){const s=Fre(t.configs,r,i);if(s.size===0)return VE(e,t,r,K4),K4;let o=bL(s);const u=Ure(s,i);if(u!==void 0)o.isAcceptState=!0,o.prediction=u,o.configs.uniqueAlt=u;else if(Wre(s)){const h=e0(s.alts);o.isAcceptState=!0,o.prediction=h,o.configs.uniqueAlt=h,Dre.apply(this,[e,n,s.alts,a])}return o=VE(e,t,r,o),o}function Dre(e,t,r,n){const i=[];for(let s=1;s<=t;s++)i.push(this.LA(s).tokenType);const a=e.atnStartState;n(Ore({topLevelRule:a.rule,ambiguityIndices:r,production:a.production,prefixPath:i}))}function Ore(e){const t=nt(e.prefixPath,i=>yu(i)).join(", "),r=e.production.idx===0?"":e.production.idx;let n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${Pre(e.production)}${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n+=`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n}function Pre(e){if(e instanceof Bi)return"SUBRULE";if(e instanceof li)return"OPTION";if(e instanceof ga)return"OR";if(e instanceof Aa)return"AT_LEAST_ONE";if(e instanceof La)return"AT_LEAST_ONE_SEP";if(e instanceof fa)return"MANY_SEP";if(e instanceof ln)return"MANY";if(e instanceof Wr)return"CONSUME";throw Error("non exhaustive match")}function Bre(e,t,r){const n=_a(t.configs.elements,a=>a.state.transitions),i=Ave(n.filter(a=>a instanceof fL).map(a=>a.tokenType),a=>a.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:i,tokenPath:e}}function $re(e,t){return e.edges[t.tokenTypeIdx]}function Fre(e,t,r){const n=new WE,i=[];for(const s of e.elements){if(r.is(s.alt)===!1)continue;if(s.state.type===7){i.push(s);continue}const o=s.state.transitions.length;for(let u=0;u<o;u++){const h=zre(s.state.transitions[u],t);h!==void 0&&n.add({state:h,alt:s.alt,stack:s.stack})}}let a;if(i.length===0&&n.size===1&&(a=n),a===void 0){a=new WE;for(const s of n.elements)Ky(s,a)}if(i.length>0&&!jre(a))for(const s of i)a.add(s);return a}function zre(e,t){if(e instanceof fL&&iL(t,e.tokenType))return e.target}function Ure(e,t){let r;for(const n of e.elements)if(t.is(n.alt)===!0){if(r===void 0)r=n.alt;else if(r!==n.alt)return}return r}function bL(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function VE(e,t,r,n){return n=wL(e,n),t.edges[r.tokenTypeIdx]=n,n}function wL(e,t){if(t===K4)return t;const r=t.configs.key,n=e.states[r];return n!==void 0?n:(t.configs.finalize(),e.states[r]=t,t)}function Gre(e){const t=new WE,r=e.transitions.length;for(let n=0;n<r;n++)Ky({state:e.transitions[n].target,alt:n,stack:[]},t);return t}function Ky(e,t){const r=e.state;if(r.type===7){if(e.stack.length>0){const i=[...e.stack];Ky({state:i.pop(),alt:e.alt,stack:i},t)}else t.add(e);return}r.epsilonOnlyTransitions||t.add(e);const n=r.transitions.length;for(let i=0;i<n;i++){const a=qre(e,r.transitions[i]);a!==void 0&&Ky(a,t)}}function qre(e,t){if(t instanceof fre)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof gL){const r=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:r}}}function jre(e){for(const t of e.elements)if(t.state.type===7)return!0;return!1}function Yre(e){for(const t of e.elements)if(t.state.type!==7)return!1;return!0}function Wre(e){if(Yre(e))return!0;const t=Hre(e.elements);return Vre(t)&&!Xre(t)}function Hre(e){const t=new Map;for(const r of e){const n=xL(r,!1);let i=t.get(n);i===void 0&&(i={},t.set(n,i)),i[r.alt]=!0}return t}function Vre(e){for(const t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}function Xre(e){for(const t of Array.from(e.values()))if(Object.keys(t).length===1)return!0;return!1}l(HE,"isLL1Sequence"),l(Ire,"initATNSimulator"),l(tb,"adaptivePredict"),l(Mre,"performLookahead"),l(Rre,"computeLookaheadTarget"),l(Dre,"reportLookaheadAmbiguity"),l(Ore,"buildAmbiguityError"),l(Pre,"getProductionDslName"),l(Bre,"buildAdaptivePredictError"),l($re,"getExistingTargetState"),l(Fre,"computeReachSet"),l(zre,"getReachableTarget"),l(Ure,"getUniqueAlt"),l(bL,"newDFAState"),l(VE,"addDFAEdge"),l(wL,"addDFAState"),l(Gre,"computeStartState"),l(Ky,"closure"),l(qre,"getEpsilonTarget"),l(jre,"hasConfigInRuleStopState"),l(Yre,"allConfigsInRuleStopStates"),l(Wre,"hasConflictTerminatingPrediction"),l(Hre,"getConflictingAltSets"),l(Vre,"hasConflictingAltSet"),l(Xre,"hasStateAssociatedWithOneAlt"),function(e){function t(r){return typeof r=="string"}l(t,"is"),e.is=t}(dD||(dD={})),function(e){function t(r){return typeof r=="string"}l(t,"is"),e.is=t}(_k||(_k={})),function(e){function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,l(t,"is"),e.is=t}(pD||(pD={})),function(e){function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}e.MIN_VALUE=0,e.MAX_VALUE=2147483647,l(t,"is"),e.is=t}(Gv||(Gv={})),function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=Gv.MAX_VALUE),i===Number.MAX_VALUE&&(i=Gv.MAX_VALUE),{line:n,character:i}}function r(n){let i=n;return Me.objectLiteral(i)&&Me.uinteger(i.line)&&Me.uinteger(i.character)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(xr||(xr={})),function(e){function t(n,i,a,s){if(Me.uinteger(n)&&Me.uinteger(i)&&Me.uinteger(a)&&Me.uinteger(s))return{start:xr.create(n,i),end:xr.create(a,s)};if(xr.is(n)&&xr.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${a}, ${s}]`)}function r(n){let i=n;return Me.objectLiteral(i)&&xr.is(i.start)&&xr.is(i.end)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(ir||(ir={})),function(e){function t(n,i){return{uri:n,range:i}}function r(n){let i=n;return Me.objectLiteral(i)&&ir.is(i.range)&&(Me.string(i.uri)||Me.undefined(i.uri))}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(qv||(qv={})),function(e){function t(n,i,a,s){return{targetUri:n,targetRange:i,targetSelectionRange:a,originSelectionRange:s}}function r(n){let i=n;return Me.objectLiteral(i)&&ir.is(i.targetRange)&&Me.string(i.targetUri)&&ir.is(i.targetSelectionRange)&&(ir.is(i.originSelectionRange)||Me.undefined(i.originSelectionRange))}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(fD||(fD={})),function(e){function t(n,i,a,s){return{red:n,green:i,blue:a,alpha:s}}function r(n){const i=n;return Me.objectLiteral(i)&&Me.numberRange(i.red,0,1)&&Me.numberRange(i.green,0,1)&&Me.numberRange(i.blue,0,1)&&Me.numberRange(i.alpha,0,1)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(Ek||(Ek={})),function(e){function t(n,i){return{range:n,color:i}}function r(n){const i=n;return Me.objectLiteral(i)&&ir.is(i.range)&&Ek.is(i.color)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(gD||(gD={})),function(e){function t(n,i,a){return{label:n,textEdit:i,additionalTextEdits:a}}function r(n){const i=n;return Me.objectLiteral(i)&&Me.string(i.label)&&(Me.undefined(i.textEdit)||Lh.is(i))&&(Me.undefined(i.additionalTextEdits)||Me.typedArray(i.additionalTextEdits,Lh.is))}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(mD||(mD={})),(Ck=yD||(yD={})).Comment="comment",Ck.Imports="imports",Ck.Region="region",function(e){function t(n,i,a,s,o,u){const h={startLine:n,endLine:i};return Me.defined(a)&&(h.startCharacter=a),Me.defined(s)&&(h.endCharacter=s),Me.defined(o)&&(h.kind=o),Me.defined(u)&&(h.collapsedText=u),h}function r(n){const i=n;return Me.objectLiteral(i)&&Me.uinteger(i.startLine)&&Me.uinteger(i.startLine)&&(Me.undefined(i.startCharacter)||Me.uinteger(i.startCharacter))&&(Me.undefined(i.endCharacter)||Me.uinteger(i.endCharacter))&&(Me.undefined(i.kind)||Me.string(i.kind))}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(vD||(vD={})),function(e){function t(n,i){return{location:n,message:i}}function r(n){let i=n;return Me.defined(i)&&qv.is(i.location)&&Me.string(i.message)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(Sk||(Sk={})),(jv=xD||(xD={})).Error=1,jv.Warning=2,jv.Information=3,jv.Hint=4,(wD=bD||(bD={})).Unnecessary=1,wD.Deprecated=2,function(e){function t(r){const n=r;return Me.objectLiteral(n)&&Me.string(n.href)}l(t,"is"),e.is=t}(kD||(kD={})),function(e){function t(n,i,a,s,o,u){let h={range:n,message:i};return Me.defined(a)&&(h.severity=a),Me.defined(s)&&(h.code=s),Me.defined(o)&&(h.source=o),Me.defined(u)&&(h.relatedInformation=u),h}function r(n){var i;let a=n;return Me.defined(a)&&ir.is(a.range)&&Me.string(a.message)&&(Me.number(a.severity)||Me.undefined(a.severity))&&(Me.integer(a.code)||Me.string(a.code)||Me.undefined(a.code))&&(Me.undefined(a.codeDescription)||Me.string((i=a.codeDescription)===null||i===void 0?void 0:i.href))&&(Me.string(a.source)||Me.undefined(a.source))&&(Me.undefined(a.relatedInformation)||Me.typedArray(a.relatedInformation,Sk.is))}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(Yv||(Yv={})),function(e){function t(n,i,...a){let s={title:n,command:i};return Me.defined(a)&&a.length>0&&(s.arguments=a),s}function r(n){let i=n;return Me.defined(i)&&Me.string(i.title)&&Me.string(i.command)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(Ah||(Ah={})),function(e){function t(a,s){return{range:a,newText:s}}function r(a,s){return{range:{start:a,end:a},newText:s}}function n(a){return{range:a,newText:""}}function i(a){const s=a;return Me.objectLiteral(s)&&Me.string(s.newText)&&ir.is(s.range)}l(t,"replace"),e.replace=t,l(r,"insert"),e.insert=r,l(n,"del"),e.del=n,l(i,"is"),e.is=i}(Lh||(Lh={})),function(e){function t(n,i,a){const s={label:n};return i!==void 0&&(s.needsConfirmation=i),a!==void 0&&(s.description=a),s}function r(n){const i=n;return Me.objectLiteral(i)&&Me.string(i.label)&&(Me.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Me.string(i.description)||i.description===void 0)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(Ak||(Ak={})),function(e){function t(r){const n=r;return Me.string(n)}l(t,"is"),e.is=t}(Nh||(Nh={})),function(e){function t(a,s,o){return{range:a,newText:s,annotationId:o}}function r(a,s,o){return{range:{start:a,end:a},newText:s,annotationId:o}}function n(a,s){return{range:a,newText:"",annotationId:s}}function i(a){const s=a;return Lh.is(s)&&(Ak.is(s.annotationId)||Nh.is(s.annotationId))}l(t,"replace"),e.replace=t,l(r,"insert"),e.insert=r,l(n,"del"),e.del=n,l(i,"is"),e.is=i}(TD||(TD={})),function(e){function t(n,i){return{textDocument:n,edits:i}}function r(n){let i=n;return Me.defined(i)&&Dk.is(i.textDocument)&&Array.isArray(i.edits)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(Lk||(Lk={})),function(e){function t(n,i,a){let s={kind:"create",uri:n};return i===void 0||i.overwrite===void 0&&i.ignoreIfExists===void 0||(s.options=i),a!==void 0&&(s.annotationId=a),s}function r(n){let i=n;return i&&i.kind==="create"&&Me.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Me.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Me.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Nh.is(i.annotationId))}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(Nk||(Nk={})),function(e){function t(n,i,a,s){let o={kind:"rename",oldUri:n,newUri:i};return a===void 0||a.overwrite===void 0&&a.ignoreIfExists===void 0||(o.options=a),s!==void 0&&(o.annotationId=s),o}function r(n){let i=n;return i&&i.kind==="rename"&&Me.string(i.oldUri)&&Me.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Me.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Me.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Nh.is(i.annotationId))}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(Ik||(Ik={})),function(e){function t(n,i,a){let s={kind:"delete",uri:n};return i===void 0||i.recursive===void 0&&i.ignoreIfNotExists===void 0||(s.options=i),a!==void 0&&(s.annotationId=a),s}function r(n){let i=n;return i&&i.kind==="delete"&&Me.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Me.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Me.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Nh.is(i.annotationId))}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(Mk||(Mk={})),function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>Me.string(i.kind)?Nk.is(i)||Ik.is(i)||Mk.is(i):Lk.is(i)))}l(t,"is"),e.is=t}(Rk||(Rk={})),function(e){function t(n){return{uri:n}}function r(n){let i=n;return Me.defined(i)&&Me.string(i.uri)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(_D||(_D={})),function(e){function t(n,i){return{uri:n,version:i}}function r(n){let i=n;return Me.defined(i)&&Me.string(i.uri)&&Me.integer(i.version)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(ED||(ED={})),function(e){function t(n,i){return{uri:n,version:i}}function r(n){let i=n;return Me.defined(i)&&Me.string(i.uri)&&(i.version===null||Me.integer(i.version))}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(Dk||(Dk={})),function(e){function t(n,i,a,s){return{uri:n,languageId:i,version:a,text:s}}function r(n){let i=n;return Me.defined(i)&&Me.string(i.uri)&&Me.string(i.languageId)&&Me.integer(i.version)&&Me.string(i.text)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(CD||(CD={})),function(e){function t(r){const n=r;return n===e.PlainText||n===e.Markdown}e.PlainText="plaintext",e.Markdown="markdown",l(t,"is"),e.is=t}(Ok||(Ok={})),function(e){function t(r){const n=r;return Me.objectLiteral(r)&&Ok.is(n.kind)&&Me.string(n.value)}l(t,"is"),e.is=t}(Z0||(Z0={})),(Gr=SD||(SD={})).Text=1,Gr.Method=2,Gr.Function=3,Gr.Constructor=4,Gr.Field=5,Gr.Variable=6,Gr.Class=7,Gr.Interface=8,Gr.Module=9,Gr.Property=10,Gr.Unit=11,Gr.Value=12,Gr.Enum=13,Gr.Keyword=14,Gr.Snippet=15,Gr.Color=16,Gr.File=17,Gr.Reference=18,Gr.Folder=19,Gr.EnumMember=20,Gr.Constant=21,Gr.Struct=22,Gr.Event=23,Gr.Operator=24,Gr.TypeParameter=25,(LD=AD||(AD={})).PlainText=1,LD.Snippet=2,(ND||(ND={})).Deprecated=1,function(e){function t(n,i,a){return{newText:n,insert:i,replace:a}}function r(n){const i=n;return i&&Me.string(i.newText)&&ir.is(i.insert)&&ir.is(i.replace)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(ID||(ID={})),(RD=MD||(MD={})).asIs=1,RD.adjustIndentation=2,function(e){function t(r){const n=r;return n&&(Me.string(n.detail)||n.detail===void 0)&&(Me.string(n.description)||n.description===void 0)}l(t,"is"),e.is=t}(DD||(DD={})),function(e){function t(r){return{label:r}}l(t,"create"),e.create=t}(OD||(OD={})),function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}l(t,"create"),e.create=t}(PD||(PD={})),function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}function r(n){const i=n;return Me.string(i)||Me.objectLiteral(i)&&Me.string(i.language)&&Me.string(i.value)}l(t,"fromPlainText"),e.fromPlainText=t,l(r,"is"),e.is=r}(Wv||(Wv={})),function(e){function t(r){let n=r;return!!n&&Me.objectLiteral(n)&&(Z0.is(n.contents)||Wv.is(n.contents)||Me.typedArray(n.contents,Wv.is))&&(r.range===void 0||ir.is(r.range))}l(t,"is"),e.is=t}(BD||(BD={})),function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}l(t,"create"),e.create=t}($D||($D={})),function(e){function t(r,n,...i){let a={label:r};return Me.defined(n)&&(a.documentation=n),Me.defined(i)?a.parameters=i:a.parameters=[],a}l(t,"create"),e.create=t}(FD||(FD={})),(Pk=zD||(zD={})).Text=1,Pk.Read=2,Pk.Write=3,function(e){function t(r,n){let i={range:r};return Me.number(n)&&(i.kind=n),i}l(t,"create"),e.create=t}(UD||(UD={})),(Pr=GD||(GD={})).File=1,Pr.Module=2,Pr.Namespace=3,Pr.Package=4,Pr.Class=5,Pr.Method=6,Pr.Property=7,Pr.Field=8,Pr.Constructor=9,Pr.Enum=10,Pr.Interface=11,Pr.Function=12,Pr.Variable=13,Pr.Constant=14,Pr.String=15,Pr.Number=16,Pr.Boolean=17,Pr.Array=18,Pr.Object=19,Pr.Key=20,Pr.Null=21,Pr.EnumMember=22,Pr.Struct=23,Pr.Event=24,Pr.Operator=25,Pr.TypeParameter=26,(qD||(qD={})).Deprecated=1,function(e){function t(r,n,i,a,s){let o={name:r,kind:n,location:{uri:a,range:i}};return s&&(o.containerName=s),o}l(t,"create"),e.create=t}(jD||(jD={})),function(e){function t(r,n,i,a){return a!==void 0?{name:r,kind:n,location:{uri:i,range:a}}:{name:r,kind:n,location:{uri:i}}}l(t,"create"),e.create=t}(YD||(YD={})),function(e){function t(n,i,a,s,o,u){let h={name:n,detail:i,kind:a,range:s,selectionRange:o};return u!==void 0&&(h.children=u),h}function r(n){let i=n;return i&&Me.string(i.name)&&Me.number(i.kind)&&ir.is(i.range)&&ir.is(i.selectionRange)&&(i.detail===void 0||Me.string(i.detail))&&(i.deprecated===void 0||Me.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(WD||(WD={})),(xo=HD||(HD={})).Empty="",xo.QuickFix="quickfix",xo.Refactor="refactor",xo.RefactorExtract="refactor.extract",xo.RefactorInline="refactor.inline",xo.RefactorRewrite="refactor.rewrite",xo.Source="source",xo.SourceOrganizeImports="source.organizeImports",xo.SourceFixAll="source.fixAll",(VD=Hv||(Hv={})).Invoked=1,VD.Automatic=2,function(e){function t(n,i,a){let s={diagnostics:n};return i!=null&&(s.only=i),a!=null&&(s.triggerKind=a),s}function r(n){let i=n;return Me.defined(i)&&Me.typedArray(i.diagnostics,Yv.is)&&(i.only===void 0||Me.typedArray(i.only,Me.string))&&(i.triggerKind===void 0||i.triggerKind===Hv.Invoked||i.triggerKind===Hv.Automatic)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(XD||(XD={})),function(e){function t(n,i,a){let s={title:n},o=!0;return typeof i=="string"?(o=!1,s.kind=i):Ah.is(i)?s.command=i:s.edit=i,o&&a!==void 0&&(s.kind=a),s}function r(n){let i=n;return i&&Me.string(i.title)&&(i.diagnostics===void 0||Me.typedArray(i.diagnostics,Yv.is))&&(i.kind===void 0||Me.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Ah.is(i.command))&&(i.isPreferred===void 0||Me.boolean(i.isPreferred))&&(i.edit===void 0||Rk.is(i.edit))}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(KD||(KD={})),function(e){function t(n,i){let a={range:n};return Me.defined(i)&&(a.data=i),a}function r(n){let i=n;return Me.defined(i)&&ir.is(i.range)&&(Me.undefined(i.command)||Ah.is(i.command))}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(ZD||(ZD={})),function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}function r(n){let i=n;return Me.defined(i)&&Me.uinteger(i.tabSize)&&Me.boolean(i.insertSpaces)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(QD||(QD={})),function(e){function t(n,i,a){return{range:n,target:i,data:a}}function r(n){let i=n;return Me.defined(i)&&ir.is(i.range)&&(Me.undefined(i.target)||Me.string(i.target))}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(JD||(JD={})),function(e){function t(n,i){return{range:n,parent:i}}function r(n){let i=n;return Me.objectLiteral(i)&&ir.is(i.range)&&(i.parent===void 0||e.is(i.parent))}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(eO||(eO={})),(Jr=tO||(tO={})).namespace="namespace",Jr.type="type",Jr.class="class",Jr.enum="enum",Jr.interface="interface",Jr.struct="struct",Jr.typeParameter="typeParameter",Jr.parameter="parameter",Jr.variable="variable",Jr.property="property",Jr.enumMember="enumMember",Jr.event="event",Jr.function="function",Jr.method="method",Jr.macro="macro",Jr.keyword="keyword",Jr.modifier="modifier",Jr.comment="comment",Jr.string="string",Jr.number="number",Jr.regexp="regexp",Jr.operator="operator",Jr.decorator="decorator",(qs=rO||(rO={})).declaration="declaration",qs.definition="definition",qs.readonly="readonly",qs.static="static",qs.deprecated="deprecated",qs.abstract="abstract",qs.async="async",qs.modification="modification",qs.documentation="documentation",qs.defaultLibrary="defaultLibrary",function(e){function t(r){const n=r;return Me.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}l(t,"is"),e.is=t}(nO||(nO={})),function(e){function t(n,i){return{range:n,text:i}}function r(n){const i=n;return i!=null&&ir.is(i.range)&&Me.string(i.text)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(iO||(iO={})),function(e){function t(n,i,a){return{range:n,variableName:i,caseSensitiveLookup:a}}function r(n){const i=n;return i!=null&&ir.is(i.range)&&Me.boolean(i.caseSensitiveLookup)&&(Me.string(i.variableName)||i.variableName===void 0)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(aO||(aO={})),function(e){function t(n,i){return{range:n,expression:i}}function r(n){const i=n;return i!=null&&ir.is(i.range)&&(Me.string(i.expression)||i.expression===void 0)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(sO||(sO={})),function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}function r(n){const i=n;return Me.defined(i)&&ir.is(n.stoppedLocation)}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(oO||(oO={})),function(e){function t(r){return r===1||r===2}e.Type=1,e.Parameter=2,l(t,"is"),e.is=t}(Bk||(Bk={})),function(e){function t(n){return{value:n}}function r(n){const i=n;return Me.objectLiteral(i)&&(i.tooltip===void 0||Me.string(i.tooltip)||Z0.is(i.tooltip))&&(i.location===void 0||qv.is(i.location))&&(i.command===void 0||Ah.is(i.command))}l(t,"create"),e.create=t,l(r,"is"),e.is=r}($k||($k={})),function(e){function t(n,i,a){const s={position:n,label:i};return a!==void 0&&(s.kind=a),s}function r(n){const i=n;return Me.objectLiteral(i)&&xr.is(i.position)&&(Me.string(i.label)||Me.typedArray(i.label,$k.is))&&(i.kind===void 0||Bk.is(i.kind))&&i.textEdits===void 0||Me.typedArray(i.textEdits,Lh.is)&&(i.tooltip===void 0||Me.string(i.tooltip)||Z0.is(i.tooltip))&&(i.paddingLeft===void 0||Me.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Me.boolean(i.paddingRight))}l(t,"create"),e.create=t,l(r,"is"),e.is=r}(lO||(lO={})),function(e){function t(r){return{kind:"snippet",value:r}}l(t,"createSnippet"),e.createSnippet=t}(cO||(cO={})),function(e){function t(r,n,i,a){return{insertText:r,filterText:n,range:i,command:a}}l(t,"create"),e.create=t}(uO||(uO={})),function(e){function t(r){return{items:r}}l(t,"create"),e.create=t}(hO||(hO={})),(pO=dO||(dO={})).Invoked=0,pO.Automatic=1,function(e){function t(r,n){return{range:r,text:n}}l(t,"create"),e.create=t}(fO||(fO={})),function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}l(t,"create"),e.create=t}(gO||(gO={})),function(e){function t(r){const n=r;return Me.objectLiteral(n)&&_k.is(n.uri)&&Me.string(n.name)}l(t,"is"),e.is=t}(mO||(mO={})),function(e){function t(a,s,o,u){return new O4e(a,s,o,u)}function r(a){let s=a;return!!(Me.defined(s)&&Me.string(s.uri)&&(Me.undefined(s.languageId)||Me.string(s.languageId))&&Me.uinteger(s.lineCount)&&Me.func(s.getText)&&Me.func(s.positionAt)&&Me.func(s.offsetAt))}function n(a,s){let o=a.getText(),u=i(s,(d,p)=>{let f=d.range.start.line-p.range.start.line;return f===0?d.range.start.character-p.range.start.character:f}),h=o.length;for(let d=u.length-1;d>=0;d--){let p=u[d],f=a.offsetAt(p.range.start),g=a.offsetAt(p.range.end);if(!(g<=h))throw new Error("Overlapping edit");o=o.substring(0,f)+p.newText+o.substring(g,o.length),h=f}return o}function i(a,s){if(a.length<=1)return a;const o=a.length/2|0,u=a.slice(0,o),h=a.slice(o);i(u,s),i(h,s);let d=0,p=0,f=0;for(;d<u.length&&p<h.length;){let g=s(u[d],h[p]);a[f++]=g<=0?u[d++]:h[p++]}for(;d<u.length;)a[f++]=u[d++];for(;p<h.length;)a[f++]=h[p++];return a}l(t,"create"),e.create=t,l(r,"is"),e.is=r,l(n,"applyEdits"),e.applyEdits=n,l(i,"mergeSort")}(yO||(yO={}));var Me,Sf,O4e=(Sf=class{constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let a=r.charAt(i);n=a==="\r"||a===`
`,a==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return xr.create(0,t);for(;n<i;){let s=Math.floor((n+i)/2);r[s]>t?i=s:n=s+1}let a=n-1;return xr.create(a,t-r[a])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}},l(Sf,"FullTextDocument"),Sf);(function(e){const t=Object.prototype.toString;function r(g){return g!==void 0}function n(g){return g===void 0}function i(g){return g===!0||g===!1}function a(g){return t.call(g)==="[object String]"}function s(g){return t.call(g)==="[object Number]"}function o(g,m,y){return t.call(g)==="[object Number]"&&m<=g&&g<=y}function u(g){return t.call(g)==="[object Number]"&&-2147483648<=g&&g<=2147483647}function h(g){return t.call(g)==="[object Number]"&&0<=g&&g<=2147483647}function d(g){return t.call(g)==="[object Function]"}function p(g){return g!==null&&typeof g=="object"}function f(g,m){return Array.isArray(g)&&g.every(m)}l(r,"defined"),e.defined=r,l(n,"undefined"),e.undefined=n,l(i,"boolean"),e.boolean=i,l(a,"string"),e.string=a,l(s,"number"),e.number=s,l(o,"numberRange"),e.numberRange=o,l(u,"integer"),e.integer=u,l(h,"uinteger"),e.uinteger=h,l(d,"func"),e.func=d,l(p,"objectLiteral"),e.objectLiteral=p,l(f,"typedArray"),e.typedArray=f})(Me||(Me={}));var Af,Kre=(Af=class{constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]}buildRootNode(t){return this.rootNode=new TL(t),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(t){const r=new Q6;return r.grammarSource=t,r.root=this.rootNode,this.current.content.push(r),this.nodeStack.push(r),r}buildLeafNode(t,r){const n=new Z4(t.startOffset,t.image.length,qy(t),t.tokenType,!1);return n.grammarSource=r,n.root=this.rootNode,this.current.content.push(n),n}removeNode(t){const r=t.container;if(r){const n=r.content.indexOf(t);n>=0&&r.content.splice(n,1)}}construct(t){const r=this.current;typeof t.$type=="string"&&(this.current.astNode=t),t.$cstNode=r;const n=this.nodeStack.pop();(n==null?void 0:n.content.length)===0&&this.removeNode(n)}addHiddenTokens(t){for(const r of t){const n=new Z4(r.startOffset,r.image.length,qy(r),r.tokenType,!0);n.root=this.rootNode,this.addHiddenToken(this.rootNode,n)}}addHiddenToken(t,r){const{offset:n,end:i}=r;for(let a=0;a<t.content.length;a++){const s=t.content[a],{offset:o,end:u}=s;if(uo(s)&&n>o&&i<u)return void this.addHiddenToken(s,r);if(i<=o)return void t.content.splice(a,0,r)}t.content.push(r)}},l(Af,"CstNodeBuilder"),Af),Lf,kL=(Lf=class{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var t,r;const n=typeof((t=this._astNode)===null||t===void 0?void 0:t.$type)=="string"?this._astNode:(r=this.container)===null||r===void 0?void 0:r.astNode;if(!n)throw new Error("This node has no associated AST element");return n}set astNode(t){this._astNode=t}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}},l(Lf,"AbstractCstNode"),Lf),Nf,Z4=(Nf=class extends kL{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(t,r,n,i,a=!1){super(),this._hidden=a,this._offset=t,this._tokenType=i,this._length=r,this._range=n}},l(Nf,"LeafCstNodeImpl"),Nf),If,Q6=(If=class extends kL{constructor(){super(...arguments),this.content=new P4e(this)}get children(){return this.content}get offset(){var t,r;return(r=(t=this.firstNonHiddenNode)===null||t===void 0?void 0:t.offset)!==null&&r!==void 0?r:0}get length(){return this.end-this.offset}get end(){var t,r;return(r=(t=this.lastNonHiddenNode)===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:0}get range(){const t=this.firstNonHiddenNode,r=this.lastNonHiddenNode;if(t&&r){if(this._rangeCache===void 0){const{range:n}=t,{range:i}=r;this._rangeCache={start:n.start,end:i.end.line<n.start.line?n.start:i.end}}return this._rangeCache}return{start:xr.create(0,0),end:xr.create(0,0)}}get firstNonHiddenNode(){for(const t of this.content)if(!t.hidden)return t;return this.content[0]}get lastNonHiddenNode(){for(let t=this.content.length-1;t>=0;t--){const r=this.content[t];if(!r.hidden)return r}return this.content[this.content.length-1]}},l(If,"CompositeCstNodeImpl"),If),_u,P4e=(_u=class extends Array{constructor(t){super(),this.parent=t,Object.setPrototypeOf(this,_u.prototype)}push(...t){return this.addParents(t),super.push(...t)}unshift(...t){return this.addParents(t),super.unshift(...t)}splice(t,r,...n){return this.addParents(n),super.splice(t,r,...n)}addParents(t){for(const r of t)r.container=this.parent}},l(_u,"CstNodeContainer"),_u),Mf,TL=(Mf=class extends Q6{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(t){super(),this._text="",this._text=t??""}},l(Mf,"RootCstNodeImpl"),Mf),Q4=Symbol("Datatype");function rb(e){return e.$type===Q4}l(rb,"isDataTypeNode");var Zre=l(e=>e.endsWith("")?e:e+"","withRuleSuffix"),Rf,_L=(Rf=class{constructor(t){this._unorderedGroups=new Map,this.lexer=t.parser.Lexer;const r=this.lexer.definition;this.wrapper=new $4e(r,Object.assign(Object.assign({},t.parser.ParserConfig),{errorMessageProvider:t.parser.ParserErrorMessageProvider}))}alternatives(t,r){this.wrapper.wrapOr(t,r)}optional(t,r){this.wrapper.wrapOption(t,r)}many(t,r){this.wrapper.wrapMany(t,r)}atLeastOne(t,r){this.wrapper.wrapAtLeastOne(t,r)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}},l(Rf,"AbstractLangiumParser"),Rf),Df,Qre=(Df=class extends _L{get current(){return this.stack[this.stack.length-1]}constructor(t){super(t),this.nodeBuilder=new Kre,this.stack=[],this.assignmentMap=new Map,this.linker=t.references.Linker,this.converter=t.parser.ValueConverter,this.astReflection=t.shared.AstReflection}rule(t,r){const n=t.fragment?void 0:W2(t)?Q4:A0(t),i=this.wrapper.DEFINE_RULE(Zre(t.name),this.startImplementation(n,r).bind(this));return t.entry&&(this.mainRule=i),i}parse(t){this.nodeBuilder.buildRootNode(t);const r=this.lexer.tokenize(t);this.wrapper.input=r.tokens;const n=this.mainRule.call(this.wrapper,{});return this.nodeBuilder.addHiddenTokens(r.hidden),this.unorderedGroups.clear(),{value:n,lexerErrors:r.errors,parserErrors:this.wrapper.errors}}startImplementation(t,r){return n=>{if(!this.isRecording()){const a={$type:t};this.stack.push(a),t===Q4&&(a.value="")}let i;try{i=r(n)}catch{i=void 0}return this.isRecording()||i!==void 0||(i=this.construct()),i}}consume(t,r,n){const i=this.wrapper.wrapConsume(t,r);if(!this.isRecording()&&this.isValidToken(i)){const a=this.nodeBuilder.buildLeafNode(i,n),{assignment:s,isCrossRef:o}=this.getAssignment(n),u=this.current;if(s){const h=Zo(n)?i.image:this.converter.convert(i.image,a);this.assign(s.operator,s.feature,h,a,o)}else if(rb(u)){let h=i.image;Zo(n)||(h=this.converter.convert(h,a).toString()),u.value+=h}}}isValidToken(t){return!t.isInsertedInRecovery&&!isNaN(t.startOffset)&&typeof t.endOffset=="number"&&!isNaN(t.endOffset)}subrule(t,r,n,i){let a;this.isRecording()||(a=this.nodeBuilder.buildCompositeNode(n));const s=this.wrapper.wrapSubrule(t,r,i);!this.isRecording()&&a&&a.length>0&&this.performSubruleAssignment(s,n,a)}performSubruleAssignment(t,r,n){const{assignment:i,isCrossRef:a}=this.getAssignment(r);if(i)this.assign(i.operator,i.feature,t,n,a);else if(!i){const s=this.current;if(rb(s))s.value+=t.toString();else if(typeof t=="object"&&t){const o=t.$type,u=this.assignWithoutOverride(t,s);o&&(u.$type=o);const h=u;this.stack.pop(),this.stack.push(h)}}}action(t,r){if(!this.isRecording()){let n=this.current;if(!n.$cstNode&&r.feature&&r.operator){n=this.construct(!1);const a=n.$cstNode.feature;this.nodeBuilder.buildCompositeNode(a)}const i={$type:t};this.stack.pop(),this.stack.push(i),r.feature&&r.operator&&this.assign(r.operator,r.feature,n,n.$cstNode,!1)}}construct(t=!0){if(this.isRecording())return;const r=this.current;return O4(r),this.nodeBuilder.construct(r),t&&this.stack.pop(),rb(r)?this.converter.convert(r.value,r.$cstNode):(IE(this.astReflection,r),r)}getAssignment(t){if(!this.assignmentMap.has(t)){const r=o0(t,Ko);this.assignmentMap.set(t,{assignment:r,isCrossRef:!!r&&Y2(r.terminal)})}return this.assignmentMap.get(t)}assign(t,r,n,i,a){const s=this.current;let o;switch(o=a&&typeof n=="string"?this.linker.buildReference(s,r,i,n):n,t){case"=":s[r]=o;break;case"?=":s[r]=!0;break;case"+=":Array.isArray(s[r])||(s[r]=[]),s[r].push(o)}}assignWithoutOverride(t,r){for(const[n,i]of Object.entries(r)){const a=t[n];a===void 0?t[n]=i:Array.isArray(a)&&Array.isArray(i)&&(i.push(...a),t[n]=i)}return t}get definitionErrors(){return this.wrapper.definitionErrors}},l(Df,"LangiumParser"),Df),Of,Jre=(Of=class{buildMismatchTokenMessage(t){return ad.buildMismatchTokenMessage(t)}buildNotAllInputParsedMessage(t){return ad.buildNotAllInputParsedMessage(t)}buildNoViableAltMessage(t){return ad.buildNoViableAltMessage(t)}buildEarlyExitMessage(t){return ad.buildEarlyExitMessage(t)}},l(Of,"AbstractParserErrorMessageProvider"),Of),Pf,EL=(Pf=class extends Jre{buildMismatchTokenMessage({expected:t,actual:r}){return`Expecting ${t.LABEL?"`"+t.LABEL+"`":t.name.endsWith(":KW")?`keyword '${t.name.substring(0,t.name.length-3)}'`:`token of type '${t.name}'`} but found \`${r.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:t}){return`Expecting end of file but found \`${t.image}\`.`}},l(Pf,"LangiumParserErrorMessageProvider"),Pf),Bf,ene=(Bf=class extends _L{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(t){this.resetState();const r=this.lexer.tokenize(t);return this.tokens=r.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(t,r){const n=this.wrapper.DEFINE_RULE(Zre(t.name),this.startImplementation(r).bind(this));return t.entry&&(this.mainRule=n),n}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(t){return r=>{const n=this.keepStackSize();try{t(r)}finally{this.resetStackSize(n)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const t=this.elementStack.length;return this.stackSize=t,t}resetStackSize(t){this.removeUnexpectedElements(),this.stackSize=t}consume(t,r,n){this.wrapper.wrapConsume(t,r),this.isRecording()||(this.lastElementStack=[...this.elementStack,n],this.nextTokenIndex=this.currIdx+1)}subrule(t,r,n,i){this.before(n),this.wrapper.wrapSubrule(t,r,i),this.after(n)}before(t){this.isRecording()||this.elementStack.push(t)}after(t){if(!this.isRecording()){const r=this.elementStack.lastIndexOf(t);r>=0&&this.elementStack.splice(r)}}get currIdx(){return this.wrapper.currIdx}},l(Bf,"LangiumCompletionParser"),Bf),B4e={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new EL},$f,$4e=($f=class extends R4e{constructor(t,r){const n=r&&"maxLookahead"in r;super(t,Object.assign(Object.assign(Object.assign({},B4e),{lookaheadStrategy:n?new hL({maxLookahead:r.maxLookahead}):new D4e}),r))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(t,r){return this.RULE(t,r)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(t,r){return this.consume(t,r)}wrapSubrule(t,r,n){return this.subrule(t,r,{ARGS:[n]})}wrapOr(t,r){this.or(t,r)}wrapOption(t,r){this.option(t,r)}wrapMany(t,r){this.many(t,r)}wrapAtLeastOne(t,r){this.atLeastOne(t,r)}},l($f,"ChevrotainWrapper"),$f);function CL(e,t,r){return tne({parser:t,tokens:r,rules:new Map,ruleNames:new Map},e),t}function tne(e,t){const r=B6(t,!1),n=bn(t.rules).filter(ca).filter(i=>r.has(i));for(const i of n){const a=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});a.rules.set(i.name,e.parser.rule(i,sc(a,i.definition)))}}function sc(e,t,r=!1){let n;if(Zo(t))n=lne(e,t);else if(nc(t))n=rne(e,t);else if(Ko(t))n=sc(e,t.terminal);else if(Y2(t))n=SL(e,t);else if(Qo(t))n=nne(e,t);else if(R6(t))n=ane(e,t);else if(O6(t))n=sne(e,t);else if(xh(t))n=one(e,t);else{if(!o9(t))throw new A6(t.$cstNode,`Unexpected element type: ${t.$type}`);{const i=e.consume++;n=l(()=>e.parser.consume(i,ac,t),"method")}}return AL(e,r?void 0:Zy(t),n,t.cardinality)}function rne(e,t){const r=A0(t);return()=>e.parser.action(r,t)}function nne(e,t){const r=t.rule.ref;if(ca(r)){const n=e.subrule++,i=t.arguments.length>0?ine(r,t.arguments):()=>({});return a=>e.parser.subrule(n,LL(e,r),t,i(a))}if(cl(r)){const n=e.consume++,i=J4(e,r.name);return()=>e.parser.consume(n,i,t)}if(!r)throw new A6(t.$cstNode,`Undefined rule type: ${t.$type}`);vh()}function ine(e,t){const r=t.map(n=>Xs(n.value));return n=>{const i={};for(let a=0;a<r.length;a++){const s=e.parameters[a],o=r[a];i[s.name]=o(n)}return i}}function Xs(e){if(O1(e)){const t=Xs(e.left),r=Xs(e.right);return n=>t(n)||r(n)}if(R1(e)){const t=Xs(e.left),r=Xs(e.right);return n=>t(n)&&r(n)}if(z1(e)){const t=Xs(e.value);return r=>!t(r)}if(j1(e)){const t=e.parameter.ref.name;return r=>r!==void 0&&r[t]===!0}if(I1(e)){const t=!!e.true;return()=>t}vh()}function ane(e,t){if(t.elements.length===1)return sc(e,t.elements[0]);{const r=[];for(const i of t.elements){const a={ALT:sc(e,i,!0)},s=Zy(i);s&&(a.GATE=Xs(s)),r.push(a)}const n=e.or++;return i=>e.parser.alternatives(n,r.map(a=>{const s={ALT:l(()=>a.ALT(i),"ALT")},o=a.GATE;return o&&(s.GATE=()=>o(i)),s}))}}function sne(e,t){if(t.elements.length===1)return sc(e,t.elements[0]);const r=[];for(const o of t.elements){const u={ALT:sc(e,o,!0)},h=Zy(o);h&&(u.GATE=Xs(h)),r.push(u)}const n=e.or++,i=l((o,u)=>`uGroup_${o}_${u.getRuleStack().join("-")}`,"idFunc"),a=l(o=>e.parser.alternatives(n,r.map((u,h)=>{const d={ALT:l(()=>!0,"ALT")},p=e.parser;d.ALT=()=>{if(u.ALT(o),!p.isRecording()){const g=i(n,p);p.unorderedGroups.get(g)||p.unorderedGroups.set(g,[]);const m=p.unorderedGroups.get(g);(m==null?void 0:m[h])===void 0&&(m[h]=!0)}};const f=u.GATE;return d.GATE=f?()=>f(o):()=>{const g=p.unorderedGroups.get(i(n,p));return!(g!=null&&g[h])},d})),"alternatives"),s=AL(e,Zy(t),a,"*");return o=>{s(o),e.parser.isRecording()||e.parser.unorderedGroups.delete(i(n,e.parser))}}function one(e,t){const r=t.elements.map(n=>sc(e,n));return n=>r.forEach(i=>i(n))}function Zy(e){if(xh(e))return e.guardCondition}function SL(e,t,r=t.terminal){if(r){if(Qo(r)&&ca(r.rule.ref)){const n=e.subrule++;return i=>e.parser.subrule(n,LL(e,r.rule.ref),t,i)}if(Qo(r)&&cl(r.rule.ref)){const n=e.consume++,i=J4(e,r.rule.ref.name);return()=>e.parser.consume(n,i,t)}if(Zo(r)){const n=e.consume++,i=J4(e,r.value);return()=>e.parser.consume(n,i,t)}throw new Error("Could not build cross reference parser")}{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);const n=U6(t.type.ref),i=n==null?void 0:n.terminal;if(!i)throw new Error("Could not find name assignment for type: "+A0(t.type.ref));return SL(e,t,i)}}function lne(e,t){const r=e.consume++,n=e.tokens[t.value];if(!n)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(r,n,t)}function AL(e,t,r,n){const i=t&&Xs(t);if(!n){if(i){const a=e.or++;return s=>e.parser.alternatives(a,[{ALT:l(()=>r(s),"ALT"),GATE:l(()=>i(s),"GATE")},{ALT:jE(),GATE:l(()=>!i(s),"GATE")}])}return r}if(n==="*"){const a=e.many++;return s=>e.parser.many(a,{DEF:l(()=>r(s),"DEF"),GATE:i?()=>i(s):void 0})}if(n==="+"){const a=e.many++;if(i){const s=e.or++;return o=>e.parser.alternatives(s,[{ALT:l(()=>e.parser.atLeastOne(a,{DEF:l(()=>r(o),"DEF")}),"ALT"),GATE:l(()=>i(o),"GATE")},{ALT:jE(),GATE:l(()=>!i(o),"GATE")}])}return s=>e.parser.atLeastOne(a,{DEF:l(()=>r(s),"DEF")})}if(n==="?"){const a=e.optional++;return s=>e.parser.optional(a,{DEF:l(()=>r(s),"DEF"),GATE:i?()=>i(s):void 0})}vh()}function LL(e,t){const r=cne(e,t),n=e.rules.get(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function cne(e,t){if(ca(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let r=t,n=r.$container,i=t.$type;for(;!ca(n);)(xh(n)||R6(n)||O6(n))&&(i=n.elements.indexOf(r).toString()+":"+i),r=n,n=n.$container;return i=n.name+":"+i,e.ruleNames.set(t,i),i}}function J4(e,t){const r=e.tokens[t];if(!r)throw new Error(`Token "${t}" not found."`);return r}function NL(e){const t=e.Grammar,r=e.parser.Lexer,n=new ene(e);return CL(t,n,r.definition),n.finalize(),n}function IL(e){const t=ML(e);return t.finalize(),t}function ML(e){const t=e.Grammar,r=e.parser.Lexer;return CL(t,new Qre(e),r.definition)}l(CL,"createParser"),l(tne,"buildRules"),l(sc,"buildElement"),l(rne,"buildAction"),l(nne,"buildRuleCall"),l(ine,"buildRuleCallPredicate"),l(Xs,"buildPredicate"),l(ane,"buildAlternatives"),l(sne,"buildUnorderedGroup"),l(one,"buildGroup"),l(Zy,"getGuardCondition"),l(SL,"buildCrossReference"),l(lne,"buildKeyword"),l(AL,"wrap"),l(LL,"getRule"),l(cne,"getRuleName"),l(J4,"getToken"),l(NL,"createCompletionParser"),l(IL,"createLangiumParser"),l(ML,"prepareLangiumParser");var Ws,Ff,RL=(Ff=class{buildTokens(t,r){const n=bn(B6(t,!1)),i=this.buildTerminalTokens(n),a=this.buildKeywordTokens(n,i,r);return i.forEach(s=>{const o=s.PATTERN;typeof o=="object"&&o&&"test"in o&&z4(o)?a.unshift(s):a.push(s)}),a}buildTerminalTokens(t){return t.filter(cl).filter(r=>!r.fragment).map(r=>this.buildTerminalToken(r)).toArray()}buildTerminalToken(t){const r=H2(t),n=this.requiresCustomPattern(r)?this.regexPatternFunction(r):r,i={name:t.name,PATTERN:n,LINE_BREAKS:!0};return t.hidden&&(i.GROUP=z4(r)?ia.SKIPPED:"hidden"),i}requiresCustomPattern(t){return!!t.flags.includes("u")||!(!t.source.includes("?<=")&&!t.source.includes("?<!"))}regexPatternFunction(t){const r=new RegExp(t,t.flags+"y");return(n,i)=>(r.lastIndex=i,r.exec(n))}buildKeywordTokens(t,r,n){return t.filter(ca).flatMap(i=>ic(i).filter(Zo)).distinct(i=>i.value).toArray().sort((i,a)=>a.value.length-i.value.length).map(i=>this.buildKeywordToken(i,r,!!(n!=null&&n.caseInsensitive)))}buildKeywordToken(t,r,n){return{name:t.value,PATTERN:this.buildKeywordPattern(t,n),LONGER_ALT:this.findLongerAlt(t,r)}}buildKeywordPattern(t,r){return r?new RegExp(N9(t.value)):t.value}findLongerAlt(t,r){return r.reduce((n,i)=>{const a=i==null?void 0:i.PATTERN;return a!=null&&a.source&&I9("^"+a.source+"$",t.value)&&n.push(i),n},[])}},l(Ff,"DefaultTokenBuilder"),Ff),zf,DL=(zf=class{convert(t,r){let n=r.grammarSource;if(Y2(n)&&(n=P9(n)),Qo(n)){const i=n.rule.ref;if(!i)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(i,t,r)}return t}runConverter(t,r,n){var i;switch(t.name.toUpperCase()){case"INT":return Ws.convertInt(r);case"STRING":return Ws.convertString(r);case"ID":return Ws.convertID(r)}switch((i=Y9(t))===null||i===void 0?void 0:i.toLowerCase()){case"number":return Ws.convertNumber(r);case"boolean":return Ws.convertBoolean(r);case"bigint":return Ws.convertBigint(r);case"date":return Ws.convertDate(r);default:return r}}},l(zf,"DefaultValueConverter"),zf);(function(e){function t(h){let d="";for(let p=1;p<h.length-1;p++){const f=h.charAt(p);f==="\\"?d+=r(h.charAt(++p)):d+=f}return d}function r(h){switch(h){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return h}}function n(h){return h.charAt(0)==="^"?h.substring(1):h}function i(h){return parseInt(h)}function a(h){return BigInt(h)}function s(h){return new Date(h)}function o(h){return Number(h)}function u(h){return h.toLowerCase()==="true"}l(t,"convertString"),e.convertString=t,l(r,"convertEscapeCharacter"),l(n,"convertID"),e.convertID=n,l(i,"convertInt"),e.convertInt=i,l(a,"convertBigint"),e.convertBigint=a,l(s,"convertDate"),e.convertDate=s,l(o,"convertNumber"),e.convertNumber=o,l(u,"convertBoolean"),e.convertBoolean=u})(Ws||(Ws={}));var dn={};function J6(){return new Promise(e=>{typeof setImmediate>"u"?setTimeout(e,0):setImmediate(e)})}O5(dn,Ei(Zbe())),l(J6,"delayNextTick");var XE=0,une=10;function OL(){return XE=Date.now(),new dn.CancellationTokenSource}function PL(e){une=e}l(OL,"startCancelableOperation"),l(PL,"setInterruptionPeriod");var oc=Symbol("OperationCancelled");function D0(e){return e===oc}async function aa(e){if(e===dn.CancellationToken.None)return;const t=Date.now();if(t-XE>=une&&(XE=t,await J6()),e.isCancellationRequested)throw oc}l(D0,"isOperationCancelled"),l(aa,"interruptAndCheck");var e5,hne,Uf,tl=(Uf=class{constructor(){this.promise=new Promise((t,r)=>{this.resolve=n=>(t(n),this),this.reject=n=>(r(n),this)})}},l(Uf,"Deferred"),Uf),Hl,xO=(Hl=class{constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){const r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(const n of t)if(Hl.isIncremental(n)){const i=$L(n.range),a=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,a)+n.text+this._content.substring(s,this._content.length);const o=Math.max(i.start.line,0),u=Math.max(i.end.line,0);let h=this._lineOffsets;const d=KE(n.text,!1,a);if(u-o===d.length)for(let f=0,g=d.length;f<g;f++)h[f+o+1]=d[f];else d.length<1e4?h.splice(o+1,u-o,...d):this._lineOffsets=h=h.slice(0,o+1).concat(d,h.slice(u+1));const p=n.text.length-(s-a);if(p!==0)for(let f=o+1+d.length,g=h.length;f<g;f++)h[f]=h[f]+p}else{if(!Hl.isFull(n))throw new Error("Unknown change event received");this._content=n.text,this._lineOffsets=void 0}this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=KE(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);const r=this.getLineOffsets();let n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){const s=Math.floor((n+i)/2);r[s]>t?i=s:n=s+1}const a=n-1;return{line:a,character:(t=this.ensureBeforeEOL(t,r[a]))-r[a]}}offsetAt(t){const r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;const n=r[t.line];if(t.character<=0)return n;const i=t.line+1<r.length?r[t.line+1]:this._content.length,a=Math.min(n+t.character,i);return this.ensureBeforeEOL(a,n)}ensureBeforeEOL(t,r){for(;t>r&&BL(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){const r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){const r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},l(Hl,"FullTextDocument"),Hl);function t5(e,t){if(e.length<=1)return e;const r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);t5(n,t),t5(i,t);let a=0,s=0,o=0;for(;a<n.length&&s<i.length;){const u=t(n[a],i[s]);e[o++]=u<=0?n[a++]:i[s++]}for(;a<n.length;)e[o++]=n[a++];for(;s<i.length;)e[o++]=i[s++];return e}function KE(e,t,r=0){const n=t?[r]:[];for(let i=0;i<e.length;i++){const a=e.charCodeAt(i);BL(a)&&(a===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function BL(e){return e===13||e===10}function $L(e){const t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function bO(e){const t=$L(e.range);return t!==e.range?{newText:e.newText,range:t}:e}(function(e){function t(i,a,s,o){return new xO(i,a,s,o)}function r(i,a,s){if(i instanceof xO)return i.update(a,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}function n(i,a){const s=i.getText(),o=t5(a.map(bO),(d,p)=>{const f=d.range.start.line-p.range.start.line;return f===0?d.range.start.character-p.range.start.character:f});let u=0;const h=[];for(const d of o){const p=i.offsetAt(d.range.start);if(p<u)throw new Error("Overlapping edit");p>u&&h.push(s.substring(u,p)),d.newText.length&&h.push(d.newText),u=i.offsetAt(d.range.end)}return h.push(s.substr(u)),h.join("")}l(t,"create"),e.create=t,l(r,"update"),e.update=r,l(n,"applyEdits"),e.applyEdits=n})(e5||(e5={})),l(t5,"mergeSort"),l(KE,"computeLineOffsets"),l(BL,"isEOL"),l($L,"getWellformedRange"),l(bO,"getWellformedEdit"),(()=>{var e={470:i=>{function a(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function s(u,h){for(var d,p="",f=0,g=-1,m=0,y=0;y<=u.length;++y){if(y<u.length)d=u.charCodeAt(y);else{if(d===47)break;d=47}if(d===47){if(!(g===y-1||m===1))if(g!==y-1&&m===2){if(p.length<2||f!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var v=p.lastIndexOf("/");if(v!==p.length-1){v===-1?(p="",f=0):f=(p=p.slice(0,v)).length-1-p.lastIndexOf("/"),g=y,m=0;continue}}else if(p.length===2||p.length===1){p="",f=0,g=y,m=0;continue}}h&&(p.length>0?p+="/..":p="..",f=2)}else p.length>0?p+="/"+u.slice(g+1,y):p=u.slice(g+1,y),f=y-g-1;g=y,m=0}else d===46&&m!==-1?++m:m=-1}return p}l(a,"e"),l(s,"r");var o={resolve:l(function(){for(var u,h="",d=!1,p=arguments.length-1;p>=-1&&!d;p--){var f;p>=0?f=arguments[p]:(u===void 0&&(u=process.cwd()),f=u),a(f),f.length!==0&&(h=f+"/"+h,d=f.charCodeAt(0)===47)}return h=s(h,!d),d?h.length>0?"/"+h:"/":h.length>0?h:"."},"resolve"),normalize:l(function(u){if(a(u),u.length===0)return".";var h=u.charCodeAt(0)===47,d=u.charCodeAt(u.length-1)===47;return(u=s(u,!h)).length!==0||h||(u="."),u.length>0&&d&&(u+="/"),h?"/"+u:u},"normalize"),isAbsolute:l(function(u){return a(u),u.length>0&&u.charCodeAt(0)===47},"isAbsolute"),join:l(function(){if(arguments.length===0)return".";for(var u,h=0;h<arguments.length;++h){var d=arguments[h];a(d),d.length>0&&(u===void 0?u=d:u+="/"+d)}return u===void 0?".":o.normalize(u)},"join"),relative:l(function(u,h){if(a(u),a(h),u===h||(u=o.resolve(u))===(h=o.resolve(h)))return"";for(var d=1;d<u.length&&u.charCodeAt(d)===47;++d);for(var p=u.length,f=p-d,g=1;g<h.length&&h.charCodeAt(g)===47;++g);for(var m=h.length-g,y=f<m?f:m,v=-1,x=0;x<=y;++x){if(x===y){if(m>y){if(h.charCodeAt(g+x)===47)return h.slice(g+x+1);if(x===0)return h.slice(g+x)}else f>y&&(u.charCodeAt(d+x)===47?v=x:x===0&&(v=0));break}var b=u.charCodeAt(d+x);if(b!==h.charCodeAt(g+x))break;b===47&&(v=x)}var w="";for(x=d+v+1;x<=p;++x)x!==p&&u.charCodeAt(x)!==47||(w.length===0?w+="..":w+="/..");return w.length>0?w+h.slice(g+v):(g+=v,h.charCodeAt(g)===47&&++g,h.slice(g))},"relative"),_makeLong:l(function(u){return u},"_makeLong"),dirname:l(function(u){if(a(u),u.length===0)return".";for(var h=u.charCodeAt(0),d=h===47,p=-1,f=!0,g=u.length-1;g>=1;--g)if((h=u.charCodeAt(g))===47){if(!f){p=g;break}}else f=!1;return p===-1?d?"/":".":d&&p===1?"//":u.slice(0,p)},"dirname"),basename:l(function(u,h){if(h!==void 0&&typeof h!="string")throw new TypeError('"ext" argument must be a string');a(u);var d,p=0,f=-1,g=!0;if(h!==void 0&&h.length>0&&h.length<=u.length){if(h.length===u.length&&h===u)return"";var m=h.length-1,y=-1;for(d=u.length-1;d>=0;--d){var v=u.charCodeAt(d);if(v===47){if(!g){p=d+1;break}}else y===-1&&(g=!1,y=d+1),m>=0&&(v===h.charCodeAt(m)?--m==-1&&(f=d):(m=-1,f=y))}return p===f?f=y:f===-1&&(f=u.length),u.slice(p,f)}for(d=u.length-1;d>=0;--d)if(u.charCodeAt(d)===47){if(!g){p=d+1;break}}else f===-1&&(g=!1,f=d+1);return f===-1?"":u.slice(p,f)},"basename"),extname:l(function(u){a(u);for(var h=-1,d=0,p=-1,f=!0,g=0,m=u.length-1;m>=0;--m){var y=u.charCodeAt(m);if(y!==47)p===-1&&(f=!1,p=m+1),y===46?h===-1?h=m:g!==1&&(g=1):h!==-1&&(g=-1);else if(!f){d=m+1;break}}return h===-1||p===-1||g===0||g===1&&h===p-1&&h===d+1?"":u.slice(h,p)},"extname"),format:l(function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return d=(h=u).dir||h.root,p=h.base||(h.name||"")+(h.ext||""),d?d===h.root?d+p:d+"/"+p:p;var h,d,p},"format"),parse:l(function(u){a(u);var h={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return h;var d,p=u.charCodeAt(0),f=p===47;f?(h.root="/",d=1):d=0;for(var g=-1,m=0,y=-1,v=!0,x=u.length-1,b=0;x>=d;--x)if((p=u.charCodeAt(x))!==47)y===-1&&(v=!1,y=x+1),p===46?g===-1?g=x:b!==1&&(b=1):g!==-1&&(b=-1);else if(!v){m=x+1;break}return g===-1||y===-1||b===0||b===1&&g===y-1&&g===m+1?y!==-1&&(h.base=h.name=m===0&&f?u.slice(1,y):u.slice(m,y)):(m===0&&f?(h.name=u.slice(1,g),h.base=u.slice(1,y)):(h.name=u.slice(m,g),h.base=u.slice(m,y)),h.ext=u.slice(g,y)),m>0?h.dir=u.slice(0,m-1):f&&(h.dir="/"),h},"parse"),sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,i.exports=o}},t={};function r(i){var a=t[i];if(a!==void 0)return a.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,r),s.exports}l(r,"r"),r.d=(i,a)=>{for(var s in a)r.o(a,s)&&!r.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:a[s]})},r.o=(i,a)=>Object.prototype.hasOwnProperty.call(i,a),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{let i;r.r(n),r.d(n,{URI:l(()=>f,"URI"),Utils:l(()=>L,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);const a=/^\w[\w\d+.-]*$/,s=/^\//,o=/^\/\//;function u(S,N){if(!S.scheme&&N)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${S.authority}", path: "${S.path}", query: "${S.query}", fragment: "${S.fragment}"}`);if(S.scheme&&!a.test(S.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(S.path){if(S.authority){if(!s.test(S.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(S.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}l(u,"s");const h="",d="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,D=class D{constructor(N,A,M,O,I,P=!1){sr(this,"scheme");sr(this,"authority");sr(this,"path");sr(this,"query");sr(this,"fragment");typeof N=="object"?(this.scheme=N.scheme||h,this.authority=N.authority||h,this.path=N.path||h,this.query=N.query||h,this.fragment=N.fragment||h):(this.scheme=function($,z){return $||z?$:"file"}(N,P),this.authority=A||h,this.path=function($,z){switch($){case"https":case"http":case"file":z?z[0]!==d&&(z=d+z):z=d}return z}(this.scheme,M||h),this.query=O||h,this.fragment=I||h,u(this,P))}static isUri(N){return N instanceof D||!!N&&typeof N.authority=="string"&&typeof N.fragment=="string"&&typeof N.path=="string"&&typeof N.query=="string"&&typeof N.scheme=="string"&&typeof N.fsPath=="string"&&typeof N.with=="function"&&typeof N.toString=="function"}get fsPath(){return b(this,!1)}with(N){if(!N)return this;let{scheme:A,authority:M,path:O,query:I,fragment:P}=N;return A===void 0?A=this.scheme:A===null&&(A=h),M===void 0?M=this.authority:M===null&&(M=h),O===void 0?O=this.path:O===null&&(O=h),I===void 0?I=this.query:I===null&&(I=h),P===void 0?P=this.fragment:P===null&&(P=h),A===this.scheme&&M===this.authority&&O===this.path&&I===this.query&&P===this.fragment?this:new m(A,M,O,I,P)}static parse(N,A=!1){const M=p.exec(N);return M?new m(M[2]||h,R(M[4]||h),R(M[5]||h),R(M[7]||h),R(M[9]||h),A):new m(h,h,h,h,h)}static file(N){let A=h;if(i&&(N=N.replace(/\\/g,d)),N[0]===d&&N[1]===d){const M=N.indexOf(d,2);M===-1?(A=N.substring(2),N=d):(A=N.substring(2,M),N=N.substring(M)||d)}return new m("file",A,N,h,h)}static from(N){const A=new m(N.scheme,N.authority,N.path,N.query,N.fragment);return u(A,!0),A}toString(N=!1){return w(this,N)}toJSON(){return this}static revive(N){if(N){if(N instanceof D)return N;{const A=new m(N);return A._formatted=N.external,A._fsPath=N._sep===g?N.fsPath:null,A}}return N}};l(D,"f");let f=D;const g=i?1:void 0,B=class B extends f{constructor(){super(...arguments);sr(this,"_formatted",null);sr(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath}toString(A=!1){return A?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)}toJSON(){const A={$mid:1};return this._fsPath&&(A.fsPath=this._fsPath,A._sep=g),this._formatted&&(A.external=this._formatted),this.path&&(A.path=this.path),this.scheme&&(A.scheme=this.scheme),this.authority&&(A.authority=this.authority),this.query&&(A.query=this.query),this.fragment&&(A.fragment=this.fragment),A}};l(B,"l");let m=B;const y={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(S,N,A){let M,O=-1;for(let I=0;I<S.length;I++){const P=S.charCodeAt(I);if(P>=97&&P<=122||P>=65&&P<=90||P>=48&&P<=57||P===45||P===46||P===95||P===126||N&&P===47||A&&P===91||A&&P===93||A&&P===58)O!==-1&&(M+=encodeURIComponent(S.substring(O,I)),O=-1),M!==void 0&&(M+=S.charAt(I));else{M===void 0&&(M=S.substr(0,I));const $=y[P];$!==void 0?(O!==-1&&(M+=encodeURIComponent(S.substring(O,I)),O=-1),M+=$):O===-1&&(O=I)}}return O!==-1&&(M+=encodeURIComponent(S.substring(O))),M!==void 0?M:S}function x(S){let N;for(let A=0;A<S.length;A++){const M=S.charCodeAt(A);M===35||M===63?(N===void 0&&(N=S.substr(0,A)),N+=y[M]):N!==void 0&&(N+=S[A])}return N!==void 0?N:S}function b(S,N){let A;return A=S.authority&&S.path.length>1&&S.scheme==="file"?`//${S.authority}${S.path}`:S.path.charCodeAt(0)===47&&(S.path.charCodeAt(1)>=65&&S.path.charCodeAt(1)<=90||S.path.charCodeAt(1)>=97&&S.path.charCodeAt(1)<=122)&&S.path.charCodeAt(2)===58?N?S.path.substr(1):S.path[1].toLowerCase()+S.path.substr(2):S.path,i&&(A=A.replace(/\//g,"\\")),A}function w(S,N){const A=N?x:v;let M="",{scheme:O,authority:I,path:P,query:$,fragment:z}=S;if(O&&(M+=O,M+=":"),(I||O==="file")&&(M+=d,M+=d),I){let G=I.indexOf("@");if(G!==-1){const q=I.substr(0,G);I=I.substr(G+1),G=q.lastIndexOf(":"),G===-1?M+=A(q,!1,!1):(M+=A(q.substr(0,G),!1,!1),M+=":",M+=A(q.substr(G+1),!1,!0)),M+="@"}I=I.toLowerCase(),G=I.lastIndexOf(":"),G===-1?M+=A(I,!1,!0):(M+=A(I.substr(0,G),!1,!0),M+=I.substr(G))}if(P){if(P.length>=3&&P.charCodeAt(0)===47&&P.charCodeAt(2)===58){const G=P.charCodeAt(1);G>=65&&G<=90&&(P=`/${String.fromCharCode(G+32)}:${P.substr(3)}`)}else if(P.length>=2&&P.charCodeAt(1)===58){const G=P.charCodeAt(0);G>=65&&G<=90&&(P=`${String.fromCharCode(G+32)}:${P.substr(2)}`)}M+=A(P,!0,!1)}return $&&(M+="?",M+=A($,!1,!1)),z&&(M+="#",M+=N?z:v(z,!1,!1)),M}function T(S){try{return decodeURIComponent(S)}catch{return S.length>3?S.substr(0,3)+T(S.substr(3)):S}}l(v,"d"),l(x,"p"),l(b,"m"),l(w,"y"),l(T,"v");const k=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function R(S){return S.match(k)?S.replace(k,N=>T(N)):S}l(R,"C");var C=r(470);const E=C.posix||C,_="/";var L;(function(S){S.joinPath=function(N,...A){return N.with({path:E.join(N.path,...A)})},S.resolvePath=function(N,...A){let M=N.path,O=!1;M[0]!==_&&(M=_+M,O=!0);let I=E.resolve(M,...A);return O&&I[0]===_&&!N.authority&&(I=I.substring(1)),N.with({path:I})},S.dirname=function(N){if(N.path.length===0||N.path===_)return N;let A=E.dirname(N.path);return A.length===1&&A.charCodeAt(0)===46&&(A=""),N.with({path:A})},S.basename=function(N){return E.basename(N.path)},S.extname=function(N){return E.extname(N.path)}})(L||(L={}))})(),hne=n})();var ho,Yr,qi,{URI:lc,Utils:Q0}=hne;(function(e){function t(n,i){return(n==null?void 0:n.toString())===(i==null?void 0:i.toString())}function r(n,i){const a=typeof n=="string"?n:n.path,s=typeof i=="string"?i:i.path,o=a.split("/").filter(d=>d.length>0),u=s.split("/").filter(d=>d.length>0);let h=0;for(;h<o.length&&o[h]===u[h];h++);return"../".repeat(o.length-h)+u.slice(h).join("/")}e.basename=Q0.basename,e.dirname=Q0.dirname,e.extname=Q0.extname,e.joinPath=Q0.joinPath,e.resolvePath=Q0.resolvePath,l(t,"equals"),e.equals=t,l(r,"relative"),e.relative=r})(ho||(ho={})),(qi=Yr||(Yr={}))[qi.Changed=0]="Changed",qi[qi.Parsed=1]="Parsed",qi[qi.IndexedContent=2]="IndexedContent",qi[qi.ComputedScopes=3]="ComputedScopes",qi[qi.Linked=4]="Linked",qi[qi.IndexedReferences=5]="IndexedReferences",qi[qi.Validated=6]="Validated";var Gf,dne=(Gf=class{constructor(t){this.serviceRegistry=t.ServiceRegistry,this.textDocuments=t.workspace.TextDocuments,this.fileSystemProvider=t.workspace.FileSystemProvider}async fromUri(t,r=dn.CancellationToken.None){const n=await this.fileSystemProvider.readFile(t);return this.createAsync(t,n,r)}fromTextDocument(t,r,n){return r=r??lc.parse(t.uri),n?this.createAsync(r,t,n):this.create(r,t)}fromString(t,r,n){return n?this.createAsync(r,t,n):this.create(r,t)}fromModel(t,r){return this.create(r,{$model:t})}create(t,r){if(typeof r=="string"){const n=this.parse(t,r);return this.createLangiumDocument(n,t,void 0,r)}if("$model"in r){const n={value:r.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(n,t)}{const n=this.parse(t,r.getText());return this.createLangiumDocument(n,t,r)}}async createAsync(t,r,n){if(typeof r=="string"){const i=await this.parseAsync(t,r,n);return this.createLangiumDocument(i,t,void 0,r)}{const i=await this.parseAsync(t,r.getText(),n);return this.createLangiumDocument(i,t,r)}}createLangiumDocument(t,r,n,i){let a;if(n)a={parseResult:t,uri:r,state:Yr.Parsed,references:[],textDocument:n};else{const s=this.createTextDocumentGetter(r,i);a={parseResult:t,uri:r,state:Yr.Parsed,references:[],get textDocument(){return s()}}}return t.value.$document=a,a}async update(t,r){var n,i;const a=(n=t.parseResult.value.$cstNode)===null||n===void 0?void 0:n.root.fullText,s=(i=this.textDocuments)===null||i===void 0?void 0:i.get(t.uri.toString()),o=s?s.getText():await this.fileSystemProvider.readFile(t.uri);if(s)Object.defineProperty(t,"textDocument",{value:s});else{const u=this.createTextDocumentGetter(t.uri,o);Object.defineProperty(t,"textDocument",{get:u})}return a!==o&&(t.parseResult=await this.parseAsync(t.uri,o,r),t.parseResult.value.$document=t),t.state=Yr.Parsed,t}parse(t,r){return this.serviceRegistry.getServices(t).parser.LangiumParser.parse(r)}parseAsync(t,r,n){return this.serviceRegistry.getServices(t).parser.AsyncParser.parse(r,n)}createTextDocumentGetter(t,r){const n=this.serviceRegistry;let i;return()=>i??(i=e5.create(t.toString(),n.getServices(t).LanguageMetaData.languageId,0,r??""))}},l(Gf,"DefaultLangiumDocumentFactory"),Gf),qf,pne=(qf=class{constructor(t){this.documentMap=new Map,this.langiumDocumentFactory=t.workspace.LangiumDocumentFactory}get all(){return bn(this.documentMap.values())}addDocument(t){const r=t.uri.toString();if(this.documentMap.has(r))throw new Error(`A document with the URI '${r}' is already present.`);this.documentMap.set(r,t)}getDocument(t){const r=t.toString();return this.documentMap.get(r)}async getOrCreateDocument(t,r){let n=this.getDocument(t);return n||(n=await this.langiumDocumentFactory.fromUri(t,r),this.addDocument(n),n)}createDocument(t,r,n){if(n)return this.langiumDocumentFactory.fromString(r,t,n).then(i=>(this.addDocument(i),i));{const i=this.langiumDocumentFactory.fromString(r,t);return this.addDocument(i),i}}hasDocument(t){return this.documentMap.has(t.toString())}invalidateDocument(t){const r=t.toString(),n=this.documentMap.get(r);return n&&(n.state=Yr.Changed,n.precomputedScopes=void 0,n.references=[],n.diagnostics=void 0),n}deleteDocument(t){const r=t.toString(),n=this.documentMap.get(r);return n&&(n.state=Yr.Changed,this.documentMap.delete(r)),n}},l(qf,"DefaultLangiumDocuments"),qf),jf,fne=(jf=class{constructor(t){this.reflection=t.shared.AstReflection,this.langiumDocuments=()=>t.shared.workspace.LangiumDocuments,this.scopeProvider=t.references.ScopeProvider,this.astNodeLocator=t.workspace.AstNodeLocator}async link(t,r=dn.CancellationToken.None){for(const n of Fo(t.parseResult.value))await aa(r),Yy(n).forEach(i=>this.doLink(i,t))}doLink(t,r){const n=t.reference;if(n._ref===void 0)try{const i=this.getCandidate(t);if(vd(i))n._ref=i;else if(n._nodeDescription=i,this.langiumDocuments().hasDocument(i.documentUri)){const a=this.loadAstNode(i);n._ref=a??this.createLinkingError(t,i)}}catch(i){n._ref=Object.assign(Object.assign({},t),{message:`An error occurred while resolving reference to '${n.$refText}': ${i}`})}r.references.push(n)}unlink(t){for(const r of t.references)delete r._ref,delete r._nodeDescription;t.references=[]}getCandidate(t){const r=this.scopeProvider.getScope(t).getElement(t.reference.$refText);return r??this.createLinkingError(t)}buildReference(t,r,n,i){const a=this,s={$refNode:n,$refText:i,get ref(){var o;if(En(this._ref))return this._ref;if(p1(this._nodeDescription)){const u=a.loadAstNode(this._nodeDescription);this._ref=u??a.createLinkingError({reference:s,container:t,property:r},this._nodeDescription)}else if(this._ref===void 0){const u=a.getLinkedNode({reference:s,container:t,property:r});if(u.error&&Sa(t).state<Yr.ComputedScopes)return;this._ref=(o=u.node)!==null&&o!==void 0?o:u.error,this._nodeDescription=u.descr}return En(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return vd(this._ref)?this._ref:void 0}};return s}getLinkedNode(t){try{const r=this.getCandidate(t);if(vd(r))return{error:r};const n=this.loadAstNode(r);return n?{node:n,descr:r}:{descr:r,error:this.createLinkingError(t,r)}}catch(r){return{error:Object.assign(Object.assign({},t),{message:`An error occurred while resolving reference to '${t.reference.$refText}': ${r}`})}}}loadAstNode(t){if(t.node)return t.node;const r=this.langiumDocuments().getDocument(t.documentUri);return r?this.astNodeLocator.getAstNode(r.parseResult.value,t.path):void 0}createLinkingError(t,r){const n=Sa(t.container);n.state<Yr.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${n.uri}).`);const i=this.reflection.getReferenceType(t);return Object.assign(Object.assign({},t),{message:`Could not resolve reference to ${i} named '${t.reference.$refText}'.`,targetDescription:r})}},l(jf,"DefaultLinker"),jf);function FL(e){return typeof e.name=="string"}l(FL,"isNamed");var Yf,gne=(Yf=class{getName(t){if(FL(t))return t.name}getNameNode(t){return $6(t.$cstNode,"name")}},l(Yf,"DefaultNameProvider"),Yf),Wf,mne=(Wf=class{constructor(t){this.nameProvider=t.references.NameProvider,this.index=t.shared.workspace.IndexManager,this.nodeLocator=t.workspace.AstNodeLocator}findDeclaration(t){if(t){const r=z9(t),n=t.astNode;if(r&&n){const i=n[r.feature];if(ta(i))return i.ref;if(Array.isArray(i)){for(const a of i)if(ta(a)&&a.$refNode&&a.$refNode.offset<=t.offset&&a.$refNode.end>=t.end)return a.ref}}if(n){const i=this.nameProvider.getNameNode(n);if(i&&(i===t||g1(t,i)))return n}}}findDeclarationNode(t){const r=this.findDeclaration(t);if(r!=null&&r.$cstNode){const n=this.nameProvider.getNameNode(r);return n??r.$cstNode}}findReferences(t,r){const n=[];if(r.includeDeclaration){const a=this.getReferenceToSelf(t);a&&n.push(a)}let i=this.index.findAllReferences(t,this.nodeLocator.getAstNodePath(t));return r.documentUri&&(i=i.filter(a=>ho.equals(a.sourceUri,r.documentUri))),n.push(...i),bn(n)}getReferenceToSelf(t){const r=this.nameProvider.getNameNode(t);if(r){const n=Sa(t),i=this.nodeLocator.getAstNodePath(t);return{sourceUri:n.uri,sourcePath:i,targetUri:n.uri,targetPath:i,segment:s0(r),local:!0}}}},l(Wf,"DefaultReferences"),Wf),Hf,Z2=(Hf=class{constructor(t){if(this.map=new Map,t)for(const[r,n]of t)this.add(r,n)}get size(){return Gy.sum(bn(this.map.values()).map(t=>t.length))}clear(){this.map.clear()}delete(t,r){if(r===void 0)return this.map.delete(t);{const n=this.map.get(t);if(n){const i=n.indexOf(r);if(i>=0)return n.length===1?this.map.delete(t):n.splice(i,1),!0}return!1}}get(t){var r;return(r=this.map.get(t))!==null&&r!==void 0?r:[]}has(t,r){if(r===void 0)return this.map.has(t);{const n=this.map.get(t);return!!n&&n.indexOf(r)>=0}}add(t,r){return this.map.has(t)?this.map.get(t).push(r):this.map.set(t,[r]),this}addAll(t,r){return this.map.has(t)?this.map.get(t).push(...r):this.map.set(t,Array.from(r)),this}forEach(t){this.map.forEach((r,n)=>r.forEach(i=>t(i,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return bn(this.map.entries()).flatMap(([t,r])=>r.map(n=>[t,n]))}keys(){return bn(this.map.keys())}values(){return bn(this.map.values()).flat()}entriesGroupedByKey(){return bn(this.map.entries())}},l(Hf,"MultiMap"),Hf),Vf,r5=(Vf=class{get size(){return this.map.size}constructor(t){if(this.map=new Map,this.inverse=new Map,t)for(const[r,n]of t)this.set(r,n)}clear(){this.map.clear(),this.inverse.clear()}set(t,r){return this.map.set(t,r),this.inverse.set(r,t),this}get(t){return this.map.get(t)}getKey(t){return this.inverse.get(t)}delete(t){const r=this.map.get(t);return r!==void 0&&(this.map.delete(t),this.inverse.delete(r),!0)}},l(Vf,"BiMap"),Vf),Xf,yne=(Xf=class{constructor(t){this.nameProvider=t.references.NameProvider,this.descriptions=t.workspace.AstNodeDescriptionProvider}async computeExports(t,r=dn.CancellationToken.None){return this.computeExportsForNode(t.parseResult.value,t,void 0,r)}async computeExportsForNode(t,r,n=jy,i=dn.CancellationToken.None){const a=[];this.exportNode(t,a,r);for(const s of n(t))await aa(i),this.exportNode(s,a,r);return a}exportNode(t,r,n){const i=this.nameProvider.getName(t);i&&r.push(this.descriptions.createDescription(t,i,n))}async computeLocalScopes(t,r=dn.CancellationToken.None){const n=t.parseResult.value,i=new Z2;for(const a of ic(n))await aa(r),this.processNode(a,t,i);return i}processNode(t,r,n){const i=t.$container;if(i){const a=this.nameProvider.getName(t);a&&n.add(i,this.descriptions.createDescription(t,a,r))}}},l(Xf,"DefaultScopeComputation"),Xf),Kf,ZE=(Kf=class{constructor(t,r,n){var i;this.elements=t,this.outerScope=r,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0&&i}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(t){return(this.caseInsensitive?this.elements.find(n=>n.name.toLowerCase()===t.toLowerCase()):this.elements.find(n=>n.name===t))||(this.outerScope?this.outerScope.getElement(t):void 0)}},l(Kf,"StreamScope"),Kf),Zf,vne=(Zf=class{constructor(t,r,n){var i;this.elements=new Map,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0&&i;for(const a of t){const s=this.caseInsensitive?a.name.toLowerCase():a.name;this.elements.set(s,a)}this.outerScope=r}getElement(t){const r=this.caseInsensitive?t.toLowerCase():t;return this.elements.get(r)||(this.outerScope?this.outerScope.getElement(t):void 0)}getAllElements(){let t=bn(this.elements.values());return this.outerScope&&(t=t.concat(this.outerScope.getAllElements())),t}},l(Zf,"MapScope"),Zf),F4e={getElement(){},getAllElements:()=>C6},Qf,ew=(Qf=class{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(t){this.toDispose.push(t)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(t=>t.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}},l(Qf,"DisposableCache"),Qf),Jf,zL=(Jf=class extends ew{constructor(){super(...arguments),this.cache=new Map}has(t){return this.throwIfDisposed(),this.cache.has(t)}set(t,r){this.throwIfDisposed(),this.cache.set(t,r)}get(t,r){if(this.throwIfDisposed(),this.cache.has(t))return this.cache.get(t);if(r){const n=r();return this.cache.set(t,n),n}}delete(t){return this.throwIfDisposed(),this.cache.delete(t)}clear(){this.throwIfDisposed(),this.cache.clear()}},l(Jf,"SimpleCache"),Jf),eg,tw=(eg=class extends ew{constructor(t){super(),this.cache=new Map,this.converter=t??(r=>r)}has(t,r){return this.throwIfDisposed(),this.cacheForContext(t).has(r)}set(t,r,n){this.throwIfDisposed(),this.cacheForContext(t).set(r,n)}get(t,r,n){this.throwIfDisposed();const i=this.cacheForContext(t);if(i.has(r))return i.get(r);if(n){const a=n();return i.set(r,a),a}}delete(t,r){return this.throwIfDisposed(),this.cacheForContext(t).delete(r)}clear(t){if(this.throwIfDisposed(),t){const r=this.converter(t);this.cache.delete(r)}else this.cache.clear()}cacheForContext(t){const r=this.converter(t);let n=this.cache.get(r);return n||(n=new Map,this.cache.set(r,n)),n}},l(eg,"ContextCache"),eg),tg,xne=(tg=class extends tw{constructor(t){super(r=>r.toString()),this.onDispose(t.workspace.DocumentBuilder.onUpdate((r,n)=>{const i=r.concat(n);for(const a of i)this.clear(a)}))}},l(tg,"DocumentCache"),tg),rg,UL=(rg=class extends zL{constructor(t){super(),this.onDispose(t.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}},l(rg,"WorkspaceCache"),rg),ng,bne=(ng=class{constructor(t){this.reflection=t.shared.AstReflection,this.nameProvider=t.references.NameProvider,this.descriptions=t.workspace.AstNodeDescriptionProvider,this.indexManager=t.shared.workspace.IndexManager,this.globalScopeCache=new UL(t.shared)}getScope(t){const r=[],n=this.reflection.getReferenceType(t),i=Sa(t.container).precomputedScopes;if(i){let s=t.container;do{const o=i.get(s);o.length>0&&r.push(bn(o).filter(u=>this.reflection.isSubtype(u.type,n))),s=s.$container}while(s)}let a=this.getGlobalScope(n,t);for(let s=r.length-1;s>=0;s--)a=this.createScope(r[s],a);return a}createScope(t,r,n){return new ZE(bn(t),r,n)}createScopeForNodes(t,r,n){const i=bn(t).map(a=>{const s=this.nameProvider.getName(a);if(s)return this.descriptions.createDescription(a,s)}).nonNullable();return new ZE(i,r,n)}getGlobalScope(t,r){return this.globalScopeCache.get(t,()=>new vne(this.indexManager.allElements(t)))}},l(ng,"DefaultScopeProvider"),ng);function GL(e){return typeof e.$comment=="string"}function QE(e){return typeof e=="object"&&!!e&&("$ref"in e||"$error"in e)}l(GL,"isAstNodeWithComment"),l(QE,"isIntermediateReference");var Qy,ig,wne=(ig=class{constructor(t){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=t.shared.workspace.LangiumDocuments,this.astNodeLocator=t.workspace.AstNodeLocator,this.nameProvider=t.references.NameProvider,this.commentProvider=t.documentation.CommentProvider}serialize(t,r={}){const n=r==null?void 0:r.replacer,i=l((s,o)=>this.replacer(s,o,r),"defaultReplacer"),a=n?(s,o)=>n(s,o,i):i;try{return this.currentDocument=Sa(t),JSON.stringify(t,a,r==null?void 0:r.space)}finally{this.currentDocument=void 0}}deserialize(t,r={}){const n=JSON.parse(t);return this.linkNode(n,n,r),n}replacer(t,r,{refText:n,sourceText:i,textRegions:a,comments:s,uriConverter:o}){var u,h,d,p;if(!this.ignoreProperties.has(t)){if(ta(r)){const f=r.ref,g=n?r.$refText:void 0;if(f){const m=Sa(f);let y="";return this.currentDocument&&this.currentDocument!==m&&(y=o?o(m.uri,r):m.uri.toString()),{$ref:`${y}#${this.astNodeLocator.getAstNodePath(f)}`,$refText:g}}return{$error:(h=(u=r.error)===null||u===void 0?void 0:u.message)!==null&&h!==void 0?h:"Could not resolve reference",$refText:g}}if(En(r)){let f;if(a&&(f=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},r)),t&&!r.$document||!(f!=null&&f.$textRegion)||(f.$textRegion.documentURI=(d=this.currentDocument)===null||d===void 0?void 0:d.uri.toString())),i&&!t&&(f!=null||(f=Object.assign({},r)),f.$sourceText=(p=r.$cstNode)===null||p===void 0?void 0:p.text),s){f!=null||(f=Object.assign({},r));const g=this.commentProvider.getComment(r);g&&(f.$comment=g.replace(/\r/g,""))}return f??r}return r}}addAstNodeRegionWithAssignmentsTo(t){const r=l(n=>({offset:n.offset,end:n.end,length:n.length,range:n.range}),"createDocumentSegment");if(t.$cstNode){const n=(t.$textRegion=r(t.$cstNode)).assignments={};return Object.keys(t).filter(i=>!i.startsWith("$")).forEach(i=>{const a=$9(t.$cstNode,i).map(r);a.length!==0&&(n[i]=a)}),t}}linkNode(t,r,n,i,a,s){for(const[u,h]of Object.entries(t))if(Array.isArray(h))for(let d=0;d<h.length;d++){const p=h[d];QE(p)?h[d]=this.reviveReference(t,u,r,p,n):En(p)&&this.linkNode(p,r,n,t,u,d)}else QE(h)?t[u]=this.reviveReference(t,u,r,h,n):En(h)&&this.linkNode(h,r,n,t,u);const o=t;o.$container=i,o.$containerProperty=a,o.$containerIndex=s}reviveReference(t,r,n,i,a){let s=i.$refText,o=i.$error;if(i.$ref){const u=this.getRefNode(n,i.$ref,a.uriConverter);if(En(u))return s||(s=this.nameProvider.getName(u)),{$refText:s??"",ref:u};o=u}if(o){const u={$refText:s??""};return u.error={container:t,property:r,message:o,reference:u},u}}getRefNode(t,r,n){try{const i=r.indexOf("#");if(i===0)return this.astNodeLocator.getAstNode(t,r.substring(1))||"Could not resolve path: "+r;if(i<0){const u=n?n(r):lc.parse(r),h=this.langiumDocuments.getDocument(u);return h?h.parseResult.value:"Could not find document for URI: "+r}const a=n?n(r.substring(0,i)):lc.parse(r.substring(0,i)),s=this.langiumDocuments.getDocument(a);return s?i===r.length-1?s.parseResult.value:this.astNodeLocator.getAstNode(s.parseResult.value,r.substring(i+1))||"Could not resolve URI: "+r:"Could not find document for URI: "+r}catch(i){return String(i)}}},l(ig,"DefaultJsonSerializer"),ig),ag,kne=(ag=class{register(t){if(this.singleton||this.map){if(!this.map&&(this.map={},this.singleton)){for(const r of this.singleton.LanguageMetaData.fileExtensions)this.map[r]=this.singleton;this.singleton=void 0}for(const r of t.LanguageMetaData.fileExtensions)this.map[r]!==void 0&&this.map[r]!==t&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${t.LanguageMetaData.languageId}'.`),this.map[r]=t}else this.singleton=t}getServices(t){if(this.singleton!==void 0)return this.singleton;if(this.map===void 0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const r=ho.extname(t),n=this.map[r];if(!n)throw new Error(`The service registry contains no services for the extension '${r}'.`);return n}get all(){return this.singleton!==void 0?[this.singleton]:this.map!==void 0?Object.values(this.map):[]}},l(ag,"DefaultServiceRegistry"),ag);function n5(e){return{code:e}}l(n5,"diagnosticData"),(Qy||(Qy={})).all=["fast","slow","built-in"];var Ao,Fk,sg,Tne=(sg=class{constructor(t){this.entries=new Z2,this.reflection=t.shared.AstReflection}register(t,r=this,n="fast"){if(n==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[i,a]of Object.entries(t)){const s=a;if(Array.isArray(s))for(const o of s){const u={check:this.wrapValidationException(o,r),category:n};this.addEntry(i,u)}else if(typeof s=="function"){const o={check:this.wrapValidationException(s,r),category:n};this.addEntry(i,o)}}}wrapValidationException(t,r){return async(n,i,a)=>{try{await t.call(r,n,i,a)}catch(s){if(D0(s))throw s;console.error("An error occurred during validation:",s);const o=s instanceof Error?s.message:String(s);s instanceof Error&&s.stack&&console.error(s.stack),i("error","An error occurred during validation: "+o,{node:n})}}}addEntry(t,r){if(t!=="AstNode")for(const n of this.reflection.getAllSubTypes(t))this.entries.add(n,r);else this.entries.add("AstNode",r)}getChecks(t,r){let n=bn(this.entries.get(t)).concat(this.entries.get("AstNode"));return r&&(n=n.filter(i=>r.includes(i.category))),n.map(i=>i.check)}},l(sg,"ValidationRegistry"),sg),og,_ne=(og=class{constructor(t){this.validationRegistry=t.validation.ValidationRegistry,this.metadata=t.LanguageMetaData}async validateDocument(t,r={},n=dn.CancellationToken.None){const i=t.parseResult,a=[];if(await aa(n),(!r.categories||r.categories.includes("built-in"))&&(this.processLexingErrors(i,a,r),r.stopAfterLexingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===Ao.LexingError})||(this.processParsingErrors(i,a,r),r.stopAfterParsingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===Ao.ParsingError}))||(this.processLinkingErrors(t,a,r),r.stopAfterLinkingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===Ao.LinkingError}))))return a;try{a.push(...await this.validateAst(i.value,r,n))}catch(s){if(D0(s))throw s;console.error("An error occurred during validation:",s)}return await aa(n),a}processLexingErrors(t,r,n){for(const i of t.lexerErrors){const a={severity:ay("error"),range:{start:{line:i.line-1,character:i.column-1},end:{line:i.line-1,character:i.column+i.length-1}},message:i.message,data:n5(Ao.LexingError),source:this.getSource()};r.push(a)}}processParsingErrors(t,r,n){for(const i of t.parserErrors){let a;if(isNaN(i.token.startOffset)){if("previousToken"in i){const s=i.previousToken;if(isNaN(s.startOffset)){const o={line:0,character:0};a={start:o,end:o}}else{const o={line:s.endLine-1,character:s.endColumn};a={start:o,end:o}}}}else a=qy(i.token);if(a){const s={severity:ay("error"),range:a,message:i.message,data:n5(Ao.ParsingError),source:this.getSource()};r.push(s)}}}processLinkingErrors(t,r,n){for(const i of t.references){const a=i.error;if(a){const s={node:a.container,property:a.property,index:a.index,data:{code:Ao.LinkingError,containerType:a.container.$type,property:a.property,refText:a.reference.$refText}};r.push(this.toDiagnostic("error",a.message,s))}}}async validateAst(t,r,n=dn.CancellationToken.None){const i=[],a=l((s,o,u)=>{i.push(this.toDiagnostic(s,o,u))},"acceptor");return await Promise.all(Fo(t).map(async s=>{await aa(n);const o=this.validationRegistry.getChecks(s.$type,r.categories);for(const u of o)await u(s,a,n)})),i}toDiagnostic(t,r,n){return{message:r,range:qL(n),severity:ay(t),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}},l(og,"DefaultDocumentValidator"),og);function qL(e){if(e.range)return e.range;let t;return typeof e.property=="string"?t=$6(e.node.$cstNode,e.property,e.index):typeof e.keyword=="string"&&(t=F9(e.node.$cstNode,e.keyword,e.index)),t!=null||(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function ay(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}l(qL,"getDiagnosticRange"),l(ay,"toDiagnosticSeverity"),(Fk=Ao||(Ao={})).LexingError="lexing-error",Fk.ParsingError="parsing-error",Fk.LinkingError="linking-error";var l0,lg,Ene=(lg=class{constructor(t){this.astNodeLocator=t.workspace.AstNodeLocator,this.nameProvider=t.references.NameProvider}createDescription(t,r,n=Sa(t)){r!=null||(r=this.nameProvider.getName(t));const i=this.astNodeLocator.getAstNodePath(t);if(!r)throw new Error(`Node at path ${i} has no name.`);let a;const s=l(()=>{var o;return a??(a=s0((o=this.nameProvider.getNameNode(t))!==null&&o!==void 0?o:t.$cstNode))},"nameSegmentGetter");return{node:t,name:r,get nameSegment(){return s()},selectionSegment:s0(t.$cstNode),type:t.$type,documentUri:n.uri,path:i}}},l(lg,"DefaultAstNodeDescriptionProvider"),lg),cg,Cne=(cg=class{constructor(t){this.nodeLocator=t.workspace.AstNodeLocator}async createDescriptions(t,r=dn.CancellationToken.None){const n=[],i=t.parseResult.value;for(const a of Fo(i))await aa(r),Yy(a).filter(s=>!vd(s)).forEach(s=>{const o=this.createDescription(s);o&&n.push(o)});return n}createDescription(t){const r=t.reference.$nodeDescription,n=t.reference.$refNode;if(!r||!n)return;const i=Sa(t.container).uri;return{sourceUri:i,sourcePath:this.nodeLocator.getAstNodePath(t.container),targetUri:r.documentUri,targetPath:r.path,segment:s0(n),local:ho.equals(r.documentUri,i)}}},l(cg,"DefaultReferenceDescriptionProvider"),cg),ug,Sne=(ug=class{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(t){if(t.$container){const r=this.getAstNodePath(t.$container),n=this.getPathSegment(t);return r+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:t,$containerIndex:r}){if(!t)throw new Error("Missing '$containerProperty' in AST node.");return r!==void 0?t+this.indexSeparator+r:t}getAstNode(t,r){return r.split(this.segmentSeparator).reduce((n,i)=>{if(!n||i.length===0)return n;const a=i.indexOf(this.indexSeparator);if(a>0){const s=i.substring(0,a),o=parseInt(i.substring(a+1)),u=n[s];return u==null?void 0:u[o]}return n[i]},t)}},l(ug,"DefaultAstNodeLocator"),ug),hg,Ane=(hg=class{constructor(t){this._ready=new tl,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=t.ServiceRegistry}get ready(){return this._ready.promise}initialize(t){var r,n;this.workspaceConfig=(n=(r=t.capabilities.workspace)===null||r===void 0?void 0:r.configuration)!==null&&n!==void 0&&n}async initialized(t){if(this.workspaceConfig){if(t.register){const r=this.serviceRegistry.all;t.register({section:r.map(n=>this.toSectionName(n.LanguageMetaData.languageId))})}if(t.fetchConfiguration){const r=this.serviceRegistry.all.map(i=>({section:this.toSectionName(i.LanguageMetaData.languageId)})),n=await t.fetchConfiguration(r);r.forEach((i,a)=>{this.updateSectionConfiguration(i.section,n[a])})}}this._ready.resolve()}updateConfiguration(t){t.settings&&Object.keys(t.settings).forEach(r=>{this.updateSectionConfiguration(r,t.settings[r])})}updateSectionConfiguration(t,r){this.settings[t]=r}async getConfiguration(t,r){await this.ready;const n=this.toSectionName(t);if(this.settings[n])return this.settings[n][r]}toSectionName(t){return`${t}`}},l(hg,"DefaultConfigurationProvider"),hg);(function(e){function t(r){return{dispose:l(async()=>await r(),"dispose")}}l(t,"create"),e.create=t})(l0||(l0={}));var dg,Lne=(dg=class{constructor(t){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new Z2,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=Yr.Changed,this.langiumDocuments=t.workspace.LangiumDocuments,this.langiumDocumentFactory=t.workspace.LangiumDocumentFactory,this.indexManager=t.workspace.IndexManager,this.serviceRegistry=t.ServiceRegistry}async build(t,r={},n=dn.CancellationToken.None){var i,a;for(const s of t){const o=s.uri.toString();if(s.state===Yr.Validated){if(typeof r.validation=="boolean"&&r.validation)s.state=Yr.IndexedReferences,s.diagnostics=void 0,this.buildState.delete(o);else if(typeof r.validation=="object"){const u=this.buildState.get(o),h=(i=u==null?void 0:u.result)===null||i===void 0?void 0:i.validationChecks;if(h){const d=((a=r.validation.categories)!==null&&a!==void 0?a:Qy.all).filter(p=>!h.includes(p));d.length>0&&(this.buildState.set(o,{completed:!1,options:{validation:Object.assign(Object.assign({},r.validation),{categories:d})},result:u.result}),s.state=Yr.IndexedReferences)}}}else this.buildState.delete(o)}this.currentState=Yr.Changed,await this.emitUpdate(t.map(s=>s.uri),[]),await this.buildDocuments(t,r,n)}async update(t,r,n=dn.CancellationToken.None){this.currentState=Yr.Changed;for(const s of r)this.langiumDocuments.deleteDocument(s),this.buildState.delete(s.toString()),this.indexManager.remove(s);for(const s of t){if(!this.langiumDocuments.invalidateDocument(s)){const o=this.langiumDocumentFactory.fromModel({$type:"INVALID"},s);o.state=Yr.Changed,this.langiumDocuments.addDocument(o)}this.buildState.delete(s.toString())}const i=bn(t).concat(r).map(s=>s.toString()).toSet();this.langiumDocuments.all.filter(s=>!i.has(s.uri.toString())&&this.shouldRelink(s,i)).forEach(s=>{this.serviceRegistry.getServices(s.uri).references.Linker.unlink(s),s.state=Math.min(s.state,Yr.ComputedScopes),s.diagnostics=void 0}),await this.emitUpdate(t,r),await aa(n);const a=this.langiumDocuments.all.filter(s=>{var o;return s.state<Yr.Linked||!(!((o=this.buildState.get(s.uri.toString()))===null||o===void 0)&&o.completed)}).toArray();await this.buildDocuments(a,this.updateBuildOptions,n)}async emitUpdate(t,r){await Promise.all(this.updateListeners.map(n=>n(t,r)))}shouldRelink(t,r){return!!t.references.some(n=>n.error!==void 0)||this.indexManager.isAffected(t,r)}onUpdate(t){return this.updateListeners.push(t),l0.create(()=>{const r=this.updateListeners.indexOf(t);r>=0&&this.updateListeners.splice(r,1)})}async buildDocuments(t,r,n){this.prepareBuild(t,r),await this.runCancelable(t,Yr.Parsed,n,a=>this.langiumDocumentFactory.update(a,n)),await this.runCancelable(t,Yr.IndexedContent,n,a=>this.indexManager.updateContent(a,n)),await this.runCancelable(t,Yr.ComputedScopes,n,async a=>{const s=this.serviceRegistry.getServices(a.uri).references.ScopeComputation;a.precomputedScopes=await s.computeLocalScopes(a,n)}),await this.runCancelable(t,Yr.Linked,n,a=>this.serviceRegistry.getServices(a.uri).references.Linker.link(a,n)),await this.runCancelable(t,Yr.IndexedReferences,n,a=>this.indexManager.updateReferences(a,n));const i=t.filter(a=>this.shouldValidate(a));await this.runCancelable(i,Yr.Validated,n,a=>this.validate(a,n));for(const a of t){const s=this.buildState.get(a.uri.toString());s&&(s.completed=!0)}}prepareBuild(t,r){for(const n of t){const i=n.uri.toString(),a=this.buildState.get(i);a&&!a.completed||this.buildState.set(i,{completed:!1,options:r,result:a==null?void 0:a.result})}}async runCancelable(t,r,n,i){const a=t.filter(s=>s.state<r);for(const s of a)await aa(n),await i(s),s.state=r;await this.notifyBuildPhase(a,r,n),this.currentState=r}onBuildPhase(t,r){return this.buildPhaseListeners.add(t,r),l0.create(()=>{this.buildPhaseListeners.delete(t,r)})}waitUntil(t,r,n){let i;if(r&&"path"in r?i=r:n=r,n!=null||(n=dn.CancellationToken.None),i){const a=this.langiumDocuments.getDocument(i);if(a&&a.state>t)return Promise.resolve(i)}return this.currentState>=t?Promise.resolve(void 0):n.isCancellationRequested?Promise.reject(oc):new Promise((a,s)=>{const o=this.onBuildPhase(t,()=>{if(o.dispose(),u.dispose(),i){const h=this.langiumDocuments.getDocument(i);a(h==null?void 0:h.uri)}else a(void 0)}),u=n.onCancellationRequested(()=>{o.dispose(),u.dispose(),s(oc)})})}async notifyBuildPhase(t,r,n){if(t.length===0)return;const i=this.buildPhaseListeners.get(r);for(const a of i)await aa(n),await a(t,n)}shouldValidate(t){return!!this.getBuildOptions(t).validation}async validate(t,r){var n,i;const a=this.serviceRegistry.getServices(t.uri).validation.DocumentValidator,s=this.getBuildOptions(t).validation,o=typeof s=="object"?s:void 0,u=await a.validateDocument(t,o,r);t.diagnostics?t.diagnostics.push(...u):t.diagnostics=u;const h=this.buildState.get(t.uri.toString());if(h){(n=h.result)!==null&&n!==void 0||(h.result={});const d=(i=o==null?void 0:o.categories)!==null&&i!==void 0?i:Qy.all;h.result.validationChecks?h.result.validationChecks.push(...d):h.result.validationChecks=[...d]}}getBuildOptions(t){var r,n;return(n=(r=this.buildState.get(t.uri.toString()))===null||r===void 0?void 0:r.options)!==null&&n!==void 0?n:{}}},l(dg,"DefaultDocumentBuilder"),dg),pg,Nne=(pg=class{constructor(t){this.symbolIndex=new Map,this.symbolByTypeIndex=new tw,this.referenceIndex=new Map,this.documents=t.workspace.LangiumDocuments,this.serviceRegistry=t.ServiceRegistry,this.astReflection=t.AstReflection}findAllReferences(t,r){const n=Sa(t).uri,i=[];return this.referenceIndex.forEach(a=>{a.forEach(s=>{ho.equals(s.targetUri,n)&&s.targetPath===r&&i.push(s)})}),bn(i)}allElements(t,r){let n=bn(this.symbolIndex.keys());return r&&(n=n.filter(i=>!r||r.has(i))),n.map(i=>this.getFileDescriptions(i,t)).flat()}getFileDescriptions(t,r){var n;return r?this.symbolByTypeIndex.get(t,r,()=>{var a;return((a=this.symbolIndex.get(t))!==null&&a!==void 0?a:[]).filter(s=>this.astReflection.isSubtype(s.type,r))}):(n=this.symbolIndex.get(t))!==null&&n!==void 0?n:[]}remove(t){const r=t.toString();this.symbolIndex.delete(r),this.symbolByTypeIndex.clear(r),this.referenceIndex.delete(r)}async updateContent(t,r=dn.CancellationToken.None){const n=this.serviceRegistry.getServices(t.uri),i=await n.references.ScopeComputation.computeExports(t,r),a=t.uri.toString();this.symbolIndex.set(a,i),this.symbolByTypeIndex.clear(a)}async updateReferences(t,r=dn.CancellationToken.None){const n=this.serviceRegistry.getServices(t.uri),i=await n.workspace.ReferenceDescriptionProvider.createDescriptions(t,r);this.referenceIndex.set(t.uri.toString(),i)}isAffected(t,r){const n=this.referenceIndex.get(t.uri.toString());return!!n&&n.some(i=>!i.local&&r.has(i.targetUri.toString()))}},l(pg,"DefaultIndexManager"),pg),fg,Ine=(fg=class{constructor(t){this.initialBuildOptions={},this._ready=new tl,this.serviceRegistry=t.ServiceRegistry,this.langiumDocuments=t.workspace.LangiumDocuments,this.documentBuilder=t.workspace.DocumentBuilder,this.fileSystemProvider=t.workspace.FileSystemProvider,this.mutex=t.workspace.WorkspaceLock}get ready(){return this._ready.promise}initialize(t){var r;this.folders=(r=t.workspaceFolders)!==null&&r!==void 0?r:void 0}initialized(t){return this.mutex.write(r=>{var n;return this.initializeWorkspace((n=this.folders)!==null&&n!==void 0?n:[],r)})}async initializeWorkspace(t,r=dn.CancellationToken.None){const n=await this.performStartup(t);await aa(r),await this.documentBuilder.build(n,this.initialBuildOptions,r)}async performStartup(t){const r=this.serviceRegistry.all.flatMap(a=>a.LanguageMetaData.fileExtensions),n=[],i=l(a=>{n.push(a),this.langiumDocuments.hasDocument(a.uri)||this.langiumDocuments.addDocument(a)},"collector");return await this.loadAdditionalDocuments(t,i),await Promise.all(t.map(a=>[a,this.getRootFolder(a)]).map(async a=>this.traverseFolder(...a,r,i))),this._ready.resolve(),n}loadAdditionalDocuments(t,r){return Promise.resolve()}getRootFolder(t){return lc.parse(t.uri)}async traverseFolder(t,r,n,i){const a=await this.fileSystemProvider.readDirectory(r);await Promise.all(a.map(async s=>{if(this.includeEntry(t,s,n)){if(s.isDirectory)await this.traverseFolder(t,s.uri,n,i);else if(s.isFile){const o=await this.langiumDocuments.getOrCreateDocument(s.uri);i(o)}}}))}includeEntry(t,r,n){const i=ho.basename(r.uri);if(i.startsWith("."))return!1;if(r.isDirectory)return i!=="node_modules"&&i!=="out";if(r.isFile){const a=ho.extname(r.uri);return n.includes(a)}return!1}},l(fg,"DefaultWorkspaceManager"),fg),gg,Mne=(gg=class{constructor(t){const r=t.parser.TokenBuilder.buildTokens(t.Grammar,{caseInsensitive:t.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(r);const n=i5(r)?Object.values(r):r;this.chevrotainLexer=new ia(n,{positionTracking:"full"})}get definition(){return this.tokenTypes}tokenize(t){var r;const n=this.chevrotainLexer.tokenize(t);return{tokens:n.tokens,errors:n.errors,hidden:(r=n.groups.hidden)!==null&&r!==void 0?r:[]}}toTokenTypeDictionary(t){if(i5(t))return t;const r=rw(t)?Object.values(t.modes).flat():t,n={};return r.forEach(i=>n[i.name]=i),n}},l(gg,"DefaultLexer"),gg);function jL(e){return Array.isArray(e)&&(e.length===0||"name"in e[0])}function rw(e){return e&&"modes"in e&&"defaultMode"in e}function i5(e){return!jL(e)&&!rw(e)}function YL(e,t,r){let n,i;return typeof e=="string"?(i=t,n=r):(i=e.range.start,n=t),i||(i=xr.create(0,0)),Pne({index:0,tokens:Rne({lines:HL(e),position:i,options:nw(n)}),position:i})}function WL(e,t){const r=nw(t),n=HL(e);if(n.length===0)return!1;const i=n[0],a=n[n.length-1],s=r.start,o=r.end;return!!(s!=null&&s.exec(i))&&!!(o!=null&&o.exec(a))}function HL(e){let t="";return t=typeof e=="string"?e:e.text,t.split(Cee)}l(jL,"isTokenTypeArray"),l(rw,"isIMultiModeLexerDefinition"),l(i5,"isTokenTypeDictionary"),l(YL,"parseJSDoc"),l(WL,"isJSDoc"),l(HL,"getLines");var wO=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,z4e=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function Rne(e){var t,r,n;const i=[];let a=e.position.line,s=e.position.character;for(let o=0;o<e.lines.length;o++){const u=o===0,h=o===e.lines.length-1;let d=e.lines[o],p=0;if(u&&e.options.start){const f=(t=e.options.start)===null||t===void 0?void 0:t.exec(d);f&&(p=f.index+f[0].length)}else{const f=(r=e.options.line)===null||r===void 0?void 0:r.exec(d);f&&(p=f.index+f[0].length)}if(h){const f=(n=e.options.end)===null||n===void 0?void 0:n.exec(d);f&&(d=d.substring(0,f.index))}if(d=d.substring(0,One(d)),a5(d,p)>=d.length){if(i.length>0){const f=xr.create(a,s);i.push({type:"break",content:"",range:ir.create(f,f)})}}else{wO.lastIndex=p;const f=wO.exec(d);if(f){const g=f[0],m=f[1],y=xr.create(a,s+p),v=xr.create(a,s+p+g.length);i.push({type:"tag",content:m,range:ir.create(y,v)}),p+=g.length,p=a5(d,p)}if(p<d.length){const g=d.substring(p),m=Array.from(g.matchAll(z4e));i.push(...Dne(m,g,a,s+p))}}a++,s=0}return i.length>0&&i[i.length-1].type==="break"?i.slice(0,-1):i}function Dne(e,t,r,n){const i=[];if(e.length===0){const a=xr.create(r,n),s=xr.create(r,n+t.length);i.push({type:"text",content:t,range:ir.create(a,s)})}else{let a=0;for(const o of e){const u=o.index,h=t.substring(a,u);h.length>0&&i.push({type:"text",content:t.substring(a,u),range:ir.create(xr.create(r,a+n),xr.create(r,u+n))});let d=h.length+1;const p=o[1];if(i.push({type:"inline-tag",content:p,range:ir.create(xr.create(r,a+d+n),xr.create(r,a+d+p.length+n))}),d+=p.length,o.length===4){d+=o[2].length;const f=o[3];i.push({type:"text",content:f,range:ir.create(xr.create(r,a+d+n),xr.create(r,a+d+f.length+n))})}else i.push({type:"text",content:"",range:ir.create(xr.create(r,a+d+n),xr.create(r,a+d+n))});a=u+o[0].length}const s=t.substring(a);s.length>0&&i.push({type:"text",content:s,range:ir.create(xr.create(r,a+n),xr.create(r,a+n+s.length))})}return i}l(Rne,"tokenize"),l(Dne,"buildInlineTokens");var U4e=/\S/,G4e=/\s*$/;function a5(e,t){const r=e.substring(t).match(U4e);return r?t+r.index:e.length}function One(e){const t=e.match(G4e);if(t&&typeof t.index=="number")return t.index}function Pne(e){var t,r,n,i;const a=xr.create(e.position.line,e.position.character);if(e.tokens.length===0)return new kO([],ir.create(a,a));const s=[];for(;e.index<e.tokens.length;){const h=Bne(e,s[s.length-1]);h&&s.push(h)}const o=(r=(t=s[0])===null||t===void 0?void 0:t.range.start)!==null&&r!==void 0?r:a,u=(i=(n=s[s.length-1])===null||n===void 0?void 0:n.range.end)!==null&&i!==void 0?i:a;return new kO(s,ir.create(o,u))}function Bne(e,t){const r=e.tokens[e.index];return r.type==="tag"?XL(e,!1):r.type==="text"||r.type==="inline-tag"?VL(e):($ne(r,t),void e.index++)}function $ne(e,t){if(t){const r=new Gne("",e.range);"inlines"in t?t.inlines.push(r):t.content.inlines.push(r)}}function VL(e){let t=e.tokens[e.index];const r=t;let n=t;const i=[];for(;t&&t.type!=="break"&&t.type!=="tag";)i.push(Fne(e)),n=t,t=e.tokens[e.index];return new JE(i,ir.create(r.range.start,n.range.end))}function Fne(e){return e.tokens[e.index].type==="inline-tag"?XL(e,!0):KL(e)}function XL(e,t){const r=e.tokens[e.index++],n=r.content.substring(1),i=e.tokens[e.index];if((i==null?void 0:i.type)==="text"){if(t){const a=KL(e);return new zk(n,new JE([a],a.range),t,ir.create(r.range.start,a.range.end))}{const a=VL(e);return new zk(n,a,t,ir.create(r.range.start,a.range.end))}}{const a=r.range;return new zk(n,new JE([],a),t,a)}}function KL(e){const t=e.tokens[e.index++];return new Gne(t.content,t.range)}function nw(e){if(!e)return nw({start:"/**",end:"*/",line:"*"});const{start:t,end:r,line:n}=e;return{start:nb(t,!0),end:nb(r,!1),line:nb(n,!0)}}function nb(e,t){if(typeof e=="string"||typeof e=="object"){const r=typeof e=="string"?S0(e):e.source;return t?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}return e}l(a5,"skipWhitespace"),l(One,"lastCharacter"),l(Pne,"parseJSDocComment"),l(Bne,"parseJSDocElement"),l($ne,"appendEmptyLine"),l(VL,"parseJSDocText"),l(Fne,"parseJSDocInline"),l(XL,"parseJSDocTag"),l(KL,"parseJSDocLine"),l(nw,"normalizeOptions"),l(nb,"normalizeOption");var mg,kO=(mg=class{constructor(t,r){this.elements=t,this.range=r}getTag(t){return this.getAllTags().find(r=>r.name===t)}getTags(t){return this.getAllTags().filter(r=>r.name===t)}getAllTags(){return this.elements.filter(t=>"name"in t)}toString(){let t="";for(const r of this.elements)if(t.length===0)t=r.toString();else{const n=r.toString();t+=eC(t)+n}return t.trim()}toMarkdown(t){let r="";for(const n of this.elements)if(r.length===0)r=n.toMarkdown(t);else{const i=n.toMarkdown(t);r+=eC(r)+i}return r.trim()}},l(mg,"JSDocCommentImpl"),mg),yg,zk=(yg=class{constructor(t,r,n,i){this.name=t,this.content=r,this.inline=n,this.range=i}toString(){let t=`@${this.name}`;const r=this.content.toString();return this.content.inlines.length===1?t=`${t} ${r}`:this.content.inlines.length>1&&(t=`${t}
${r}`),this.inline?`{${t}}`:t}toMarkdown(t){var r,n;return(n=(r=t==null?void 0:t.renderTag)===null||r===void 0?void 0:r.call(t,this))!==null&&n!==void 0?n:this.toMarkdownDefault(t)}toMarkdownDefault(t){const r=this.content.toMarkdown(t);if(this.inline){const a=zne(this.name,r,t??{});if(typeof a=="string")return a}let n="";(t==null?void 0:t.tag)==="italic"||(t==null?void 0:t.tag)===void 0?n="*":(t==null?void 0:t.tag)==="bold"?n="**":(t==null?void 0:t.tag)==="bold-italic"&&(n="***");let i=`${n}@${this.name}${n}`;return this.content.inlines.length===1?i=`${i}  ${r}`:this.content.inlines.length>1&&(i=`${i}
${r}`),this.inline?`{${i}}`:i}},l(yg,"JSDocTagImpl"),yg);function zne(e,t,r){var n,i;if(e==="linkplain"||e==="linkcode"||e==="link"){const a=t.indexOf(" ");let s=t;if(a>0){const o=a5(t,a);s=t.substring(o),t=t.substring(0,a)}return(e==="linkcode"||e==="link"&&r.link==="code")&&(s=`\`${s}\``),(i=(n=r.renderLink)===null||n===void 0?void 0:n.call(r,t,s))!==null&&i!==void 0?i:Une(t,s)}}function Une(e,t){try{return lc.parse(e,!0),`[${t}](${e})`}catch{return e}}l(zne,"renderInlineTag"),l(Une,"renderLinkDefault");var vg,JE=(vg=class{constructor(t,r){this.inlines=t,this.range=r}toString(){let t="";for(let r=0;r<this.inlines.length;r++){const n=this.inlines[r],i=this.inlines[r+1];t+=n.toString(),i&&i.range.start.line>n.range.start.line&&(t+=`
`)}return t}toMarkdown(t){let r="";for(let n=0;n<this.inlines.length;n++){const i=this.inlines[n],a=this.inlines[n+1];r+=i.toMarkdown(t),a&&a.range.start.line>i.range.start.line&&(r+=`
`)}return r}},l(vg,"JSDocTextImpl"),vg),xg,Gne=(xg=class{constructor(t,r){this.text=t,this.range=r}toString(){return this.text}toMarkdown(){return this.text}},l(xg,"JSDocLineImpl"),xg);function eC(e){return e.endsWith(`
`)?`
`:`

`}l(eC,"fillNewlines");var bg,qne=(bg=class{constructor(t){this.indexManager=t.shared.workspace.IndexManager,this.commentProvider=t.documentation.CommentProvider}getDocumentation(t){const r=this.commentProvider.getComment(t);if(r&&WL(r))return YL(r).toMarkdown({renderLink:l((n,i)=>this.documentationLinkRenderer(t,n,i),"renderLink"),renderTag:l(n=>this.documentationTagRenderer(t,n),"renderTag")})}documentationLinkRenderer(t,r,n){var i;const a=(i=this.findNameInPrecomputedScopes(t,r))!==null&&i!==void 0?i:this.findNameInGlobalScope(t,r);if(a&&a.nameSegment){const s=a.nameSegment.range.start.line+1,o=a.nameSegment.range.start.character+1;return`[${n}](${a.documentUri.with({fragment:`L${s},${o}`}).toString()})`}}documentationTagRenderer(t,r){}findNameInPrecomputedScopes(t,r){const n=Sa(t).precomputedScopes;if(!n)return;let i=t;do{const a=n.get(i).find(s=>s.name===r);if(a)return a;i=i.$container}while(i)}findNameInGlobalScope(t,r){return this.indexManager.allElements().find(i=>i.name===r)}},l(bg,"JSDocDocumentationProvider"),bg),wg,jne=(wg=class{constructor(t){this.grammarConfig=()=>t.parser.GrammarConfig}getComment(t){var r;return GL(t)?t.$comment:(r=x1(t.$cstNode,this.grammarConfig().multilineCommentRules))===null||r===void 0?void 0:r.text}},l(wg,"DefaultCommentProvider"),wg),ZL={};O5(ZL,Ei(K7()));var tC,kg,Yne=(kg=class{constructor(t){this.syncParser=t.parser.LangiumParser}parse(t){return Promise.resolve(this.syncParser.parse(t))}},l(kg,"DefaultAsyncParser"),kg),Tg,q4e=(Tg=class{constructor(t){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=t.serializer.Hydrator}initializeWorkers(){for(;this.workerPool.length<this.threadCount;){const t=this.createWorker();t.onReady(()=>{if(this.queue.length>0){const r=this.queue.shift();r&&(t.lock(),r.resolve(t))}}),this.workerPool.push(t)}}async parse(t,r){const n=await this.acquireParserWorker(r),i=new tl;let a;const s=r.onCancellationRequested(()=>{a=setTimeout(()=>{this.terminateWorker(n)},this.terminationDelay)});return n.parse(t).then(o=>{const u=this.hydrator.hydrate(o);i.resolve(u)}).catch(o=>{i.reject(o)}).finally(()=>{s.dispose(),clearTimeout(a)}),i.promise}terminateWorker(t){t.terminate();const r=this.workerPool.indexOf(t);r>=0&&this.workerPool.splice(r,1)}async acquireParserWorker(t){this.initializeWorkers();for(const n of this.workerPool)if(n.ready)return n.lock(),n;const r=new tl;return t.onCancellationRequested(()=>{const n=this.queue.indexOf(r);n>=0&&this.queue.splice(n,1),r.reject(oc)}),this.queue.push(r),r.promise}},l(Tg,"AbstractThreadedAsyncParser"),Tg),_g,j4e=(_g=class{get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(t,r,n,i){this.onReadyEmitter=new ZL.Emitter,this.deferred=new tl,this._ready=!0,this._parsing=!1,this.sendMessage=t,this._terminate=i,r(a=>{const s=a;this.deferred.resolve(s),this.unlock()}),n(a=>{this.deferred.reject(a),this.unlock()})}terminate(){this.deferred.reject(oc),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(t){if(this._parsing)throw new Error("Parser worker is busy");return this._parsing=!0,this.deferred=new tl,this.sendMessage(t),this.deferred.promise}},l(_g,"ParserWorker"),_g),Eg,Wne=(Eg=class{constructor(){this.previousTokenSource=new dn.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(t){this.cancelWrite();const r=new dn.CancellationTokenSource;return this.previousTokenSource=r,this.enqueue(this.writeQueue,t,r.token)}read(t){return this.enqueue(this.readQueue,t)}enqueue(t,r,n){const i=new tl,a={action:r,deferred:i,cancellationToken:n??dn.CancellationToken.None};return t.push(a),this.performNextOperation(),i.promise}async performNextOperation(){if(!this.done)return;const t=[];if(this.writeQueue.length>0)t.push(this.writeQueue.shift());else{if(!(this.readQueue.length>0))return;t.push(...this.readQueue.splice(0,this.readQueue.length))}this.done=!1,await Promise.all(t.map(async({action:r,deferred:n,cancellationToken:i})=>{try{const a=await Promise.resolve().then(()=>r(i));n.resolve(a)}catch(a){D0(a)?n.resolve(void 0):n.reject(a)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}},l(Eg,"DefaultWorkspaceLock"),Eg),Cg,Hne=(Cg=class{constructor(t){this.grammarElementIdMap=new r5,this.tokenTypeIdMap=new r5,this.grammar=t.Grammar,this.lexer=t.parser.Lexer,this.linker=t.references.Linker}dehydrate(t){return{lexerErrors:t.lexerErrors.map(r=>Object.assign({},r)),parserErrors:t.parserErrors.map(r=>Object.assign({},r)),value:this.dehydrateAstNode(t.value,this.createDehyrationContext(t.value))}}createDehyrationContext(t){const r=new Map,n=new Map;for(const i of Fo(t))r.set(i,{});if(t.$cstNode)for(const i of a0(t.$cstNode))n.set(i,{});return{astNodes:r,cstNodes:n}}dehydrateAstNode(t,r){const n=r.astNodes.get(t);n.$type=t.$type,n.$containerIndex=t.$containerIndex,n.$containerProperty=t.$containerProperty,t.$cstNode!==void 0&&(n.$cstNode=this.dehydrateCstNode(t.$cstNode,r));for(const[i,a]of Object.entries(t))if(!i.startsWith("$"))if(Array.isArray(a)){const s=[];n[i]=s;for(const o of a)En(o)?s.push(this.dehydrateAstNode(o,r)):ta(o)?s.push(this.dehydrateReference(o,r)):s.push(o)}else En(a)?n[i]=this.dehydrateAstNode(a,r):ta(a)?n[i]=this.dehydrateReference(a,r):a!==void 0&&(n[i]=a);return n}dehydrateReference(t,r){const n={};return n.$refText=t.$refText,t.$refNode&&(n.$refNode=r.cstNodes.get(t.$refNode)),n}dehydrateCstNode(t,r){const n=r.cstNodes.get(t);return E6(t)?n.fullText=t.fullText:n.grammarSource=this.getGrammarElementId(t.grammarSource),n.hidden=t.hidden,n.astNode=r.astNodes.get(t.astNode),uo(t)?n.content=t.content.map(i=>this.dehydrateCstNode(i,r)):yh(t)&&(n.tokenType=t.tokenType.name,n.offset=t.offset,n.length=t.length,n.startLine=t.range.start.line,n.startColumn=t.range.start.character,n.endLine=t.range.end.line,n.endColumn=t.range.end.character),n}hydrate(t){const r=t.value,n=this.createHydrationContext(r);return"$cstNode"in r&&this.hydrateCstNode(r.$cstNode,n),{lexerErrors:t.lexerErrors,parserErrors:t.parserErrors,value:this.hydrateAstNode(r,n)}}createHydrationContext(t){const r=new Map,n=new Map;for(const a of Fo(t))r.set(a,{});let i;if(t.$cstNode)for(const a of a0(t.$cstNode)){let s;"fullText"in a?(s=new TL(a.fullText),i=s):"content"in a?s=new Q6:"tokenType"in a&&(s=this.hydrateCstLeafNode(a)),s&&(n.set(a,s),s.root=i)}return{astNodes:r,cstNodes:n}}hydrateAstNode(t,r){const n=r.astNodes.get(t);n.$type=t.$type,n.$containerIndex=t.$containerIndex,n.$containerProperty=t.$containerProperty,t.$cstNode&&(n.$cstNode=r.cstNodes.get(t.$cstNode));for(const[i,a]of Object.entries(t))if(!i.startsWith("$"))if(Array.isArray(a)){const s=[];n[i]=s;for(const o of a)En(o)?s.push(this.setParent(this.hydrateAstNode(o,r),n)):ta(o)?s.push(this.hydrateReference(o,n,i,r)):s.push(o)}else En(a)?n[i]=this.setParent(this.hydrateAstNode(a,r),n):ta(a)?n[i]=this.hydrateReference(a,n,i,r):a!==void 0&&(n[i]=a);return n}setParent(t,r){return t.$container=r,t}hydrateReference(t,r,n,i){return this.linker.buildReference(r,n,i.cstNodes.get(t.$refNode),t.$refText)}hydrateCstNode(t,r,n=0){const i=r.cstNodes.get(t);if(typeof t.grammarSource=="number"&&(i.grammarSource=this.getGrammarElement(t.grammarSource)),i.astNode=r.astNodes.get(t.astNode),uo(i))for(const a of t.content){const s=this.hydrateCstNode(a,r,n++);i.content.push(s)}return i}hydrateCstLeafNode(t){const r=this.getTokenType(t.tokenType),n=t.offset,i=t.length,a=t.startLine,s=t.startColumn,o=t.endLine,u=t.endColumn,h=t.hidden;return new Z4(n,i,{start:{line:a,character:s},end:{line:o,character:u}},r,h)}getTokenType(t){return this.lexer.definition[t]}getGrammarElementId(t){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(t)}getGrammarElement(t){this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap();const r=this.grammarElementIdMap.getKey(t);if(r)return r;throw new Error("Invalid grammar element id: "+t)}createGrammarElementIdMap(){let t=0;for(const r of Fo(this.grammar))L6(r)&&this.grammarElementIdMap.set(r,t++)}},l(Cg,"DefaultHydrator"),Cg);function bc(e){return{documentation:{CommentProvider:l(t=>new jne(t),"CommentProvider"),DocumentationProvider:l(t=>new qne(t),"DocumentationProvider")},parser:{AsyncParser:l(t=>new Yne(t),"AsyncParser"),GrammarConfig:l(t=>H9(t),"GrammarConfig"),LangiumParser:l(t=>IL(t),"LangiumParser"),CompletionParser:l(t=>NL(t),"CompletionParser"),ValueConverter:l(()=>new DL,"ValueConverter"),TokenBuilder:l(()=>new RL,"TokenBuilder"),Lexer:l(t=>new Mne(t),"Lexer"),ParserErrorMessageProvider:l(()=>new EL,"ParserErrorMessageProvider")},workspace:{AstNodeLocator:l(()=>new Sne,"AstNodeLocator"),AstNodeDescriptionProvider:l(t=>new Ene(t),"AstNodeDescriptionProvider"),ReferenceDescriptionProvider:l(t=>new Cne(t),"ReferenceDescriptionProvider")},references:{Linker:l(t=>new fne(t),"Linker"),NameProvider:l(()=>new gne,"NameProvider"),ScopeProvider:l(t=>new bne(t),"ScopeProvider"),ScopeComputation:l(t=>new yne(t),"ScopeComputation"),References:l(t=>new mne(t),"References")},serializer:{Hydrator:l(t=>new Hne(t),"Hydrator"),JsonSerializer:l(t=>new wne(t),"JsonSerializer")},validation:{DocumentValidator:l(t=>new _ne(t),"DocumentValidator"),ValidationRegistry:l(t=>new Tne(t),"ValidationRegistry")},shared:l(()=>e.shared,"shared")}}function wc(e){return{ServiceRegistry:l(()=>new kne,"ServiceRegistry"),workspace:{LangiumDocuments:l(t=>new pne(t),"LangiumDocuments"),LangiumDocumentFactory:l(t=>new dne(t),"LangiumDocumentFactory"),DocumentBuilder:l(t=>new Lne(t),"DocumentBuilder"),IndexManager:l(t=>new Nne(t),"IndexManager"),WorkspaceManager:l(t=>new Ine(t),"WorkspaceManager"),FileSystemProvider:l(t=>e.fileSystemProvider(t),"FileSystemProvider"),WorkspaceLock:l(()=>new Wne,"WorkspaceLock"),ConfigurationProvider:l(t=>new Ane(t),"ConfigurationProvider")}}}function ha(e,t,r,n,i,a,s,o,u){return JL([e,t,r,n,i,a,s,o,u].reduce(Jy,{}))}l(bc,"createDefaultCoreModule"),l(wc,"createDefaultSharedCoreModule"),(tC||(tC={})).merge=(e,t)=>Jy(Jy({},e),t),l(ha,"inject");var rC=Symbol("isProxy");function QL(e){if(e&&e[rC])for(const t of Object.values(e))QL(t);return e}function JL(e,t){const r=new Proxy({},{deleteProperty:l(()=>!1,"deleteProperty"),get:l((n,i)=>nC(n,i,e,t||r),"get"),getOwnPropertyDescriptor:l((n,i)=>(nC(n,i,e,t||r),Object.getOwnPropertyDescriptor(n,i)),"getOwnPropertyDescriptor"),has:l((n,i)=>i in e,"has"),ownKeys:l(()=>[...Reflect.ownKeys(e),rC],"ownKeys")});return r[rC]=!0,r}l(QL,"eagerLoad"),l(JL,"_inject");var TO=Symbol();function nC(e,t,r,n){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===TO)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');return e[t]}if(t in r){const i=r[t];e[t]=TO;try{e[t]=typeof i=="function"?i(n):JL(i,n)}catch(a){throw e[t]=a instanceof Error?a:void 0,a}return e[t]}}function Jy(e,t){if(t){for(const[r,n]of Object.entries(t))if(n!==void 0){const i=e[r];e[r]=i!==null&&n!==null&&typeof i=="object"&&typeof n=="object"?Jy(i,n):n}}return e}l(nC,"_resolve"),l(Jy,"_merge");var iC={};il(iC,{AstUtils:()=>C9,BiMap:()=>r5,Cancellation:()=>dn,ContextCache:()=>tw,CstUtils:()=>d1,DONE_RESULT:()=>Ki,Deferred:()=>tl,Disposable:()=>l0,DisposableCache:()=>ew,DocumentCache:()=>xne,EMPTY_STREAM:()=>C6,ErrorWithLocation:()=>A6,GrammarUtils:()=>T1,MultiMap:()=>Z2,OperationCancelled:()=>oc,Reduction:()=>Gy,RegExpUtils:()=>A9,SimpleCache:()=>zL,StreamImpl:()=>Js,TreeStreamImpl:()=>i0,URI:()=>lc,UriUtils:()=>ho,WorkspaceCache:()=>UL,assertUnreachable:()=>vh,delayNextTick:()=>J6,interruptAndCheck:()=>aa,isOperationCancelled:()=>D0,loadGrammarFromJson:()=>kc,setInterruptionPeriod:()=>PL,startCancelableOperation:()=>OL,stream:()=>bn}),O5(iC,ZL);var Sg,Vne=(Sg=class{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}},l(Sg,"EmptyFileSystemProvider"),Sg),kh={fileSystemProvider:l(()=>new Vne,"fileSystemProvider")},Y4e={Grammar:l(()=>{},"Grammar"),LanguageMetaData:l(()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"}),"LanguageMetaData")},W4e={AstReflection:l(()=>new E9,"AstReflection")};function Xne(){const e=ha(wc(kh),W4e),t=ha(bc({shared:e}),Y4e);return e.ServiceRegistry.register(t),t}function kc(e){var t;const r=Xne(),n=r.serializer.JsonSerializer.deserialize(e);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,lc.parse(`memory://${(t=n.name)!==null&&t!==void 0?t:"grammar"}.langium`)),n}l(Xne,"createMinimalGrammarServices"),l(kc,"loadGrammarFromJson"),O5(Z7,iC);var H4e=Object.defineProperty,vt=l((e,t)=>H4e(e,"name",{value:t,configurable:!0}),"__name");function _O(e){return Bs.isInstance(e,"Architecture")}l(_O,"isArchitecture"),vt(_O,"isArchitecture");function EO(e){return Bs.isInstance(e,"Branch")}l(EO,"isBranch"),vt(EO,"isBranch");function CO(e){return Bs.isInstance(e,"Commit")}l(CO,"isCommit"),vt(CO,"isCommit");function SO(e){return Bs.isInstance(e,"Common")}l(SO,"isCommon"),vt(SO,"isCommon");function AO(e){return Bs.isInstance(e,"GitGraph")}l(AO,"isGitGraph"),vt(AO,"isGitGraph");function LO(e){return Bs.isInstance(e,"Info")}l(LO,"isInfo"),vt(LO,"isInfo");function NO(e){return Bs.isInstance(e,"Merge")}l(NO,"isMerge"),vt(NO,"isMerge");function IO(e){return Bs.isInstance(e,"Packet")}l(IO,"isPacket"),vt(IO,"isPacket");function MO(e){return Bs.isInstance(e,"PacketBlock")}l(MO,"isPacketBlock"),vt(MO,"isPacketBlock");function RO(e){return Bs.isInstance(e,"Pie")}l(RO,"isPie"),vt(RO,"isPie");function DO(e){return Bs.isInstance(e,"PieSection")}l(DO,"isPieSection"),vt(DO,"isPieSection");var OO,PO,BO,$O,FO,Eu,Kne=(Eu=class extends f1{getAllTypes(){return["Architecture","Branch","Checkout","CherryPicking","Commit","Common","Direction","Edge","GitGraph","Group","Info","Junction","Merge","Packet","PacketBlock","Pie","PieSection","Service","Statement"]}computeIsSubtype(t,r){switch(t){case"Branch":case"Checkout":case"CherryPicking":case"Commit":case"Merge":return this.isSubtype("Statement",r);case"Direction":return this.isSubtype("GitGraph",r);default:return!1}}getReferenceType(t){const r=`${t.container.$type}:${t.property}`;throw new Error(`${r} is not a valid reference id.`)}getTypeMetaData(t){switch(t){case"Architecture":return{name:"Architecture",properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case"Branch":return{name:"Branch",properties:[{name:"name"},{name:"order"}]};case"Checkout":return{name:"Checkout",properties:[{name:"branch"}]};case"CherryPicking":return{name:"CherryPicking",properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case"Commit":return{name:"Commit",properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Common":return{name:"Common",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Edge":return{name:"Edge",properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case"GitGraph":return{name:"GitGraph",properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case"Group":return{name:"Group",properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case"Info":return{name:"Info",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Junction":return{name:"Junction",properties:[{name:"id"},{name:"in"}]};case"Merge":return{name:"Merge",properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Packet":return{name:"Packet",properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case"PacketBlock":return{name:"PacketBlock",properties:[{name:"end"},{name:"label"},{name:"start"}]};case"Pie":return{name:"Pie",properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case"PieSection":return{name:"PieSection",properties:[{name:"label"},{name:"value"}]};case"Service":return{name:"Service",properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case"Direction":return{name:"Direction",properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:t,properties:[]}}}},l(Eu,"MermaidAstReflection"),vt(Eu,"MermaidAstReflection"),Eu),Bs=new Kne,V4e=vt(()=>OO??(OO=kc('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","name":"Info","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"InfoGrammar"),X4e=vt(()=>PO??(PO=kc(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","name":"Packet","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),K4e=vt(()=>BO??(BO=kc('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","name":"Pie","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"PieGrammar"),Z4e=vt(()=>$O??($O=kc('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","name":"Architecture","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","fragment":true,"definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LeftPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RightPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Arrow","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ID","definition":{"$type":"RegexToken","regex":"/[\\\\w]+/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TEXT_ICON","definition":{"$type":"RegexToken","regex":"/\\\\(\\"[^\\"]+\\"\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),Q4e=vt(()=>FO??(FO=kc(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","name":"GitGraph","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),J4e={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},e5e={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},t5e={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},r5e={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},n5e={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Q2={AstReflection:vt(()=>new Kne,"AstReflection")},i5e={Grammar:vt(()=>V4e(),"Grammar"),LanguageMetaData:vt(()=>J4e,"LanguageMetaData"),parser:{}},a5e={Grammar:vt(()=>X4e(),"Grammar"),LanguageMetaData:vt(()=>e5e,"LanguageMetaData"),parser:{}},s5e={Grammar:vt(()=>K4e(),"Grammar"),LanguageMetaData:vt(()=>t5e,"LanguageMetaData"),parser:{}},o5e={Grammar:vt(()=>Z4e(),"Grammar"),LanguageMetaData:vt(()=>r5e,"LanguageMetaData"),parser:{}},l5e={Grammar:vt(()=>Q4e(),"Grammar"),LanguageMetaData:vt(()=>n5e,"LanguageMetaData"),parser:{}},c5e={ACC_DESCR:/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/accTitle[\t ]*:([^\n\r]*)/,TITLE:/title([\t ][^\n\r]*|)/},Cu,eN=(Cu=class extends DL{runConverter(t,r,n){let i=this.runCommonConverter(t,r,n);return i===void 0&&(i=this.runCustomConverter(t,r,n)),i===void 0?super.runConverter(t,r,n):i}runCommonConverter(t,r,n){const i=c5e[t.name];if(i===void 0)return;const a=i.exec(r);return a!==null?a[1]!==void 0?a[1].trim().replace(/[\t ]{2,}/gm," "):a[2]!==void 0?a[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`):void 0:void 0}},l(Cu,"AbstractMermaidValueConverter"),vt(Cu,"AbstractMermaidValueConverter"),Cu),Su,tN=(Su=class extends eN{runCustomConverter(t,r,n){}},l(Su,"CommonValueConverter"),vt(Su,"CommonValueConverter"),Su),Au,O0=(Au=class extends RL{constructor(t){super(),this.keywords=new Set(t)}buildKeywordTokens(t,r,n){const i=super.buildKeywordTokens(t,r,n);return i.forEach(a=>{this.keywords.has(a.name)&&a.PATTERN!==void 0&&(a.PATTERN=new RegExp(a.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),i}},l(Au,"AbstractMermaidTokenBuilder"),vt(Au,"AbstractMermaidTokenBuilder"),Au),Lu;Lu=class extends O0{},l(Lu,"CommonTokenBuilder"),vt(Lu,"CommonTokenBuilder");var ru={},u5e={info:vt(async()=>{const{createInfoServices:e}=await Promise.resolve().then(function(){return WNe}),t=e().Info.parser.LangiumParser;ru.info=t},"info"),packet:vt(async()=>{const{createPacketServices:e}=await Promise.resolve().then(function(){return HNe}),t=e().Packet.parser.LangiumParser;ru.packet=t},"packet"),pie:vt(async()=>{const{createPieServices:e}=await Promise.resolve().then(function(){return VNe}),t=e().Pie.parser.LangiumParser;ru.pie=t},"pie"),architecture:vt(async()=>{const{createArchitectureServices:e}=await Promise.resolve().then(function(){return XNe}),t=e().Architecture.parser.LangiumParser;ru.architecture=t},"architecture"),gitGraph:vt(async()=>{const{createGitGraphServices:e}=await Promise.resolve().then(function(){return KNe}),t=e().GitGraph.parser.LangiumParser;ru.gitGraph=t},"gitGraph")};async function eh(e,t){const r=u5e[e];if(!r)throw new Error(`Unknown diagram type: ${e}`);ru[e]||await r();const n=ru[e].parse(t);if(n.lexerErrors.length>0||n.parserErrors.length>0)throw new h5e(n);return n.value}l(eh,"parse"),vt(eh,"parse");var Nu,h5e=(Nu=class extends Error{constructor(t){super(`Parsing failed: ${t.lexerErrors.map(r=>r.message).join(`
`)} ${t.parserErrors.map(r=>r.message).join(`
`)}`),this.result=t}},l(Nu,"MermaidParseError"),vt(Nu,"MermaidParseError"),Nu),Iu,d5e=(Iu=class extends O0{constructor(){super(["pie","showData"])}},l(Iu,"PieTokenBuilder"),vt(Iu,"PieTokenBuilder"),Iu),Mu,p5e=(Mu=class extends eN{runCustomConverter(t,r,n){if(t.name==="PIE_SECTION_LABEL")return r.replace(/"/g,"").trim()}},l(Mu,"PieValueConverter"),vt(Mu,"PieValueConverter"),Mu),Zne={parser:{TokenBuilder:vt(()=>new d5e,"TokenBuilder"),ValueConverter:vt(()=>new p5e,"ValueConverter")}};function aC(e=kh){const t=ha(wc(e),Q2),r=ha(bc({shared:t}),s5e,Zne);return t.ServiceRegistry.register(r),{shared:t,Pie:r}}l(aC,"createPieServices"),vt(aC,"createPieServices");var Ru,f5e=(Ru=class extends O0{constructor(){super(["architecture"])}},l(Ru,"ArchitectureTokenBuilder"),vt(Ru,"ArchitectureTokenBuilder"),Ru),Du,g5e=(Du=class extends eN{runCustomConverter(t,r,n){return t.name==="ARCH_ICON"?r.replace(/[()]/g,"").trim():t.name==="ARCH_TEXT_ICON"?r.replace(/["()]/g,""):t.name==="ARCH_TITLE"?r.replace(/[[\]]/g,"").trim():void 0}},l(Du,"ArchitectureValueConverter"),vt(Du,"ArchitectureValueConverter"),Du),Qne={parser:{TokenBuilder:vt(()=>new f5e,"TokenBuilder"),ValueConverter:vt(()=>new g5e,"ValueConverter")}};function sC(e=kh){const t=ha(wc(e),Q2),r=ha(bc({shared:t}),o5e,Qne);return t.ServiceRegistry.register(r),{shared:t,Architecture:r}}l(sC,"createArchitectureServices"),vt(sC,"createArchitectureServices");var Ou,m5e=(Ou=class extends O0{constructor(){super(["gitGraph"])}},l(Ou,"GitGraphTokenBuilder"),vt(Ou,"GitGraphTokenBuilder"),Ou),Jne={parser:{TokenBuilder:vt(()=>new m5e,"TokenBuilder"),ValueConverter:vt(()=>new tN,"ValueConverter")}};function oC(e=kh){const t=ha(wc(e),Q2),r=ha(bc({shared:t}),l5e,Jne);return t.ServiceRegistry.register(r),{shared:t,GitGraph:r}}l(oC,"createGitGraphServices"),vt(oC,"createGitGraphServices");var Pu,y5e=(Pu=class extends O0{constructor(){super(["info","showInfo"])}},l(Pu,"InfoTokenBuilder"),vt(Pu,"InfoTokenBuilder"),Pu),eie={parser:{TokenBuilder:vt(()=>new y5e,"TokenBuilder"),ValueConverter:vt(()=>new tN,"ValueConverter")}};function lC(e=kh){const t=ha(wc(e),Q2),r=ha(bc({shared:t}),i5e,eie);return t.ServiceRegistry.register(r),{shared:t,Info:r}}l(lC,"createInfoServices"),vt(lC,"createInfoServices");var Bu,v5e=(Bu=class extends O0{constructor(){super(["packet-beta"])}},l(Bu,"PacketTokenBuilder"),vt(Bu,"PacketTokenBuilder"),Bu),tie={parser:{TokenBuilder:vt(()=>new v5e,"TokenBuilder"),ValueConverter:vt(()=>new tN,"ValueConverter")}};function cC(e=kh){const t=ha(wc(e),Q2),r=ha(bc({shared:t}),a5e,tie);return t.ServiceRegistry.register(r),{shared:t,Packet:r}}l(cC,"createPacketServices"),vt(cC,"createPacketServices");var Er={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},x5e=lr.gitGraph,Th=l(()=>sl({...x5e,...Zr().gitGraph}),"getConfig"),ut=new h1(()=>{const e=Th(),t=e.mainBranchName,r=e.mainBranchOrder;return{mainBranchName:t,commits:new Map,head:null,branchConfig:new Map([[t,{name:t,order:r}]]),branches:new Map([[t,null]]),currBranch:t,direction:"LR",seq:0,options:{}}});function iw(){return lH({length:7})}function rie(e,t){const r=Object.create(null);return e.reduce((n,i)=>{const a=t(i);return r[a]||(r[a]=!0,n.push(i)),n},[])}l(iw,"getID"),l(rie,"uniqBy");var b5e=l(function(e){ut.records.direction=e},"setDirection"),w5e=l(function(e){re.debug("options str",e),e=e==null?void 0:e.trim(),e=e||"{}";try{ut.records.options=JSON.parse(e)}catch(t){re.error("error while parsing gitGraph options",t.message)}},"setOptions"),k5e=l(function(){return ut.records.options},"getOptions"),T5e=l(function(e){let t=e.msg,r=e.id;const n=e.type;let i=e.tags;re.info("commit",t,r,n,i),re.debug("Entering commit:",t,r,n,i);const a=Th();r=He.sanitizeText(r,a),t=He.sanitizeText(t,a),i=i==null?void 0:i.map(o=>He.sanitizeText(o,a));const s={id:r||ut.records.seq+"-"+iw(),message:t,seq:ut.records.seq++,type:n??Er.NORMAL,tags:i??[],parents:ut.records.head==null?[]:[ut.records.head.id],branch:ut.records.currBranch};ut.records.head=s,re.info("main branch",a.mainBranchName),ut.records.commits.set(s.id,s),ut.records.branches.set(ut.records.currBranch,s.id),re.debug("in pushCommit "+s.id)},"commit"),_5e=l(function(e){let t=e.name;const r=e.order;if(t=He.sanitizeText(t,Th()),ut.records.branches.has(t))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${t}")`);ut.records.branches.set(t,ut.records.head!=null?ut.records.head.id:null),ut.records.branchConfig.set(t,{name:t,order:r}),nie(t),re.debug("in createBranch")},"branch"),E5e=l(e=>{let t=e.branch,r=e.id;const n=e.type,i=e.tags,a=Th();t=He.sanitizeText(t,a),r&&(r=He.sanitizeText(r,a));const s=ut.records.branches.get(ut.records.currBranch),o=ut.records.branches.get(t),u=s?ut.records.commits.get(s):void 0,h=o?ut.records.commits.get(o):void 0;if(u&&h&&u.branch===t)throw new Error(`Cannot merge branch '${t}' into itself.`);if(ut.records.currBranch===t){const f=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},f}if(u===void 0||!u){const f=new Error(`Incorrect usage of "merge". Current branch (${ut.records.currBranch})has no commits`);throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["commit"]},f}if(!ut.records.branches.has(t)){const f=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:[`branch ${t}`]},f}if(h===void 0||!h){const f=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:['"commit"']},f}if(u===h){const f=new Error('Incorrect usage of "merge". Both branches have same head');throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},f}if(r&&ut.records.commits.has(r)){const f=new Error('Incorrect usage of "merge". Commit with id:'+r+" already exists, use different custom Id");throw f.hash={text:`merge ${t} ${r} ${n} ${i==null?void 0:i.join(" ")}`,token:`merge ${t} ${r} ${n} ${i==null?void 0:i.join(" ")}`,expected:[`merge ${t} ${r}_UNIQUE ${n} ${i==null?void 0:i.join(" ")}`]},f}const d=o||"",p={id:r||`${ut.records.seq}-${iw()}`,message:`merged branch ${t} into ${ut.records.currBranch}`,seq:ut.records.seq++,parents:ut.records.head==null?[]:[ut.records.head.id,d],branch:ut.records.currBranch,type:Er.MERGE,customType:n,customId:!!r,tags:i??[]};ut.records.head=p,ut.records.commits.set(p.id,p),ut.records.branches.set(ut.records.currBranch,p.id),re.debug(ut.records.branches),re.debug("in mergeBranch")},"merge"),C5e=l(function(e){let t=e.id,r=e.targetId,n=e.tags,i=e.parent;re.debug("Entering cherryPick:",t,r,n);const a=Th();if(t=He.sanitizeText(t,a),r=He.sanitizeText(r,a),n=n==null?void 0:n.map(u=>He.sanitizeText(u,a)),i=He.sanitizeText(i,a),!t||!ut.records.commits.has(t)){const u=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw u.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},u}const s=ut.records.commits.get(t);if(s===void 0||!s)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(i&&(!Array.isArray(s.parents)||!s.parents.includes(i)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");const o=s.branch;if(s.type===Er.MERGE&&!i)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!r||!ut.records.commits.has(r)){if(o===ut.records.currBranch){const p=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw p.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},p}const u=ut.records.branches.get(ut.records.currBranch);if(u===void 0||!u){const p=new Error(`Incorrect usage of "cherry-pick". Current branch (${ut.records.currBranch})has no commits`);throw p.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},p}const h=ut.records.commits.get(u);if(h===void 0||!h){const p=new Error(`Incorrect usage of "cherry-pick". Current branch (${ut.records.currBranch})has no commits`);throw p.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},p}const d={id:ut.records.seq+"-"+iw(),message:`cherry-picked ${s==null?void 0:s.message} into ${ut.records.currBranch}`,seq:ut.records.seq++,parents:ut.records.head==null?[]:[ut.records.head.id,s.id],branch:ut.records.currBranch,type:Er.CHERRY_PICK,tags:n?n.filter(Boolean):[`cherry-pick:${s.id}${s.type===Er.MERGE?`|parent:${i}`:""}`]};ut.records.head=d,ut.records.commits.set(d.id,d),ut.records.branches.set(ut.records.currBranch,d.id),re.debug(ut.records.branches),re.debug("in cherryPick")}},"cherryPick"),nie=l(function(e){if(e=He.sanitizeText(e,Th()),!ut.records.branches.has(e)){const t=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${e}")`);throw t.hash={text:`checkout ${e}`,token:`checkout ${e}`,expected:[`branch ${e}`]},t}{ut.records.currBranch=e;const t=ut.records.branches.get(ut.records.currBranch);ut.records.head=t!==void 0&&t?ut.records.commits.get(t)??null:null}},"checkout");function uC(e,t,r){const n=e.indexOf(t);n===-1?e.push(r):e.splice(n,1,r)}function rN(e){const t=e.reduce((i,a)=>i.seq>a.seq?i:a,e[0]);let r="";e.forEach(function(i){r+=i===t?"	*":"	|"});const n=[r,t.id,t.seq];for(const i in ut.records.branches)ut.records.branches.get(i)===t.id&&n.push(i);if(re.debug(n.join(" ")),t.parents&&t.parents.length==2&&t.parents[0]&&t.parents[1]){const i=ut.records.commits.get(t.parents[0]);uC(e,t,i),t.parents[1]&&e.push(ut.records.commits.get(t.parents[1]))}else{if(t.parents.length==0)return;if(t.parents[0]){const i=ut.records.commits.get(t.parents[0]);uC(e,t,i)}}rN(e=rie(e,i=>i.id))}l(uC,"upsert"),l(rN,"prettyPrintCommitHistory");var S5e=l(function(){re.debug(ut.records.commits),rN([iie()[0]])},"prettyPrint"),A5e=l(function(){ut.reset(),Hn()},"clear"),L5e=l(function(){return[...ut.records.branchConfig.values()].map((t,r)=>t.order!==null&&t.order!==void 0?t:{...t,order:parseFloat(`0.${r}`)}).sort((t,r)=>(t.order??0)-(r.order??0)).map(({name:t})=>({name:t}))},"getBranchesAsObjArray"),N5e=l(function(){return ut.records.branches},"getBranches"),I5e=l(function(){return ut.records.commits},"getCommits"),iie=l(function(){const e=[...ut.records.commits.values()];return e.forEach(function(t){re.debug(t.id)}),e.sort((t,r)=>t.seq-r.seq),e},"getCommitsArray"),aie={commitType:Er,getConfig:Th,setDirection:b5e,setOptions:w5e,getOptions:k5e,commit:T5e,branch:_5e,merge:E5e,cherryPick:C5e,checkout:nie,prettyPrint:S5e,clear:A5e,getBranchesAsObjArray:L5e,getBranches:N5e,getCommits:I5e,getCommitsArray:iie,getCurrentBranch:l(function(){return ut.records.currBranch},"getCurrentBranch"),getDirection:l(function(){return ut.records.direction},"getDirection"),getHead:l(function(){return ut.records.head},"getHead"),setAccTitle:Vn,getAccTitle:ci,getAccDescription:hi,setAccDescription:ui,setDiagramTitle:Fi,getDiagramTitle:di},M5e=l((e,t)=>{q2(e,t),e.dir&&t.setDirection(e.dir);for(const r of e.statements)R5e(r,t)},"populate"),R5e=l((e,t)=>{const r={Commit:l(n=>t.commit(D5e(n)),"Commit"),Branch:l(n=>t.branch(O5e(n)),"Branch"),Merge:l(n=>t.merge(P5e(n)),"Merge"),Checkout:l(n=>t.checkout(B5e(n)),"Checkout"),CherryPicking:l(n=>t.cherryPick($5e(n)),"CherryPicking")}[e.$type];r?r(e):re.error(`Unknown statement type: ${e.$type}`)},"parseStatement"),D5e=l(e=>({id:e.id,msg:e.message??"",type:e.type!==void 0?Er[e.type]:Er.NORMAL,tags:e.tags??void 0}),"parseCommit"),O5e=l(e=>({name:e.name,order:e.order??0}),"parseBranch"),P5e=l(e=>({branch:e.branch,id:e.id??"",type:e.type!==void 0?Er[e.type]:void 0,tags:e.tags??void 0}),"parseMerge"),B5e=l(e=>e.branch,"parseCheckout"),$5e=l(e=>{var t;return{id:e.id,targetId:"",tags:((t=e.tags)==null?void 0:t.length)===0?void 0:e.tags,parent:e.parent}},"parseCherryPicking"),F5e={parse:l(async e=>{const t=await eh("gitGraph",e);re.debug(t),M5e(t,aie)},"parse")},BB,_n=(BB=ye())==null?void 0:BB.gitGraph,Ji=new Map,sa=new Map,km=new Map,s5=[],Al=0,nr="LR",z5e=l(()=>{Ji.clear(),sa.clear(),km.clear(),Al=0,s5=[],nr="LR"},"clear"),sie=l(e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof e=="string"?e.split(/\\n|\n|<br\s*\/?>/gi):e).forEach(r=>{const n=document.createElementNS("http://www.w3.org/2000/svg","tspan");n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.setAttribute("dy","1em"),n.setAttribute("x","0"),n.setAttribute("class","row"),n.textContent=r.trim(),t.appendChild(n)}),t},"drawText"),oie=l(e=>{let t,r,n;return nr==="BT"?(r=l((i,a)=>i<=a,"comparisonFunc"),n=1/0):(r=l((i,a)=>i>=a,"comparisonFunc"),n=0),e.forEach(i=>{var s,o;const a=nr==="TB"||nr=="BT"?(s=sa.get(i))==null?void 0:s.y:(o=sa.get(i))==null?void 0:o.x;a!==void 0&&r(a,n)&&(t=i,n=a)}),t},"findClosestParent"),U5e=l(e=>{let t="",r=1/0;return e.forEach(n=>{const i=sa.get(n).y;i<=r&&(t=n,r=i)}),t||void 0},"findClosestParentBT"),G5e=l((e,t,r)=>{let n=r,i=r;const a=[];e.forEach(s=>{const o=t.get(s);if(!o)throw new Error(`Commit not found for key ${s}`);o.parents.length?(n=j5e(o),i=Math.max(n,i)):a.push(o),Y5e(o,n)}),n=i,a.forEach(s=>{W5e(s,n,r)}),e.forEach(s=>{const o=t.get(s);if(o!=null&&o.parents.length){const u=U5e(o.parents);n=sa.get(u).y-40,n<=i&&(i=n);const h=Ji.get(o.branch).pos,d=n-10;sa.set(o.id,{x:h,y:d})}})},"setParallelBTPos"),q5e=l(e=>{var n;const t=oie(e.parents.filter(i=>i!==null));if(!t)throw new Error(`Closest parent not found for commit ${e.id}`);const r=(n=sa.get(t))==null?void 0:n.y;if(r===void 0)throw new Error(`Closest parent position not found for commit ${e.id}`);return r},"findClosestParentPos"),j5e=l(e=>q5e(e)+40,"calculateCommitPosition"),Y5e=l((e,t)=>{const r=Ji.get(e.branch);if(!r)throw new Error(`Branch not found for commit ${e.id}`);const n=r.pos,i=t+10;return sa.set(e.id,{x:n,y:i}),{x:n,y:i}},"setCommitPosition"),W5e=l((e,t,r)=>{const n=Ji.get(e.branch);if(!n)throw new Error(`Branch not found for commit ${e.id}`);const i=t+r,a=n.pos;sa.set(e.id,{x:a,y:i})},"setRootPosition"),H5e=l((e,t,r,n,i,a)=>{if(a===Er.HIGHLIGHT)e.append("rect").attr("x",r.x-10).attr("y",r.y-10).attr("width",20).attr("height",20).attr("class",`commit ${t.id} commit-highlight${i%8} ${n}-outer`),e.append("rect").attr("x",r.x-6).attr("y",r.y-6).attr("width",12).attr("height",12).attr("class",`commit ${t.id} commit${i%8} ${n}-inner`);else if(a===Er.CHERRY_PICK)e.append("circle").attr("cx",r.x).attr("cy",r.y).attr("r",10).attr("class",`commit ${t.id} ${n}`),e.append("circle").attr("cx",r.x-3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${n}`),e.append("circle").attr("cx",r.x+3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${n}`),e.append("line").attr("x1",r.x+3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${n}`),e.append("line").attr("x1",r.x-3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${n}`);else{const s=e.append("circle");if(s.attr("cx",r.x),s.attr("cy",r.y),s.attr("r",t.type===Er.MERGE?9:10),s.attr("class",`commit ${t.id} commit${i%8}`),a===Er.MERGE){const o=e.append("circle");o.attr("cx",r.x),o.attr("cy",r.y),o.attr("r",6),o.attr("class",`commit ${n} ${t.id} commit${i%8}`)}a===Er.REVERSE&&e.append("path").attr("d",`M ${r.x-5},${r.y-5}L${r.x+5},${r.y+5}M${r.x-5},${r.y+5}L${r.x+5},${r.y-5}`).attr("class",`commit ${n} ${t.id} commit${i%8}`)}},"drawCommitBullet"),V5e=l((e,t,r,n)=>{var i;if(t.type!==Er.CHERRY_PICK&&(t.customId&&t.type===Er.MERGE||t.type!==Er.MERGE)&&(_n!=null&&_n.showCommitLabel)){const a=e.append("g"),s=a.insert("rect").attr("class","commit-label-bkg"),o=a.append("text").attr("x",n).attr("y",r.y+25).attr("class","commit-label").text(t.id),u=(i=o.node())==null?void 0:i.getBBox();if(u&&(s.attr("x",r.posWithOffset-u.width/2-2).attr("y",r.y+13.5).attr("width",u.width+4).attr("height",u.height+4),nr==="TB"||nr==="BT"?(s.attr("x",r.x-(u.width+16+5)).attr("y",r.y-12),o.attr("x",r.x-(u.width+16)).attr("y",r.y+u.height-12)):o.attr("x",r.posWithOffset-u.width/2),_n.rotateCommitLabel))if(nr==="TB"||nr==="BT")o.attr("transform","rotate(-45, "+r.x+", "+r.y+")"),s.attr("transform","rotate(-45, "+r.x+", "+r.y+")");else{const h=-7.5-(u.width+10)/25*9.5,d=10+u.width/25*8.5;a.attr("transform","translate("+h+", "+d+") rotate(-45, "+n+", "+r.y+")")}}},"drawCommitLabel"),X5e=l((e,t,r,n)=>{var i;if(t.tags.length>0){let a=0,s=0,o=0;const u=[];for(const h of t.tags.reverse()){const d=e.insert("polygon"),p=e.append("circle"),f=e.append("text").attr("y",r.y-16-a).attr("class","tag-label").text(h),g=(i=f.node())==null?void 0:i.getBBox();if(!g)throw new Error("Tag bbox not found");s=Math.max(s,g.width),o=Math.max(o,g.height),f.attr("x",r.posWithOffset-g.width/2),u.push({tag:f,hole:p,rect:d,yOffset:a}),a+=20}for(const{tag:h,hole:d,rect:p,yOffset:f}of u){const g=o/2,m=r.y-19.2-f;if(p.attr("class","tag-label-bkg").attr("points",`
      ${n-s/2-2},${m+2}  
      ${n-s/2-2},${m-2}
      ${r.posWithOffset-s/2-4},${m-g-2}
      ${r.posWithOffset+s/2+4},${m-g-2}
      ${r.posWithOffset+s/2+4},${m+g+2}
      ${r.posWithOffset-s/2-4},${m+g+2}`),d.attr("cy",m).attr("cx",n-s/2+2).attr("r",1.5).attr("class","tag-hole"),nr==="TB"||nr==="BT"){const y=n+f;p.attr("class","tag-label-bkg").attr("points",`
        ${r.x},${y+2}
        ${r.x},${y-2}
        ${r.x+10},${y-g-2}
        ${r.x+10+s+4},${y-g-2}
        ${r.x+10+s+4},${y+g+2}
        ${r.x+10},${y+g+2}`).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),d.attr("cx",r.x+2).attr("cy",y).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),h.attr("x",r.x+5).attr("y",y+3).attr("transform","translate(14,14) rotate(45, "+r.x+","+n+")")}}}},"drawCommitTags"),K5e=l(e=>{switch(e.customType??e.type){case Er.NORMAL:return"commit-normal";case Er.REVERSE:return"commit-reverse";case Er.HIGHLIGHT:return"commit-highlight";case Er.MERGE:return"commit-merge";case Er.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),Z5e=l((e,t,r,n)=>{const i={x:0,y:0};if(!(e.parents.length>0))return t==="TB"?30:t==="BT"?(n.get(e.id)??i).y-40:0;{const a=oie(e.parents);if(a){const s=n.get(a)??i;return t==="TB"?s.y+40:t==="BT"?(n.get(e.id)??i).y-40:s.x+40}}return 0},"calculatePosition"),Q5e=l((e,t,r)=>{var s,o;const n=nr==="BT"&&r?t:t+10,i=nr==="TB"||nr==="BT"?n:(s=Ji.get(e.branch))==null?void 0:s.pos,a=nr==="TB"||nr==="BT"?(o=Ji.get(e.branch))==null?void 0:o.pos:n;if(a===void 0||i===void 0)throw new Error(`Position were undefined for commit ${e.id}`);return{x:a,y:i,posWithOffset:n}},"getCommitPosition"),zO=l((e,t,r)=>{if(!_n)throw new Error("GitGraph config not found");const n=e.append("g").attr("class","commit-bullets"),i=e.append("g").attr("class","commit-labels");let a=nr==="TB"||nr==="BT"?30:0;const s=[...t.keys()],o=(_n==null?void 0:_n.parallelCommits)??!1,u=l((d,p)=>{var m,y;const f=(m=t.get(d))==null?void 0:m.seq,g=(y=t.get(p))==null?void 0:y.seq;return f!==void 0&&g!==void 0?f-g:0},"sortKeys");let h=s.sort(u);nr==="BT"&&(o&&G5e(h,t,a),h=h.reverse()),h.forEach(d=>{var g;const p=t.get(d);if(!p)throw new Error(`Commit not found for key ${d}`);o&&(a=Z5e(p,nr,a,sa));const f=Q5e(p,a,o);if(r){const m=K5e(p),y=p.customType??p.type,v=((g=Ji.get(p.branch))==null?void 0:g.index)??0;H5e(n,p,f,m,v,y),V5e(i,p,f,a),X5e(i,p,f,a)}nr==="TB"||nr==="BT"?sa.set(p.id,{x:f.x,y:f.posWithOffset}):sa.set(p.id,{x:f.posWithOffset,y:f.y}),a=nr==="BT"&&o?a+40:a+40+10,a>Al&&(Al=a)})},"drawCommits"),J5e=l((e,t,r,n,i)=>{const a=(nr==="TB"||nr==="BT"?r.x<n.x:r.y<n.y)?t.branch:e.branch,s=l(u=>u.branch===a,"isOnBranchToGetCurve"),o=l(u=>u.seq>e.seq&&u.seq<t.seq,"isBetweenCommits");return[...i.values()].some(u=>o(u)&&s(u))},"shouldRerouteArrow"),Tm=l((e,t,r=0)=>{const n=e+Math.abs(e-t)/2;if(r>5)return n;if(s5.every(a=>Math.abs(a-n)>=10))return s5.push(n),n;const i=Math.abs(e-t);return Tm(e,t-i/5,r+1)},"findLane"),e6e=l((e,t,r,n)=>{var g,m,y,v,x;const i=sa.get(t.id),a=sa.get(r.id);if(i===void 0||a===void 0)throw new Error(`Commit positions not found for commits ${t.id} and ${r.id}`);const s=J5e(t,r,i,a,n);let o,u="",h="",d=0,p=0,f=(g=Ji.get(r.branch))==null?void 0:g.index;if(r.type===Er.MERGE&&t.id!==r.parents[0]&&(f=(m=Ji.get(t.branch))==null?void 0:m.index),s){u="A 10 10, 0, 0, 0,",h="A 10 10, 0, 0, 1,",d=10,p=10;const b=i.y<a.y?Tm(i.y,a.y):Tm(a.y,i.y),w=i.x<a.x?Tm(i.x,a.x):Tm(a.x,i.x);nr==="TB"?i.x<a.x?o=`M ${i.x} ${i.y} L ${w-d} ${i.y} ${h} ${w} ${i.y+p} L ${w} ${a.y-d} ${u} ${w+p} ${a.y} L ${a.x} ${a.y}`:(f=(y=Ji.get(t.branch))==null?void 0:y.index,o=`M ${i.x} ${i.y} L ${w+d} ${i.y} ${u} ${w} ${i.y+p} L ${w} ${a.y-d} ${h} ${w-p} ${a.y} L ${a.x} ${a.y}`):nr==="BT"?i.x<a.x?o=`M ${i.x} ${i.y} L ${w-d} ${i.y} ${u} ${w} ${i.y-p} L ${w} ${a.y+d} ${h} ${w+p} ${a.y} L ${a.x} ${a.y}`:(f=(v=Ji.get(t.branch))==null?void 0:v.index,o=`M ${i.x} ${i.y} L ${w+d} ${i.y} ${h} ${w} ${i.y-p} L ${w} ${a.y+d} ${u} ${w-p} ${a.y} L ${a.x} ${a.y}`):i.y<a.y?o=`M ${i.x} ${i.y} L ${i.x} ${b-d} ${u} ${i.x+p} ${b} L ${a.x-d} ${b} ${h} ${a.x} ${b+p} L ${a.x} ${a.y}`:(f=(x=Ji.get(t.branch))==null?void 0:x.index,o=`M ${i.x} ${i.y} L ${i.x} ${b+d} ${h} ${i.x+p} ${b} L ${a.x-d} ${b} ${u} ${a.x} ${b-p} L ${a.x} ${a.y}`)}else u="A 20 20, 0, 0, 0,",h="A 20 20, 0, 0, 1,",d=20,p=20,nr==="TB"?(i.x<a.x&&(o=r.type===Er.MERGE&&t.id!==r.parents[0]?`M ${i.x} ${i.y} L ${i.x} ${a.y-d} ${u} ${i.x+p} ${a.y} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${a.x-d} ${i.y} ${h} ${a.x} ${i.y+p} L ${a.x} ${a.y}`),i.x>a.x&&(u="A 20 20, 0, 0, 0,",h="A 20 20, 0, 0, 1,",d=20,p=20,o=r.type===Er.MERGE&&t.id!==r.parents[0]?`M ${i.x} ${i.y} L ${i.x} ${a.y-d} ${h} ${i.x-p} ${a.y} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${a.x+d} ${i.y} ${u} ${a.x} ${i.y+p} L ${a.x} ${a.y}`),i.x===a.x&&(o=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):nr==="BT"?(i.x<a.x&&(o=r.type===Er.MERGE&&t.id!==r.parents[0]?`M ${i.x} ${i.y} L ${i.x} ${a.y+d} ${h} ${i.x+p} ${a.y} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${a.x-d} ${i.y} ${u} ${a.x} ${i.y-p} L ${a.x} ${a.y}`),i.x>a.x&&(u="A 20 20, 0, 0, 0,",h="A 20 20, 0, 0, 1,",d=20,p=20,o=r.type===Er.MERGE&&t.id!==r.parents[0]?`M ${i.x} ${i.y} L ${i.x} ${a.y+d} ${u} ${i.x-p} ${a.y} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${a.x-d} ${i.y} ${u} ${a.x} ${i.y-p} L ${a.x} ${a.y}`),i.x===a.x&&(o=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):(i.y<a.y&&(o=r.type===Er.MERGE&&t.id!==r.parents[0]?`M ${i.x} ${i.y} L ${a.x-d} ${i.y} ${h} ${a.x} ${i.y+p} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${i.x} ${a.y-d} ${u} ${i.x+p} ${a.y} L ${a.x} ${a.y}`),i.y>a.y&&(o=r.type===Er.MERGE&&t.id!==r.parents[0]?`M ${i.x} ${i.y} L ${a.x-d} ${i.y} ${u} ${a.x} ${i.y-p} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${i.x} ${a.y+d} ${h} ${i.x+p} ${a.y} L ${a.x} ${a.y}`),i.y===a.y&&(o=`M ${i.x} ${i.y} L ${a.x} ${a.y}`));if(o===void 0)throw new Error("Line definition not found");e.append("path").attr("d",o).attr("class","arrow arrow"+f%8)},"drawArrow"),t6e=l((e,t)=>{const r=e.append("g").attr("class","commit-arrows");[...t.keys()].forEach(n=>{const i=t.get(n);i.parents&&i.parents.length>0&&i.parents.forEach(a=>{e6e(r,t.get(a),i,t)})})},"drawArrows"),r6e=l((e,t)=>{const r=e.append("g");t.forEach((n,i)=>{var g;const a=i%8,s=(g=Ji.get(n.name))==null?void 0:g.pos;if(s===void 0)throw new Error(`Position not found for branch ${n.name}`);const o=r.append("line");o.attr("x1",0),o.attr("y1",s),o.attr("x2",Al),o.attr("y2",s),o.attr("class","branch branch"+a),nr==="TB"?(o.attr("y1",30),o.attr("x1",s),o.attr("y2",Al),o.attr("x2",s)):nr==="BT"&&(o.attr("y1",Al),o.attr("x1",s),o.attr("y2",30),o.attr("x2",s)),s5.push(s);const u=n.name,h=sie(u),d=r.insert("rect"),p=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+a);p.node().appendChild(h);const f=h.getBBox();d.attr("class","branchLabelBkg label"+a).attr("rx",4).attr("ry",4).attr("x",-f.width-4-((_n==null?void 0:_n.rotateCommitLabel)===!0?30:0)).attr("y",-f.height/2+8).attr("width",f.width+18).attr("height",f.height+4),p.attr("transform","translate("+(-f.width-14-((_n==null?void 0:_n.rotateCommitLabel)===!0?30:0))+", "+(s-f.height/2-1)+")"),nr==="TB"?(d.attr("x",s-f.width/2-10).attr("y",0),p.attr("transform","translate("+(s-f.width/2-5)+", 0)")):nr==="BT"?(d.attr("x",s-f.width/2-10).attr("y",Al),p.attr("transform","translate("+(s-f.width/2-5)+", "+Al+")")):d.attr("transform","translate(-19, "+(s-f.height/2)+")")})},"drawBranches"),n6e=l(function(e,t,r,n,i){return Ji.set(e,{pos:t,index:r}),t+=50+(i?40:0)+(nr==="TB"||nr==="BT"?n.width/2:0)},"setBranchPosition"),i6e=l(function(e,t,r,n){if(z5e(),re.debug("in gitgraph renderer",e+`
`,"id:",t,r),!_n)throw new Error("GitGraph config not found");const i=_n.rotateCommitLabel??!1,a=n.db;km=a.getCommits();const s=a.getBranchesAsObjArray();nr=a.getDirection();const o=Qe(`[id="${t}"]`);let u=0;s.forEach((h,d)=>{var v;const p=sie(h.name),f=o.append("g"),g=f.insert("g").attr("class","branchLabel"),m=g.insert("g").attr("class","label branch-label");(v=m.node())==null||v.appendChild(p);const y=p.getBBox();u=n6e(h.name,u,d,y,i),m.remove(),g.remove(),f.remove()}),zO(o,km,!1),_n.showBranches&&r6e(o,s),t6e(o,km),zO(o,km,!0),Yt.insertTitle(o,"gitTitleText",_n.titleTopMargin??0,a.getDiagramTitle()),g$(void 0,o,_n.diagramPadding,_n.useMaxWidth)},"draw"),a6e={draw:i6e},s6e=l(e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),o6e={parser:F5e,db:aie,renderer:a6e,styles:s6e},l6e=Object.freeze({__proto__:null,diagram:o6e}),c6e=qn({"../../node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/plugin/isoWeek.js"(e,t){(function(r,n){typeof e=="object"&&t!==void 0?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_isoWeek=n()})(e,function(){var r="day";return function(n,i,a){var s=l(function(h){return h.add(4-h.isoWeekday(),r)},"a"),o=i.prototype;o.isoWeekYear=function(){return s(this).year()},o.isoWeek=function(h){if(!this.$utils().u(h))return this.add(7*(h-this.isoWeek()),r);var d,p,f,g=s(this),m=(d=this.isoWeekYear(),f=4-(p=(this.$u?a.utc:a)().year(d).startOf("year")).isoWeekday(),p.isoWeekday()>4&&(f+=7),p.add(f,r));return g.diff(m,"week")+1},o.isoWeekday=function(h){return this.$utils().u(h)?this.day()||7:this.day(this.day()%7?h:h-7)};var u=o.startOf;o.startOf=function(h,d){var p=this.$utils(),f=!!p.u(d)||d;return p.p(h)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):u.bind(this)(h,d)}}})}}),u6e=qn({"../../node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/plugin/customParseFormat.js"(e,t){(function(r,n){typeof e=="object"&&t!==void 0?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_customParseFormat=n()})(e,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,a=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,u={},h=l(function(v){return(v=+v)+(v>68?1900:2e3)},"a"),d=l(function(v){return function(x){this[v]=+x}},"f"),p=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=function(x){if(!x||x==="Z")return 0;var b=x.match(/([+-]|\d\d)/g),w=60*b[1]+(+b[2]||0);return w===0?0:b[0]==="+"?-w:w}(v)}],f=l(function(v){var x=u[v];return x&&(x.indexOf?x:x.s.concat(x.f))},"u"),g=l(function(v,x){var b,w=u.meridiem;if(w){for(var T=1;T<=24;T+=1)if(v.indexOf(w(T,0,x))>-1){b=T>12;break}}else b=v===(x?"pm":"PM");return b},"d"),m={A:[o,function(v){this.afternoon=g(v,!1)}],a:[o,function(v){this.afternoon=g(v,!0)}],Q:[i,function(v){this.month=3*(v-1)+1}],S:[i,function(v){this.milliseconds=100*+v}],SS:[a,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[s,d("seconds")],ss:[s,d("seconds")],m:[s,d("minutes")],mm:[s,d("minutes")],H:[s,d("hours")],h:[s,d("hours")],HH:[s,d("hours")],hh:[s,d("hours")],D:[s,d("day")],DD:[a,d("day")],Do:[o,function(v){var x=u.ordinal,b=v.match(/\d+/);if(this.day=b[0],x)for(var w=1;w<=31;w+=1)x(w).replace(/\[|\]/g,"")===v&&(this.day=w)}],w:[s,d("week")],ww:[a,d("week")],M:[s,d("month")],MM:[a,d("month")],MMM:[o,function(v){var x=f("months"),b=(f("monthsShort")||x.map(function(w){return w.slice(0,3)})).indexOf(v)+1;if(b<1)throw new Error;this.month=b%12||b}],MMMM:[o,function(v){var x=f("months").indexOf(v)+1;if(x<1)throw new Error;this.month=x%12||x}],Y:[/[+-]?\d+/,d("year")],YY:[a,function(v){this.year=h(v)}],YYYY:[/\d{4}/,d("year")],Z:p,ZZ:p};function y(v){var x,b;x=v,b=u&&u.formats;for(var w=(v=x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(L,D,B){var S=B&&B.toUpperCase();return D||b[B]||r[B]||b[S].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(N,A,M){return A||M.slice(1)})})).match(n),T=w.length,k=0;k<T;k+=1){var R=w[k],C=m[R],E=C&&C[0],_=C&&C[1];w[k]=_?{regex:E,parser:_}:R.replace(/^\[|\]$/g,"")}return function(L){for(var D={},B=0,S=0;B<T;B+=1){var N=w[B];if(typeof N=="string")S+=N.length;else{var A=N.regex,M=N.parser,O=L.slice(S),I=A.exec(O)[0];M.call(D,I),L=L.replace(I,"")}}return function(P){var $=P.afternoon;if($!==void 0){var z=P.hours;$?z<12&&(P.hours+=12):z===12&&(P.hours=0),delete P.afternoon}}(D),D}}return l(y,"l"),function(v,x,b){b.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(h=v.parseTwoDigitYear);var w=x.prototype,T=w.parse;w.parse=function(k){var R=k.date,C=k.utc,E=k.args;this.$u=C;var _=E[1];if(typeof _=="string"){var L=E[2]===!0,D=E[3]===!0,B=L||D,S=E[2];D&&(S=E[2]),u=this.$locale(),!L&&S&&(u=b.Ls[S]),this.$d=function(O,I,P,$){try{if(["x","X"].indexOf(I)>-1)return new Date((I==="X"?1e3:1)*O);var z=y(I)(O),G=z.year,q=z.month,J=z.day,ie=z.hours,te=z.minutes,W=z.seconds,H=z.milliseconds,X=z.zone,Q=z.week,ne=new Date,ee=J||(G||q?1:ne.getDate()),pe=G||ne.getFullYear(),j=0;G&&!q||(j=q>0?q-1:ne.getMonth());var ce,le=ie||0,Ae=te||0,Se=W||0,ze=H||0;return X?new Date(Date.UTC(pe,j,ee,le,Ae,Se,ze+60*X.offset*1e3)):P?new Date(Date.UTC(pe,j,ee,le,Ae,Se,ze)):(ce=new Date(pe,j,ee,le,Ae,Se,ze),Q&&(ce=$(ce).week(Q).toDate()),ce)}catch{return new Date("")}}(R,_,C,b),this.init(),S&&S!==!0&&(this.$L=this.locale(S).$L),B&&R!=this.format(_)&&(this.$d=new Date("")),u={}}else if(_ instanceof Array)for(var N=_.length,A=1;A<=N;A+=1){E[1]=_[A-1];var M=b.apply(this,E);if(M.isValid()){this.$d=M.$d,this.$L=M.$L,this.init();break}A===N&&(this.$d=new Date(""))}else T.call(this,k)}}})}}),h6e=qn({"../../node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/plugin/advancedFormat.js"(e,t){(function(r,n){typeof e=="object"&&t!==void 0?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_advancedFormat=n()})(e,function(){return function(r,n){var i=n.prototype,a=i.format;i.format=function(s){var o=this,u=this.$locale();if(!this.isValid())return a.bind(this)(s);var h=this.$utils(),d=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(p){switch(p){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return u.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return u.ordinal(o.week(),"W");case"w":case"ww":return h.s(o.week(),p==="w"?1:2,"0");case"W":case"WW":return h.s(o.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return h.s(String(o.$H===0?24:o.$H),p==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return p}});return a.bind(this)(d)}}})}}),hC=function(){var e=l(function(S,N,A,M){for(A=A||{},M=S.length;M--;A[S[M]]=N);return A},"o"),t=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],n=[1,27],i=[1,28],a=[1,29],s=[1,30],o=[1,31],u=[1,32],h=[1,33],d=[1,34],p=[1,9],f=[1,10],g=[1,11],m=[1,12],y=[1,13],v=[1,14],x=[1,15],b=[1,16],w=[1,19],T=[1,20],k=[1,21],R=[1,22],C=[1,23],E=[1,25],_=[1,35],L={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:l(function(S,N,A,M,O,I,P){var $=I.length-1;switch(O){case 1:return I[$-1];case 2:case 6:case 7:this.$=[];break;case 3:I[$-1].push(I[$]),this.$=I[$-1];break;case 4:case 5:this.$=I[$];break;case 8:M.setWeekday("monday");break;case 9:M.setWeekday("tuesday");break;case 10:M.setWeekday("wednesday");break;case 11:M.setWeekday("thursday");break;case 12:M.setWeekday("friday");break;case 13:M.setWeekday("saturday");break;case 14:M.setWeekday("sunday");break;case 15:M.setWeekend("friday");break;case 16:M.setWeekend("saturday");break;case 17:M.setDateFormat(I[$].substr(11)),this.$=I[$].substr(11);break;case 18:M.enableInclusiveEndDates(),this.$=I[$].substr(18);break;case 19:M.TopAxis(),this.$=I[$].substr(8);break;case 20:M.setAxisFormat(I[$].substr(11)),this.$=I[$].substr(11);break;case 21:M.setTickInterval(I[$].substr(13)),this.$=I[$].substr(13);break;case 22:M.setExcludes(I[$].substr(9)),this.$=I[$].substr(9);break;case 23:M.setIncludes(I[$].substr(9)),this.$=I[$].substr(9);break;case 24:M.setTodayMarker(I[$].substr(12)),this.$=I[$].substr(12);break;case 27:M.setDiagramTitle(I[$].substr(6)),this.$=I[$].substr(6);break;case 28:this.$=I[$].trim(),M.setAccTitle(this.$);break;case 29:case 30:this.$=I[$].trim(),M.setAccDescription(this.$);break;case 31:M.addSection(I[$].substr(8)),this.$=I[$].substr(8);break;case 33:M.addTask(I[$-1],I[$]),this.$="task";break;case 34:this.$=I[$-1],M.setClickEvent(I[$-1],I[$],null);break;case 35:this.$=I[$-2],M.setClickEvent(I[$-2],I[$-1],I[$]);break;case 36:this.$=I[$-2],M.setClickEvent(I[$-2],I[$-1],null),M.setLink(I[$-2],I[$]);break;case 37:this.$=I[$-3],M.setClickEvent(I[$-3],I[$-2],I[$-1]),M.setLink(I[$-3],I[$]);break;case 38:this.$=I[$-2],M.setClickEvent(I[$-2],I[$],null),M.setLink(I[$-2],I[$-1]);break;case 39:this.$=I[$-3],M.setClickEvent(I[$-3],I[$-1],I[$]),M.setLink(I[$-3],I[$-2]);break;case 40:this.$=I[$-1],M.setLink(I[$-1],I[$]);break;case 41:case 47:this.$=I[$-1]+" "+I[$];break;case 42:case 43:case 45:this.$=I[$-2]+" "+I[$-1]+" "+I[$];break;case 44:case 46:this.$=I[$-3]+" "+I[$-2]+" "+I[$-1]+" "+I[$]}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:n,14:i,15:a,16:s,17:o,18:u,19:18,20:h,21:d,22:p,23:f,24:g,25:m,26:y,27:v,28:x,29:b,30:w,31:T,33:k,35:R,36:C,37:24,38:E,40:_},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:36,11:17,12:r,13:n,14:i,15:a,16:s,17:o,18:u,19:18,20:h,21:d,22:p,23:f,24:g,25:m,26:y,27:v,28:x,29:b,30:w,31:T,33:k,35:R,36:C,37:24,38:E,40:_},e(t,[2,5]),e(t,[2,6]),e(t,[2,17]),e(t,[2,18]),e(t,[2,19]),e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),e(t,[2,23]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),e(t,[2,27]),{32:[1,37]},{34:[1,38]},e(t,[2,30]),e(t,[2,31]),e(t,[2,32]),{39:[1,39]},e(t,[2,8]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),{41:[1,40],43:[1,41]},e(t,[2,4]),e(t,[2,28]),e(t,[2,29]),e(t,[2,33]),e(t,[2,34],{42:[1,42],43:[1,43]}),e(t,[2,40],{41:[1,44]}),e(t,[2,35],{43:[1,45]}),e(t,[2,36]),e(t,[2,38],{42:[1,46]}),e(t,[2,37]),e(t,[2,39])],defaultActions:{},parseError:l(function(S,N){if(!N.recoverable){var A=new Error(S);throw A.hash=N,A}this.trace(S)},"parseError"),parse:l(function(S){var N=this,A=[0],M=[],O=[null],I=[],P=this.table,$="",z=0,G=0,q=2,J=1,ie=I.slice.call(arguments,1),te=Object.create(this.lexer),W={yy:{}};for(var H in this.yy)Object.prototype.hasOwnProperty.call(this.yy,H)&&(W.yy[H]=this.yy[H]);te.setInput(S,W.yy),W.yy.lexer=te,W.yy.parser=this,te.yylloc===void 0&&(te.yylloc={});var X=te.yylloc;I.push(X);var Q=te.options&&te.options.ranges;function ne(Ge){A.length=A.length-2*Ge,O.length=O.length-Ge,I.length=I.length-Ge}function ee(){var Ge;return typeof(Ge=M.pop()||te.lex()||J)!="number"&&(Ge instanceof Array&&(Ge=(M=Ge).pop()),Ge=N.symbols_[Ge]||Ge),Ge}typeof W.yy.parseError=="function"?this.parseError=W.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,l(ne,"popStack"),l(ee,"lex");for(var pe,j,ce,le,Ae,Se,ze,Pe,Ve={};;){if(j=A[A.length-1],this.defaultActions[j]?ce=this.defaultActions[j]:(pe==null&&(pe=ee()),ce=P[j]&&P[j][pe]),ce===void 0||!ce.length||!ce[0]){var Ue="";for(Ae in Pe=[],P[j])this.terminals_[Ae]&&Ae>q&&Pe.push("'"+this.terminals_[Ae]+"'");Ue=te.showPosition?"Parse error on line "+(z+1)+`:
`+te.showPosition()+`
Expecting `+Pe.join(", ")+", got '"+(this.terminals_[pe]||pe)+"'":"Parse error on line "+(z+1)+": Unexpected "+(pe==J?"end of input":"'"+(this.terminals_[pe]||pe)+"'"),this.parseError(Ue,{text:te.match,token:this.terminals_[pe]||pe,line:te.yylineno,loc:X,expected:Pe})}if(ce[0]instanceof Array&&ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+j+", token: "+pe);switch(ce[0]){case 1:A.push(pe),O.push(te.yytext),I.push(te.yylloc),A.push(ce[1]),pe=null,G=te.yyleng,$=te.yytext,z=te.yylineno,X=te.yylloc;break;case 2:if(Se=this.productions_[ce[1]][1],Ve.$=O[O.length-Se],Ve._$={first_line:I[I.length-(Se||1)].first_line,last_line:I[I.length-1].last_line,first_column:I[I.length-(Se||1)].first_column,last_column:I[I.length-1].last_column},Q&&(Ve._$.range=[I[I.length-(Se||1)].range[0],I[I.length-1].range[1]]),(le=this.performAction.apply(Ve,[$,G,z,W.yy,ce[1],O,I].concat(ie)))!==void 0)return le;Se&&(A=A.slice(0,-1*Se*2),O=O.slice(0,-1*Se),I=I.slice(0,-1*Se)),A.push(this.productions_[ce[1]][0]),O.push(Ve.$),I.push(Ve._$),ze=P[A[A.length-2]][A[A.length-1]],A.push(ze);break;case 3:return!0}}return!0},"parse")},D=function(){var S={EOF:1,parseError:l(function(N,A){if(!this.yy.parser)throw new Error(N);this.yy.parser.parseError(N,A)},"parseError"),setInput:l(function(N,A){return this.yy=A||this.yy||{},this._input=N,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var N=this._input[0];return this.yytext+=N,this.yyleng++,this.offset++,this.match+=N,this.matched+=N,N.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),N},"input"),unput:l(function(N){var A=N.length,M=N.split(/(?:\r\n?|\n)/g);this._input=N+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-A),this.offset-=A;var O=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),M.length-1&&(this.yylineno-=M.length-1);var I=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:M?(M.length===O.length?this.yylloc.first_column:0)+O[O.length-M.length].length-M[0].length:this.yylloc.first_column-A},this.options.ranges&&(this.yylloc.range=[I[0],I[0]+this.yyleng-A]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:l(function(N){this.unput(this.match.slice(N))},"less"),pastInput:l(function(){var N=this.matched.substr(0,this.matched.length-this.match.length);return(N.length>20?"...":"")+N.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var N=this.match;return N.length<20&&(N+=this._input.substr(0,20-N.length)),(N.substr(0,20)+(N.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var N=this.pastInput(),A=new Array(N.length+1).join("-");return N+this.upcomingInput()+`
`+A+"^"},"showPosition"),test_match:l(function(N,A){var M,O,I;if(this.options.backtrack_lexer&&(I={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(I.yylloc.range=this.yylloc.range.slice(0))),(O=N[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=O.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:O?O[O.length-1].length-O[O.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+N[0].length},this.yytext+=N[0],this.match+=N[0],this.matches=N,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(N[0].length),this.matched+=N[0],M=this.performAction.call(this,this.yy,this,A,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),M)return M;if(this._backtrack){for(var P in I)this[P]=I[P];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;var N,A,M,O;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var I=this._currentRules(),P=0;P<I.length;P++)if((M=this._input.match(this.rules[I[P]]))&&(!A||M[0].length>A[0].length)){if(A=M,O=P,this.options.backtrack_lexer){if((N=this.test_match(M,I[P]))!==!1)return N;if(this._backtrack){A=!1;continue}return!1}if(!this.options.flex)break}return A?(N=this.test_match(A,I[O]))!==!1&&N:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var N=this.next();return N||this.lex()},"lex"),begin:l(function(N){this.conditionStack.push(N)},"begin"),popState:l(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(N){return(N=this.conditionStack.length-1-Math.abs(N||0))>=0?this.conditionStack[N]:"INITIAL"},"topState"),pushState:l(function(N){this.begin(N)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(N,A,M,O){switch(M){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:case 15:case 18:case 21:case 24:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:case 9:case 10:case 12:case 13:break;case 11:return 10;case 14:this.begin("href");break;case 16:return 43;case 17:this.begin("callbackname");break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 22:return 42;case 23:this.begin("click");break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return S}();function B(){this.yy={}}return L.lexer=D,l(B,"Parser"),B.prototype=L,L.Parser=B,new B}();hC.parser=hC;var d6e=hC,p6e=Ei(C2()),Qa=Ei(PS()),f6e=Ei(c6e()),g6e=Ei(u6e()),m6e=Ei(h6e());Qa.default.extend(f6e.default),Qa.default.extend(g6e.default),Qa.default.extend(m6e.default);var dC,ib,UO={friday:5,saturday:6},eo="",nN="",iN=void 0,aN="",J2=[],ev=[],sN=new Map,oN=[],lN=[],c0="",cN="",lie=["active","done","crit","milestone"],uN=[],tv=!1,hN=!1,dN="sunday",o5="saturday",pC=0,y6e=l(function(){oN=[],lN=[],c0="",uN=[],pie=0,dC=void 0,ib=void 0,Nn=[],eo="",nN="",cN="",iN=void 0,aN="",J2=[],ev=[],tv=!1,hN=!1,pC=0,sN=new Map,Hn(),dN="sunday",o5="saturday"},"clear"),v6e=l(function(e){nN=e},"setAxisFormat"),x6e=l(function(){return nN},"getAxisFormat"),b6e=l(function(e){iN=e},"setTickInterval"),w6e=l(function(){return iN},"getTickInterval"),k6e=l(function(e){aN=e},"setTodayMarker"),T6e=l(function(){return aN},"getTodayMarker"),_6e=l(function(e){eo=e},"setDateFormat"),E6e=l(function(){tv=!0},"enableInclusiveEndDates"),C6e=l(function(){return tv},"endDatesAreInclusive"),S6e=l(function(){hN=!0},"enableTopAxis"),A6e=l(function(){return hN},"topAxisEnabled"),L6e=l(function(e){cN=e},"setDisplayMode"),N6e=l(function(){return cN},"getDisplayMode"),I6e=l(function(){return eo},"getDateFormat"),M6e=l(function(e){J2=e.toLowerCase().split(/[\s,]+/)},"setIncludes"),R6e=l(function(){return J2},"getIncludes"),D6e=l(function(e){ev=e.toLowerCase().split(/[\s,]+/)},"setExcludes"),O6e=l(function(){return ev},"getExcludes"),P6e=l(function(){return sN},"getLinks"),B6e=l(function(e){c0=e,oN.push(e)},"addSection"),$6e=l(function(){return oN},"getSections"),F6e=l(function(){let e=GO(),t=0;for(;!e&&t<10;)e=GO(),t++;return lN=Nn},"getTasks"),cie=l(function(e,t,r,n){return!n.includes(e.format(t.trim()))&&(!(!r.includes("weekends")||e.isoWeekday()!==UO[o5]&&e.isoWeekday()!==UO[o5]+1)||!!r.includes(e.format("dddd").toLowerCase())||r.includes(e.format(t.trim())))},"isInvalidDate"),z6e=l(function(e){dN=e},"setWeekday"),U6e=l(function(){return dN},"getWeekday"),G6e=l(function(e){o5=e},"setWeekend"),uie=l(function(e,t,r,n){if(!r.length||e.manualEndTime)return;let i,a;i=e.startTime instanceof Date?(0,Qa.default)(e.startTime):(0,Qa.default)(e.startTime,t,!0),i=i.add(1,"d"),a=e.endTime instanceof Date?(0,Qa.default)(e.endTime):(0,Qa.default)(e.endTime,t,!0);const[s,o]=q6e(i,a,t,r,n);e.endTime=s.toDate(),e.renderEndTime=o},"checkTaskDates"),q6e=l(function(e,t,r,n,i){let a=!1,s=null;for(;e<=t;)a||(s=t.toDate()),a=cie(e,r,n,i),a&&(t=t.add(1,"d")),e=e.add(1,"d");return[t,s]},"fixTaskDates"),fC=l(function(e,t,r){r=r.trim();const n=/^after\s+(?<ids>[\d\w- ]+)/.exec(r);if(n!==null){let a=null;for(const o of n.groups.ids.split(" ")){let u=_h(o);u!==void 0&&(!a||u.endTime>a.endTime)&&(a=u)}if(a)return a.endTime;const s=new Date;return s.setHours(0,0,0,0),s}let i=(0,Qa.default)(r,t.trim(),!0);if(i.isValid())return i.toDate();{re.debug("Invalid date:"+r),re.debug("With date format:"+t.trim());const a=new Date(r);if(a===void 0||isNaN(a.getTime())||a.getFullYear()<-1e4||a.getFullYear()>1e4)throw new Error("Invalid date:"+r);return a}},"getStartDate"),hie=l(function(e){const t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return t!==null?[Number.parseFloat(t[1]),t[2]]:[NaN,"ms"]},"parseDuration"),die=l(function(e,t,r,n=!1){r=r.trim();const i=/^until\s+(?<ids>[\d\w- ]+)/.exec(r);if(i!==null){let h=null;for(const p of i.groups.ids.split(" ")){let f=_h(p);f!==void 0&&(!h||f.startTime<h.startTime)&&(h=f)}if(h)return h.startTime;const d=new Date;return d.setHours(0,0,0,0),d}let a=(0,Qa.default)(r,t.trim(),!0);if(a.isValid())return n&&(a=a.add(1,"d")),a.toDate();let s=(0,Qa.default)(e);const[o,u]=hie(r);if(!Number.isNaN(o)){const h=s.add(o,u);h.isValid()&&(s=h)}return s.toDate()},"getEndDate"),pie=0,xd=l(function(e){return e===void 0?"task"+(pie+=1):e},"parseId"),j6e=l(function(e,t){let r;r=t.substr(0,1)===":"?t.substr(1,t.length):t;const n=r.split(","),i={};pN(n,i,lie);for(let s=0;s<n.length;s++)n[s]=n[s].trim();let a="";switch(n.length){case 1:i.id=xd(),i.startTime=e.endTime,a=n[0];break;case 2:i.id=xd(),i.startTime=fC(void 0,eo,n[0]),a=n[1];break;case 3:i.id=xd(n[0]),i.startTime=fC(void 0,eo,n[1]),a=n[2]}return a&&(i.endTime=die(i.startTime,eo,a,tv),i.manualEndTime=(0,Qa.default)(a,"YYYY-MM-DD",!0).isValid(),uie(i,eo,ev,J2)),i},"compileData"),Y6e=l(function(e,t){let r;r=t.substr(0,1)===":"?t.substr(1,t.length):t;const n=r.split(","),i={};pN(n,i,lie);for(let a=0;a<n.length;a++)n[a]=n[a].trim();switch(n.length){case 1:i.id=xd(),i.startTime={type:"prevTaskEnd",id:e},i.endTime={data:n[0]};break;case 2:i.id=xd(),i.startTime={type:"getStartDate",startData:n[0]},i.endTime={data:n[1]};break;case 3:i.id=xd(n[0]),i.startTime={type:"getStartDate",startData:n[1]},i.endTime={data:n[2]}}return i},"parseData"),Nn=[],fie={},W6e=l(function(e,t){const r={section:c0,type:c0,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},n=Y6e(ib,t);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=ib,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.order=pC,pC++;const i=Nn.push(r);ib=r.id,fie[r.id]=i-1},"addTask"),_h=l(function(e){const t=fie[e];return Nn[t]},"findTaskById"),H6e=l(function(e,t){const r={section:c0,type:c0,description:e,task:e,classes:[]},n=j6e(dC,t);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,dC=r,lN.push(r)},"addTaskOrg"),GO=l(function(){const e=l(function(r){const n=Nn[r];let i="";switch(Nn[r].raw.startTime.type){case"prevTaskEnd":{const a=_h(n.prevTaskId);n.startTime=a.endTime;break}case"getStartDate":i=fC(void 0,eo,Nn[r].raw.startTime.startData),i&&(Nn[r].startTime=i)}return Nn[r].startTime&&(Nn[r].endTime=die(Nn[r].startTime,eo,Nn[r].raw.endTime.data,tv),Nn[r].endTime&&(Nn[r].processed=!0,Nn[r].manualEndTime=(0,Qa.default)(Nn[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),uie(Nn[r],eo,ev,J2))),Nn[r].processed},"compileTask");let t=!0;for(const[r,n]of Nn.entries())e(r),t=t&&n.processed;return t},"compileTasks"),V6e=l(function(e,t){let r=t;ye().securityLevel!=="loose"&&(r=(0,p6e.sanitizeUrl)(t)),e.split(",").forEach(function(n){_h(n)!==void 0&&(mie(n,()=>{window.open(r,"_self")}),sN.set(n,r))}),gie(e,"clickable")},"setLink"),gie=l(function(e,t){e.split(",").forEach(function(r){let n=_h(r);n!==void 0&&n.classes.push(t)})},"setClass"),X6e=l(function(e,t,r){if(ye().securityLevel!=="loose"||t===void 0)return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let i=0;i<n.length;i++){let a=n[i].trim();a.startsWith('"')&&a.endsWith('"')&&(a=a.substr(1,a.length-2)),n[i]=a}}n.length===0&&n.push(e),_h(e)!==void 0&&mie(e,()=>{Yt.runFunc(t,...n)})},"setClickFun"),mie=l(function(e,t){uN.push(function(){const r=document.querySelector(`[id="${e}"]`);r!==null&&r.addEventListener("click",function(){t()})},function(){const r=document.querySelector(`[id="${e}-text"]`);r!==null&&r.addEventListener("click",function(){t()})})},"pushFun"),K6e=l(function(e,t,r){e.split(",").forEach(function(n){X6e(n,t,r)}),gie(e,"clickable")},"setClickEvent"),Z6e=l(function(e){uN.forEach(function(t){t(e)})},"bindFunctions"),Q6e={getConfig:l(()=>ye().gantt,"getConfig"),clear:y6e,setDateFormat:_6e,getDateFormat:I6e,enableInclusiveEndDates:E6e,endDatesAreInclusive:C6e,enableTopAxis:S6e,topAxisEnabled:A6e,setAxisFormat:v6e,getAxisFormat:x6e,setTickInterval:b6e,getTickInterval:w6e,setTodayMarker:k6e,getTodayMarker:T6e,setAccTitle:Vn,getAccTitle:ci,setDiagramTitle:Fi,getDiagramTitle:di,setDisplayMode:L6e,getDisplayMode:N6e,setAccDescription:ui,getAccDescription:hi,addSection:B6e,getSections:$6e,getTasks:F6e,addTask:W6e,findTaskById:_h,addTaskOrg:H6e,setIncludes:M6e,getIncludes:R6e,setExcludes:D6e,getExcludes:O6e,setClickEvent:K6e,setLink:V6e,getLinks:P6e,bindFunctions:Z6e,parseDuration:hie,isInvalidDate:cie,setWeekday:z6e,getWeekday:U6e,setWeekend:G6e};function pN(e,t,r){let n=!0;for(;n;)n=!1,r.forEach(function(i){const a=new RegExp("^\\s*"+i+"\\s*$");e[0].match(a)&&(t[i]=!0,e.shift(1),n=!0)})}l(pN,"getTaskTags");var gl,Uk=Ei(PS()),J6e=l(function(){re.debug("Something is calling, setConf, remove the call")},"setConf"),qO={monday:wy,tuesday:Zz,wednesday:Qz,thursday:Gu,friday:Jz,saturday:eU,sunday:k2},ewe=l((e,t)=>{let r=[...e].map(()=>-1/0),n=[...e].sort((a,s)=>a.startTime-s.startTime||a.order-s.order),i=0;for(const a of n)for(let s=0;s<r.length;s++)if(a.startTime>=r[s]){r[s]=a.endTime,a.order=s+t,s>i&&(i=s);break}return i},"getMaxIntersections"),twe=l(function(e,t,r,n){const i=ye().gantt,a=ye().securityLevel;let s;a==="sandbox"&&(s=Qe("#i"+t));const o=Qe(a==="sandbox"?s.nodes()[0].contentDocument.body:"body"),u=a==="sandbox"?s.nodes()[0].contentDocument:document,h=u.getElementById(t);(gl=h.parentElement.offsetWidth)===void 0&&(gl=1200),i.useWidth!==void 0&&(gl=i.useWidth);const d=n.db.getTasks();let p=[];for(const E of d)p.push(E.type);p=C(p);const f={};let g=2*i.topPadding;if(n.db.getDisplayMode()==="compact"||i.displayMode==="compact"){const E={};for(const L of d)E[L.section]===void 0?E[L.section]=[L]:E[L.section].push(L);let _=0;for(const L of Object.keys(E)){const D=ewe(E[L],_)+1;_+=D,g+=D*(i.barHeight+i.barGap),f[L]=D}}else{g+=d.length*(i.barHeight+i.barGap);for(const E of p)f[E]=d.filter(_=>_.type===E).length}h.setAttribute("viewBox","0 0 "+gl+" "+g);const m=o.select(`[id="${t}"]`),y=nG().domain([y$(d,function(E){return E.startTime}),m$(d,function(E){return E.endTime})]).rangeRound([0,gl-i.leftPadding-i.rightPadding]);function v(E,_){const L=E.startTime,D=_.startTime;let B=0;return L>D?B=1:L<D&&(B=-1),B}function x(E,_,L){const D=i.barHeight,B=D+i.barGap,S=i.topPadding,N=i.leftPadding,A=zu().domain([0,p.length]).range(["#00B9FA","#F95002"]).interpolate(fhe);w(B,S,N,_,L,E,n.db.getExcludes(),n.db.getIncludes()),T(N,S,_,L),b(E,B,S,N,D,A,_),k(B,S),R(N,S,_,L)}function b(E,_,L,D,B,S,N){const A=[...new Set(E.map(I=>I.order))].map(I=>E.find(P=>P.order===I));m.append("g").selectAll("rect").data(A).enter().append("rect").attr("x",0).attr("y",function(I,P){return I.order*_+L-2}).attr("width",function(){return N-i.rightPadding/2}).attr("height",_).attr("class",function(I){for(const[P,$]of p.entries())if(I.type===$)return"section section"+P%i.numberSectionStyles;return"section section0"});const M=m.append("g").selectAll("rect").data(E).enter(),O=n.db.getLinks();if(M.append("rect").attr("id",function(I){return I.id}).attr("rx",3).attr("ry",3).attr("x",function(I){return I.milestone?y(I.startTime)+D+.5*(y(I.endTime)-y(I.startTime))-.5*B:y(I.startTime)+D}).attr("y",function(I,P){return I.order*_+L}).attr("width",function(I){return I.milestone?B:y(I.renderEndTime||I.endTime)-y(I.startTime)}).attr("height",B).attr("transform-origin",function(I,P){return P=I.order,(y(I.startTime)+D+.5*(y(I.endTime)-y(I.startTime))).toString()+"px "+(P*_+L+.5*B).toString()+"px"}).attr("class",function(I){let P="";I.classes.length>0&&(P=I.classes.join(" "));let $=0;for(const[G,q]of p.entries())I.type===q&&($=G%i.numberSectionStyles);let z="";return I.active?I.crit?z+=" activeCrit":z=" active":I.done?z=I.crit?" doneCrit":" done":I.crit&&(z+=" crit"),z.length===0&&(z=" task"),I.milestone&&(z=" milestone "+z),z+=$,z+=" "+P,"task"+z}),M.append("text").attr("id",function(I){return I.id+"-text"}).text(function(I){return I.task}).attr("font-size",i.fontSize).attr("x",function(I){let P=y(I.startTime),$=y(I.renderEndTime||I.endTime);I.milestone&&(P+=.5*(y(I.endTime)-y(I.startTime))-.5*B),I.milestone&&($=P+B);const z=this.getBBox().width;return z>$-P?$+z+1.5*i.leftPadding>N?P+D-5:$+D+5:($-P)/2+P+D}).attr("y",function(I,P){return I.order*_+i.barHeight/2+(i.fontSize/2-2)+L}).attr("text-height",B).attr("class",function(I){const P=y(I.startTime);let $=y(I.endTime);I.milestone&&($=P+B);const z=this.getBBox().width;let G="";I.classes.length>0&&(G=I.classes.join(" "));let q=0;for(const[ie,te]of p.entries())I.type===te&&(q=ie%i.numberSectionStyles);let J="";return I.active&&(J=I.crit?"activeCritText"+q:"activeText"+q),I.done?J=I.crit?J+" doneCritText"+q:J+" doneText"+q:I.crit&&(J=J+" critText"+q),I.milestone&&(J+=" milestoneText"),z>$-P?$+z+1.5*i.leftPadding>N?G+" taskTextOutsideLeft taskTextOutside"+q+" "+J:G+" taskTextOutsideRight taskTextOutside"+q+" "+J+" width-"+z:G+" taskText taskText"+q+" "+J+" width-"+z}),ye().securityLevel==="sandbox"){let I;I=Qe("#i"+t);const P=I.nodes()[0].contentDocument;M.filter(function($){return O.has($.id)}).each(function($){var z=P.querySelector("#"+$.id),G=P.querySelector("#"+$.id+"-text");const q=z.parentNode;var J=P.createElement("a");J.setAttribute("xlink:href",O.get($.id)),J.setAttribute("target","_top"),q.appendChild(J),J.appendChild(z),J.appendChild(G)})}}function w(E,_,L,D,B,S,N,A){if(N.length===0&&A.length===0)return;let M,O;for(const{startTime:G,endTime:q}of S)(M===void 0||G<M)&&(M=G),(O===void 0||q>O)&&(O=q);if(!M||!O)return;if((0,Uk.default)(O).diff((0,Uk.default)(M),"year")>5)return void re.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");const I=n.db.getDateFormat(),P=[];let $=null,z=(0,Uk.default)(M);for(;z.valueOf()<=O;)n.db.isInvalidDate(z,I,N,A)?$?$.end=z:$={start:z,end:z}:$&&(P.push($),$=null),z=z.add(1,"d");m.append("g").selectAll("rect").data(P).enter().append("rect").attr("id",function(G){return"exclude-"+G.start.format("YYYY-MM-DD")}).attr("x",function(G){return y(G.start)+L}).attr("y",i.gridLineStartPadding).attr("width",function(G){const q=G.end.add(1,"day");return y(q)-y(G.start)}).attr("height",B-_-i.gridLineStartPadding).attr("transform-origin",function(G,q){return(y(G.start)+L+.5*(y(G.end)-y(G.start))).toString()+"px "+(q*E+.5*B).toString()+"px"}).attr("class","exclude-range")}function T(E,_,L,D){let B=D$(y).tickSize(-D+_+i.gridLineStartPadding).tickFormat(Pb(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));const S=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(n.db.getTickInterval()||i.tickInterval);if(S!==null){const N=S[1],A=S[2],M=n.db.getWeekday()||i.weekday;switch(A){case"millisecond":B.ticks(fd.every(N));break;case"second":B.ticks(Ml.every(N));break;case"minute":B.ticks(xy.every(N));break;case"hour":B.ticks(by.every(N));break;case"day":B.ticks(Uu.every(N));break;case"week":B.ticks(qO[M].every(N));break;case"month":B.ticks(ky.every(N))}}if(m.append("g").attr("class","grid").attr("transform","translate("+E+", "+(D-50)+")").call(B).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||i.topAxis){let N=R$(y).tickSize(-D+_+i.gridLineStartPadding).tickFormat(Pb(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if(S!==null){const A=S[1],M=S[2],O=n.db.getWeekday()||i.weekday;switch(M){case"millisecond":N.ticks(fd.every(A));break;case"second":N.ticks(Ml.every(A));break;case"minute":N.ticks(xy.every(A));break;case"hour":N.ticks(by.every(A));break;case"day":N.ticks(Uu.every(A));break;case"week":N.ticks(qO[O].every(A));break;case"month":N.ticks(ky.every(A))}}m.append("g").attr("class","grid").attr("transform","translate("+E+", "+_+")").call(N).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function k(E,_){let L=0;const D=Object.keys(f).map(B=>[B,f[B]]);m.append("g").selectAll("text").data(D).enter().append(function(B){const S=B[0].split(He.lineBreakRegex),N=-(S.length-1)/2,A=u.createElementNS("http://www.w3.org/2000/svg","text");A.setAttribute("dy",N+"em");for(const[M,O]of S.entries()){const I=u.createElementNS("http://www.w3.org/2000/svg","tspan");I.setAttribute("alignment-baseline","central"),I.setAttribute("x","10"),M>0&&I.setAttribute("dy","1em"),I.textContent=O,A.appendChild(I)}return A}).attr("x",10).attr("y",function(B,S){if(!(S>0))return B[1]*E/2+_;for(let N=0;N<S;N++)return L+=D[S-1][1],B[1]*E/2+L*E+_}).attr("font-size",i.sectionFontSize).attr("class",function(B){for(const[S,N]of p.entries())if(B[0]===N)return"sectionTitle sectionTitle"+S%i.numberSectionStyles;return"sectionTitle"})}function R(E,_,L,D){const B=n.db.getTodayMarker();if(B==="off")return;const S=m.append("g").attr("class","today"),N=new Date,A=S.append("line");A.attr("x1",y(N)+E).attr("x2",y(N)+E).attr("y1",i.titleTopMargin).attr("y2",D-i.titleTopMargin).attr("class","today"),B!==""&&A.attr("style",B.replace(/,/g,";"))}function C(E){const _={},L=[];for(let D=0,B=E.length;D<B;++D)Object.prototype.hasOwnProperty.call(_,E[D])||(_[E[D]]=!0,L.push(E[D]));return L}l(v,"taskCompare"),d.sort(v),x(d,gl,g),Ci(m,g,gl,i.useMaxWidth),m.append("text").text(n.db.getDiagramTitle()).attr("x",gl/2).attr("y",i.titleTopMargin).attr("class","titleText"),l(x,"makeGantt"),l(b,"drawRects"),l(w,"drawExcludeDays"),l(T,"makeGrid"),l(k,"vertLabels"),l(R,"drawToday"),l(C,"checkUnique")},"draw"),rwe={parser:d6e,db:Q6e,renderer:{setConf:J6e,draw:twe},styles:l(e=>`
  .mermaid-main-font {
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${e.fontFamily};
    fill: ${e.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.titleColor||e.textColor};
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }
`,"getStyles")},nwe=Object.freeze({__proto__:null,diagram:rwe}),iwe={parse:l(async e=>{const t=await eh("info",e);re.debug(t)},"parse")},awe="11.4.1",swe={getVersion:l(()=>awe,"getVersion")},owe=l((e,t,r)=>{re.debug(`rendering info diagram
`+e);const n=mc(t);Ci(n,100,400,!0),n.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)},"draw"),lwe={parser:iwe,db:swe,renderer:{draw:owe}},cwe=Object.freeze({__proto__:null,diagram:lwe}),yie=lr.pie,fN={sections:new Map,showData:!1,config:yie},l5=fN.sections,gC=fN.showData,uwe=structuredClone(yie),hwe=l(()=>structuredClone(uwe),"getConfig"),dwe=l(()=>{l5=new Map,gC=fN.showData,Hn()},"clear"),pwe=l(({label:e,value:t})=>{l5.has(e)||(l5.set(e,t),re.debug(`added new section: ${e}, with value: ${t}`))},"addSection"),vie={getConfig:hwe,clear:dwe,setDiagramTitle:Fi,getDiagramTitle:di,setAccTitle:Vn,getAccTitle:ci,setAccDescription:ui,getAccDescription:hi,addSection:pwe,getSections:l(()=>l5,"getSections"),setShowData:l(e=>{gC=e},"setShowData"),getShowData:l(()=>gC,"getShowData")},fwe=l((e,t)=>{q2(e,t),t.setShowData(e.showData),e.sections.map(t.addSection)},"populateDb"),gwe={parse:l(async e=>{const t=await eh("pie",e);re.debug(t),fwe(t,vie)},"parse")},mwe=l(e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${e.pieOuterStrokeColor};
    stroke-width: ${e.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,"getStyles"),ywe=l(e=>{const t=[...e.entries()].map(r=>({label:r[0],value:r[1]})).sort((r,n)=>n.value-r.value);return yG().value(r=>r.value)(t)},"createPieArcs"),vwe=l((e,t,r,n)=>{re.debug(`rendering pie chart
`+e);const i=n.db,a=ye(),s=sl(i.getConfig(),a.pie),o=18,u=450,h=mc(t),d=h.append("g");d.attr("transform","translate(225,225)");const{themeVariables:p}=a;let[f]=yc(p.pieOuterStrokeWidth);f??(f=2);const g=s.textPosition,m=Math.min(450,u)/2-40,y=qu().innerRadius(0).outerRadius(m),v=qu().innerRadius(m*g).outerRadius(m*g);d.append("circle").attr("cx",0).attr("cy",0).attr("r",m+f/2).attr("class","pieOuterCircle");const x=i.getSections(),b=ywe(x),w=w2([p.pie1,p.pie2,p.pie3,p.pie4,p.pie5,p.pie6,p.pie7,p.pie8,p.pie9,p.pie10,p.pie11,p.pie12]);d.selectAll("mySlices").data(b).enter().append("path").attr("d",y).attr("fill",E=>w(E.data.label)).attr("class","pieCircle");let T=0;x.forEach(E=>{T+=E}),d.selectAll("mySlices").data(b).enter().append("text").text(E=>(E.data.value/T*100).toFixed(0)+"%").attr("transform",E=>"translate("+v.centroid(E)+")").style("text-anchor","middle").attr("class","slice"),d.append("text").text(i.getDiagramTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");const k=d.selectAll(".legend").data(w.domain()).enter().append("g").attr("class","legend").attr("transform",(E,_)=>"translate(216,"+(22*_-22*w.domain().length/2)+")");k.append("rect").attr("width",o).attr("height",o).style("fill",w).style("stroke",w),k.data(b).append("text").attr("x",22).attr("y",14).text(E=>{const{label:_,value:L}=E.data;return i.getShowData()?`${_} [${L}]`:_});const R=Math.max(...k.selectAll("text").nodes().map(E=>(E==null?void 0:E.getBoundingClientRect().width)??0)),C=512+R;h.attr("viewBox",`0 0 ${C} 450`),Ci(h,u,C,s.useMaxWidth)},"draw"),xwe={parser:gwe,db:vie,renderer:{draw:vwe},styles:mwe},bwe=Object.freeze({__proto__:null,diagram:xwe}),mC=function(){var e=l(function(se,be,Te,_e){for(Te=Te||{},_e=se.length;_e--;Te[se[_e]]=be);return Te},"o"),t=[1,3],r=[1,4],n=[1,5],i=[1,6],a=[1,7],s=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],o=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],u=[55,56,57],h=[2,36],d=[1,37],p=[1,36],f=[1,38],g=[1,35],m=[1,43],y=[1,41],v=[1,14],x=[1,23],b=[1,18],w=[1,19],T=[1,20],k=[1,21],R=[1,22],C=[1,24],E=[1,25],_=[1,26],L=[1,27],D=[1,28],B=[1,29],S=[1,32],N=[1,33],A=[1,34],M=[1,39],O=[1,40],I=[1,42],P=[1,44],$=[1,62],z=[1,61],G=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],q=[1,65],J=[1,66],ie=[1,67],te=[1,68],W=[1,69],H=[1,70],X=[1,71],Q=[1,72],ne=[1,73],ee=[1,74],pe=[1,75],j=[1,76],ce=[4,5,6,7,8,9,10,11,12,13,14,15,18],le=[1,90],Ae=[1,91],Se=[1,92],ze=[1,99],Pe=[1,93],Ve=[1,96],Ue=[1,94],Ge=[1,95],V=[1,97],ue=[1,98],oe=[1,102],we=[10,55,56,57],K=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],ve={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:l(function(se,be,Te,_e,Re,ke,Be){var Oe=ke.length-1;switch(Re){case 23:case 68:this.$=ke[Oe];break;case 24:case 69:this.$=ke[Oe-1]+""+ke[Oe];break;case 26:this.$=ke[Oe-1]+ke[Oe];break;case 27:this.$=[ke[Oe].trim()];break;case 28:ke[Oe-2].push(ke[Oe].trim()),this.$=ke[Oe-2];break;case 29:this.$=ke[Oe-4],_e.addClass(ke[Oe-2],ke[Oe]);break;case 37:this.$=[];break;case 42:this.$=ke[Oe].trim(),_e.setDiagramTitle(this.$);break;case 43:this.$=ke[Oe].trim(),_e.setAccTitle(this.$);break;case 44:case 45:this.$=ke[Oe].trim(),_e.setAccDescription(this.$);break;case 46:_e.addSection(ke[Oe].substr(8)),this.$=ke[Oe].substr(8);break;case 47:_e.addPoint(ke[Oe-3],"",ke[Oe-1],ke[Oe],[]);break;case 48:_e.addPoint(ke[Oe-4],ke[Oe-3],ke[Oe-1],ke[Oe],[]);break;case 49:_e.addPoint(ke[Oe-4],"",ke[Oe-2],ke[Oe-1],ke[Oe]);break;case 50:_e.addPoint(ke[Oe-5],ke[Oe-4],ke[Oe-2],ke[Oe-1],ke[Oe]);break;case 51:_e.setXAxisLeftText(ke[Oe-2]),_e.setXAxisRightText(ke[Oe]);break;case 52:ke[Oe-1].text+="  ",_e.setXAxisLeftText(ke[Oe-1]);break;case 53:_e.setXAxisLeftText(ke[Oe]);break;case 54:_e.setYAxisBottomText(ke[Oe-2]),_e.setYAxisTopText(ke[Oe]);break;case 55:ke[Oe-1].text+="  ",_e.setYAxisBottomText(ke[Oe-1]);break;case 56:_e.setYAxisBottomText(ke[Oe]);break;case 57:_e.setQuadrant1Text(ke[Oe]);break;case 58:_e.setQuadrant2Text(ke[Oe]);break;case 59:_e.setQuadrant3Text(ke[Oe]);break;case 60:_e.setQuadrant4Text(ke[Oe]);break;case 64:case 66:this.$={text:ke[Oe],type:"text"};break;case 65:this.$={text:ke[Oe-1].text+""+ke[Oe],type:ke[Oe-1].type};break;case 67:this.$={text:ke[Oe],type:"markdown"}}},"anonymous"),table:[{18:t,26:1,27:2,28:r,55:n,56:i,57:a},{1:[3]},{18:t,26:8,27:2,28:r,55:n,56:i,57:a},{18:t,26:9,27:2,28:r,55:n,56:i,57:a},e(s,[2,33],{29:10}),e(o,[2,61]),e(o,[2,62]),e(o,[2,63]),{1:[2,30]},{1:[2,31]},e(u,h,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:d,5:p,10:f,12:g,13:m,14:y,18:v,25:x,35:b,37:w,39:T,41:k,42:R,48:C,50:E,51:_,52:L,53:D,54:B,60:S,61:N,63:A,64:M,65:O,66:I,67:P}),e(s,[2,34]),{27:45,55:n,56:i,57:a},e(u,[2,37]),e(u,h,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:d,5:p,10:f,12:g,13:m,14:y,18:v,25:x,35:b,37:w,39:T,41:k,42:R,48:C,50:E,51:_,52:L,53:D,54:B,60:S,61:N,63:A,64:M,65:O,66:I,67:P}),e(u,[2,39]),e(u,[2,40]),e(u,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},e(u,[2,45]),e(u,[2,46]),{18:[1,50]},{4:d,5:p,10:f,12:g,13:m,14:y,43:51,58:31,60:S,61:N,63:A,64:M,65:O,66:I,67:P},{4:d,5:p,10:f,12:g,13:m,14:y,43:52,58:31,60:S,61:N,63:A,64:M,65:O,66:I,67:P},{4:d,5:p,10:f,12:g,13:m,14:y,43:53,58:31,60:S,61:N,63:A,64:M,65:O,66:I,67:P},{4:d,5:p,10:f,12:g,13:m,14:y,43:54,58:31,60:S,61:N,63:A,64:M,65:O,66:I,67:P},{4:d,5:p,10:f,12:g,13:m,14:y,43:55,58:31,60:S,61:N,63:A,64:M,65:O,66:I,67:P},{4:d,5:p,10:f,12:g,13:m,14:y,43:56,58:31,60:S,61:N,63:A,64:M,65:O,66:I,67:P},{4:d,5:p,8:$,10:f,12:g,13:m,14:y,18:z,44:[1,57],47:[1,58],58:60,59:59,63:A,64:M,65:O,66:I,67:P},e(G,[2,64]),e(G,[2,66]),e(G,[2,67]),e(G,[2,70]),e(G,[2,71]),e(G,[2,72]),e(G,[2,73]),e(G,[2,74]),e(G,[2,75]),e(G,[2,76]),e(G,[2,77]),e(G,[2,78]),e(G,[2,79]),e(G,[2,80]),e(s,[2,35]),e(u,[2,38]),e(u,[2,42]),e(u,[2,43]),e(u,[2,44]),{3:64,4:q,5:J,6:ie,7:te,8:W,9:H,10:X,11:Q,12:ne,13:ee,14:pe,15:j,21:63},e(u,[2,53],{59:59,58:60,4:d,5:p,8:$,10:f,12:g,13:m,14:y,18:z,49:[1,77],63:A,64:M,65:O,66:I,67:P}),e(u,[2,56],{59:59,58:60,4:d,5:p,8:$,10:f,12:g,13:m,14:y,18:z,49:[1,78],63:A,64:M,65:O,66:I,67:P}),e(u,[2,57],{59:59,58:60,4:d,5:p,8:$,10:f,12:g,13:m,14:y,18:z,63:A,64:M,65:O,66:I,67:P}),e(u,[2,58],{59:59,58:60,4:d,5:p,8:$,10:f,12:g,13:m,14:y,18:z,63:A,64:M,65:O,66:I,67:P}),e(u,[2,59],{59:59,58:60,4:d,5:p,8:$,10:f,12:g,13:m,14:y,18:z,63:A,64:M,65:O,66:I,67:P}),e(u,[2,60],{59:59,58:60,4:d,5:p,8:$,10:f,12:g,13:m,14:y,18:z,63:A,64:M,65:O,66:I,67:P}),{45:[1,79]},{44:[1,80]},e(G,[2,65]),e(G,[2,81]),e(G,[2,82]),e(G,[2,83]),{3:82,4:q,5:J,6:ie,7:te,8:W,9:H,10:X,11:Q,12:ne,13:ee,14:pe,15:j,18:[1,81]},e(ce,[2,23]),e(ce,[2,1]),e(ce,[2,2]),e(ce,[2,3]),e(ce,[2,4]),e(ce,[2,5]),e(ce,[2,6]),e(ce,[2,7]),e(ce,[2,8]),e(ce,[2,9]),e(ce,[2,10]),e(ce,[2,11]),e(ce,[2,12]),e(u,[2,52],{58:31,43:83,4:d,5:p,10:f,12:g,13:m,14:y,60:S,61:N,63:A,64:M,65:O,66:I,67:P}),e(u,[2,55],{58:31,43:84,4:d,5:p,10:f,12:g,13:m,14:y,60:S,61:N,63:A,64:M,65:O,66:I,67:P}),{46:[1,85]},{45:[1,86]},{4:le,5:Ae,6:Se,8:ze,11:Pe,13:Ve,16:89,17:Ue,18:Ge,19:V,20:ue,22:88,23:87},e(ce,[2,24]),e(u,[2,51],{59:59,58:60,4:d,5:p,8:$,10:f,12:g,13:m,14:y,18:z,63:A,64:M,65:O,66:I,67:P}),e(u,[2,54],{59:59,58:60,4:d,5:p,8:$,10:f,12:g,13:m,14:y,18:z,63:A,64:M,65:O,66:I,67:P}),e(u,[2,47],{22:88,16:89,23:100,4:le,5:Ae,6:Se,8:ze,11:Pe,13:Ve,17:Ue,18:Ge,19:V,20:ue}),{46:[1,101]},e(u,[2,29],{10:oe}),e(we,[2,27],{16:103,4:le,5:Ae,6:Se,8:ze,11:Pe,13:Ve,17:Ue,18:Ge,19:V,20:ue}),e(K,[2,25]),e(K,[2,13]),e(K,[2,14]),e(K,[2,15]),e(K,[2,16]),e(K,[2,17]),e(K,[2,18]),e(K,[2,19]),e(K,[2,20]),e(K,[2,21]),e(K,[2,22]),e(u,[2,49],{10:oe}),e(u,[2,48],{22:88,16:89,23:104,4:le,5:Ae,6:Se,8:ze,11:Pe,13:Ve,17:Ue,18:Ge,19:V,20:ue}),{4:le,5:Ae,6:Se,8:ze,11:Pe,13:Ve,16:89,17:Ue,18:Ge,19:V,20:ue,22:105},e(K,[2,26]),e(u,[2,50],{10:oe}),e(we,[2,28],{16:103,4:le,5:Ae,6:Se,8:ze,11:Pe,13:Ve,17:Ue,18:Ge,19:V,20:ue})],defaultActions:{8:[2,30],9:[2,31]},parseError:l(function(se,be){if(!be.recoverable){var Te=new Error(se);throw Te.hash=be,Te}this.trace(se)},"parseError"),parse:l(function(se){var be=this,Te=[0],_e=[],Re=[null],ke=[],Be=this.table,Oe="",ft=0,Et=0,Ye=2,bt=1,at=ke.slice.call(arguments,1),De=Object.create(this.lexer),rt={yy:{}};for(var Je in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Je)&&(rt.yy[Je]=this.yy[Je]);De.setInput(se,rt.yy),rt.yy.lexer=De,rt.yy.parser=this,De.yylloc===void 0&&(De.yylloc={});var Ze=De.yylloc;ke.push(Ze);var ht=De.options&&De.options.ranges;function mt(rr){Te.length=Te.length-2*rr,Re.length=Re.length-rr,ke.length=ke.length-rr}function yt(){var rr;return typeof(rr=_e.pop()||De.lex()||bt)!="number"&&(rr instanceof Array&&(rr=(_e=rr).pop()),rr=be.symbols_[rr]||rr),rr}typeof rt.yy.parseError=="function"?this.parseError=rt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,l(mt,"popStack"),l(yt,"lex");for(var Xe,Fe,pt,Rt,Ft,Sr,wn,Wt,Zt={};;){if(Fe=Te[Te.length-1],this.defaultActions[Fe]?pt=this.defaultActions[Fe]:(Xe==null&&(Xe=yt()),pt=Be[Fe]&&Be[Fe][Xe]),pt===void 0||!pt.length||!pt[0]){var Or="";for(Ft in Wt=[],Be[Fe])this.terminals_[Ft]&&Ft>Ye&&Wt.push("'"+this.terminals_[Ft]+"'");Or=De.showPosition?"Parse error on line "+(ft+1)+`:
`+De.showPosition()+`
Expecting `+Wt.join(", ")+", got '"+(this.terminals_[Xe]||Xe)+"'":"Parse error on line "+(ft+1)+": Unexpected "+(Xe==bt?"end of input":"'"+(this.terminals_[Xe]||Xe)+"'"),this.parseError(Or,{text:De.match,token:this.terminals_[Xe]||Xe,line:De.yylineno,loc:Ze,expected:Wt})}if(pt[0]instanceof Array&&pt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Fe+", token: "+Xe);switch(pt[0]){case 1:Te.push(Xe),Re.push(De.yytext),ke.push(De.yylloc),Te.push(pt[1]),Xe=null,Et=De.yyleng,Oe=De.yytext,ft=De.yylineno,Ze=De.yylloc;break;case 2:if(Sr=this.productions_[pt[1]][1],Zt.$=Re[Re.length-Sr],Zt._$={first_line:ke[ke.length-(Sr||1)].first_line,last_line:ke[ke.length-1].last_line,first_column:ke[ke.length-(Sr||1)].first_column,last_column:ke[ke.length-1].last_column},ht&&(Zt._$.range=[ke[ke.length-(Sr||1)].range[0],ke[ke.length-1].range[1]]),(Rt=this.performAction.apply(Zt,[Oe,Et,ft,rt.yy,pt[1],Re,ke].concat(at)))!==void 0)return Rt;Sr&&(Te=Te.slice(0,-1*Sr*2),Re=Re.slice(0,-1*Sr),ke=ke.slice(0,-1*Sr)),Te.push(this.productions_[pt[1]][0]),Re.push(Zt.$),ke.push(Zt._$),wn=Be[Te[Te.length-2]][Te[Te.length-1]],Te.push(wn);break;case 3:return!0}}return!0},"parse")},Y=function(){var se={EOF:1,parseError:l(function(be,Te){if(!this.yy.parser)throw new Error(be);this.yy.parser.parseError(be,Te)},"parseError"),setInput:l(function(be,Te){return this.yy=Te||this.yy||{},this._input=be,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var be=this._input[0];return this.yytext+=be,this.yyleng++,this.offset++,this.match+=be,this.matched+=be,be.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),be},"input"),unput:l(function(be){var Te=be.length,_e=be.split(/(?:\r\n?|\n)/g);this._input=be+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Te),this.offset-=Te;var Re=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),_e.length-1&&(this.yylineno-=_e.length-1);var ke=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:_e?(_e.length===Re.length?this.yylloc.first_column:0)+Re[Re.length-_e.length].length-_e[0].length:this.yylloc.first_column-Te},this.options.ranges&&(this.yylloc.range=[ke[0],ke[0]+this.yyleng-Te]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:l(function(be){this.unput(this.match.slice(be))},"less"),pastInput:l(function(){var be=this.matched.substr(0,this.matched.length-this.match.length);return(be.length>20?"...":"")+be.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var be=this.match;return be.length<20&&(be+=this._input.substr(0,20-be.length)),(be.substr(0,20)+(be.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var be=this.pastInput(),Te=new Array(be.length+1).join("-");return be+this.upcomingInput()+`
`+Te+"^"},"showPosition"),test_match:l(function(be,Te){var _e,Re,ke;if(this.options.backtrack_lexer&&(ke={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ke.yylloc.range=this.yylloc.range.slice(0))),(Re=be[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=Re.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Re?Re[Re.length-1].length-Re[Re.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+be[0].length},this.yytext+=be[0],this.match+=be[0],this.matches=be,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(be[0].length),this.matched+=be[0],_e=this.performAction.call(this,this.yy,this,Te,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),_e)return _e;if(this._backtrack){for(var Be in ke)this[Be]=ke[Be];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;var be,Te,_e,Re;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var ke=this._currentRules(),Be=0;Be<ke.length;Be++)if((_e=this._input.match(this.rules[ke[Be]]))&&(!Te||_e[0].length>Te[0].length)){if(Te=_e,Re=Be,this.options.backtrack_lexer){if((be=this.test_match(_e,ke[Be]))!==!1)return be;if(this._backtrack){Te=!1;continue}return!1}if(!this.options.flex)break}return Te?(be=this.test_match(Te,ke[Re]))!==!1&&be:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var be=this.next();return be||this.lex()},"lex"),begin:l(function(be){this.conditionStack.push(be)},"begin"),popState:l(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(be){return(be=this.conditionStack.length-1-Math.abs(be||0))>=0?this.conditionStack[be]:"INITIAL"},"topState"),pushState:l(function(be){this.begin(be)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(be,Te,_e,Re){switch(_e){case 0:case 1:case 3:break;case 2:return 55;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 23:case 25:case 31:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 24:this.begin("string");break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return se}();function he(){this.yy={}}return ve.lexer=Y,l(he,"Parser"),he.prototype=ve,ve.Parser=he,new he}();mC.parser=mC;var wwe=mC,Li=FS(),Ag,kwe=(Ag=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){var t,r,n,i,a,s,o,u,h,d,p,f,g,m,y,v,x,b;return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:((t=lr.quadrantChart)==null?void 0:t.chartWidth)||500,chartWidth:((r=lr.quadrantChart)==null?void 0:r.chartHeight)||500,titlePadding:((n=lr.quadrantChart)==null?void 0:n.titlePadding)||10,titleFontSize:((i=lr.quadrantChart)==null?void 0:i.titleFontSize)||20,quadrantPadding:((a=lr.quadrantChart)==null?void 0:a.quadrantPadding)||5,xAxisLabelPadding:((s=lr.quadrantChart)==null?void 0:s.xAxisLabelPadding)||5,yAxisLabelPadding:((o=lr.quadrantChart)==null?void 0:o.yAxisLabelPadding)||5,xAxisLabelFontSize:((u=lr.quadrantChart)==null?void 0:u.xAxisLabelFontSize)||16,yAxisLabelFontSize:((h=lr.quadrantChart)==null?void 0:h.yAxisLabelFontSize)||16,quadrantLabelFontSize:((d=lr.quadrantChart)==null?void 0:d.quadrantLabelFontSize)||16,quadrantTextTopPadding:((p=lr.quadrantChart)==null?void 0:p.quadrantTextTopPadding)||5,pointTextPadding:((f=lr.quadrantChart)==null?void 0:f.pointTextPadding)||5,pointLabelFontSize:((g=lr.quadrantChart)==null?void 0:g.pointLabelFontSize)||12,pointRadius:((m=lr.quadrantChart)==null?void 0:m.pointRadius)||5,xAxisPosition:((y=lr.quadrantChart)==null?void 0:y.xAxisPosition)||"top",yAxisPosition:((v=lr.quadrantChart)==null?void 0:v.yAxisPosition)||"left",quadrantInternalBorderStrokeWidth:((x=lr.quadrantChart)==null?void 0:x.quadrantInternalBorderStrokeWidth)||1,quadrantExternalBorderStrokeWidth:((b=lr.quadrantChart)==null?void 0:b.quadrantExternalBorderStrokeWidth)||2}}getDefaultThemeConfig(){return{quadrant1Fill:Li.quadrant1Fill,quadrant2Fill:Li.quadrant2Fill,quadrant3Fill:Li.quadrant3Fill,quadrant4Fill:Li.quadrant4Fill,quadrant1TextFill:Li.quadrant1TextFill,quadrant2TextFill:Li.quadrant2TextFill,quadrant3TextFill:Li.quadrant3TextFill,quadrant4TextFill:Li.quadrant4TextFill,quadrantPointFill:Li.quadrantPointFill,quadrantPointTextFill:Li.quadrantPointTextFill,quadrantXAxisTextFill:Li.quadrantXAxisTextFill,quadrantYAxisTextFill:Li.quadrantYAxisTextFill,quadrantTitleFill:Li.quadrantTitleFill,quadrantInternalBorderStrokeFill:Li.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:Li.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,re.info("clear called")}setData(t){this.data={...this.data,...t}}addPoints(t){this.data.points=[...t,...this.data.points]}addClass(t,r){this.classes.set(t,r)}setConfig(t){re.trace("setConfig called with: ",t),this.config={...this.config,...t}}setThemeConfig(t){re.trace("setThemeConfig called with: ",t),this.themeConfig={...this.themeConfig,...t}}calculateSpace(t,r,n,i){const a=2*this.config.xAxisLabelPadding+this.config.xAxisLabelFontSize,s={top:t==="top"&&r?a:0,bottom:t==="bottom"&&r?a:0},o=2*this.config.yAxisLabelPadding+this.config.yAxisLabelFontSize,u={left:this.config.yAxisPosition==="left"&&n?o:0,right:this.config.yAxisPosition==="right"&&n?o:0},h=this.config.titleFontSize+2*this.config.titlePadding,d={top:i?h:0},p=this.config.quadrantPadding+u.left,f=this.config.quadrantPadding+s.top+d.top,g=this.config.chartWidth-2*this.config.quadrantPadding-u.left-u.right,m=this.config.chartHeight-2*this.config.quadrantPadding-s.top-s.bottom-d.top;return{xAxisSpace:s,yAxisSpace:u,titleSpace:d,quadrantSpace:{quadrantLeft:p,quadrantTop:f,quadrantWidth:g,quadrantHalfWidth:g/2,quadrantHeight:m,quadrantHalfHeight:m/2}}}getAxisLabels(t,r,n,i){const{quadrantSpace:a,titleSpace:s}=i,{quadrantHalfHeight:o,quadrantHeight:u,quadrantLeft:h,quadrantHalfWidth:d,quadrantTop:p,quadrantWidth:f}=a,g=!!this.data.xAxisRightText,m=!!this.data.yAxisTopText,y=[];return this.data.xAxisLeftText&&r&&y.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:h+(g?d/2:0),y:t==="top"?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+p+u+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:g?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&r&&y.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:h+d+(g?d/2:0),y:t==="top"?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+p+u+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:g?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&n&&y.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+h+f+this.config.quadrantPadding,y:p+u-(m?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:m?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&n&&y.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+h+f+this.config.quadrantPadding,y:p+o-(m?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:m?"center":"left",horizontalPos:"top",rotation:-90}),y}getQuadrants(t){const{quadrantSpace:r}=t,{quadrantHalfHeight:n,quadrantLeft:i,quadrantHalfWidth:a,quadrantTop:s}=r,o=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+a,y:s,width:a,height:n,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:s,width:a,height:n,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:s+n,width:a,height:n,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+a,y:s+n,width:a,height:n,fill:this.themeConfig.quadrant4Fill}];for(const u of o)u.text.x=u.x+u.width/2,this.data.points.length===0?(u.text.y=u.y+u.height/2,u.text.horizontalPos="middle"):(u.text.y=u.y+this.config.quadrantTextTopPadding,u.text.horizontalPos="top");return o}getQuadrantPoints(t){const{quadrantSpace:r}=t,{quadrantHeight:n,quadrantLeft:i,quadrantTop:a,quadrantWidth:s}=r,o=zu().domain([0,1]).range([i,s+i]),u=zu().domain([0,1]).range([n+a,a]);return this.data.points.map(d=>{const p=this.classes.get(d.className);return p&&(d={...p,...d}),{x:o(d.x),y:u(d.y),fill:d.color??this.themeConfig.quadrantPointFill,radius:d.radius??this.config.pointRadius,text:{text:d.text,fill:this.themeConfig.quadrantPointTextFill,x:o(d.x),y:u(d.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:d.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:d.strokeWidth??"0px"}})}getBorders(t){const r=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:n}=t,{quadrantHalfHeight:i,quadrantHeight:a,quadrantLeft:s,quadrantHalfWidth:o,quadrantTop:u,quadrantWidth:h}=n;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-r,y1:u,x2:s+h+r,y2:u},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s+h,y1:u+r,x2:s+h,y2:u+a-r},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-r,y1:u+a,x2:s+h+r,y2:u+a},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s,y1:u+r,x2:s,y2:u+a-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+o,y1:u+r,x2:s+o,y2:u+a-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+r,y1:u+i,x2:s+h-r,y2:u+i}]}getTitle(t){if(t)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){const t=this.config.showXAxis&&!(!this.data.xAxisLeftText&&!this.data.xAxisRightText),r=this.config.showYAxis&&!(!this.data.yAxisTopText&&!this.data.yAxisBottomText),n=this.config.showTitle&&!!this.data.titleText,i=this.data.points.length>0?"bottom":this.config.xAxisPosition,a=this.calculateSpace(i,t,r,n);return{points:this.getQuadrantPoints(a),quadrants:this.getQuadrants(a),axisLabels:this.getAxisLabels(i,t,r,a),borderLines:this.getBorders(a),title:this.getTitle(n)}}},l(Ag,"QuadrantBuilder"),Ag),Lg,Vv=(Lg=class extends Error{constructor(t,r,n){super(`value for ${t} ${r} is invalid, please use a valid ${n}`),this.name="InvalidStyleError"}},l(Lg,"InvalidStyleError"),Lg);function yC(e){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(e)}function xie(e){return!/^\d+$/.test(e)}function bie(e){return!/^\d+px$/.test(e)}l(yC,"validateHexCode"),l(xie,"validateNumber"),l(bie,"validateSizeInPixels");var Twe=ye();function fo(e){return Ir(e.trim(),Twe)}l(fo,"textSanitizer");var oi=new kwe;function wie(e){oi.setData({quadrant1Text:fo(e.text)})}function kie(e){oi.setData({quadrant2Text:fo(e.text)})}function Tie(e){oi.setData({quadrant3Text:fo(e.text)})}function _ie(e){oi.setData({quadrant4Text:fo(e.text)})}function Eie(e){oi.setData({xAxisLeftText:fo(e.text)})}function Cie(e){oi.setData({xAxisRightText:fo(e.text)})}function Sie(e){oi.setData({yAxisTopText:fo(e.text)})}function Aie(e){oi.setData({yAxisBottomText:fo(e.text)})}function aw(e){const t={};for(const r of e){const[n,i]=r.trim().split(/\s*:\s*/);if(n==="radius"){if(xie(i))throw new Vv(n,i,"number");t.radius=parseInt(i)}else if(n==="color"){if(yC(i))throw new Vv(n,i,"hex code");t.color=i}else if(n==="stroke-color"){if(yC(i))throw new Vv(n,i,"hex code");t.strokeColor=i}else{if(n!=="stroke-width")throw new Error(`style named ${n} is not supported.`);if(bie(i))throw new Vv(n,i,"number of pixels (eg. 10px)");t.strokeWidth=i}}return t}function Lie(e,t,r,n,i){const a=aw(i);oi.addPoints([{x:r,y:n,text:fo(e.text),className:t,...a}])}function Nie(e,t){oi.addClass(e,aw(t))}function Iie(e){oi.setConfig({chartWidth:e})}function Mie(e){oi.setConfig({chartHeight:e})}function Rie(){const e=ye(),{themeVariables:t,quadrantChart:r}=e;return r&&oi.setConfig(r),oi.setThemeConfig({quadrant1Fill:t.quadrant1Fill,quadrant2Fill:t.quadrant2Fill,quadrant3Fill:t.quadrant3Fill,quadrant4Fill:t.quadrant4Fill,quadrant1TextFill:t.quadrant1TextFill,quadrant2TextFill:t.quadrant2TextFill,quadrant3TextFill:t.quadrant3TextFill,quadrant4TextFill:t.quadrant4TextFill,quadrantPointFill:t.quadrantPointFill,quadrantPointTextFill:t.quadrantPointTextFill,quadrantXAxisTextFill:t.quadrantXAxisTextFill,quadrantYAxisTextFill:t.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:t.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:t.quadrantInternalBorderStrokeFill,quadrantTitleFill:t.quadrantTitleFill}),oi.setData({titleText:di()}),oi.build()}l(wie,"setQuadrant1Text"),l(kie,"setQuadrant2Text"),l(Tie,"setQuadrant3Text"),l(_ie,"setQuadrant4Text"),l(Eie,"setXAxisLeftText"),l(Cie,"setXAxisRightText"),l(Sie,"setYAxisTopText"),l(Aie,"setYAxisBottomText"),l(aw,"parseStyles"),l(Lie,"addPoint"),l(Nie,"addClass"),l(Iie,"setWidth"),l(Mie,"setHeight"),l(Rie,"getQuadrantData");var _we={setWidth:Iie,setHeight:Mie,setQuadrant1Text:wie,setQuadrant2Text:kie,setQuadrant3Text:Tie,setQuadrant4Text:_ie,setXAxisLeftText:Eie,setXAxisRightText:Cie,setYAxisTopText:Sie,setYAxisBottomText:Aie,parseStyles:aw,addPoint:Lie,addClass:Nie,getQuadrantData:Rie,clear:l(function(){oi.clear(),Hn()},"clear"),setAccTitle:Vn,getAccTitle:ci,setDiagramTitle:Fi,getDiagramTitle:di,getAccDescription:hi,setAccDescription:ui},Ewe=l((e,t,r,n)=>{var R,C,E;function i(_){return _==="top"?"hanging":"middle"}function a(_){return _==="left"?"start":"middle"}function s(_){return`translate(${_.x}, ${_.y}) rotate(${_.rotation||0})`}l(i,"getDominantBaseLine"),l(a,"getTextAnchor"),l(s,"getTransformation");const o=ye();re.debug(`Rendering quadrant chart
`+e);const u=o.securityLevel;let h;u==="sandbox"&&(h=Qe("#i"+t));const d=Qe(u==="sandbox"?h.nodes()[0].contentDocument.body:"body").select(`[id="${t}"]`),p=d.append("g").attr("class","main"),f=((R=o.quadrantChart)==null?void 0:R.chartWidth)??500,g=((C=o.quadrantChart)==null?void 0:C.chartHeight)??500;Ci(d,g,f,((E=o.quadrantChart)==null?void 0:E.useMaxWidth)??!0),d.attr("viewBox","0 0 "+f+" "+g),n.db.setHeight(g),n.db.setWidth(f);const m=n.db.getQuadrantData(),y=p.append("g").attr("class","quadrants"),v=p.append("g").attr("class","border"),x=p.append("g").attr("class","data-points"),b=p.append("g").attr("class","labels"),w=p.append("g").attr("class","title");m.title&&w.append("text").attr("x",0).attr("y",0).attr("fill",m.title.fill).attr("font-size",m.title.fontSize).attr("dominant-baseline",i(m.title.horizontalPos)).attr("text-anchor",a(m.title.verticalPos)).attr("transform",s(m.title)).text(m.title.text),m.borderLines&&v.selectAll("line").data(m.borderLines).enter().append("line").attr("x1",_=>_.x1).attr("y1",_=>_.y1).attr("x2",_=>_.x2).attr("y2",_=>_.y2).style("stroke",_=>_.strokeFill).style("stroke-width",_=>_.strokeWidth);const T=y.selectAll("g.quadrant").data(m.quadrants).enter().append("g").attr("class","quadrant");T.append("rect").attr("x",_=>_.x).attr("y",_=>_.y).attr("width",_=>_.width).attr("height",_=>_.height).attr("fill",_=>_.fill),T.append("text").attr("x",0).attr("y",0).attr("fill",_=>_.text.fill).attr("font-size",_=>_.text.fontSize).attr("dominant-baseline",_=>i(_.text.horizontalPos)).attr("text-anchor",_=>a(_.text.verticalPos)).attr("transform",_=>s(_.text)).text(_=>_.text.text),b.selectAll("g.label").data(m.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(_=>_.text).attr("fill",_=>_.fill).attr("font-size",_=>_.fontSize).attr("dominant-baseline",_=>i(_.horizontalPos)).attr("text-anchor",_=>a(_.verticalPos)).attr("transform",_=>s(_));const k=x.selectAll("g.data-point").data(m.points).enter().append("g").attr("class","data-point");k.append("circle").attr("cx",_=>_.x).attr("cy",_=>_.y).attr("r",_=>_.radius).attr("fill",_=>_.fill).attr("stroke",_=>_.strokeColor).attr("stroke-width",_=>_.strokeWidth),k.append("text").attr("x",0).attr("y",0).text(_=>_.text.text).attr("fill",_=>_.text.fill).attr("font-size",_=>_.text.fontSize).attr("dominant-baseline",_=>i(_.text.horizontalPos)).attr("text-anchor",_=>a(_.text.verticalPos)).attr("transform",_=>s(_.text))},"draw"),Cwe={parser:wwe,db:_we,renderer:{draw:Ewe},styles:l(()=>"","styles")},Swe=Object.freeze({__proto__:null,diagram:Cwe}),vC=function(){var e=l(function(A,M,O,I){for(O=O||{},I=A.length;I--;O[A[I]]=M);return O},"o"),t=[1,10,12,14,16,18,19,21,23],r=[2,6],n=[1,3],i=[1,5],a=[1,6],s=[1,7],o=[1,5,10,12,14,16,18,19,21,23,34,35,36],u=[1,25],h=[1,26],d=[1,28],p=[1,29],f=[1,30],g=[1,31],m=[1,32],y=[1,33],v=[1,34],x=[1,35],b=[1,36],w=[1,37],T=[1,43],k=[1,42],R=[1,47],C=[1,50],E=[1,10,12,14,16,18,19,21,23,34,35,36],_=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],L=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],D=[1,64],B={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:l(function(A,M,O,I,P,$,z){var G=$.length-1;switch(P){case 5:I.setOrientation($[G]);break;case 9:I.setDiagramTitle($[G].text.trim());break;case 12:I.setLineData({text:"",type:"text"},$[G]);break;case 13:I.setLineData($[G-1],$[G]);break;case 14:I.setBarData({text:"",type:"text"},$[G]);break;case 15:I.setBarData($[G-1],$[G]);break;case 16:this.$=$[G].trim(),I.setAccTitle(this.$);break;case 17:case 18:this.$=$[G].trim(),I.setAccDescription(this.$);break;case 19:case 27:this.$=$[G-1];break;case 20:this.$=[Number($[G-2]),...$[G]];break;case 21:this.$=[Number($[G])];break;case 22:I.setXAxisTitle($[G]);break;case 23:I.setXAxisTitle($[G-1]);break;case 24:I.setXAxisTitle({type:"text",text:""});break;case 25:I.setXAxisBand($[G]);break;case 26:I.setXAxisRangeData(Number($[G-2]),Number($[G]));break;case 28:this.$=[$[G-2],...$[G]];break;case 29:this.$=[$[G]];break;case 30:I.setYAxisTitle($[G]);break;case 31:I.setYAxisTitle($[G-1]);break;case 32:I.setYAxisTitle({type:"text",text:""});break;case 33:I.setYAxisRangeData(Number($[G-2]),Number($[G]));break;case 37:case 38:this.$={text:$[G],type:"text"};break;case 39:this.$={text:$[G],type:"markdown"};break;case 40:this.$=$[G];break;case 41:this.$=$[G-1]+""+$[G]}},"anonymous"),table:[e(t,r,{3:1,4:2,7:4,5:n,34:i,35:a,36:s}),{1:[3]},e(t,r,{4:2,7:4,3:8,5:n,34:i,35:a,36:s}),e(t,r,{4:2,7:4,6:9,3:10,5:n,8:[1,11],34:i,35:a,36:s}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},e(o,[2,34]),e(o,[2,35]),e(o,[2,36]),{1:[2,1]},e(t,r,{4:2,7:4,3:21,5:n,34:i,35:a,36:s}),{1:[2,3]},e(o,[2,5]),e(t,[2,7],{4:22,34:i,35:a,36:s}),{11:23,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:v,48:x,49:b,50:w},{11:39,13:38,24:T,27:k,29:40,30:41,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:v,48:x,49:b,50:w},{11:45,15:44,27:R,33:46,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:v,48:x,49:b,50:w},{11:49,17:48,24:C,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:v,48:x,49:b,50:w},{11:52,17:51,24:C,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:v,48:x,49:b,50:w},{20:[1,53]},{22:[1,54]},e(E,[2,18]),{1:[2,2]},e(E,[2,8]),e(E,[2,9]),e(_,[2,37],{40:55,41:d,42:p,43:f,44:g,45:m,46:y,47:v,48:x,49:b,50:w}),e(_,[2,38]),e(_,[2,39]),e(L,[2,40]),e(L,[2,42]),e(L,[2,43]),e(L,[2,44]),e(L,[2,45]),e(L,[2,46]),e(L,[2,47]),e(L,[2,48]),e(L,[2,49]),e(L,[2,50]),e(L,[2,51]),e(E,[2,10]),e(E,[2,22],{30:41,29:56,24:T,27:k}),e(E,[2,24]),e(E,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:v,48:x,49:b,50:w},e(E,[2,11]),e(E,[2,30],{33:60,27:R}),e(E,[2,32]),{31:[1,61]},e(E,[2,12]),{17:62,24:C},{25:63,27:D},e(E,[2,14]),{17:65,24:C},e(E,[2,16]),e(E,[2,17]),e(L,[2,41]),e(E,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},e(E,[2,31]),{27:[1,69]},e(E,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},e(E,[2,15]),e(E,[2,26]),e(E,[2,27]),{11:59,32:72,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:v,48:x,49:b,50:w},e(E,[2,33]),e(E,[2,19]),{25:73,27:D},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:l(function(A,M){if(!M.recoverable){var O=new Error(A);throw O.hash=M,O}this.trace(A)},"parseError"),parse:l(function(A){var M=this,O=[0],I=[],P=[null],$=[],z=this.table,G="",q=0,J=0,ie=2,te=1,W=$.slice.call(arguments,1),H=Object.create(this.lexer),X={yy:{}};for(var Q in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Q)&&(X.yy[Q]=this.yy[Q]);H.setInput(A,X.yy),X.yy.lexer=H,X.yy.parser=this,H.yylloc===void 0&&(H.yylloc={});var ne=H.yylloc;$.push(ne);var ee=H.options&&H.options.ranges;function pe(ue){O.length=O.length-2*ue,P.length=P.length-ue,$.length=$.length-ue}function j(){var ue;return typeof(ue=I.pop()||H.lex()||te)!="number"&&(ue instanceof Array&&(ue=(I=ue).pop()),ue=M.symbols_[ue]||ue),ue}typeof X.yy.parseError=="function"?this.parseError=X.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,l(pe,"popStack"),l(j,"lex");for(var ce,le,Ae,Se,ze,Pe,Ve,Ue,Ge={};;){if(le=O[O.length-1],this.defaultActions[le]?Ae=this.defaultActions[le]:(ce==null&&(ce=j()),Ae=z[le]&&z[le][ce]),Ae===void 0||!Ae.length||!Ae[0]){var V="";for(ze in Ue=[],z[le])this.terminals_[ze]&&ze>ie&&Ue.push("'"+this.terminals_[ze]+"'");V=H.showPosition?"Parse error on line "+(q+1)+`:
`+H.showPosition()+`
Expecting `+Ue.join(", ")+", got '"+(this.terminals_[ce]||ce)+"'":"Parse error on line "+(q+1)+": Unexpected "+(ce==te?"end of input":"'"+(this.terminals_[ce]||ce)+"'"),this.parseError(V,{text:H.match,token:this.terminals_[ce]||ce,line:H.yylineno,loc:ne,expected:Ue})}if(Ae[0]instanceof Array&&Ae.length>1)throw new Error("Parse Error: multiple actions possible at state: "+le+", token: "+ce);switch(Ae[0]){case 1:O.push(ce),P.push(H.yytext),$.push(H.yylloc),O.push(Ae[1]),ce=null,J=H.yyleng,G=H.yytext,q=H.yylineno,ne=H.yylloc;break;case 2:if(Pe=this.productions_[Ae[1]][1],Ge.$=P[P.length-Pe],Ge._$={first_line:$[$.length-(Pe||1)].first_line,last_line:$[$.length-1].last_line,first_column:$[$.length-(Pe||1)].first_column,last_column:$[$.length-1].last_column},ee&&(Ge._$.range=[$[$.length-(Pe||1)].range[0],$[$.length-1].range[1]]),(Se=this.performAction.apply(Ge,[G,J,q,X.yy,Ae[1],P,$].concat(W)))!==void 0)return Se;Pe&&(O=O.slice(0,-1*Pe*2),P=P.slice(0,-1*Pe),$=$.slice(0,-1*Pe)),O.push(this.productions_[Ae[1]][0]),P.push(Ge.$),$.push(Ge._$),Ve=z[O[O.length-2]][O[O.length-1]],O.push(Ve);break;case 3:return!0}}return!0},"parse")},S=function(){var A={EOF:1,parseError:l(function(M,O){if(!this.yy.parser)throw new Error(M);this.yy.parser.parseError(M,O)},"parseError"),setInput:l(function(M,O){return this.yy=O||this.yy||{},this._input=M,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var M=this._input[0];return this.yytext+=M,this.yyleng++,this.offset++,this.match+=M,this.matched+=M,M.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),M},"input"),unput:l(function(M){var O=M.length,I=M.split(/(?:\r\n?|\n)/g);this._input=M+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-O),this.offset-=O;var P=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),I.length-1&&(this.yylineno-=I.length-1);var $=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:I?(I.length===P.length?this.yylloc.first_column:0)+P[P.length-I.length].length-I[0].length:this.yylloc.first_column-O},this.options.ranges&&(this.yylloc.range=[$[0],$[0]+this.yyleng-O]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:l(function(M){this.unput(this.match.slice(M))},"less"),pastInput:l(function(){var M=this.matched.substr(0,this.matched.length-this.match.length);return(M.length>20?"...":"")+M.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var M=this.match;return M.length<20&&(M+=this._input.substr(0,20-M.length)),(M.substr(0,20)+(M.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var M=this.pastInput(),O=new Array(M.length+1).join("-");return M+this.upcomingInput()+`
`+O+"^"},"showPosition"),test_match:l(function(M,O){var I,P,$;if(this.options.backtrack_lexer&&($={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&($.yylloc.range=this.yylloc.range.slice(0))),(P=M[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=P.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:P?P[P.length-1].length-P[P.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+M[0].length},this.yytext+=M[0],this.match+=M[0],this.matches=M,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(M[0].length),this.matched+=M[0],I=this.performAction.call(this,this.yy,this,O,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),I)return I;if(this._backtrack){for(var z in $)this[z]=$[z];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;var M,O,I,P;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var $=this._currentRules(),z=0;z<$.length;z++)if((I=this._input.match(this.rules[$[z]]))&&(!O||I[0].length>O[0].length)){if(O=I,P=z,this.options.backtrack_lexer){if((M=this.test_match(I,$[z]))!==!1)return M;if(this._backtrack){O=!1;continue}return!1}if(!this.options.flex)break}return O?(M=this.test_match(O,$[P]))!==!1&&M:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var M=this.next();return M||this.lex()},"lex"),begin:l(function(M){this.conditionStack.push(M)},"begin"),popState:l(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(M){return(M=this.conditionStack.length-1-Math.abs(M||0))>=0?this.conditionStack[M]:"INITIAL"},"topState"),pushState:l(function(M){this.begin(M)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(M,O,I,P){switch(I){case 0:case 1:case 5:case 43:break;case 2:case 3:return this.popState(),34;case 4:return 34;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:case 25:case 27:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 8;case 16:return this.pushState("axis_data"),"X_AXIS";case 17:return this.pushState("axis_data"),"Y_AXIS";case 18:return this.pushState("axis_band_data"),24;case 19:return 31;case 20:return this.pushState("data"),16;case 21:return this.pushState("data"),18;case 22:return this.pushState("data_inner"),24;case 23:return 27;case 24:return this.popState(),26;case 26:this.pushState("string");break;case 28:return"STR";case 29:return 24;case 30:return 26;case 31:return 43;case 32:return"COLON";case 33:return 44;case 34:return 28;case 35:return 45;case 36:return 46;case 37:return 48;case 38:return 50;case 39:return 47;case 40:return 41;case 41:return 49;case 42:return 42;case 44:return 35;case 45:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,20,21,22,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,23,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[27,28],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}}};return A}();function N(){this.yy={}}return B.lexer=S,l(N,"Parser"),N.prototype=B,B.Parser=N,new N}();vC.parser=vC;var Awe=vC;function xC(e){return e.type==="bar"}function gN(e){return e.type==="band"}function bd(e){return e.type==="linear"}l(xC,"isBarPlot"),l(gN,"isBandAxisData"),l(bd,"isLinearAxisData");var Ng,Die=(Ng=class{constructor(t){this.parentGroup=t}getMaxDimension(t,r){if(!this.parentGroup)return{width:t.reduce((a,s)=>Math.max(s.length,a),0)*r,height:r};const n={width:0,height:0},i=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",r);for(const a of t){const s=IH(i,1,a),o=s?s.width:a.length*r,u=s?s.height:r;n.width=Math.max(n.width,o),n.height=Math.max(n.height,u)}return i.remove(),n}},l(Ng,"TextDimensionCalculatorWithFont"),Ng),Ig,Oie=(Ig=class{constructor(t,r,n,i){this.axisConfig=t,this.title=r,this.textDimensionCalculator=n,this.axisThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}setRange(t){this.range=t,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=t[1]-t[0]:this.boundingRect.width=t[1]-t[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(t){this.axisPosition=t,this.setRange(this.range)}getTickDistance(){const t=this.getRange();return Math.abs(t[0]-t[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(t=>t.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){.7*this.getTickDistance()>2*this.outerPadding&&(this.outerPadding=Math.floor(.7*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(t){let r=t.height;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const n=this.getLabelDimension(),i=.2*t.width;this.outerPadding=Math.min(n.width/2,i);const a=n.height+2*this.axisConfig.labelPadding;this.labelTextHeight=n.height,a<=r&&(r-=a,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+2*this.axisConfig.titlePadding;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=t.width,this.boundingRect.height=t.height-r}calculateSpaceIfDrawnVertical(t){let r=t.width;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const n=this.getLabelDimension(),i=.2*t.height;this.outerPadding=Math.min(n.height/2,i);const a=n.width+2*this.axisConfig.labelPadding;a<=r&&(r-=a,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+2*this.axisConfig.titlePadding;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=t.width-r,this.boundingRect.height=t.height}calculateSpace(t){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(t):this.calculateSpaceIfDrawnHorizontally(t),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}getDrawableElementsForLeftAxis(){const t=[];if(this.showAxisLine){const r=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${r},${this.boundingRect.y} L ${r},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(r),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){const r=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);t.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${r},${this.getScaleValue(n)} L ${r-this.axisConfig.tickLength},${this.getScaleValue(n)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElementsForBottomAxis(){const t=[];if(this.showAxisLine){const r=this.boundingRect.y+this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const r=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);t.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r} L ${this.getScaleValue(n)},${r+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElementsForTopAxis(){const t=[];if(this.showAxisLine){const r=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+2*this.axisConfig.titlePadding:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const r=this.boundingRect.y;t.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(n)},${r+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}},l(Ig,"BaseAxis"),Ig),Mg,Lwe=(Mg=class extends Oie{constructor(t,r,n,i,a){super(t,i,a,r),this.categories=n,this.scale=Bb().domain(this.categories).range(this.getRange())}setRange(t){super.setRange(t)}recalculateScale(){this.scale=Bb().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),re.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(t){return this.scale(t)??this.getRange()[0]}},l(Mg,"BandAxis"),Mg),Rg,Nwe=(Rg=class extends Oie{constructor(t,r,n,i,a){super(t,i,a,r),this.domain=n,this.scale=zu().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){const t=[...this.domain];this.axisPosition==="left"&&t.reverse(),this.scale=zu().domain(t).range(this.getRange())}getScaleValue(t){return this.scale(t)}},l(Rg,"LinearAxis"),Rg);function bC(e,t,r,n){const i=new Die(n);return gN(e)?new Lwe(t,r,e.categories,e.title,i):new Nwe(t,r,[e.min,e.max],e.title,i)}l(bC,"getAxis");var Dg,Iwe=(Dg=class{constructor(t,r,n,i){this.textDimensionCalculator=t,this.chartConfig=r,this.chartData=n,this.chartThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}calculateSpace(t){const r=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),n=Math.max(r.width,t.width),i=r.height+2*this.chartConfig.titlePadding;return r.width<=n&&r.height<=i&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=n,this.boundingRect.height=i,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){const t=[];return this.showChartTitle&&t.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),t}},l(Dg,"ChartTitle"),Dg);function Pie(e,t,r,n){const i=new Die(n);return new Iwe(i,e,t,r)}l(Pie,"getChartTitleComponent");var Og,Mwe=(Og=class{constructor(t,r,n,i,a){this.plotData=t,this.xAxis=r,this.yAxis=n,this.orientation=i,this.plotIndex=a}getDrawableElement(){const t=this.plotData.data.map(n=>[this.xAxis.getScaleValue(n[0]),this.yAxis.getScaleValue(n[1])]);let r;return r=this.orientation==="horizontal"?Xl().y(n=>n[0]).x(n=>n[1])(t):Xl().x(n=>n[0]).y(n=>n[1])(t),r?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:r,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}},l(Og,"LinePlot"),Og),Pg,Rwe=(Pg=class{constructor(t,r,n,i,a,s){this.barData=t,this.boundingRect=r,this.xAxis=n,this.yAxis=i,this.orientation=a,this.plotIndex=s}getDrawableElement(){const t=this.barData.data.map(i=>[this.xAxis.getScaleValue(i[0]),this.yAxis.getScaleValue(i[1])]),r=.95*Math.min(2*this.xAxis.getAxisOuterPadding(),this.xAxis.getTickDistance()),n=r/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:t.map(i=>({x:this.boundingRect.x,y:i[0]-n,height:r,width:i[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:t.map(i=>({x:i[0]-n,y:i[1],width:r,height:this.boundingRect.y+this.boundingRect.height-i[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}},l(Pg,"BarPlot"),Pg),Bg,Dwe=(Bg=class{constructor(t,r,n){this.chartConfig=t,this.chartData=r,this.chartThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0}}setAxes(t,r){this.xAxis=t,this.yAxis=r}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}calculateSpace(t){return this.boundingRect.width=t.width,this.boundingRect.height=t.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!this.xAxis||!this.yAxis)throw Error("Axes must be passed to render Plots");const t=[];for(const[r,n]of this.chartData.plots.entries())switch(n.type){case"line":{const i=new Mwe(n,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);t.push(...i.getDrawableElement())}break;case"bar":{const i=new Rwe(n,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);t.push(...i.getDrawableElement())}}return t}},l(Bg,"BasePlot"),Bg);function Bie(e,t,r){return new Dwe(e,t,r)}l(Bie,"getPlotComponent");var $ie,$g,Owe=($g=class{constructor(t,r,n,i){this.chartConfig=t,this.chartData=r,this.componentStore={title:Pie(t,r,n,i),plot:Bie(t,r,n),xAxis:bC(r.xAxis,t.xAxis,{titleColor:n.xAxisTitleColor,labelColor:n.xAxisLabelColor,tickColor:n.xAxisTickColor,axisLineColor:n.xAxisLineColor},i),yAxis:bC(r.yAxis,t.yAxis,{titleColor:n.yAxisTitleColor,labelColor:n.yAxisLabelColor,tickColor:n.yAxisTickColor,axisLineColor:n.yAxisLineColor},i)}}calculateVerticalSpace(){let t=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,a=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),s=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),o=this.componentStore.plot.calculateSpace({width:a,height:s});t-=o.width,r-=o.height,o=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),i=o.height,r-=o.height,this.componentStore.xAxis.setAxisPosition("bottom"),o=this.componentStore.xAxis.calculateSpace({width:t,height:r}),r-=o.height,this.componentStore.yAxis.setAxisPosition("left"),o=this.componentStore.yAxis.calculateSpace({width:t,height:r}),n=o.width,t-=o.width,t>0&&(a+=t,t=0),r>0&&(s+=r,r=0),this.componentStore.plot.calculateSpace({width:a,height:s}),this.componentStore.plot.setBoundingBoxXY({x:n,y:i}),this.componentStore.xAxis.setRange([n,n+a]),this.componentStore.xAxis.setBoundingBoxXY({x:n,y:i+s}),this.componentStore.yAxis.setRange([i,i+s]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:i}),this.chartData.plots.some(u=>xC(u))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let t=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,a=0,s=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),o=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),u=this.componentStore.plot.calculateSpace({width:s,height:o});t-=u.width,r-=u.height,u=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),n=u.height,r-=u.height,this.componentStore.xAxis.setAxisPosition("left"),u=this.componentStore.xAxis.calculateSpace({width:t,height:r}),t-=u.width,i=u.width,this.componentStore.yAxis.setAxisPosition("top"),u=this.componentStore.yAxis.calculateSpace({width:t,height:r}),r-=u.height,a=n+u.height,t>0&&(s+=t,t=0),r>0&&(o+=r,r=0),this.componentStore.plot.calculateSpace({width:s,height:o}),this.componentStore.plot.setBoundingBoxXY({x:i,y:a}),this.componentStore.yAxis.setRange([i,i+s]),this.componentStore.yAxis.setBoundingBoxXY({x:i,y:n}),this.componentStore.xAxis.setRange([a,a+o]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:a}),this.chartData.plots.some(h=>xC(h))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();const t=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(const r of Object.values(this.componentStore))t.push(...r.getDrawableElements());return t}},l($g,"Orchestrator"),$g),Fg,Pwe=(Fg=class{static build(t,r,n,i){return new Owe(t,r,n,i).getDrawableElement()}},l(Fg,"XYChartBuilder"),Fg),e2=0,sw=vN(),t2=yN(),_r=Fie(),wC=t2.plotColorPalette.split(",").map(e=>e.trim()),ow=!1,mN=!1;function yN(){const e=FS(),t=Zr();return sl(e.xyChart,t.themeVariables.xyChart)}function vN(){const e=Zr();return sl(lr.xyChart,e.xyChart)}function Fie(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function lw(e){const t=Zr();return Ir(e.trim(),t)}function zie(e){$ie=e}function Uie(e){sw.chartOrientation=e==="horizontal"?"horizontal":"vertical"}function Gie(e){_r.xAxis.title=lw(e.text)}function xN(e,t){_r.xAxis={type:"linear",title:_r.xAxis.title,min:e,max:t},ow=!0}function qie(e){_r.xAxis={type:"band",title:_r.xAxis.title,categories:e.map(t=>lw(t.text))},ow=!0}function jie(e){_r.yAxis.title=lw(e.text)}function Yie(e,t){_r.yAxis={type:"linear",title:_r.yAxis.title,min:e,max:t},mN=!0}function Wie(e){const t=Math.min(...e),r=Math.max(...e),n=bd(_r.yAxis)?_r.yAxis.min:1/0,i=bd(_r.yAxis)?_r.yAxis.max:-1/0;_r.yAxis={type:"linear",title:_r.yAxis.title,min:Math.min(n,t),max:Math.max(i,r)}}function bN(e){let t=[];if(e.length===0)return t;if(!ow){const r=bd(_r.xAxis)?_r.xAxis.min:1/0,n=bd(_r.xAxis)?_r.xAxis.max:-1/0;xN(Math.min(r,1),Math.max(n,e.length))}if(mN||Wie(e),gN(_r.xAxis)&&(t=_r.xAxis.categories.map((r,n)=>[r,e[n]])),bd(_r.xAxis)){const r=_r.xAxis.min,n=_r.xAxis.max,i=(n-r)/(e.length-1),a=[];for(let s=r;s<=n;s+=i)a.push(`${s}`);t=a.map((s,o)=>[s,e[o]])}return t}function wN(e){return wC[e===0?0:e%wC.length]}function Hie(e,t){const r=bN(t);_r.plots.push({type:"line",strokeFill:wN(e2),strokeWidth:2,data:r}),e2++}function Vie(e,t){const r=bN(t);_r.plots.push({type:"bar",fill:wN(e2),data:r}),e2++}function Xie(){if(_r.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return _r.title=di(),Pwe.build(sw,_r,t2,$ie)}function Kie(){return t2}function Zie(){return sw}l(yN,"getChartDefaultThemeConfig"),l(vN,"getChartDefaultConfig"),l(Fie,"getChartDefaultData"),l(lw,"textSanitizer"),l(zie,"setTmpSVGG"),l(Uie,"setOrientation"),l(Gie,"setXAxisTitle"),l(xN,"setXAxisRangeData"),l(qie,"setXAxisBand"),l(jie,"setYAxisTitle"),l(Yie,"setYAxisRangeData"),l(Wie,"setYAxisRangeFromPlotData"),l(bN,"transformDataWithoutCategory"),l(wN,"getPlotColorFromPalette"),l(Hie,"setLineData"),l(Vie,"setBarData"),l(Xie,"getDrawableElem"),l(Kie,"getChartThemeConfig"),l(Zie,"getChartConfig");var Bwe=l(function(){Hn(),e2=0,sw=vN(),_r={yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]},t2=yN(),wC=t2.plotColorPalette.split(",").map(e=>e.trim()),ow=!1,mN=!1},"clear"),$we={getDrawableElem:Xie,clear:Bwe,setAccTitle:Vn,getAccTitle:ci,setDiagramTitle:Fi,getDiagramTitle:di,getAccDescription:hi,setAccDescription:ui,setOrientation:Uie,setXAxisTitle:Gie,setXAxisRangeData:xN,setXAxisBand:qie,setYAxisTitle:jie,setYAxisRangeData:Yie,setLineData:Hie,setBarData:Vie,setTmpSVGG:zie,getChartThemeConfig:Kie,getChartConfig:Zie},Fwe=l((e,t,r,n)=>{const i=n.db,a=i.getChartThemeConfig(),s=i.getChartConfig();function o(v){return v==="top"?"text-before-edge":"middle"}function u(v){return v==="left"?"start":v==="right"?"end":"middle"}function h(v){return`translate(${v.x}, ${v.y}) rotate(${v.rotation||0})`}l(o,"getDominantBaseLine"),l(u,"getTextAnchor"),l(h,"getTextTransformation"),re.debug(`Rendering xychart chart
`+e);const d=mc(t),p=d.append("g").attr("class","main"),f=p.append("rect").attr("width",s.width).attr("height",s.height).attr("class","background");Ci(d,s.height,s.width,!0),d.attr("viewBox",`0 0 ${s.width} ${s.height}`),f.attr("fill",a.backgroundColor),i.setTmpSVGG(d.append("g").attr("class","mermaid-tmp-group"));const g=i.getDrawableElem(),m={};function y(v){let x=p,b="";for(const[w]of v.entries()){let T=p;w>0&&m[b]&&(T=m[b]),b+=v[w],x=m[b],x||(x=m[b]=T.append("g").attr("class",v[w]))}return x}l(y,"getGroup");for(const v of g){if(v.data.length===0)continue;const x=y(v.groupTexts);switch(v.type){case"rect":x.selectAll("rect").data(v.data).enter().append("rect").attr("x",b=>b.x).attr("y",b=>b.y).attr("width",b=>b.width).attr("height",b=>b.height).attr("fill",b=>b.fill).attr("stroke",b=>b.strokeFill).attr("stroke-width",b=>b.strokeWidth);break;case"text":x.selectAll("text").data(v.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",b=>b.fill).attr("font-size",b=>b.fontSize).attr("dominant-baseline",b=>o(b.verticalPos)).attr("text-anchor",b=>u(b.horizontalPos)).attr("transform",b=>h(b)).text(b=>b.text);break;case"path":x.selectAll("path").data(v.data).enter().append("path").attr("d",b=>b.path).attr("fill",b=>b.fill?b.fill:"none").attr("stroke",b=>b.strokeFill).attr("stroke-width",b=>b.strokeWidth)}}},"draw"),zwe={parser:Awe,db:$we,renderer:{draw:Fwe}},Uwe=Object.freeze({__proto__:null,diagram:zwe}),kC=function(){var e=l(function(ie,te,W,H){for(W=W||{},H=ie.length;H--;W[ie[H]]=te);return W},"o"),t=[1,3],r=[1,4],n=[1,5],i=[1,6],a=[5,6,8,9,11,13,31,32,33,34,35,36,44,62,63],s=[1,18],o=[2,7],u=[1,22],h=[1,23],d=[1,24],p=[1,25],f=[1,26],g=[1,27],m=[1,20],y=[1,28],v=[1,29],x=[62,63],b=[5,8,9,11,13,31,32,33,34,35,36,44,51,53,62,63],w=[1,47],T=[1,48],k=[1,49],R=[1,50],C=[1,51],E=[1,52],_=[1,53],L=[53,54],D=[1,64],B=[1,60],S=[1,61],N=[1,62],A=[1,63],M=[1,65],O=[1,69],I=[1,70],P=[1,67],$=[1,68],z=[5,8,9,11,13,31,32,33,34,35,36,44,62,63],G={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,requirementType:17,requirementName:18,STRUCT_START:19,requirementBody:20,ID:21,COLONSEP:22,id:23,TEXT:24,text:25,RISK:26,riskLevel:27,VERIFYMTHD:28,verifyType:29,STRUCT_STOP:30,REQUIREMENT:31,FUNCTIONAL_REQUIREMENT:32,INTERFACE_REQUIREMENT:33,PERFORMANCE_REQUIREMENT:34,PHYSICAL_REQUIREMENT:35,DESIGN_CONSTRAINT:36,LOW_RISK:37,MED_RISK:38,HIGH_RISK:39,VERIFY_ANALYSIS:40,VERIFY_DEMONSTRATION:41,VERIFY_INSPECTION:42,VERIFY_TEST:43,ELEMENT:44,elementName:45,elementBody:46,TYPE:47,type:48,DOCREF:49,ref:50,END_ARROW_L:51,relationship:52,LINE:53,END_ARROW_R:54,CONTAINS:55,COPIES:56,DERIVES:57,SATISFIES:58,VERIFIES:59,REFINES:60,TRACES:61,unqString:62,qString:63,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",19:"STRUCT_START",21:"ID",22:"COLONSEP",24:"TEXT",26:"RISK",28:"VERIFYMTHD",30:"STRUCT_STOP",31:"REQUIREMENT",32:"FUNCTIONAL_REQUIREMENT",33:"INTERFACE_REQUIREMENT",34:"PERFORMANCE_REQUIREMENT",35:"PHYSICAL_REQUIREMENT",36:"DESIGN_CONSTRAINT",37:"LOW_RISK",38:"MED_RISK",39:"HIGH_RISK",40:"VERIFY_ANALYSIS",41:"VERIFY_DEMONSTRATION",42:"VERIFY_INSPECTION",43:"VERIFY_TEST",44:"ELEMENT",47:"TYPE",49:"DOCREF",51:"END_ARROW_L",53:"LINE",54:"END_ARROW_R",55:"CONTAINS",56:"COPIES",57:"DERIVES",58:"SATISFIES",59:"VERIFIES",60:"REFINES",61:"TRACES",62:"unqString",63:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[14,5],[20,5],[20,5],[20,5],[20,5],[20,2],[20,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[27,1],[27,1],[27,1],[29,1],[29,1],[29,1],[29,1],[15,5],[46,5],[46,5],[46,2],[46,1],[16,5],[16,5],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[18,1],[18,1],[23,1],[23,1],[25,1],[25,1],[45,1],[45,1],[48,1],[48,1],[50,1],[50,1]],performAction:l(function(ie,te,W,H,X,Q,ne){var ee=Q.length-1;switch(X){case 4:this.$=Q[ee].trim(),H.setAccTitle(this.$);break;case 5:case 6:this.$=Q[ee].trim(),H.setAccDescription(this.$);break;case 7:this.$=[];break;case 13:H.addRequirement(Q[ee-3],Q[ee-4]);break;case 14:H.setNewReqId(Q[ee-2]);break;case 15:H.setNewReqText(Q[ee-2]);break;case 16:H.setNewReqRisk(Q[ee-2]);break;case 17:H.setNewReqVerifyMethod(Q[ee-2]);break;case 20:this.$=H.RequirementType.REQUIREMENT;break;case 21:this.$=H.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 22:this.$=H.RequirementType.INTERFACE_REQUIREMENT;break;case 23:this.$=H.RequirementType.PERFORMANCE_REQUIREMENT;break;case 24:this.$=H.RequirementType.PHYSICAL_REQUIREMENT;break;case 25:this.$=H.RequirementType.DESIGN_CONSTRAINT;break;case 26:this.$=H.RiskLevel.LOW_RISK;break;case 27:this.$=H.RiskLevel.MED_RISK;break;case 28:this.$=H.RiskLevel.HIGH_RISK;break;case 29:this.$=H.VerifyType.VERIFY_ANALYSIS;break;case 30:this.$=H.VerifyType.VERIFY_DEMONSTRATION;break;case 31:this.$=H.VerifyType.VERIFY_INSPECTION;break;case 32:this.$=H.VerifyType.VERIFY_TEST;break;case 33:H.addElement(Q[ee-3]);break;case 34:H.setNewElementType(Q[ee-2]);break;case 35:H.setNewElementDocRef(Q[ee-2]);break;case 38:H.addRelationship(Q[ee-2],Q[ee],Q[ee-4]);break;case 39:H.addRelationship(Q[ee-2],Q[ee-4],Q[ee]);break;case 40:this.$=H.Relationships.CONTAINS;break;case 41:this.$=H.Relationships.COPIES;break;case 42:this.$=H.Relationships.DERIVES;break;case 43:this.$=H.Relationships.SATISFIES;break;case 44:this.$=H.Relationships.VERIFIES;break;case 45:this.$=H.Relationships.REFINES;break;case 46:this.$=H.Relationships.TRACES}},"anonymous"),table:[{3:1,4:2,6:t,9:r,11:n,13:i},{1:[3]},{3:8,4:2,5:[1,7],6:t,9:r,11:n,13:i},{5:[1,9]},{10:[1,10]},{12:[1,11]},e(a,[2,6]),{3:12,4:2,6:t,9:r,11:n,13:i},{1:[2,2]},{4:17,5:s,7:13,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:v},e(a,[2,4]),e(a,[2,5]),{1:[2,1]},{8:[1,30]},{4:17,5:s,7:31,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:v},{4:17,5:s,7:32,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:v},{4:17,5:s,7:33,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:v},{4:17,5:s,7:34,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:v},{4:17,5:s,7:35,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:v},{18:36,62:[1,37],63:[1,38]},{45:39,62:[1,40],63:[1,41]},{51:[1,42],53:[1,43]},e(x,[2,20]),e(x,[2,21]),e(x,[2,22]),e(x,[2,23]),e(x,[2,24]),e(x,[2,25]),e(b,[2,49]),e(b,[2,50]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{19:[1,44]},{19:[2,47]},{19:[2,48]},{19:[1,45]},{19:[2,53]},{19:[2,54]},{52:46,55:w,56:T,57:k,58:R,59:C,60:E,61:_},{52:54,55:w,56:T,57:k,58:R,59:C,60:E,61:_},{5:[1,55]},{5:[1,56]},{53:[1,57]},e(L,[2,40]),e(L,[2,41]),e(L,[2,42]),e(L,[2,43]),e(L,[2,44]),e(L,[2,45]),e(L,[2,46]),{54:[1,58]},{5:D,20:59,21:B,24:S,26:N,28:A,30:M},{5:O,30:I,46:66,47:P,49:$},{23:71,62:y,63:v},{23:72,62:y,63:v},e(z,[2,13]),{22:[1,73]},{22:[1,74]},{22:[1,75]},{22:[1,76]},{5:D,20:77,21:B,24:S,26:N,28:A,30:M},e(z,[2,19]),e(z,[2,33]),{22:[1,78]},{22:[1,79]},{5:O,30:I,46:80,47:P,49:$},e(z,[2,37]),e(z,[2,38]),e(z,[2,39]),{23:81,62:y,63:v},{25:82,62:[1,83],63:[1,84]},{27:85,37:[1,86],38:[1,87],39:[1,88]},{29:89,40:[1,90],41:[1,91],42:[1,92],43:[1,93]},e(z,[2,18]),{48:94,62:[1,95],63:[1,96]},{50:97,62:[1,98],63:[1,99]},e(z,[2,36]),{5:[1,100]},{5:[1,101]},{5:[2,51]},{5:[2,52]},{5:[1,102]},{5:[2,26]},{5:[2,27]},{5:[2,28]},{5:[1,103]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[2,32]},{5:[1,104]},{5:[2,55]},{5:[2,56]},{5:[1,105]},{5:[2,57]},{5:[2,58]},{5:D,20:106,21:B,24:S,26:N,28:A,30:M},{5:D,20:107,21:B,24:S,26:N,28:A,30:M},{5:D,20:108,21:B,24:S,26:N,28:A,30:M},{5:D,20:109,21:B,24:S,26:N,28:A,30:M},{5:O,30:I,46:110,47:P,49:$},{5:O,30:I,46:111,47:P,49:$},e(z,[2,14]),e(z,[2,15]),e(z,[2,16]),e(z,[2,17]),e(z,[2,34]),e(z,[2,35])],defaultActions:{8:[2,2],12:[2,1],30:[2,3],31:[2,8],32:[2,9],33:[2,10],34:[2,11],35:[2,12],37:[2,47],38:[2,48],40:[2,53],41:[2,54],83:[2,51],84:[2,52],86:[2,26],87:[2,27],88:[2,28],90:[2,29],91:[2,30],92:[2,31],93:[2,32],95:[2,55],96:[2,56],98:[2,57],99:[2,58]},parseError:l(function(ie,te){if(!te.recoverable){var W=new Error(ie);throw W.hash=te,W}this.trace(ie)},"parseError"),parse:l(function(ie){var te=this,W=[0],H=[],X=[null],Q=[],ne=this.table,ee="",pe=0,j=0,ce=2,le=1,Ae=Q.slice.call(arguments,1),Se=Object.create(this.lexer),ze={yy:{}};for(var Pe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Pe)&&(ze.yy[Pe]=this.yy[Pe]);Se.setInput(ie,ze.yy),ze.yy.lexer=Se,ze.yy.parser=this,Se.yylloc===void 0&&(Se.yylloc={});var Ve=Se.yylloc;Q.push(Ve);var Ue=Se.options&&Se.options.ranges;function Ge(_e){W.length=W.length-2*_e,X.length=X.length-_e,Q.length=Q.length-_e}function V(){var _e;return typeof(_e=H.pop()||Se.lex()||le)!="number"&&(_e instanceof Array&&(_e=(H=_e).pop()),_e=te.symbols_[_e]||_e),_e}typeof ze.yy.parseError=="function"?this.parseError=ze.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,l(Ge,"popStack"),l(V,"lex");for(var ue,oe,we,K,ve,Y,he,se,be={};;){if(oe=W[W.length-1],this.defaultActions[oe]?we=this.defaultActions[oe]:(ue==null&&(ue=V()),we=ne[oe]&&ne[oe][ue]),we===void 0||!we.length||!we[0]){var Te="";for(ve in se=[],ne[oe])this.terminals_[ve]&&ve>ce&&se.push("'"+this.terminals_[ve]+"'");Te=Se.showPosition?"Parse error on line "+(pe+1)+`:
`+Se.showPosition()+`
Expecting `+se.join(", ")+", got '"+(this.terminals_[ue]||ue)+"'":"Parse error on line "+(pe+1)+": Unexpected "+(ue==le?"end of input":"'"+(this.terminals_[ue]||ue)+"'"),this.parseError(Te,{text:Se.match,token:this.terminals_[ue]||ue,line:Se.yylineno,loc:Ve,expected:se})}if(we[0]instanceof Array&&we.length>1)throw new Error("Parse Error: multiple actions possible at state: "+oe+", token: "+ue);switch(we[0]){case 1:W.push(ue),X.push(Se.yytext),Q.push(Se.yylloc),W.push(we[1]),ue=null,j=Se.yyleng,ee=Se.yytext,pe=Se.yylineno,Ve=Se.yylloc;break;case 2:if(Y=this.productions_[we[1]][1],be.$=X[X.length-Y],be._$={first_line:Q[Q.length-(Y||1)].first_line,last_line:Q[Q.length-1].last_line,first_column:Q[Q.length-(Y||1)].first_column,last_column:Q[Q.length-1].last_column},Ue&&(be._$.range=[Q[Q.length-(Y||1)].range[0],Q[Q.length-1].range[1]]),(K=this.performAction.apply(be,[ee,j,pe,ze.yy,we[1],X,Q].concat(Ae)))!==void 0)return K;Y&&(W=W.slice(0,-1*Y*2),X=X.slice(0,-1*Y),Q=Q.slice(0,-1*Y)),W.push(this.productions_[we[1]][0]),X.push(be.$),Q.push(be._$),he=ne[W[W.length-2]][W[W.length-1]],W.push(he);break;case 3:return!0}}return!0},"parse")},q=function(){var ie={EOF:1,parseError:l(function(te,W){if(!this.yy.parser)throw new Error(te);this.yy.parser.parseError(te,W)},"parseError"),setInput:l(function(te,W){return this.yy=W||this.yy||{},this._input=te,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var te=this._input[0];return this.yytext+=te,this.yyleng++,this.offset++,this.match+=te,this.matched+=te,te.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),te},"input"),unput:l(function(te){var W=te.length,H=te.split(/(?:\r\n?|\n)/g);this._input=te+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-W),this.offset-=W;var X=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),H.length-1&&(this.yylineno-=H.length-1);var Q=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:H?(H.length===X.length?this.yylloc.first_column:0)+X[X.length-H.length].length-H[0].length:this.yylloc.first_column-W},this.options.ranges&&(this.yylloc.range=[Q[0],Q[0]+this.yyleng-W]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:l(function(te){this.unput(this.match.slice(te))},"less"),pastInput:l(function(){var te=this.matched.substr(0,this.matched.length-this.match.length);return(te.length>20?"...":"")+te.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var te=this.match;return te.length<20&&(te+=this._input.substr(0,20-te.length)),(te.substr(0,20)+(te.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var te=this.pastInput(),W=new Array(te.length+1).join("-");return te+this.upcomingInput()+`
`+W+"^"},"showPosition"),test_match:l(function(te,W){var H,X,Q;if(this.options.backtrack_lexer&&(Q={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Q.yylloc.range=this.yylloc.range.slice(0))),(X=te[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=X.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:X?X[X.length-1].length-X[X.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+te[0].length},this.yytext+=te[0],this.match+=te[0],this.matches=te,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(te[0].length),this.matched+=te[0],H=this.performAction.call(this,this.yy,this,W,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),H)return H;if(this._backtrack){for(var ne in Q)this[ne]=Q[ne];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;var te,W,H,X;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Q=this._currentRules(),ne=0;ne<Q.length;ne++)if((H=this._input.match(this.rules[Q[ne]]))&&(!W||H[0].length>W[0].length)){if(W=H,X=ne,this.options.backtrack_lexer){if((te=this.test_match(H,Q[ne]))!==!1)return te;if(this._backtrack){W=!1;continue}return!1}if(!this.options.flex)break}return W?(te=this.test_match(W,Q[X]))!==!1&&te:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var te=this.next();return te||this.lex()},"lex"),begin:l(function(te){this.conditionStack.push(te)},"begin"),popState:l(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(te){return(te=this.conditionStack.length-1-Math.abs(te||0))>=0?this.conditionStack[te]:"INITIAL"},"topState"),pushState:l(function(te){this.begin(te)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(te,W,H,X){switch(H){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:case 48:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 5;case 9:case 10:case 11:break;case 12:return 8;case 13:return 6;case 14:return 19;case 15:return 30;case 16:return 22;case 17:return 21;case 18:return 24;case 19:return 26;case 20:return 28;case 21:return 31;case 22:return 32;case 23:return 33;case 24:return 34;case 25:return 35;case 26:return 36;case 27:return 37;case 28:return 38;case 29:return 39;case 30:return 40;case 31:return 41;case 32:return 42;case 33:return 43;case 34:return 44;case 35:return 55;case 36:return 56;case 37:return 57;case 38:return 58;case 39:return 59;case 40:return 60;case 41:return 61;case 42:return 47;case 43:return 49;case 44:return 51;case 45:return 54;case 46:return 53;case 47:this.begin("string");break;case 49:return"qString";case 50:return W.yytext=W.yytext.trim(),62}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[48,49],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50],inclusive:!0}}};return ie}();function J(){this.yy={}}return G.lexer=q,l(J,"Parser"),J.prototype=G,G.Parser=J,new J}();kC.parser=kC;var Gwe=kC,kN=[],ea={},sy=new Map,jl={},oy=new Map,qwe=l((e,t)=>(sy.has(e)||sy.set(e,{name:e,type:t,id:ea.id,text:ea.text,risk:ea.risk,verifyMethod:ea.verifyMethod}),ea={},sy.get(e)),"addRequirement"),jwe=l(()=>sy,"getRequirements"),Ywe=l(e=>{ea!==void 0&&(ea.id=e)},"setNewReqId"),Wwe=l(e=>{ea!==void 0&&(ea.text=e)},"setNewReqText"),Hwe=l(e=>{ea!==void 0&&(ea.risk=e)},"setNewReqRisk"),Vwe=l(e=>{ea!==void 0&&(ea.verifyMethod=e)},"setNewReqVerifyMethod"),Xwe=l(e=>(oy.has(e)||(oy.set(e,{name:e,type:jl.type,docRef:jl.docRef}),re.info("Added new requirement: ",e)),jl={},oy.get(e)),"addElement"),Kwe=l(()=>oy,"getElements"),Zwe=l(e=>{jl!==void 0&&(jl.type=e)},"setNewElementType"),Qwe=l(e=>{jl!==void 0&&(jl.docRef=e)},"setNewElementDocRef"),Jwe=l((e,t,r)=>{kN.push({type:e,src:t,dst:r})},"addRelationship"),eke=l(()=>kN,"getRelationships"),tke=l(()=>{kN=[],ea={},sy=new Map,jl={},oy=new Map,Hn()},"clear"),rke={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},getConfig:l(()=>ye().req,"getConfig"),addRequirement:qwe,getRequirements:jwe,setNewReqId:Ywe,setNewReqText:Wwe,setNewReqRisk:Hwe,setNewReqVerifyMethod:Vwe,setAccTitle:Vn,getAccTitle:ci,setAccDescription:ui,getAccDescription:hi,addElement:Xwe,getElements:Kwe,setNewElementType:Zwe,setNewElementDocRef:Qwe,addRelationship:Jwe,getRelationships:eke,clear:tke},nke=l(e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }

`,"getStyles"),Gk={CONTAINS:"contains",ARROW:"arrow"},Qie={ReqMarkers:Gk,insertLineEndings:l((e,t)=>{let r=e.append("defs").append("marker").attr("id",Gk.CONTAINS+"_line_ending").attr("refX",0).attr("refY",t.line_height/2).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("g");r.append("circle").attr("cx",t.line_height/2).attr("cy",t.line_height/2).attr("r",t.line_height/2).attr("fill","none"),r.append("line").attr("x1",0).attr("x2",t.line_height).attr("y1",t.line_height/2).attr("y2",t.line_height/2).attr("stroke-width",1),r.append("line").attr("y1",0).attr("y2",t.line_height).attr("x1",t.line_height/2).attr("x2",t.line_height/2).attr("stroke-width",1),e.append("defs").append("marker").attr("id",Gk.ARROW+"_line_ending").attr("refX",t.line_height).attr("refY",.5*t.line_height).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${t.line_height},${t.line_height/2}
      M${t.line_height},${t.line_height/2}
      L0,${t.line_height}`).attr("stroke-width",1)},"insertLineEndings")},mn={},jO=0,Jie=l((e,t)=>e.insert("rect","#"+t).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",mn.rect_min_width+"px").attr("height",mn.rect_min_height+"px"),"newRectNode"),eae=l((e,t,r)=>{let n=mn.rect_min_width/2,i=e.append("text").attr("class","req reqLabel reqTitle").attr("id",t).attr("x",n).attr("y",mn.rect_padding).attr("dominant-baseline","hanging"),a=0;r.forEach(o=>{a==0?i.append("tspan").attr("text-anchor","middle").attr("x",mn.rect_min_width/2).attr("dy",0).text(o):i.append("tspan").attr("text-anchor","middle").attr("x",mn.rect_min_width/2).attr("dy",.75*mn.line_height).text(o),a++});let s=1.5*mn.rect_padding+a*mn.line_height*.75;return e.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",mn.rect_min_width).attr("y1",s).attr("y2",s),{titleNode:i,y:s}},"newTitleNode"),tae=l((e,t,r,n)=>{let i=e.append("text").attr("class","req reqLabel").attr("id",t).attr("x",mn.rect_padding).attr("y",n).attr("dominant-baseline","hanging"),a=0,s=[];return r.forEach(o=>{let u=o.length;for(;u>30&&a<3;){let h=o.substring(0,30);u=(o=o.substring(30,o.length)).length,s[s.length]=h,a++}if(a==3){let h=s[s.length-1];s[s.length-1]=h.substring(0,h.length-4)+"..."}else s[s.length]=o;a=0}),s.forEach(o=>{i.append("tspan").attr("x",mn.rect_padding).attr("dy",mn.line_height).text(o)}),i},"newBodyNode"),ike=l((e,t,r,n)=>{const i=t.node().getTotalLength(),a=t.node().getPointAtLength(.5*i),s="rel"+jO;jO++;const o=e.append("text").attr("class","req relationshipLabel").attr("id",s).attr("x",a.x).attr("y",a.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(n).node().getBBox();e.insert("rect","#"+s).attr("class","req reqLabelBox").attr("x",a.x-o.width/2).attr("y",a.y-o.height/2).attr("width",o.width).attr("height",o.height).attr("fill","white").attr("fill-opacity","85%")},"addEdgeLabel"),ake=l(function(e,t,r,n,i){const a=r.edge(u0(t.src),u0(t.dst)),s=Xl().x(function(u){return u.x}).y(function(u){return u.y}),o=e.insert("path","#"+n).attr("class","er relationshipLine").attr("d",s(a.points)).attr("fill","none");t.type==i.db.Relationships.CONTAINS?o.attr("marker-start","url("+He.getUrl(mn.arrowMarkerAbsolute)+"#"+t.type+"_line_ending)"):(o.attr("stroke-dasharray","10,7"),o.attr("marker-end","url("+He.getUrl(mn.arrowMarkerAbsolute)+"#"+Qie.ReqMarkers.ARROW+"_line_ending)")),ike(e,o,mn,`<<${t.type}>>`)},"drawRelationshipFromLayout"),ske=l((e,t,r)=>{e.forEach((n,i)=>{i=u0(i),re.info("Added new requirement: ",i);const a=r.append("g").attr("id",i),s=Jie(a,"req-"+i);let o=[],u=eae(a,i+"_title",[`<<${n.type}>>`,`${n.name}`]);o.push(u.titleNode);let h=tae(a,i+"_body",[`Id: ${n.id}`,`Text: ${n.text}`,`Risk: ${n.risk}`,`Verification: ${n.verifyMethod}`],u.y);o.push(h);const d=s.node().getBBox();t.setNode(i,{width:d.width,height:d.height,shape:"rect",id:i})})},"drawReqs"),oke=l((e,t,r)=>{e.forEach((n,i)=>{const a=u0(i),s=r.append("g").attr("id",a),o="element-"+a,u=Jie(s,o);let h=[],d=eae(s,o+"_title",["<<Element>>",`${i}`]);h.push(d.titleNode);let p=tae(s,o+"_body",[`Type: ${n.type||"Not Specified"}`,`Doc Ref: ${n.docRef||"None"}`],d.y);h.push(p);const f=u.node().getBBox();t.setNode(a,{width:f.width,height:f.height,shape:"rect",id:a})})},"drawElements"),lke=l((e,t)=>(e.forEach(function(r){let n=u0(r.src),i=u0(r.dst);t.setEdge(n,i,{relationship:r})}),e),"addRelationships"),cke=l(function(e,t){t.nodes().forEach(function(r){r!==void 0&&t.node(r)!==void 0&&(e.select("#"+r),e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )"))})},"adjustEntities"),u0=l(e=>e.replace(/\s/g,"").replace(/\./g,"_"),"elementString"),uke=l((e,t,r,n)=>{const i=(mn=ye().requirement).securityLevel;let a;i==="sandbox"&&(a=Qe("#i"+t));const s=Qe(i==="sandbox"?a.nodes()[0].contentDocument.body:"body").select(`[id='${t}']`);Qie.insertLineEndings(s,mn);const o=new _i({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:mn.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let u=n.db.getRequirements(),h=n.db.getElements(),d=n.db.getRelationships();ske(u,o,s),oke(h,o,s),lke(d,o),G2(o),cke(s,o),d.forEach(function(y){ake(s,y,o,t,n)});const p=mn.rect_padding,f=s.node().getBBox(),g=f.width+2*p,m=f.height+2*p;Ci(s,m,g,mn.useMaxWidth),s.attr("viewBox",`${f.x-p} ${f.y-p} ${g} ${m}`)},"draw"),hke={parser:Gwe,db:rke,renderer:{draw:uke},styles:nke},dke=Object.freeze({__proto__:null,diagram:hke}),TC=function(){var e=l(function(X,Q,ne,ee){for(ne=ne||{},ee=X.length;ee--;ne[X[ee]]=Q);return ne},"o"),t=[1,2],r=[1,3],n=[1,4],i=[2,4],a=[1,9],s=[1,11],o=[1,13],u=[1,14],h=[1,16],d=[1,17],p=[1,18],f=[1,24],g=[1,25],m=[1,26],y=[1,27],v=[1,28],x=[1,29],b=[1,30],w=[1,31],T=[1,32],k=[1,33],R=[1,34],C=[1,35],E=[1,36],_=[1,37],L=[1,38],D=[1,39],B=[1,41],S=[1,42],N=[1,43],A=[1,44],M=[1,45],O=[1,46],I=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],P=[4,5,16,50,52,53],$=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],z=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],G=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],q=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],J=[68,69,70],ie=[1,122],te={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,BIDIRECTIONAL_SOLID_ARROW:74,DOTTED_ARROW:75,BIDIRECTIONAL_DOTTED_ARROW:76,SOLID_CROSS:77,DOTTED_CROSS:78,SOLID_POINT:79,DOTTED_POINT:80,TXT:81,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"BIDIRECTIONAL_SOLID_ARROW",75:"DOTTED_ARROW",76:"BIDIRECTIONAL_DOTTED_ARROW",77:"SOLID_CROSS",78:"DOTTED_CROSS",79:"SOLID_POINT",80:"DOTTED_POINT",81:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:l(function(X,Q,ne,ee,pe,j,ce){var le=j.length-1;switch(pe){case 3:return ee.apply(j[le]),j[le];case 4:case 9:case 8:case 13:this.$=[];break;case 5:case 10:j[le-1].push(j[le]),this.$=j[le-1];break;case 6:case 7:case 11:case 12:case 62:this.$=j[le];break;case 15:j[le].type="createParticipant",this.$=j[le];break;case 16:j[le-1].unshift({type:"boxStart",boxData:ee.parseBoxData(j[le-2])}),j[le-1].push({type:"boxEnd",boxText:j[le-2]}),this.$=j[le-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(j[le-2]),sequenceIndexStep:Number(j[le-1]),sequenceVisible:!0,signalType:ee.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(j[le-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:ee.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:ee.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:ee.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:ee.LINETYPE.ACTIVE_START,actor:j[le-1].actor};break;case 23:this.$={type:"activeEnd",signalType:ee.LINETYPE.ACTIVE_END,actor:j[le-1].actor};break;case 29:ee.setDiagramTitle(j[le].substring(6)),this.$=j[le].substring(6);break;case 30:ee.setDiagramTitle(j[le].substring(7)),this.$=j[le].substring(7);break;case 31:this.$=j[le].trim(),ee.setAccTitle(this.$);break;case 32:case 33:this.$=j[le].trim(),ee.setAccDescription(this.$);break;case 34:j[le-1].unshift({type:"loopStart",loopText:ee.parseMessage(j[le-2]),signalType:ee.LINETYPE.LOOP_START}),j[le-1].push({type:"loopEnd",loopText:j[le-2],signalType:ee.LINETYPE.LOOP_END}),this.$=j[le-1];break;case 35:j[le-1].unshift({type:"rectStart",color:ee.parseMessage(j[le-2]),signalType:ee.LINETYPE.RECT_START}),j[le-1].push({type:"rectEnd",color:ee.parseMessage(j[le-2]),signalType:ee.LINETYPE.RECT_END}),this.$=j[le-1];break;case 36:j[le-1].unshift({type:"optStart",optText:ee.parseMessage(j[le-2]),signalType:ee.LINETYPE.OPT_START}),j[le-1].push({type:"optEnd",optText:ee.parseMessage(j[le-2]),signalType:ee.LINETYPE.OPT_END}),this.$=j[le-1];break;case 37:j[le-1].unshift({type:"altStart",altText:ee.parseMessage(j[le-2]),signalType:ee.LINETYPE.ALT_START}),j[le-1].push({type:"altEnd",signalType:ee.LINETYPE.ALT_END}),this.$=j[le-1];break;case 38:j[le-1].unshift({type:"parStart",parText:ee.parseMessage(j[le-2]),signalType:ee.LINETYPE.PAR_START}),j[le-1].push({type:"parEnd",signalType:ee.LINETYPE.PAR_END}),this.$=j[le-1];break;case 39:j[le-1].unshift({type:"parStart",parText:ee.parseMessage(j[le-2]),signalType:ee.LINETYPE.PAR_OVER_START}),j[le-1].push({type:"parEnd",signalType:ee.LINETYPE.PAR_END}),this.$=j[le-1];break;case 40:j[le-1].unshift({type:"criticalStart",criticalText:ee.parseMessage(j[le-2]),signalType:ee.LINETYPE.CRITICAL_START}),j[le-1].push({type:"criticalEnd",signalType:ee.LINETYPE.CRITICAL_END}),this.$=j[le-1];break;case 41:j[le-1].unshift({type:"breakStart",breakText:ee.parseMessage(j[le-2]),signalType:ee.LINETYPE.BREAK_START}),j[le-1].push({type:"breakEnd",optText:ee.parseMessage(j[le-2]),signalType:ee.LINETYPE.BREAK_END}),this.$=j[le-1];break;case 43:this.$=j[le-3].concat([{type:"option",optionText:ee.parseMessage(j[le-1]),signalType:ee.LINETYPE.CRITICAL_OPTION},j[le]]);break;case 45:this.$=j[le-3].concat([{type:"and",parText:ee.parseMessage(j[le-1]),signalType:ee.LINETYPE.PAR_AND},j[le]]);break;case 47:this.$=j[le-3].concat([{type:"else",altText:ee.parseMessage(j[le-1]),signalType:ee.LINETYPE.ALT_ELSE},j[le]]);break;case 48:j[le-3].draw="participant",j[le-3].type="addParticipant",j[le-3].description=ee.parseMessage(j[le-1]),this.$=j[le-3];break;case 49:j[le-1].draw="participant",j[le-1].type="addParticipant",this.$=j[le-1];break;case 50:j[le-3].draw="actor",j[le-3].type="addParticipant",j[le-3].description=ee.parseMessage(j[le-1]),this.$=j[le-3];break;case 51:j[le-1].draw="actor",j[le-1].type="addParticipant",this.$=j[le-1];break;case 52:j[le-1].type="destroyParticipant",this.$=j[le-1];break;case 53:this.$=[j[le-1],{type:"addNote",placement:j[le-2],actor:j[le-1].actor,text:j[le]}];break;case 54:j[le-2]=[].concat(j[le-1],j[le-1]).slice(0,2),j[le-2][0]=j[le-2][0].actor,j[le-2][1]=j[le-2][1].actor,this.$=[j[le-1],{type:"addNote",placement:ee.PLACEMENT.OVER,actor:j[le-2].slice(0,2),text:j[le]}];break;case 55:this.$=[j[le-1],{type:"addLinks",actor:j[le-1].actor,text:j[le]}];break;case 56:this.$=[j[le-1],{type:"addALink",actor:j[le-1].actor,text:j[le]}];break;case 57:this.$=[j[le-1],{type:"addProperties",actor:j[le-1].actor,text:j[le]}];break;case 58:this.$=[j[le-1],{type:"addDetails",actor:j[le-1].actor,text:j[le]}];break;case 61:this.$=[j[le-2],j[le]];break;case 63:this.$=ee.PLACEMENT.LEFTOF;break;case 64:this.$=ee.PLACEMENT.RIGHTOF;break;case 65:this.$=[j[le-4],j[le-1],{type:"addMessage",from:j[le-4].actor,to:j[le-1].actor,signalType:j[le-3],msg:j[le],activate:!0},{type:"activeStart",signalType:ee.LINETYPE.ACTIVE_START,actor:j[le-1].actor}];break;case 66:this.$=[j[le-4],j[le-1],{type:"addMessage",from:j[le-4].actor,to:j[le-1].actor,signalType:j[le-3],msg:j[le]},{type:"activeEnd",signalType:ee.LINETYPE.ACTIVE_END,actor:j[le-4].actor}];break;case 67:this.$=[j[le-3],j[le-1],{type:"addMessage",from:j[le-3].actor,to:j[le-1].actor,signalType:j[le-2],msg:j[le]}];break;case 68:this.$={type:"addParticipant",actor:j[le]};break;case 69:this.$=ee.LINETYPE.SOLID_OPEN;break;case 70:this.$=ee.LINETYPE.DOTTED_OPEN;break;case 71:this.$=ee.LINETYPE.SOLID;break;case 72:this.$=ee.LINETYPE.BIDIRECTIONAL_SOLID;break;case 73:this.$=ee.LINETYPE.DOTTED;break;case 74:this.$=ee.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 75:this.$=ee.LINETYPE.SOLID_CROSS;break;case 76:this.$=ee.LINETYPE.DOTTED_CROSS;break;case 77:this.$=ee.LINETYPE.SOLID_POINT;break;case 78:this.$=ee.LINETYPE.DOTTED_POINT;break;case 79:this.$=ee.parseMessage(j[le].trim().substring(1))}},"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,12:12,13:o,14:u,17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:v,36:x,37:b,38:w,39:T,41:k,43:R,44:C,46:E,50:_,52:L,53:D,54:B,59:S,60:N,61:A,62:M,70:O},e(I,[2,5]),{9:47,12:12,13:o,14:u,17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:v,36:x,37:b,38:w,39:T,41:k,43:R,44:C,46:E,50:_,52:L,53:D,54:B,59:S,60:N,61:A,62:M,70:O},e(I,[2,7]),e(I,[2,8]),e(I,[2,14]),{12:48,50:_,52:L,53:D},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:O},{22:55,70:O},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},e(I,[2,29]),e(I,[2,30]),{32:[1,61]},{34:[1,62]},e(I,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:O},{22:72,70:O},{22:73,70:O},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82],79:[1,83],80:[1,84]},{55:85,57:[1,86],65:[1,87],66:[1,88]},{22:89,70:O},{22:90,70:O},{22:91,70:O},{22:92,70:O},e([5,51,64,71,72,73,74,75,76,77,78,79,80,81],[2,68]),e(I,[2,6]),e(I,[2,15]),e(P,[2,9],{10:93}),e(I,[2,17]),{5:[1,95],19:[1,94]},{5:[1,96]},e(I,[2,21]),{5:[1,97]},{5:[1,98]},e(I,[2,24]),e(I,[2,25]),e(I,[2,26]),e(I,[2,27]),e(I,[2,28]),e(I,[2,31]),e(I,[2,32]),e($,i,{7:99}),e($,i,{7:100}),e($,i,{7:101}),e(z,i,{40:102,7:103}),e(G,i,{42:104,7:105}),e(G,i,{7:105,42:106}),e(q,i,{45:107,7:108}),e($,i,{7:109}),{5:[1,111],51:[1,110]},{5:[1,113],51:[1,112]},{5:[1,114]},{22:117,68:[1,115],69:[1,116],70:O},e(J,[2,69]),e(J,[2,70]),e(J,[2,71]),e(J,[2,72]),e(J,[2,73]),e(J,[2,74]),e(J,[2,75]),e(J,[2,76]),e(J,[2,77]),e(J,[2,78]),{22:118,70:O},{22:120,58:119,70:O},{70:[2,63]},{70:[2,64]},{56:121,81:ie},{56:123,81:ie},{56:124,81:ie},{56:125,81:ie},{4:[1,128],5:[1,130],11:127,12:129,16:[1,126],50:_,52:L,53:D},{5:[1,131]},e(I,[2,19]),e(I,[2,20]),e(I,[2,22]),e(I,[2,23]),{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[1,132],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:v,36:x,37:b,38:w,39:T,41:k,43:R,44:C,46:E,50:_,52:L,53:D,54:B,59:S,60:N,61:A,62:M,70:O},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[1,133],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:v,36:x,37:b,38:w,39:T,41:k,43:R,44:C,46:E,50:_,52:L,53:D,54:B,59:S,60:N,61:A,62:M,70:O},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[1,134],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:v,36:x,37:b,38:w,39:T,41:k,43:R,44:C,46:E,50:_,52:L,53:D,54:B,59:S,60:N,61:A,62:M,70:O},{16:[1,135]},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[2,46],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:v,36:x,37:b,38:w,39:T,41:k,43:R,44:C,46:E,49:[1,136],50:_,52:L,53:D,54:B,59:S,60:N,61:A,62:M,70:O},{16:[1,137]},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[2,44],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:v,36:x,37:b,38:w,39:T,41:k,43:R,44:C,46:E,48:[1,138],50:_,52:L,53:D,54:B,59:S,60:N,61:A,62:M,70:O},{16:[1,139]},{16:[1,140]},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[2,42],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:v,36:x,37:b,38:w,39:T,41:k,43:R,44:C,46:E,47:[1,141],50:_,52:L,53:D,54:B,59:S,60:N,61:A,62:M,70:O},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[1,142],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:v,36:x,37:b,38:w,39:T,41:k,43:R,44:C,46:E,50:_,52:L,53:D,54:B,59:S,60:N,61:A,62:M,70:O},{15:[1,143]},e(I,[2,49]),{15:[1,144]},e(I,[2,51]),e(I,[2,52]),{22:145,70:O},{22:146,70:O},{56:147,81:ie},{56:148,81:ie},{56:149,81:ie},{64:[1,150],81:[2,62]},{5:[2,55]},{5:[2,79]},{5:[2,56]},{5:[2,57]},{5:[2,58]},e(I,[2,16]),e(P,[2,10]),{12:151,50:_,52:L,53:D},e(P,[2,12]),e(P,[2,13]),e(I,[2,18]),e(I,[2,34]),e(I,[2,35]),e(I,[2,36]),e(I,[2,37]),{15:[1,152]},e(I,[2,38]),{15:[1,153]},e(I,[2,39]),e(I,[2,40]),{15:[1,154]},e(I,[2,41]),{5:[1,155]},{5:[1,156]},{56:157,81:ie},{56:158,81:ie},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:159,70:O},e(P,[2,11]),e(z,i,{7:103,40:160}),e(G,i,{7:105,42:161}),e(q,i,{7:108,45:162}),e(I,[2,48]),e(I,[2,50]),{5:[2,65]},{5:[2,66]},{81:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],87:[2,63],88:[2,64],121:[2,55],122:[2,79],123:[2,56],124:[2,57],125:[2,58],147:[2,67],148:[2,53],149:[2,54],157:[2,65],158:[2,66],159:[2,61],160:[2,47],161:[2,45],162:[2,43]},parseError:l(function(X,Q){if(!Q.recoverable){var ne=new Error(X);throw ne.hash=Q,ne}this.trace(X)},"parseError"),parse:l(function(X){var Q=this,ne=[0],ee=[],pe=[null],j=[],ce=this.table,le="",Ae=0,Se=0,ze=2,Pe=1,Ve=j.slice.call(arguments,1),Ue=Object.create(this.lexer),Ge={yy:{}};for(var V in this.yy)Object.prototype.hasOwnProperty.call(this.yy,V)&&(Ge.yy[V]=this.yy[V]);Ue.setInput(X,Ge.yy),Ge.yy.lexer=Ue,Ge.yy.parser=this,Ue.yylloc===void 0&&(Ue.yylloc={});var ue=Ue.yylloc;j.push(ue);var oe=Ue.options&&Ue.options.ranges;function we(Oe){ne.length=ne.length-2*Oe,pe.length=pe.length-Oe,j.length=j.length-Oe}function K(){var Oe;return typeof(Oe=ee.pop()||Ue.lex()||Pe)!="number"&&(Oe instanceof Array&&(Oe=(ee=Oe).pop()),Oe=Q.symbols_[Oe]||Oe),Oe}typeof Ge.yy.parseError=="function"?this.parseError=Ge.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,l(we,"popStack"),l(K,"lex");for(var ve,Y,he,se,be,Te,_e,Re,ke={};;){if(Y=ne[ne.length-1],this.defaultActions[Y]?he=this.defaultActions[Y]:(ve==null&&(ve=K()),he=ce[Y]&&ce[Y][ve]),he===void 0||!he.length||!he[0]){var Be="";for(be in Re=[],ce[Y])this.terminals_[be]&&be>ze&&Re.push("'"+this.terminals_[be]+"'");Be=Ue.showPosition?"Parse error on line "+(Ae+1)+`:
`+Ue.showPosition()+`
Expecting `+Re.join(", ")+", got '"+(this.terminals_[ve]||ve)+"'":"Parse error on line "+(Ae+1)+": Unexpected "+(ve==Pe?"end of input":"'"+(this.terminals_[ve]||ve)+"'"),this.parseError(Be,{text:Ue.match,token:this.terminals_[ve]||ve,line:Ue.yylineno,loc:ue,expected:Re})}if(he[0]instanceof Array&&he.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Y+", token: "+ve);switch(he[0]){case 1:ne.push(ve),pe.push(Ue.yytext),j.push(Ue.yylloc),ne.push(he[1]),ve=null,Se=Ue.yyleng,le=Ue.yytext,Ae=Ue.yylineno,ue=Ue.yylloc;break;case 2:if(Te=this.productions_[he[1]][1],ke.$=pe[pe.length-Te],ke._$={first_line:j[j.length-(Te||1)].first_line,last_line:j[j.length-1].last_line,first_column:j[j.length-(Te||1)].first_column,last_column:j[j.length-1].last_column},oe&&(ke._$.range=[j[j.length-(Te||1)].range[0],j[j.length-1].range[1]]),(se=this.performAction.apply(ke,[le,Se,Ae,Ge.yy,he[1],pe,j].concat(Ve)))!==void 0)return se;Te&&(ne=ne.slice(0,-1*Te*2),pe=pe.slice(0,-1*Te),j=j.slice(0,-1*Te)),ne.push(this.productions_[he[1]][0]),pe.push(ke.$),j.push(ke._$),_e=ce[ne[ne.length-2]][ne[ne.length-1]],ne.push(_e);break;case 3:return!0}}return!0},"parse")},W=function(){var X={EOF:1,parseError:l(function(Q,ne){if(!this.yy.parser)throw new Error(Q);this.yy.parser.parseError(Q,ne)},"parseError"),setInput:l(function(Q,ne){return this.yy=ne||this.yy||{},this._input=Q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var Q=this._input[0];return this.yytext+=Q,this.yyleng++,this.offset++,this.match+=Q,this.matched+=Q,Q.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Q},"input"),unput:l(function(Q){var ne=Q.length,ee=Q.split(/(?:\r\n?|\n)/g);this._input=Q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ne),this.offset-=ne;var pe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ee.length-1&&(this.yylineno-=ee.length-1);var j=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ee?(ee.length===pe.length?this.yylloc.first_column:0)+pe[pe.length-ee.length].length-ee[0].length:this.yylloc.first_column-ne},this.options.ranges&&(this.yylloc.range=[j[0],j[0]+this.yyleng-ne]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:l(function(Q){this.unput(this.match.slice(Q))},"less"),pastInput:l(function(){var Q=this.matched.substr(0,this.matched.length-this.match.length);return(Q.length>20?"...":"")+Q.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var Q=this.match;return Q.length<20&&(Q+=this._input.substr(0,20-Q.length)),(Q.substr(0,20)+(Q.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var Q=this.pastInput(),ne=new Array(Q.length+1).join("-");return Q+this.upcomingInput()+`
`+ne+"^"},"showPosition"),test_match:l(function(Q,ne){var ee,pe,j;if(this.options.backtrack_lexer&&(j={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(j.yylloc.range=this.yylloc.range.slice(0))),(pe=Q[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=pe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:pe?pe[pe.length-1].length-pe[pe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Q[0].length},this.yytext+=Q[0],this.match+=Q[0],this.matches=Q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Q[0].length),this.matched+=Q[0],ee=this.performAction.call(this,this.yy,this,ne,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ee)return ee;if(this._backtrack){for(var ce in j)this[ce]=j[ce];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;var Q,ne,ee,pe;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var j=this._currentRules(),ce=0;ce<j.length;ce++)if((ee=this._input.match(this.rules[j[ce]]))&&(!ne||ee[0].length>ne[0].length)){if(ne=ee,pe=ce,this.options.backtrack_lexer){if((Q=this.test_match(ee,j[ce]))!==!1)return Q;if(this._backtrack){ne=!1;continue}return!1}if(!this.options.flex)break}return ne?(Q=this.test_match(ne,j[pe]))!==!1&&Q:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var Q=this.next();return Q||this.lex()},"lex"),begin:l(function(Q){this.conditionStack.push(Q)},"begin"),popState:l(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(Q){return(Q=this.conditionStack.length-1-Math.abs(Q||0))>=0?this.conditionStack[Q]:"INITIAL"},"topState"),pushState:l(function(Q){this.begin(Q)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(Q,ne,ee,pe){switch(ee){case 0:case 51:case 66:return 5;case 1:case 2:case 3:case 4:case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;case 8:return this.begin("ID"),50;case 9:return this.begin("ID"),52;case 10:return 13;case 11:return this.begin("ID"),53;case 12:return ne.yytext=ne.yytext.trim(),this.begin("ALIAS"),70;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;case 14:return this.popState(),this.popState(),5;case 15:return this.begin("LINE"),36;case 16:return this.begin("LINE"),37;case 17:return this.begin("LINE"),38;case 18:return this.begin("LINE"),39;case 19:return this.begin("LINE"),49;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),43;case 22:return this.begin("LINE"),48;case 23:return this.begin("LINE"),44;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),46;case 26:return this.popState(),15;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;case 37:return this.begin("ID"),23;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;case 41:return this.popState(),"acc_title_value";case 42:return this.begin("acc_descr"),33;case 43:return this.popState(),"acc_descr_value";case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 52:return ne.yytext=ne.yytext.trim(),70;case 53:return 73;case 54:return 74;case 55:return 75;case 56:return 76;case 57:return 71;case 58:return 72;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 80;case 63:return 81;case 64:return 68;case 65:return 69;case 67:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^\<->\->:\n,;]+?([\-]*[^\<->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\<->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\<->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};return X}();function H(){this.yy={}}return te.lexer=W,l(H,"Parser"),H.prototype=te,te.Parser=H,new H}();TC.parser=TC;var pke=TC,Tt=new h1(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),fke=l(function(e){Tt.records.boxes.push({name:e.text,wrap:e.wrap??th(),fill:e.color,actorKeys:[]}),Tt.records.currentBox=Tt.records.boxes.slice(-1)[0]},"addBox"),_C=l(function(e,t,r,n){let i=Tt.records.currentBox;const a=Tt.records.actors.get(e);if(a){if(Tt.records.currentBox&&a.box&&Tt.records.currentBox!==a.box)throw new Error(`A same participant should only be defined in one Box: ${a.name} can't be in '${a.box.name}' and in '${Tt.records.currentBox.name}' at the same time.`);if(i=a.box?a.box:Tt.records.currentBox,a.box=i,a&&t===a.name&&r==null)return}if((r==null?void 0:r.text)==null&&(r={text:t,type:n}),n!=null&&r.text!=null||(r={text:t,type:n}),Tt.records.actors.set(e,{box:i,name:t,description:r.text,wrap:r.wrap??th(),prevActor:Tt.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:n??"participant"}),Tt.records.prevActor){const s=Tt.records.actors.get(Tt.records.prevActor);s&&(s.nextActor=e)}Tt.records.currentBox&&Tt.records.currentBox.actorKeys.push(e),Tt.records.prevActor=e},"addActor"),gke=l(e=>{let t,r=0;if(!e)return 0;for(t=0;t<Tt.records.messages.length;t++)Tt.records.messages[t].type===r2.ACTIVE_START&&Tt.records.messages[t].from===e&&r++,Tt.records.messages[t].type===r2.ACTIVE_END&&Tt.records.messages[t].from===e&&r--;return r},"activationCount"),mke=l(function(e,t,r,n){Tt.records.messages.push({from:e,to:t,message:r.text,wrap:r.wrap??th(),answer:n})},"addMessage"),$a=l(function(e,t,r,n,i=!1){if(n===r2.ACTIVE_END&&gke(e??"")<1){const a=new Error("Trying to inactivate an inactive participant ("+e+")");throw a.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},a}return Tt.records.messages.push({from:e,to:t,message:(r==null?void 0:r.text)??"",wrap:(r==null?void 0:r.wrap)??th(),type:n,activate:i}),!0},"addSignal"),yke=l(function(){return Tt.records.boxes.length>0},"hasAtLeastOneBox"),vke=l(function(){return Tt.records.boxes.some(e=>e.name)},"hasAtLeastOneBoxWithTitle"),xke=l(function(){return Tt.records.messages},"getMessages"),bke=l(function(){return Tt.records.boxes},"getBoxes"),wke=l(function(){return Tt.records.actors},"getActors"),kke=l(function(){return Tt.records.createdActors},"getCreatedActors"),Tke=l(function(){return Tt.records.destroyedActors},"getDestroyedActors"),rv=l(function(e){return Tt.records.actors.get(e)},"getActor"),_ke=l(function(){return[...Tt.records.actors.keys()]},"getActorKeys"),Eke=l(function(){Tt.records.sequenceNumbersEnabled=!0},"enableSequenceNumbers"),Cke=l(function(){Tt.records.sequenceNumbersEnabled=!1},"disableSequenceNumbers"),Ske=l(()=>Tt.records.sequenceNumbersEnabled,"showSequenceNumbers"),Ake=l(function(e){Tt.records.wrapEnabled=e},"setWrap"),rae=l(e=>{if(e===void 0)return{};e=e.trim();const t=/^:?wrap:/.exec(e)!==null||/^:?nowrap:/.exec(e)===null&&void 0;return{cleanedText:(t===void 0?e:e.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:t}},"extractWrap"),th=l(()=>{var e;return Tt.records.wrapEnabled!==void 0?Tt.records.wrapEnabled:((e=ye().sequence)==null?void 0:e.wrap)??!1},"autoWrap"),Lke=l(function(){Tt.reset(),Hn()},"clear"),Nke=l(function(e){const t=e.trim(),{wrap:r,cleanedText:n}=rae(t),i={text:n,wrap:r};return re.debug(`parseMessage: ${JSON.stringify(i)}`),i},"parseMessage"),Ike=l(function(e){const t=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(e);let r=t!=null&&t[1]?t[1].trim():"transparent",n=t!=null&&t[2]?t[2].trim():void 0;if(window!=null&&window.CSS)window.CSS.supports("color",r)||(r="transparent",n=e.trim());else{const s=new Option().style;s.color=r,s.color!==r&&(r="transparent",n=e.trim())}const{wrap:i,cleanedText:a}=rae(n);return{text:a?Ir(a,ye()):void 0,color:r,wrap:i}},"parseBoxData"),r2={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},nae=l(function(e,t,r){const n={actor:e,placement:t,message:r.text,wrap:r.wrap??th()},i=[].concat(e,e);Tt.records.notes.push(n),Tt.records.messages.push({from:i[0],to:i[1],message:r.text,wrap:r.wrap??th(),type:r2.NOTE,placement:t})},"addNote"),iae=l(function(e,t){const r=rv(e);try{let n=Ir(t.text,ye());n=n.replace(/&amp;/g,"&"),n=n.replace(/&equals;/g,"="),cw(r,JSON.parse(n))}catch(n){re.error("error while parsing actor link text",n)}},"addLinks"),Mke=l(function(e,t){const r=rv(e);try{const n={};let i=Ir(t.text,ye());const a=i.indexOf("@");i=i.replace(/&amp;/g,"&"),i=i.replace(/&equals;/g,"=");const s=i.slice(0,a-1).trim(),o=i.slice(a+1).trim();n[s]=o,cw(r,n)}catch(n){re.error("error while parsing actor link text",n)}},"addALink");function cw(e,t){if(e.links==null)e.links=t;else for(const r in t)e.links[r]=t[r]}l(cw,"insertLinks");var aae=l(function(e,t){const r=rv(e);try{const n=Ir(t.text,ye());TN(r,JSON.parse(n))}catch(n){re.error("error while parsing actor properties text",n)}},"addProperties");function TN(e,t){if(e.properties==null)e.properties=t;else for(const r in t)e.properties[r]=t[r]}function sae(){Tt.records.currentBox=void 0}l(TN,"insertProperties"),l(sae,"boxEnd");var oae=l(function(e,t){const r=rv(e),n=document.getElementById(t.text);try{const i=n.innerHTML,a=JSON.parse(i);a.properties&&TN(r,a.properties),a.links&&cw(r,a.links)}catch(i){re.error("error while parsing actor details text",i)}},"addDetails"),Rke=l(function(e,t){if((e==null?void 0:e.properties)!==void 0)return e.properties[t]},"getActorProperty"),lae=l(function(e){if(Array.isArray(e))e.forEach(function(t){lae(t)});else switch(e.type){case"sequenceIndex":Tt.records.messages.push({from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":_C(e.actor,e.actor,e.description,e.draw);break;case"createParticipant":if(Tt.records.actors.has(e.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");Tt.records.lastCreated=e.actor,_C(e.actor,e.actor,e.description,e.draw),Tt.records.createdActors.set(e.actor,Tt.records.messages.length);break;case"destroyParticipant":Tt.records.lastDestroyed=e.actor,Tt.records.destroyedActors.set(e.actor,Tt.records.messages.length);break;case"activeStart":case"activeEnd":$a(e.actor,void 0,void 0,e.signalType);break;case"addNote":nae(e.actor,e.placement,e.text);break;case"addLinks":iae(e.actor,e.text);break;case"addALink":Mke(e.actor,e.text);break;case"addProperties":aae(e.actor,e.text);break;case"addDetails":oae(e.actor,e.text);break;case"addMessage":if(Tt.records.lastCreated){if(e.to!==Tt.records.lastCreated)throw new Error("The created participant "+Tt.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");Tt.records.lastCreated=void 0}else if(Tt.records.lastDestroyed){if(e.to!==Tt.records.lastDestroyed&&e.from!==Tt.records.lastDestroyed)throw new Error("The destroyed participant "+Tt.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");Tt.records.lastDestroyed=void 0}$a(e.from,e.to,e.msg,e.signalType,e.activate);break;case"boxStart":fke(e.boxData);break;case"boxEnd":sae();break;case"loopStart":$a(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":case"rectEnd":case"optEnd":case"altEnd":case"parEnd":case"criticalEnd":case"breakEnd":$a(void 0,void 0,void 0,e.signalType);break;case"rectStart":$a(void 0,void 0,e.color,e.signalType);break;case"optStart":$a(void 0,void 0,e.optText,e.signalType);break;case"altStart":case"else":$a(void 0,void 0,e.altText,e.signalType);break;case"setAccTitle":Vn(e.text);break;case"parStart":case"and":$a(void 0,void 0,e.parText,e.signalType);break;case"criticalStart":$a(void 0,void 0,e.criticalText,e.signalType);break;case"option":$a(void 0,void 0,e.optionText,e.signalType);break;case"breakStart":$a(void 0,void 0,e.breakText,e.signalType)}},"apply"),YO={addActor:_C,addMessage:mke,addSignal:$a,addLinks:iae,addDetails:oae,addProperties:aae,autoWrap:th,setWrap:Ake,enableSequenceNumbers:Eke,disableSequenceNumbers:Cke,showSequenceNumbers:Ske,getMessages:xke,getActors:wke,getCreatedActors:kke,getDestroyedActors:Tke,getActor:rv,getActorKeys:_ke,getActorProperty:Rke,getAccTitle:ci,getBoxes:bke,getDiagramTitle:di,setDiagramTitle:Fi,getConfig:l(()=>ye().sequence,"getConfig"),clear:Lke,parseMessage:Nke,parseBoxData:Ike,LINETYPE:r2,ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},addNote:nae,setAccTitle:Vn,apply:lae,setAccDescription:ui,getAccDescription:hi,hasAtLeastOneBox:yke,hasAtLeastOneBoxWithTitle:vke},Dke=l(e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }
`,"getStyles"),cae=Ei(C2()),_N=l(function(e,t){return b6(e,t)},"drawRect"),Oke=l(function(e,t,r,n,i){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};const a=t.links,s=t.actorCnt,o=t.rectData;var u="none";i&&(u="block !important");const h=e.append("g");h.attr("id","actor"+s+"_popup"),h.attr("class","actorPopupMenu"),h.attr("display",u);var d="";o.class!==void 0&&(d=" "+o.class);let p=o.width>r?o.width:r;const f=h.append("rect");if(f.attr("class","actorPopupMenuPanel"+d),f.attr("x",o.x),f.attr("y",o.height),f.attr("fill",o.fill),f.attr("stroke",o.stroke),f.attr("width",p),f.attr("height",o.height),f.attr("rx",o.rx),f.attr("ry",o.ry),a!=null){var g=20;for(let v in a){var m=h.append("a"),y=(0,cae.sanitizeUrl)(a[v]);m.attr("xlink:href",y),m.attr("target","_blank"),Qke(n)(v,m,o.x+10,o.height+g,p,20,{class:"actor"},n),g+=30}}return f.attr("height",g),{height:o.height+g,width:p}},"drawPopup"),Pke=l(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),c5=l(async function(e,t,r=null){let n=e.append("foreignObject");const i=await v2(t.text,Zr()),a=n.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(i).node().getBoundingClientRect();if(n.attr("height",Math.round(a.height)).attr("width",Math.round(a.width)),t.class==="noteText"){const s=e.node().firstChild;s.setAttribute("height",a.height+2*t.textMargin);const o=s.getBBox();n.attr("x",Math.round(o.x+o.width/2-a.width/2)).attr("y",Math.round(o.y+o.height/2-a.height/2))}else if(r){let{startx:s,stopx:o,starty:u}=r;if(s>o){const h=s;s=o,o=h}n.attr("x",Math.round(s+Math.abs(s-o)/2-a.width/2)),t.class==="loopText"?n.attr("y",Math.round(u)):n.attr("y",Math.round(u-a.height))}return[n]},"drawKatex"),h0=l(function(e,t){let r=0,n=0;const i=t.text.split(He.lineBreakRegex),[a,s]=yc(t.fontSize);let o=[],u=0,h=l(()=>t.y,"yfunc");if(t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0)switch(t.valign){case"top":case"start":h=l(()=>Math.round(t.y+t.textMargin),"yfunc");break;case"middle":case"center":h=l(()=>Math.round(t.y+(r+n+t.textMargin)/2),"yfunc");break;case"bottom":case"end":h=l(()=>Math.round(t.y+(r+n+2*t.textMargin)-t.textMargin),"yfunc")}if(t.anchor!==void 0&&t.textMargin!==void 0&&t.width!==void 0)switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle"}for(let[d,p]of i.entries()){t.textMargin!==void 0&&t.textMargin===0&&a!==void 0&&(u=d*a);const f=e.append("text");f.attr("x",t.x),f.attr("y",h()),t.anchor!==void 0&&f.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),t.fontFamily!==void 0&&f.style("font-family",t.fontFamily),s!==void 0&&f.style("font-size",s),t.fontWeight!==void 0&&f.style("font-weight",t.fontWeight),t.fill!==void 0&&f.attr("fill",t.fill),t.class!==void 0&&f.attr("class",t.class),t.dy!==void 0?f.attr("dy",t.dy):u!==0&&f.attr("dy",u);const g=p||"";if(t.tspan){const m=f.append("tspan");m.attr("x",t.x),t.fill!==void 0&&m.attr("fill",t.fill),m.text(g)}else f.text(g);t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0&&(n+=(f._groups||f)[0][0].getBBox().height,r=n),o.push(f)}return o},"drawText"),uae=l(function(e,t){function r(i,a,s,o,u){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-u)+" "+(i+s-1.2*u)+","+(a+o)+" "+i+","+(a+o)}l(r,"genPoints");const n=e.append("polygon");return n.attr("points",r(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,h0(e,t),n},"drawLabel"),Ks=-1,hae=l((e,t,r,n)=>{e.select&&r.forEach(i=>{const a=t.get(i),s=e.select("#actor"+a.actorCnt);!n.mirrorActors&&a.stopy?s.attr("y2",a.stopy+a.height/2):n.mirrorActors&&s.attr("y2",a.stopy)})},"fixLifeLineHeights"),Bke=l(function(e,t,r,n){var g,m;const i=n?t.stopy:t.starty,a=t.x+t.width/2,s=i+t.height,o=e.append("g").lower();var u=o;n||(Ks++,Object.keys(t.links||{}).length&&!r.forceMenus&&u.attr("onclick",Pke(`actor${Ks}_popup`)).attr("cursor","pointer"),u.append("line").attr("id","actor"+Ks).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),u=o.append("g"),t.actorCnt=Ks,t.links!=null&&u.attr("id","root-"+Ks));const h=mh();var d="actor";(g=t.properties)!=null&&g.class?d=t.properties.class:h.fill="#eaeaea",d+=n?" actor-bottom":" actor-top",h.x=t.x,h.y=i,h.width=t.width,h.height=t.height,h.class=d,h.rx=3,h.ry=3,h.name=t.name;const p=_N(u,h);if(t.rectData=h,(m=t.properties)==null?void 0:m.icon){const y=t.properties.icon.trim();y.charAt(0)==="@"?Qve(u,h.x+h.width-20,h.y+10,y.substr(1)):Zve(u,h.x+h.width-20,h.y+10,y)}EN(r,Ti(t.description))(t.description,u,h.x,h.y,h.width,h.height,{class:"actor actor-box"},r);let f=t.height;if(p.node){const y=p.node().getBBox();t.height=y.height,f=y.height}return f},"drawActorTypeParticipant"),$ke=l(function(e,t,r,n){const i=n?t.stopy:t.starty,a=t.x+t.width/2,s=i+80,o=e.append("g").lower();n||(Ks++,o.append("line").attr("id","actor"+Ks).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=Ks);const u=e.append("g");let h="actor-man";h+=n?" actor-bottom":" actor-top",u.attr("class",h),u.attr("name",t.name);const d=mh();d.x=t.x,d.y=i,d.fill="#eaeaea",d.width=t.width,d.height=t.height,d.class="actor",d.rx=3,d.ry=3,u.append("line").attr("id","actor-man-torso"+Ks).attr("x1",a).attr("y1",i+25).attr("x2",a).attr("y2",i+45),u.append("line").attr("id","actor-man-arms"+Ks).attr("x1",a-18).attr("y1",i+33).attr("x2",a+18).attr("y2",i+33),u.append("line").attr("x1",a-18).attr("y1",i+60).attr("x2",a).attr("y2",i+45),u.append("line").attr("x1",a).attr("y1",i+45).attr("x2",a+18-2).attr("y2",i+60);const p=u.append("circle");p.attr("cx",t.x+t.width/2),p.attr("cy",i+10),p.attr("r",15),p.attr("width",t.width),p.attr("height",t.height);const f=u.node().getBBox();return t.height=f.height,EN(r,Ti(t.description))(t.description,u,d.x,d.y+35,d.width,d.height,{class:"actor actor-man"},r),t.height},"drawActorTypeActor"),Fke=l(async function(e,t,r,n){switch(t.type){case"actor":return await $ke(e,t,r,n);case"participant":return await Bke(e,t,r,n)}},"drawActor"),zke=l(function(e,t,r){const n=e.append("g");dae(n,t),t.name&&EN(r)(t.name,n,t.x,t.y+(t.textMaxHeight||0)/2,t.width,0,{class:"text"},r),n.lower()},"drawBox"),Uke=l(function(e){return e.append("g")},"anchorElement"),Gke=l(function(e,t,r,n,i){const a=mh(),s=t.anchored;a.x=t.startx,a.y=t.starty,a.class="activation"+i%3,a.width=t.stopx-t.startx,a.height=r-t.starty,_N(s,a)},"drawActivation"),qke=l(async function(e,t,r,n){const{boxMargin:i,boxTextMargin:a,labelBoxHeight:s,labelBoxWidth:o,messageFontFamily:u,messageFontSize:h,messageFontWeight:d}=n,p=e.append("g"),f=l(function(y,v,x,b){return p.append("line").attr("x1",y).attr("y1",v).attr("x2",x).attr("y2",b).attr("class","loopLine")},"drawLoopLine");f(t.startx,t.starty,t.stopx,t.starty),f(t.stopx,t.starty,t.stopx,t.stopy),f(t.startx,t.stopy,t.stopx,t.stopy),f(t.startx,t.starty,t.startx,t.stopy),t.sections!==void 0&&t.sections.forEach(function(y){f(t.startx,y.y,t.stopx,y.y).style("stroke-dasharray","3, 3")});let g=JA();g.text=r,g.x=t.startx,g.y=t.starty,g.fontFamily=u,g.fontSize=h,g.fontWeight=d,g.anchor="middle",g.valign="middle",g.tspan=!1,g.width=o||50,g.height=s||20,g.textMargin=a,g.class="labelText",uae(p,g),g=pae(),g.text=t.title,g.x=t.startx+o/2+(t.stopx-t.startx)/2,g.y=t.starty+i+a,g.anchor="middle",g.valign="middle",g.textMargin=a,g.class="loopText",g.fontFamily=u,g.fontSize=h,g.fontWeight=d,g.wrap=!0;let m=Ti(g.text)?await c5(p,g,t):h0(p,g);if(t.sectionTitles!==void 0){for(const[y,v]of Object.entries(t.sectionTitles))if(v.message){g.text=v.message,g.x=t.startx+(t.stopx-t.startx)/2,g.y=t.sections[y].y+i+a,g.class="loopText",g.anchor="middle",g.valign="middle",g.tspan=!1,g.fontFamily=u,g.fontSize=h,g.fontWeight=d,g.wrap=t.wrap,Ti(g.text)?(t.starty=t.sections[y].y,await c5(p,g,t)):h0(p,g);let x=Math.round(m.map(b=>(b._groups||b)[0][0].getBBox().height).reduce((b,w)=>b+w));t.sections[y].height+=x-(i+a)}}return t.height=Math.round(t.stopy-t.starty),p},"drawLoop"),dae=l(function(e,t){b7(e,t)},"drawBackgroundRect"),jke=l(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),Yke=l(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),Wke=l(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),Hke=l(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),Vke=l(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),Xke=l(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),Kke=l(function(e){e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),pae=l(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),Zke=l(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),EN=function(){function e(a,s,o,u,h,d,p){i(s.append("text").attr("x",o+h/2).attr("y",u+d/2+5).style("text-anchor","middle").text(a),p)}function t(a,s,o,u,h,d,p,f){const{actorFontSize:g,actorFontFamily:m,actorFontWeight:y}=f,[v,x]=yc(g),b=a.split(He.lineBreakRegex);for(let w=0;w<b.length;w++){const T=w*v-v*(b.length-1)/2,k=s.append("text").attr("x",o+h/2).attr("y",u).style("text-anchor","middle").style("font-size",x).style("font-weight",y).style("font-family",m);k.append("tspan").attr("x",o+h/2).attr("dy",T).text(b[w]),k.attr("y",u+d/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(k,p)}}function r(a,s,o,u,h,d,p,f){const g=s.append("switch"),m=g.append("foreignObject").attr("x",o).attr("y",u).attr("width",h).attr("height",d).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,g,o,u,h,d,p,f),i(m,p)}async function n(a,s,o,u,h,d,p,f){const g=await y2(a,Zr()),m=s.append("switch"),y=m.append("foreignObject").attr("x",o+h/2-g.width/2).attr("y",u+d/2-g.height/2).attr("width",g.width).attr("height",g.height).append("xhtml:div").style("height","100%").style("width","100%");y.append("div").style("text-align","center").style("vertical-align","middle").html(await v2(a,Zr())),t(a,m,o,u,h,d,p,f),i(y,p)}function i(a,s){for(const o in s)s.hasOwnProperty(o)&&a.attr(o,s[o])}return l(e,"byText"),l(t,"byTspan"),l(r,"byFo"),l(n,"byKatex"),l(i,"_setTextAttrs"),function(a,s=!1){return s?n:a.textPlacement==="fo"?r:a.textPlacement==="old"?e:t}}(),Qke=function(){function e(i,a,s,o,u,h,d){n(a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").text(i),d)}function t(i,a,s,o,u,h,d,p){const{actorFontSize:f,actorFontFamily:g,actorFontWeight:m}=p,y=i.split(He.lineBreakRegex);for(let v=0;v<y.length;v++){const x=v*f-f*(y.length-1)/2,b=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").style("font-size",f).style("font-weight",m).style("font-family",g);b.append("tspan").attr("x",s).attr("dy",x).text(y[v]),b.attr("y",o+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(b,d)}}function r(i,a,s,o,u,h,d,p){const f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",o).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,f,s,o,0,h,d,p),n(g,d)}function n(i,a){for(const s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return l(e,"byText"),l(t,"byTspan"),l(r,"byFo"),l(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),fn={drawRect:_N,drawText:h0,drawLabel:uae,drawActor:Fke,drawBox:zke,drawPopup:Oke,anchorElement:Uke,drawActivation:Gke,drawLoop:qke,drawBackgroundRect:dae,insertArrowHead:Hke,insertArrowFilledHead:Vke,insertSequenceNumber:Xke,insertArrowCrossHead:Kke,insertDatabaseIcon:jke,insertComputerIcon:Yke,insertClockIcon:Wke,getTextObj:pae,getNoteRect:Zke,fixLifeLineHeights:hae,sanitizeUrl:cae.sanitizeUrl},Ce={},qe={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:l(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},"getHeight"),clear:l(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:l(function(e){this.boxes.push(e)},"addBox"),addActor:l(function(e){this.actors.push(e)},"addActor"),addLoop:l(function(e){this.loops.push(e)},"addLoop"),addMessage:l(function(e){this.messages.push(e)},"addMessage"),addNote:l(function(e){this.notes.push(e)},"addNote"),lastActor:l(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:l(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:l(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:l(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:l(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,mae(ye())},"init"),updateVal:l(function(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])},"updateVal"),updateBounds:l(function(e,t,r,n){const i=this;let a=0;function s(o){return l(function(u){a++;const h=i.sequenceItems.length-a+1;i.updateVal(u,"starty",t-h*Ce.boxMargin,Math.min),i.updateVal(u,"stopy",n+h*Ce.boxMargin,Math.max),i.updateVal(qe.data,"startx",e-h*Ce.boxMargin,Math.min),i.updateVal(qe.data,"stopx",r+h*Ce.boxMargin,Math.max),o!=="activation"&&(i.updateVal(u,"startx",e-h*Ce.boxMargin,Math.min),i.updateVal(u,"stopx",r+h*Ce.boxMargin,Math.max),i.updateVal(qe.data,"starty",t-h*Ce.boxMargin,Math.min),i.updateVal(qe.data,"stopy",n+h*Ce.boxMargin,Math.max))},"updateItemBounds")}l(s,"updateFn"),this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))},"updateBounds"),insert:l(function(e,t,r,n){const i=He.getMin(e,r),a=He.getMax(e,r),s=He.getMin(t,n),o=He.getMax(t,n);this.updateVal(qe.data,"startx",i,Math.min),this.updateVal(qe.data,"starty",s,Math.min),this.updateVal(qe.data,"stopx",a,Math.max),this.updateVal(qe.data,"stopy",o,Math.max),this.updateBounds(i,s,a,o)},"insert"),newActivation:l(function(e,t,r){const n=r.get(e.from),i=uw(e.from).length||0,a=n.x+n.width/2+(i-1)*Ce.activationWidth/2;this.activations.push({startx:a,starty:this.verticalPos+2,stopx:a+Ce.activationWidth,stopy:void 0,actor:e.from,anchored:fn.anchorElement(t)})},"newActivation"),endActivation:l(function(e){const t=this.activations.map(function(r){return r.actor}).lastIndexOf(e.from);return this.activations.splice(t,1)[0]},"endActivation"),createLoop:l(function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},"createLoop"),newLoop:l(function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},"newLoop"),endLoop:l(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:l(function(){return!!this.sequenceItems.length&&this.sequenceItems[this.sequenceItems.length-1].overlap},"isLoopOverlap"),addSectionToLoop:l(function(e){const t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:qe.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},"addSectionToLoop"),saveVerticalPos:l(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:l(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:l(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=He.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:l(function(){return this.verticalPos},"getVerticalPos"),getBounds:l(function(){return{bounds:this.data,models:this.models}},"getBounds")},Jke=l(async function(e,t){qe.bumpVerticalPos(Ce.boxMargin),t.height=Ce.boxMargin,t.starty=qe.getVerticalPos();const r=mh();r.x=t.startx,r.y=t.starty,r.width=t.width||Ce.width,r.class="note";const n=e.append("g"),i=fn.drawRect(n,r),a=JA();a.x=t.startx,a.y=t.starty,a.width=r.width,a.dy="1em",a.text=t.message,a.class="noteText",a.fontFamily=Ce.noteFontFamily,a.fontSize=Ce.noteFontSize,a.fontWeight=Ce.noteFontWeight,a.anchor=Ce.noteAlign,a.textMargin=Ce.noteMargin,a.valign="center";const s=Ti(a.text)?await c5(n,a):h0(n,a),o=Math.round(s.map(u=>(u._groups||u)[0][0].getBBox().height).reduce((u,h)=>u+h));i.attr("height",o+2*Ce.noteMargin),t.height+=o+2*Ce.noteMargin,qe.bumpVerticalPos(o+2*Ce.noteMargin),t.stopy=t.starty+o+2*Ce.noteMargin,t.stopx=t.startx+r.width,qe.insert(t.startx,t.starty,t.stopx,t.stopy),qe.models.addNote(t)},"drawNote"),rh=l(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),Hh=l(e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),"noteFont"),EC=l(e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight}),"actorFont");async function fae(e,t){qe.bumpVerticalPos(10);const{startx:r,stopx:n,message:i}=t,a=He.splitBreaks(i).length,s=Ti(i),o=s?await y2(i,ye()):Yt.calculateTextDimensions(i,rh(Ce));if(!s){const p=o.height/a;t.height+=p,qe.bumpVerticalPos(p)}let u,h=o.height-10;const d=o.width;if(r===n){u=qe.getVerticalPos()+h,Ce.rightAngles||(h+=Ce.boxMargin,u=qe.getVerticalPos()+h),h+=30;const p=He.getMax(d/2,Ce.width/2);qe.insert(r-p,qe.getVerticalPos()-10+h,n+p,qe.getVerticalPos()+30+h)}else h+=Ce.boxMargin,u=qe.getVerticalPos()+h,qe.insert(r,u-10,n,u);return qe.bumpVerticalPos(h),t.height+=h,t.stopy=t.starty+t.height,qe.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),u}l(fae,"boundMessage");var eTe=l(async function(e,t,r,n){const{startx:i,stopx:a,starty:s,message:o,type:u,sequenceIndex:h,sequenceVisible:d}=t,p=Yt.calculateTextDimensions(o,rh(Ce)),f=JA();f.x=i,f.y=s+10,f.width=a-i,f.class="messageText",f.dy="1em",f.text=o,f.fontFamily=Ce.messageFontFamily,f.fontSize=Ce.messageFontSize,f.fontWeight=Ce.messageFontWeight,f.anchor=Ce.messageAlign,f.valign="center",f.textMargin=Ce.wrapPadding,f.tspan=!1,Ti(f.text)?await c5(e,f,{startx:i,stopx:a,starty:r}):h0(e,f);const g=p.width;let m;i===a?m=Ce.rightAngles?e.append("path").attr("d",`M  ${i},${r} H ${i+He.getMax(Ce.width/2,g/2)} V ${r+25} H ${i}`):e.append("path").attr("d","M "+i+","+r+" C "+(i+60)+","+(r-10)+" "+(i+60)+","+(r+30)+" "+i+","+(r+20)):(m=e.append("line"),m.attr("x1",i),m.attr("y1",r),m.attr("x2",a),m.attr("y2",r)),u===n.db.LINETYPE.DOTTED||u===n.db.LINETYPE.DOTTED_CROSS||u===n.db.LINETYPE.DOTTED_POINT||u===n.db.LINETYPE.DOTTED_OPEN||u===n.db.LINETYPE.BIDIRECTIONAL_DOTTED?(m.style("stroke-dasharray","3, 3"),m.attr("class","messageLine1")):m.attr("class","messageLine0");let y="";Ce.arrowMarkerAbsolute&&(y=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,y=y.replace(/\(/g,"\\("),y=y.replace(/\)/g,"\\)")),m.attr("stroke-width",2),m.attr("stroke","none"),m.style("fill","none"),u!==n.db.LINETYPE.SOLID&&u!==n.db.LINETYPE.DOTTED||m.attr("marker-end","url("+y+"#arrowhead)"),u!==n.db.LINETYPE.BIDIRECTIONAL_SOLID&&u!==n.db.LINETYPE.BIDIRECTIONAL_DOTTED||(m.attr("marker-start","url("+y+"#arrowhead)"),m.attr("marker-end","url("+y+"#arrowhead)")),u!==n.db.LINETYPE.SOLID_POINT&&u!==n.db.LINETYPE.DOTTED_POINT||m.attr("marker-end","url("+y+"#filled-head)"),u!==n.db.LINETYPE.SOLID_CROSS&&u!==n.db.LINETYPE.DOTTED_CROSS||m.attr("marker-end","url("+y+"#crosshead)"),(d||Ce.showSequenceNumbers)&&(m.attr("marker-start","url("+y+"#sequencenumber)"),e.append("text").attr("x",i).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(h))},"drawMessage"),tTe=l(function(e,t,r,n,i,a,s){let o,u=0,h=0,d=0;for(const p of n){const f=t.get(p),g=f.box;o&&o!=g&&(s||qe.models.addBox(o),h+=Ce.boxMargin+o.margin),g&&g!=o&&(s||(g.x=u+h,g.y=i),h+=g.margin),f.width=f.width||Ce.width,f.height=He.getMax(f.height||Ce.height,Ce.height),f.margin=f.margin||Ce.actorMargin,d=He.getMax(d,f.height),r.get(f.name)&&(h+=f.width/2),f.x=u+h,f.starty=qe.getVerticalPos(),qe.insert(f.x,i,f.x+f.width,f.height),u+=f.width+h,f.box&&(f.box.width=u+g.margin-f.box.x),h=f.margin,o=f.box,qe.models.addActor(f)}o&&!s&&qe.models.addBox(o),qe.bumpVerticalPos(d)},"addActorRenderingData"),CC=l(async function(e,t,r,n){if(n){let i=0;qe.bumpVerticalPos(2*Ce.boxMargin);for(const a of r){const s=t.get(a);s.stopy||(s.stopy=qe.getVerticalPos());const o=await fn.drawActor(e,s,Ce,!0);i=He.getMax(i,o)}qe.bumpVerticalPos(i+Ce.boxMargin)}else for(const i of r){const a=t.get(i);await fn.drawActor(e,a,Ce,!1)}},"drawActors"),gae=l(function(e,t,r,n){let i=0,a=0;for(const s of r){const o=t.get(s),u=nTe(o),h=fn.drawPopup(e,o,u,Ce,Ce.forceMenus,n);h.height>i&&(i=h.height),h.width+o.x>a&&(a=h.width+o.x)}return{maxHeight:i,maxWidth:a}},"drawActorsPopup"),mae=l(function(e){Pn(Ce,e),e.fontFamily&&(Ce.actorFontFamily=Ce.noteFontFamily=Ce.messageFontFamily=e.fontFamily),e.fontSize&&(Ce.actorFontSize=Ce.noteFontSize=Ce.messageFontSize=e.fontSize),e.fontWeight&&(Ce.actorFontWeight=Ce.noteFontWeight=Ce.messageFontWeight=e.fontWeight)},"setConf"),uw=l(function(e){return qe.activations.filter(function(t){return t.actor===e})},"actorActivations"),WO=l(function(e,t){const r=t.get(e),n=uw(e);return[n.reduce(function(i,a){return He.getMin(i,a.startx)},r.x+r.width/2-1),n.reduce(function(i,a){return He.getMax(i,a.stopx)},r.x+r.width/2+1)]},"activationBounds");function fs(e,t,r,n,i){qe.bumpVerticalPos(r);let a=n;if(t.id&&t.message&&e[t.id]){const s=e[t.id].width,o=rh(Ce);t.message=Yt.wrapLabel(`[${t.message}]`,s-2*Ce.wrapPadding,o),t.width=s,t.wrap=!0;const u=Yt.calculateTextDimensions(t.message,o),h=He.getMax(u.height,Ce.labelBoxHeight);a=n+h,re.debug(`${h} - ${t.message}`)}i(t),qe.bumpVerticalPos(a)}function yae(e,t,r,n,i,a,s){function o(h,d){h.x<i.get(e.from).x?(qe.insert(t.stopx-d,t.starty,t.startx,t.stopy+h.height/2+Ce.noteMargin),t.stopx=t.stopx+d):(qe.insert(t.startx,t.starty,t.stopx+d,t.stopy+h.height/2+Ce.noteMargin),t.stopx=t.stopx-d)}function u(h,d){h.x<i.get(e.to).x?(qe.insert(t.startx-d,t.starty,t.stopx,t.stopy+h.height/2+Ce.noteMargin),t.startx=t.startx+d):(qe.insert(t.stopx,t.starty,t.startx+d,t.stopy+h.height/2+Ce.noteMargin),t.startx=t.startx-d)}if(l(o,"receiverAdjustment"),l(u,"senderAdjustment"),a.get(e.to)==n){const h=i.get(e.to);o(h,h.type=="actor"?21:h.width/2+3),h.starty=r-h.height/2,qe.bumpVerticalPos(h.height/2)}else if(s.get(e.from)==n){const h=i.get(e.from);Ce.mirrorActors&&u(h,h.type=="actor"?18:h.width/2),h.stopy=r-h.height/2,qe.bumpVerticalPos(h.height/2)}else if(s.get(e.to)==n){const h=i.get(e.to);Ce.mirrorActors&&o(h,h.type=="actor"?21:h.width/2+3),h.stopy=r-h.height/2,qe.bumpVerticalPos(h.height/2)}}l(fs,"adjustLoopHeightForWrap"),l(yae,"adjustCreatedDestroyedData");var rTe=l(async function(e,t,r,n){const{securityLevel:i,sequence:a}=ye();let s;Ce=a,i==="sandbox"&&(s=Qe("#i"+t));const o=Qe(i==="sandbox"?s.nodes()[0].contentDocument.body:"body"),u=i==="sandbox"?s.nodes()[0].contentDocument:document;qe.init(),re.debug(n.db);const h=i==="sandbox"?o.select(`[id="${t}"]`):Qe(`[id="${t}"]`),d=n.db.getActors(),p=n.db.getCreatedActors(),f=n.db.getDestroyedActors(),g=n.db.getBoxes();let m=n.db.getActorKeys();const y=n.db.getMessages(),v=n.db.getDiagramTitle(),x=n.db.hasAtLeastOneBox(),b=n.db.hasAtLeastOneBoxWithTitle(),w=await vae(d,y,n);if(Ce.height=await xae(d,w,g),fn.insertComputerIcon(h),fn.insertDatabaseIcon(h),fn.insertClockIcon(h),x&&(qe.bumpVerticalPos(Ce.boxMargin),b&&qe.bumpVerticalPos(g[0].textMaxHeight)),Ce.hideUnusedParticipants===!0){const I=new Set;y.forEach(P=>{I.add(P.from),I.add(P.to)}),m=m.filter(P=>I.has(P))}tTe(h,d,p,m,0,y,!1);const T=await sTe(y,d,w,n);function k(I,P){const $=qe.endActivation(I);$.starty+18>P&&($.starty=P-6,P+=12),fn.drawActivation(h,$,P,Ce,uw(I.from).length),qe.insert($.startx,P-10,$.stopx,P)}fn.insertArrowHead(h),fn.insertArrowCrossHead(h),fn.insertArrowFilledHead(h),fn.insertSequenceNumber(h),l(k,"activeEnd");let R=1,C=1;const E=[],_=[];let L=0;for(const I of y){let P,$,z;switch(I.type){case n.db.LINETYPE.NOTE:qe.resetVerticalPos(),$=I.noteModel,await Jke(h,$);break;case n.db.LINETYPE.ACTIVE_START:qe.newActivation(I,h,d);break;case n.db.LINETYPE.ACTIVE_END:k(I,qe.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:fs(T,I,Ce.boxMargin,Ce.boxMargin+Ce.boxTextMargin,G=>qe.newLoop(G));break;case n.db.LINETYPE.LOOP_END:P=qe.endLoop(),await fn.drawLoop(h,P,"loop",Ce),qe.bumpVerticalPos(P.stopy-qe.getVerticalPos()),qe.models.addLoop(P);break;case n.db.LINETYPE.RECT_START:fs(T,I,Ce.boxMargin,Ce.boxMargin,G=>qe.newLoop(void 0,G.message));break;case n.db.LINETYPE.RECT_END:P=qe.endLoop(),_.push(P),qe.models.addLoop(P),qe.bumpVerticalPos(P.stopy-qe.getVerticalPos());break;case n.db.LINETYPE.OPT_START:fs(T,I,Ce.boxMargin,Ce.boxMargin+Ce.boxTextMargin,G=>qe.newLoop(G));break;case n.db.LINETYPE.OPT_END:P=qe.endLoop(),await fn.drawLoop(h,P,"opt",Ce),qe.bumpVerticalPos(P.stopy-qe.getVerticalPos()),qe.models.addLoop(P);break;case n.db.LINETYPE.ALT_START:fs(T,I,Ce.boxMargin,Ce.boxMargin+Ce.boxTextMargin,G=>qe.newLoop(G));break;case n.db.LINETYPE.ALT_ELSE:fs(T,I,Ce.boxMargin+Ce.boxTextMargin,Ce.boxMargin,G=>qe.addSectionToLoop(G));break;case n.db.LINETYPE.ALT_END:P=qe.endLoop(),await fn.drawLoop(h,P,"alt",Ce),qe.bumpVerticalPos(P.stopy-qe.getVerticalPos()),qe.models.addLoop(P);break;case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:fs(T,I,Ce.boxMargin,Ce.boxMargin+Ce.boxTextMargin,G=>qe.newLoop(G)),qe.saveVerticalPos();break;case n.db.LINETYPE.PAR_AND:fs(T,I,Ce.boxMargin+Ce.boxTextMargin,Ce.boxMargin,G=>qe.addSectionToLoop(G));break;case n.db.LINETYPE.PAR_END:P=qe.endLoop(),await fn.drawLoop(h,P,"par",Ce),qe.bumpVerticalPos(P.stopy-qe.getVerticalPos()),qe.models.addLoop(P);break;case n.db.LINETYPE.AUTONUMBER:R=I.message.start||R,C=I.message.step||C,I.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:fs(T,I,Ce.boxMargin,Ce.boxMargin+Ce.boxTextMargin,G=>qe.newLoop(G));break;case n.db.LINETYPE.CRITICAL_OPTION:fs(T,I,Ce.boxMargin+Ce.boxTextMargin,Ce.boxMargin,G=>qe.addSectionToLoop(G));break;case n.db.LINETYPE.CRITICAL_END:P=qe.endLoop(),await fn.drawLoop(h,P,"critical",Ce),qe.bumpVerticalPos(P.stopy-qe.getVerticalPos()),qe.models.addLoop(P);break;case n.db.LINETYPE.BREAK_START:fs(T,I,Ce.boxMargin,Ce.boxMargin+Ce.boxTextMargin,G=>qe.newLoop(G));break;case n.db.LINETYPE.BREAK_END:P=qe.endLoop(),await fn.drawLoop(h,P,"break",Ce),qe.bumpVerticalPos(P.stopy-qe.getVerticalPos()),qe.models.addLoop(P);break;default:try{z=I.msgModel,z.starty=qe.getVerticalPos(),z.sequenceIndex=R,z.sequenceVisible=n.db.showSequenceNumbers();const G=await fae(0,z);yae(I,z,G,L,d,p,f),E.push({messageModel:z,lineStartY:G}),qe.models.addMessage(z)}catch(G){re.error("error while drawing message",G)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT,n.db.LINETYPE.BIDIRECTIONAL_SOLID,n.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(I.type)&&(R+=C),L++}re.debug("createdActors",p),re.debug("destroyedActors",f),await CC(h,d,m,!1);for(const I of E)await eTe(h,I.messageModel,I.lineStartY,n);Ce.mirrorActors&&await CC(h,d,m,!0),_.forEach(I=>fn.drawBackgroundRect(h,I)),hae(h,d,m,Ce);for(const I of qe.models.boxes)I.height=qe.getVerticalPos()-I.y,qe.insert(I.x,I.y,I.x+I.width,I.height),I.startx=I.x,I.starty=I.y,I.stopx=I.startx+I.width,I.stopy=I.starty+I.height,I.stroke="rgb(0,0,0, 0.5)",fn.drawBox(h,I,Ce);x&&qe.bumpVerticalPos(Ce.boxMargin);const D=gae(h,d,m,u),{bounds:B}=qe.getBounds();B.startx===void 0&&(B.startx=0),B.starty===void 0&&(B.starty=0),B.stopx===void 0&&(B.stopx=0),B.stopy===void 0&&(B.stopy=0);let S=B.stopy-B.starty;S<D.maxHeight&&(S=D.maxHeight);let N=S+2*Ce.diagramMarginY;Ce.mirrorActors&&(N=N-Ce.boxMargin+Ce.bottomMarginAdj);let A=B.stopx-B.startx;A<D.maxWidth&&(A=D.maxWidth);const M=A+2*Ce.diagramMarginX;v&&h.append("text").text(v).attr("x",(B.stopx-B.startx)/2-2*Ce.diagramMarginX).attr("y",-25),Ci(h,N,M,Ce.useMaxWidth);const O=v?40:0;h.attr("viewBox",B.startx-Ce.diagramMarginX+" -"+(Ce.diagramMarginY+O)+" "+M+" "+(N+O)),re.debug("models:",qe.models)},"draw");async function vae(e,t,r){const n={};for(const i of t)if(e.get(i.to)&&e.get(i.from)){const a=e.get(i.to);if(i.placement===r.db.PLACEMENT.LEFTOF&&!a.prevActor||i.placement===r.db.PLACEMENT.RIGHTOF&&!a.nextActor)continue;const s=i.placement!==void 0,o=!s,u=s?Hh(Ce):rh(Ce),h=i.wrap?Yt.wrapLabel(i.message,Ce.width-2*Ce.wrapPadding,u):i.message,d=(Ti(h)?await y2(i.message,ye()):Yt.calculateTextDimensions(h,u)).width+2*Ce.wrapPadding;o&&i.from===a.nextActor?n[i.to]=He.getMax(n[i.to]||0,d):o&&i.from===a.prevActor?n[i.from]=He.getMax(n[i.from]||0,d):o&&i.from===i.to?(n[i.from]=He.getMax(n[i.from]||0,d/2),n[i.to]=He.getMax(n[i.to]||0,d/2)):i.placement===r.db.PLACEMENT.RIGHTOF?n[i.from]=He.getMax(n[i.from]||0,d):i.placement===r.db.PLACEMENT.LEFTOF?n[a.prevActor]=He.getMax(n[a.prevActor]||0,d):i.placement===r.db.PLACEMENT.OVER&&(a.prevActor&&(n[a.prevActor]=He.getMax(n[a.prevActor]||0,d/2)),a.nextActor&&(n[i.from]=He.getMax(n[i.from]||0,d/2)))}return re.debug("maxMessageWidthPerActor:",n),n}l(vae,"getMaxMessageWidthPerActor");var nTe=l(function(e){let t=0;const r=EC(Ce);for(const n in e.links){const i=Yt.calculateTextDimensions(n,r).width+2*Ce.wrapPadding+2*Ce.boxMargin;t<i&&(t=i)}return t},"getRequiredPopupWidth");async function xae(e,t,r){let n=0;for(const a of e.keys()){const s=e.get(a);s.wrap&&(s.description=Yt.wrapLabel(s.description,Ce.width-2*Ce.wrapPadding,EC(Ce)));const o=Ti(s.description)?await y2(s.description,ye()):Yt.calculateTextDimensions(s.description,EC(Ce));s.width=s.wrap?Ce.width:He.getMax(Ce.width,o.width+2*Ce.wrapPadding),s.height=s.wrap?He.getMax(o.height,Ce.height):Ce.height,n=He.getMax(n,s.height)}for(const a in t){const s=e.get(a);if(!s)continue;const o=e.get(s.nextActor);if(!o){const h=t[a]+Ce.actorMargin-s.width/2;s.margin=He.getMax(h,Ce.actorMargin);continue}const u=t[a]+Ce.actorMargin-s.width/2-o.width/2;s.margin=He.getMax(u,Ce.actorMargin)}let i=0;return r.forEach(a=>{const s=rh(Ce);let o=a.actorKeys.reduce((d,p)=>d+(e.get(p).width+(e.get(p).margin||0)),0);o-=2*Ce.boxTextMargin,a.wrap&&(a.name=Yt.wrapLabel(a.name,o-2*Ce.wrapPadding,s));const u=Yt.calculateTextDimensions(a.name,s);i=He.getMax(u.height,i);const h=He.getMax(o,u.width+2*Ce.wrapPadding);if(a.margin=Ce.boxTextMargin,o<h){const d=(h-o)/2;a.margin+=d}}),r.forEach(a=>a.textMaxHeight=i),He.getMax(n,Ce.height)}l(xae,"calculateActorMargins");var iTe=l(async function(e,t,r){const n=t.get(e.from),i=t.get(e.to),a=n.x,s=i.x,o=e.wrap&&e.message;let u=Ti(e.message)?await y2(e.message,ye()):Yt.calculateTextDimensions(o?Yt.wrapLabel(e.message,Ce.width,Hh(Ce)):e.message,Hh(Ce));const h={width:o?Ce.width:He.getMax(Ce.width,u.width+2*Ce.noteMargin),height:0,startx:n.x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===r.db.PLACEMENT.RIGHTOF?(h.width=o?He.getMax(Ce.width,u.width):He.getMax(n.width/2+i.width/2,u.width+2*Ce.noteMargin),h.startx=a+(n.width+Ce.actorMargin)/2):e.placement===r.db.PLACEMENT.LEFTOF?(h.width=o?He.getMax(Ce.width,u.width+2*Ce.noteMargin):He.getMax(n.width/2+i.width/2,u.width+2*Ce.noteMargin),h.startx=a-h.width+(n.width-Ce.actorMargin)/2):e.to===e.from?(u=Yt.calculateTextDimensions(o?Yt.wrapLabel(e.message,He.getMax(Ce.width,n.width),Hh(Ce)):e.message,Hh(Ce)),h.width=o?He.getMax(Ce.width,n.width):He.getMax(n.width,Ce.width,u.width+2*Ce.noteMargin),h.startx=a+(n.width-h.width)/2):(h.width=Math.abs(a+n.width/2-(s+i.width/2))+Ce.actorMargin,h.startx=a<s?a+n.width/2-Ce.actorMargin/2:s+i.width/2-Ce.actorMargin/2),o&&(h.message=Yt.wrapLabel(e.message,h.width-2*Ce.wrapPadding,Hh(Ce))),re.debug(`NM:[${h.startx},${h.stopx},${h.starty},${h.stopy}:${h.width},${h.height}=${e.message}]`),h},"buildNoteModel"),aTe=l(function(e,t,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT,r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type))return{};const[n,i]=WO(e.from,t),[a,s]=WO(e.to,t),o=n<=a;let u=o?i:n,h=o?a:s;const d=Math.abs(a-s)>2,p=l(y=>o?-y:y,"adjustValue");e.from===e.to?h=u:(e.activate&&!d&&(h+=p(Ce.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(e.type)||(h+=p(3)),[r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type)&&(u-=p(3)));const f=[n,i,a,s],g=Math.abs(u-h);e.wrap&&e.message&&(e.message=Yt.wrapLabel(e.message,He.getMax(g+2*Ce.wrapPadding,Ce.width),rh(Ce)));const m=Yt.calculateTextDimensions(e.message,rh(Ce));return{width:He.getMax(e.wrap?0:m.width+2*Ce.wrapPadding,g+2*Ce.wrapPadding,Ce.width),height:0,startx:u,stopx:h,starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,f),toBounds:Math.max.apply(null,f)}},"buildMessageModel"),sTe=l(async function(e,t,r,n){const i={},a=[];let s,o,u;for(const h of e){switch(h.id=Yt.random({length:10}),h.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:a.push({id:h.id,msg:h.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:h.message&&(s=a.pop(),i[s.id]=s,i[h.id]=s,a.push(s));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:s=a.pop(),i[s.id]=s;break;case n.db.LINETYPE.ACTIVE_START:{const d=t.get(h.from?h.from:h.to.actor),p=uw(h.from?h.from:h.to.actor).length,f=d.x+d.width/2+(p-1)*Ce.activationWidth/2,g={startx:f,stopx:f+Ce.activationWidth,actor:h.from,enabled:!0};qe.activations.push(g)}break;case n.db.LINETYPE.ACTIVE_END:{const d=qe.activations.map(p=>p.actor).lastIndexOf(h.from);qe.activations.splice(d,1).splice(0,1)}}h.placement!==void 0?(o=await iTe(h,t,n),h.noteModel=o,a.forEach(d=>{s=d,s.from=He.getMin(s.from,o.startx),s.to=He.getMax(s.to,o.startx+o.width),s.width=He.getMax(s.width,Math.abs(s.from-s.to))-Ce.labelBoxWidth})):(u=aTe(h,t,n),h.msgModel=u,u.startx&&u.stopx&&a.length>0&&a.forEach(d=>{if(s=d,u.startx===u.stopx){const p=t.get(h.from),f=t.get(h.to);s.from=He.getMin(p.x-u.width/2,p.x-p.width/2,s.from),s.to=He.getMax(f.x+u.width/2,f.x+p.width/2,s.to),s.width=He.getMax(s.width,Math.abs(s.to-s.from))-Ce.labelBoxWidth}else s.from=He.getMin(u.startx,s.from),s.to=He.getMax(u.stopx,s.to),s.width=He.getMax(s.width,u.width)-Ce.labelBoxWidth}))}return qe.activations=[],re.debug("Loop type widths:",i),i},"calculateLoopBounds"),oTe={parser:pke,db:YO,renderer:{bounds:qe,drawActors:CC,drawActorsPopup:gae,setConf:mae,draw:rTe},styles:Dke,init:l(({wrap:e})=>{YO.setWrap(e)},"init")},lTe=Object.freeze({__proto__:null,diagram:oTe}),SC=function(){var e=l(function(ue,oe,we,K){for(we=we||{},K=ue.length;K--;we[ue[K]]=oe);return we},"o"),t=[1,18],r=[1,19],n=[1,20],i=[1,41],a=[1,42],s=[1,26],o=[1,24],u=[1,25],h=[1,32],d=[1,33],p=[1,34],f=[1,45],g=[1,35],m=[1,36],y=[1,37],v=[1,38],x=[1,27],b=[1,28],w=[1,29],T=[1,30],k=[1,31],R=[1,44],C=[1,46],E=[1,43],_=[1,47],L=[1,9],D=[1,8,9],B=[1,58],S=[1,59],N=[1,60],A=[1,61],M=[1,62],O=[1,63],I=[1,64],P=[1,8,9,41],$=[1,76],z=[1,8,9,12,13,22,39,41,44,66,67,68,69,70,71,72,77,79],G=[1,8,9,12,13,17,20,22,39,41,44,48,58,66,67,68,69,70,71,72,77,79,84,99,101,102],q=[13,58,84,99,101,102],J=[13,58,71,72,84,99,101,102],ie=[13,58,66,67,68,69,70,84,99,101,102],te=[1,98],W=[1,115],H=[1,107],X=[1,113],Q=[1,108],ne=[1,109],ee=[1,110],pe=[1,111],j=[1,112],ce=[1,114],le=[22,58,59,80,84,85,86,87,88,89],Ae=[1,8,9,39,41,44],Se=[1,8,9,22],ze=[1,143],Pe=[1,8,9,59],Ve=[1,8,9,22,58,59,80,84,85,86,87,88,89],Ue={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,DOT:17,className:18,classLiteralName:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,ANNOTATION_START:47,ANNOTATION_END:48,MEMBER:49,SEPARATOR:50,relation:51,NOTE_FOR:52,noteText:53,NOTE:54,CLASSDEF:55,classList:56,stylesOpt:57,ALPHA:58,COMMA:59,direction_tb:60,direction_bt:61,direction_rl:62,direction_lr:63,relationType:64,lineType:65,AGGREGATION:66,EXTENSION:67,COMPOSITION:68,DEPENDENCY:69,LOLLIPOP:70,LINE:71,DOTTED_LINE:72,CALLBACK:73,LINK:74,LINK_TARGET:75,CLICK:76,CALLBACK_NAME:77,CALLBACK_ARGS:78,HREF:79,STYLE:80,CSSCLASS:81,style:82,styleComponent:83,NUM:84,COLON:85,UNIT:86,SPACE:87,BRKT:88,PCT:89,commentToken:90,textToken:91,graphCodeTokens:92,textNoTagsToken:93,TAGSTART:94,TAGEND:95,"==":96,"--":97,DEFAULT:98,MINUS:99,keywords:100,UNICODE_TEXT:101,BQUOTE_STR:102,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",17:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",47:"ANNOTATION_START",48:"ANNOTATION_END",49:"MEMBER",50:"SEPARATOR",52:"NOTE_FOR",54:"NOTE",55:"CLASSDEF",58:"ALPHA",59:"COMMA",60:"direction_tb",61:"direction_bt",62:"direction_rl",63:"direction_lr",66:"AGGREGATION",67:"EXTENSION",68:"COMPOSITION",69:"DEPENDENCY",70:"LOLLIPOP",71:"LINE",72:"DOTTED_LINE",73:"CALLBACK",74:"LINK",75:"LINK_TARGET",76:"CLICK",77:"CALLBACK_NAME",78:"CALLBACK_ARGS",79:"HREF",80:"STYLE",81:"CSSCLASS",84:"NUM",85:"COLON",86:"UNIT",87:"SPACE",88:"BRKT",89:"PCT",92:"graphCodeTokens",94:"TAGSTART",95:"TAGEND",96:"==",97:"--",98:"DEFAULT",99:"MINUS",100:"keywords",101:"UNICODE_TEXT",102:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,3],[15,2],[18,1],[18,3],[18,1],[18,2],[18,2],[18,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,6],[43,2],[43,3],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[56,1],[56,3],[32,1],[32,1],[32,1],[32,1],[51,3],[51,2],[51,2],[51,1],[64,1],[64,1],[64,1],[64,1],[64,1],[65,1],[65,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[57,1],[57,3],[82,1],[82,2],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[90,1],[90,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[93,1],[93,1],[93,1],[93,1],[16,1],[16,1],[16,1],[16,1],[19,1],[53,1]],performAction:l(function(ue,oe,we,K,ve,Y,he){var se=Y.length-1;switch(ve){case 8:this.$=Y[se-1];break;case 9:case 12:case 14:this.$=Y[se];break;case 10:case 13:this.$=Y[se-2]+"."+Y[se];break;case 11:case 15:case 95:this.$=Y[se-1]+Y[se];break;case 16:case 17:this.$=Y[se-1]+"~"+Y[se]+"~";break;case 18:K.addRelation(Y[se]);break;case 19:Y[se-1].title=K.cleanupLabel(Y[se]),K.addRelation(Y[se-1]);break;case 30:this.$=Y[se].trim(),K.setAccTitle(this.$);break;case 31:case 32:this.$=Y[se].trim(),K.setAccDescription(this.$);break;case 33:K.addClassesToNamespace(Y[se-3],Y[se-1]);break;case 34:K.addClassesToNamespace(Y[se-4],Y[se-1]);break;case 35:this.$=Y[se],K.addNamespace(Y[se]);break;case 36:case 46:case 59:case 92:this.$=[Y[se]];break;case 37:this.$=[Y[se-1]];break;case 38:Y[se].unshift(Y[se-2]),this.$=Y[se];break;case 40:K.setCssClass(Y[se-2],Y[se]);break;case 41:K.addMembers(Y[se-3],Y[se-1]);break;case 42:K.setCssClass(Y[se-5],Y[se-3]),K.addMembers(Y[se-5],Y[se-1]);break;case 43:this.$=Y[se],K.addClass(Y[se]);break;case 44:this.$=Y[se-1],K.addClass(Y[se-1]),K.setClassLabel(Y[se-1],Y[se]);break;case 45:K.addAnnotation(Y[se],Y[se-2]);break;case 47:Y[se].push(Y[se-1]),this.$=Y[se];break;case 48:case 50:case 51:break;case 49:K.addMember(Y[se-1],K.cleanupLabel(Y[se]));break;case 52:this.$={id1:Y[se-2],id2:Y[se],relation:Y[se-1],relationTitle1:"none",relationTitle2:"none"};break;case 53:this.$={id1:Y[se-3],id2:Y[se],relation:Y[se-1],relationTitle1:Y[se-2],relationTitle2:"none"};break;case 54:this.$={id1:Y[se-3],id2:Y[se],relation:Y[se-2],relationTitle1:"none",relationTitle2:Y[se-1]};break;case 55:this.$={id1:Y[se-4],id2:Y[se],relation:Y[se-2],relationTitle1:Y[se-3],relationTitle2:Y[se-1]};break;case 56:K.addNote(Y[se],Y[se-1]);break;case 57:K.addNote(Y[se]);break;case 58:this.$=Y[se-2],K.defineClass(Y[se-1],Y[se]);break;case 60:this.$=Y[se-2].concat([Y[se]]);break;case 61:K.setDirection("TB");break;case 62:K.setDirection("BT");break;case 63:K.setDirection("RL");break;case 64:K.setDirection("LR");break;case 65:this.$={type1:Y[se-2],type2:Y[se],lineType:Y[se-1]};break;case 66:this.$={type1:"none",type2:Y[se],lineType:Y[se-1]};break;case 67:this.$={type1:Y[se-1],type2:"none",lineType:Y[se]};break;case 68:this.$={type1:"none",type2:"none",lineType:Y[se]};break;case 69:this.$=K.relationType.AGGREGATION;break;case 70:this.$=K.relationType.EXTENSION;break;case 71:this.$=K.relationType.COMPOSITION;break;case 72:this.$=K.relationType.DEPENDENCY;break;case 73:this.$=K.relationType.LOLLIPOP;break;case 74:this.$=K.lineType.LINE;break;case 75:this.$=K.lineType.DOTTED_LINE;break;case 76:case 82:this.$=Y[se-2],K.setClickEvent(Y[se-1],Y[se]);break;case 77:case 83:this.$=Y[se-3],K.setClickEvent(Y[se-2],Y[se-1]),K.setTooltip(Y[se-2],Y[se]);break;case 78:this.$=Y[se-2],K.setLink(Y[se-1],Y[se]);break;case 79:this.$=Y[se-3],K.setLink(Y[se-2],Y[se-1],Y[se]);break;case 80:this.$=Y[se-3],K.setLink(Y[se-2],Y[se-1]),K.setTooltip(Y[se-2],Y[se]);break;case 81:this.$=Y[se-4],K.setLink(Y[se-3],Y[se-2],Y[se]),K.setTooltip(Y[se-3],Y[se-1]);break;case 84:this.$=Y[se-3],K.setClickEvent(Y[se-2],Y[se-1],Y[se]);break;case 85:this.$=Y[se-4],K.setClickEvent(Y[se-3],Y[se-2],Y[se-1]),K.setTooltip(Y[se-3],Y[se]);break;case 86:this.$=Y[se-3],K.setLink(Y[se-2],Y[se]);break;case 87:this.$=Y[se-4],K.setLink(Y[se-3],Y[se-1],Y[se]);break;case 88:this.$=Y[se-4],K.setLink(Y[se-3],Y[se-1]),K.setTooltip(Y[se-3],Y[se]);break;case 89:this.$=Y[se-5],K.setLink(Y[se-4],Y[se-2],Y[se]),K.setTooltip(Y[se-4],Y[se-1]);break;case 90:this.$=Y[se-2],K.setCssStyle(Y[se-1],Y[se]);break;case 91:K.setCssClass(Y[se-1],Y[se]);break;case 93:Y[se-2].push(Y[se]),this.$=Y[se-2]}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:n,38:22,42:i,43:23,46:a,47:s,49:o,50:u,52:h,54:d,55:p,58:f,60:g,61:m,62:y,63:v,73:x,74:b,76:w,80:T,81:k,84:R,99:C,101:E,102:_},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},e(L,[2,5],{8:[1,48]}),{8:[1,49]},e(D,[2,18],{22:[1,50]}),e(D,[2,20]),e(D,[2,21]),e(D,[2,22]),e(D,[2,23]),e(D,[2,24]),e(D,[2,25]),e(D,[2,26]),e(D,[2,27]),e(D,[2,28]),e(D,[2,29]),{34:[1,51]},{36:[1,52]},e(D,[2,32]),e(D,[2,48],{51:53,64:56,65:57,13:[1,54],22:[1,55],66:B,67:S,68:N,69:A,70:M,71:O,72:I}),{39:[1,65]},e(P,[2,39],{39:[1,67],44:[1,66]}),e(D,[2,50]),e(D,[2,51]),{16:68,58:f,84:R,99:C,101:E},{16:39,18:69,19:40,58:f,84:R,99:C,101:E,102:_},{16:39,18:70,19:40,58:f,84:R,99:C,101:E,102:_},{16:39,18:71,19:40,58:f,84:R,99:C,101:E,102:_},{58:[1,72]},{13:[1,73]},{16:39,18:74,19:40,58:f,84:R,99:C,101:E,102:_},{13:$,53:75},{56:77,58:[1,78]},e(D,[2,61]),e(D,[2,62]),e(D,[2,63]),e(D,[2,64]),e(z,[2,12],{16:39,19:40,18:80,17:[1,79],20:[1,81],58:f,84:R,99:C,101:E,102:_}),e(z,[2,14],{20:[1,82]}),{15:83,16:84,58:f,84:R,99:C,101:E},{16:39,18:85,19:40,58:f,84:R,99:C,101:E,102:_},e(G,[2,118]),e(G,[2,119]),e(G,[2,120]),e(G,[2,121]),e([1,8,9,12,13,20,22,39,41,44,66,67,68,69,70,71,72,77,79],[2,122]),e(L,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,18:21,38:22,43:23,16:39,19:40,5:86,33:t,35:r,37:n,42:i,46:a,47:s,49:o,50:u,52:h,54:d,55:p,58:f,60:g,61:m,62:y,63:v,73:x,74:b,76:w,80:T,81:k,84:R,99:C,101:E,102:_}),{5:87,10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:n,38:22,42:i,43:23,46:a,47:s,49:o,50:u,52:h,54:d,55:p,58:f,60:g,61:m,62:y,63:v,73:x,74:b,76:w,80:T,81:k,84:R,99:C,101:E,102:_},e(D,[2,19]),e(D,[2,30]),e(D,[2,31]),{13:[1,89],16:39,18:88,19:40,58:f,84:R,99:C,101:E,102:_},{51:90,64:56,65:57,66:B,67:S,68:N,69:A,70:M,71:O,72:I},e(D,[2,49]),{65:91,71:O,72:I},e(q,[2,68],{64:92,66:B,67:S,68:N,69:A,70:M}),e(J,[2,69]),e(J,[2,70]),e(J,[2,71]),e(J,[2,72]),e(J,[2,73]),e(ie,[2,74]),e(ie,[2,75]),{8:[1,94],24:95,40:93,43:23,46:a},{16:96,58:f,84:R,99:C,101:E},{45:97,49:te},{48:[1,99]},{13:[1,100]},{13:[1,101]},{77:[1,102],79:[1,103]},{22:W,57:104,58:H,80:X,82:105,83:106,84:Q,85:ne,86:ee,87:pe,88:j,89:ce},{58:[1,116]},{13:$,53:117},e(D,[2,57]),e(D,[2,123]),{22:W,57:118,58:H,59:[1,119],80:X,82:105,83:106,84:Q,85:ne,86:ee,87:pe,88:j,89:ce},e(le,[2,59]),{16:39,18:120,19:40,58:f,84:R,99:C,101:E,102:_},e(z,[2,15]),e(z,[2,16]),e(z,[2,17]),{39:[2,35]},{15:122,16:84,17:[1,121],39:[2,9],58:f,84:R,99:C,101:E},e(Ae,[2,43],{11:123,12:[1,124]}),e(L,[2,7]),{9:[1,125]},e(Se,[2,52]),{16:39,18:126,19:40,58:f,84:R,99:C,101:E,102:_},{13:[1,128],16:39,18:127,19:40,58:f,84:R,99:C,101:E,102:_},e(q,[2,67],{64:129,66:B,67:S,68:N,69:A,70:M}),e(q,[2,66]),{41:[1,130]},{24:95,40:131,43:23,46:a},{8:[1,132],41:[2,36]},e(P,[2,40],{39:[1,133]}),{41:[1,134]},{41:[2,46],45:135,49:te},{16:39,18:136,19:40,58:f,84:R,99:C,101:E,102:_},e(D,[2,76],{13:[1,137]}),e(D,[2,78],{13:[1,139],75:[1,138]}),e(D,[2,82],{13:[1,140],78:[1,141]}),{13:[1,142]},e(D,[2,90],{59:ze}),e(Pe,[2,92],{83:144,22:W,58:H,80:X,84:Q,85:ne,86:ee,87:pe,88:j,89:ce}),e(Ve,[2,94]),e(Ve,[2,96]),e(Ve,[2,97]),e(Ve,[2,98]),e(Ve,[2,99]),e(Ve,[2,100]),e(Ve,[2,101]),e(Ve,[2,102]),e(Ve,[2,103]),e(Ve,[2,104]),e(D,[2,91]),e(D,[2,56]),e(D,[2,58],{59:ze}),{58:[1,145]},e(z,[2,13]),{15:146,16:84,58:f,84:R,99:C,101:E},{39:[2,11]},e(Ae,[2,44]),{13:[1,147]},{1:[2,4]},e(Se,[2,54]),e(Se,[2,53]),{16:39,18:148,19:40,58:f,84:R,99:C,101:E,102:_},e(q,[2,65]),e(D,[2,33]),{41:[1,149]},{24:95,40:150,41:[2,37],43:23,46:a},{45:151,49:te},e(P,[2,41]),{41:[2,47]},e(D,[2,45]),e(D,[2,77]),e(D,[2,79]),e(D,[2,80],{75:[1,152]}),e(D,[2,83]),e(D,[2,84],{13:[1,153]}),e(D,[2,86],{13:[1,155],75:[1,154]}),{22:W,58:H,80:X,82:156,83:106,84:Q,85:ne,86:ee,87:pe,88:j,89:ce},e(Ve,[2,95]),e(le,[2,60]),{39:[2,10]},{14:[1,157]},e(Se,[2,55]),e(D,[2,34]),{41:[2,38]},{41:[1,158]},e(D,[2,81]),e(D,[2,85]),e(D,[2,87]),e(D,[2,88],{75:[1,159]}),e(Pe,[2,93],{83:144,22:W,58:H,80:X,84:Q,85:ne,86:ee,87:pe,88:j,89:ce}),e(Ae,[2,8]),e(P,[2,42]),e(D,[2,89])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,35],122:[2,11],125:[2,4],135:[2,47],146:[2,10],150:[2,38]},parseError:l(function(ue,oe){if(!oe.recoverable){var we=new Error(ue);throw we.hash=oe,we}this.trace(ue)},"parseError"),parse:l(function(ue){var oe=this,we=[0],K=[],ve=[null],Y=[],he=this.table,se="",be=0,Te=0,_e=2,Re=1,ke=Y.slice.call(arguments,1),Be=Object.create(this.lexer),Oe={yy:{}};for(var ft in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ft)&&(Oe.yy[ft]=this.yy[ft]);Be.setInput(ue,Oe.yy),Oe.yy.lexer=Be,Oe.yy.parser=this,Be.yylloc===void 0&&(Be.yylloc={});var Et=Be.yylloc;Y.push(Et);var Ye=Be.options&&Be.options.ranges;function bt(Rt){we.length=we.length-2*Rt,ve.length=ve.length-Rt,Y.length=Y.length-Rt}function at(){var Rt;return typeof(Rt=K.pop()||Be.lex()||Re)!="number"&&(Rt instanceof Array&&(Rt=(K=Rt).pop()),Rt=oe.symbols_[Rt]||Rt),Rt}typeof Oe.yy.parseError=="function"?this.parseError=Oe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,l(bt,"popStack"),l(at,"lex");for(var De,rt,Je,Ze,ht,mt,yt,Xe,Fe={};;){if(rt=we[we.length-1],this.defaultActions[rt]?Je=this.defaultActions[rt]:(De==null&&(De=at()),Je=he[rt]&&he[rt][De]),Je===void 0||!Je.length||!Je[0]){var pt="";for(ht in Xe=[],he[rt])this.terminals_[ht]&&ht>_e&&Xe.push("'"+this.terminals_[ht]+"'");pt=Be.showPosition?"Parse error on line "+(be+1)+`:
`+Be.showPosition()+`
Expecting `+Xe.join(", ")+", got '"+(this.terminals_[De]||De)+"'":"Parse error on line "+(be+1)+": Unexpected "+(De==Re?"end of input":"'"+(this.terminals_[De]||De)+"'"),this.parseError(pt,{text:Be.match,token:this.terminals_[De]||De,line:Be.yylineno,loc:Et,expected:Xe})}if(Je[0]instanceof Array&&Je.length>1)throw new Error("Parse Error: multiple actions possible at state: "+rt+", token: "+De);switch(Je[0]){case 1:we.push(De),ve.push(Be.yytext),Y.push(Be.yylloc),we.push(Je[1]),De=null,Te=Be.yyleng,se=Be.yytext,be=Be.yylineno,Et=Be.yylloc;break;case 2:if(mt=this.productions_[Je[1]][1],Fe.$=ve[ve.length-mt],Fe._$={first_line:Y[Y.length-(mt||1)].first_line,last_line:Y[Y.length-1].last_line,first_column:Y[Y.length-(mt||1)].first_column,last_column:Y[Y.length-1].last_column},Ye&&(Fe._$.range=[Y[Y.length-(mt||1)].range[0],Y[Y.length-1].range[1]]),(Ze=this.performAction.apply(Fe,[se,Te,be,Oe.yy,Je[1],ve,Y].concat(ke)))!==void 0)return Ze;mt&&(we=we.slice(0,-1*mt*2),ve=ve.slice(0,-1*mt),Y=Y.slice(0,-1*mt)),we.push(this.productions_[Je[1]][0]),ve.push(Fe.$),Y.push(Fe._$),yt=he[we[we.length-2]][we[we.length-1]],we.push(yt);break;case 3:return!0}}return!0},"parse")},Ge=function(){var ue={EOF:1,parseError:l(function(oe,we){if(!this.yy.parser)throw new Error(oe);this.yy.parser.parseError(oe,we)},"parseError"),setInput:l(function(oe,we){return this.yy=we||this.yy||{},this._input=oe,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var oe=this._input[0];return this.yytext+=oe,this.yyleng++,this.offset++,this.match+=oe,this.matched+=oe,oe.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),oe},"input"),unput:l(function(oe){var we=oe.length,K=oe.split(/(?:\r\n?|\n)/g);this._input=oe+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-we),this.offset-=we;var ve=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),K.length-1&&(this.yylineno-=K.length-1);var Y=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:K?(K.length===ve.length?this.yylloc.first_column:0)+ve[ve.length-K.length].length-K[0].length:this.yylloc.first_column-we},this.options.ranges&&(this.yylloc.range=[Y[0],Y[0]+this.yyleng-we]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:l(function(oe){this.unput(this.match.slice(oe))},"less"),pastInput:l(function(){var oe=this.matched.substr(0,this.matched.length-this.match.length);return(oe.length>20?"...":"")+oe.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var oe=this.match;return oe.length<20&&(oe+=this._input.substr(0,20-oe.length)),(oe.substr(0,20)+(oe.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var oe=this.pastInput(),we=new Array(oe.length+1).join("-");return oe+this.upcomingInput()+`
`+we+"^"},"showPosition"),test_match:l(function(oe,we){var K,ve,Y;if(this.options.backtrack_lexer&&(Y={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Y.yylloc.range=this.yylloc.range.slice(0))),(ve=oe[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=ve.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ve?ve[ve.length-1].length-ve[ve.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+oe[0].length},this.yytext+=oe[0],this.match+=oe[0],this.matches=oe,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(oe[0].length),this.matched+=oe[0],K=this.performAction.call(this,this.yy,this,we,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),K)return K;if(this._backtrack){for(var he in Y)this[he]=Y[he];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;var oe,we,K,ve;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Y=this._currentRules(),he=0;he<Y.length;he++)if((K=this._input.match(this.rules[Y[he]]))&&(!we||K[0].length>we[0].length)){if(we=K,ve=he,this.options.backtrack_lexer){if((oe=this.test_match(K,Y[he]))!==!1)return oe;if(this._backtrack){we=!1;continue}return!1}if(!this.options.flex)break}return we?(oe=this.test_match(we,Y[ve]))!==!1&&oe:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var oe=this.next();return oe||this.lex()},"lex"),begin:l(function(oe){this.conditionStack.push(oe)},"begin"),popState:l(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(oe){return(oe=this.conditionStack.length-1-Math.abs(oe||0))>=0?this.conditionStack[oe]:"INITIAL"},"topState"),pushState:l(function(oe){this.begin(oe)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:l(function(oe,we,K,ve){switch(K){case 0:return 60;case 1:return 61;case 2:return 62;case 3:return 63;case 4:case 5:case 14:case 31:case 36:case 40:case 47:break;case 6:return this.begin("acc_title"),33;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),35;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 19:case 22:case 24:case 58:case 61:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:case 35:return 8;case 15:case 16:return 7;case 17:case 37:case 45:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 77;case 23:return 78;case 25:return"STR";case 26:this.begin("string");break;case 27:return 80;case 28:return 55;case 29:return this.begin("namespace"),42;case 30:case 39:return this.popState(),8;case 32:return this.begin("namespace-body"),39;case 33:case 43:return this.popState(),41;case 34:case 44:return"EOF_IN_STRUCT";case 38:return this.begin("class"),46;case 41:return this.popState(),this.popState(),41;case 42:return this.begin("class-body"),39;case 46:return"OPEN_IN_STRUCT";case 48:return"MEMBER";case 49:return 81;case 50:return 73;case 51:return 74;case 52:return 76;case 53:return 52;case 54:return 54;case 55:return 47;case 56:return 48;case 57:return 79;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:case 65:case 66:case 67:return 75;case 68:case 69:return 67;case 70:case 71:return 69;case 72:return 68;case 73:return 66;case 74:return 70;case 75:return 71;case 76:return 72;case 77:return 22;case 78:return 44;case 79:return 99;case 80:return 17;case 81:return"PLUS";case 82:return 85;case 83:return 59;case 84:case 85:return 88;case 86:return 89;case 87:case 88:return"EQUALS";case 89:return 58;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 84;case 94:return 101;case 95:case 96:return 87;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};return ue}();function V(){this.yy={}}return Ue.lexer=Ge,l(V,"Parser"),V.prototype=Ue,Ue.Parser=V,new V}();SC.parser=SC;var bae=SC,HO=["#","+","~","-",""],zg,VO=(zg=class{constructor(t,r){this.memberType=r,this.visibility="",this.classifier="",this.text="";const n=Ir(t,ye());this.parseMember(n)}getDisplayDetails(){let t=this.visibility+Pc(this.id);return this.memberType==="method"&&(t+=`(${Pc(this.parameters.trim())})`,this.returnType&&(t+=" : "+Pc(this.returnType))),t=t.trim(),{displayText:t,cssStyle:this.parseClassifier()}}parseMember(t){let r="";if(this.memberType==="method"){const i=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(t);if(i){const a=i[1]?i[1].trim():"";if(HO.includes(a)&&(this.visibility=a),this.id=i[2],this.parameters=i[3]?i[3].trim():"",r=i[4]?i[4].trim():"",this.returnType=i[5]?i[5].trim():"",r===""){const s=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(s)&&(r=s,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{const i=t.length,a=t.substring(0,1),s=t.substring(i-1);HO.includes(a)&&(this.visibility=a),/[$*]/.exec(s)&&(r=s),this.id=t.substring(this.visibility===""?0:1,r===""?i:i-1)}this.classifier=r,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();const n=`${this.visibility?"\\"+this.visibility:""}${Pc(this.id)}${this.memberType==="method"?`(${Pc(this.parameters)})${this.returnType?" : "+Pc(this.returnType):""}`:""}`;this.text=n.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},l(zg,"ClassMember"),zg),hw=[],zr=new Map,XO=new Map,n2=[],d0=[],KO=0,Ms=new Map,AC=0,dw=[],nh=l(e=>He.sanitizeText(e,ye()),"sanitizeText"),ih=l(function(e){const t=He.sanitizeText(e,ye());let r="",n=t;if(t.indexOf("~")>0){const i=t.split("~");n=nh(i[0]),r=nh(i[1])}return{className:n,type:r}},"splitClassNameAndType"),cTe=l(function(e,t){const r=He.sanitizeText(e,ye());t&&(t=nh(t));const{className:n}=ih(r);zr.get(n).label=t,zr.get(n).text=`${t}${zr.get(n).type?`<${zr.get(n).type}>`:""}`},"setClassLabel"),sd=l(function(e){const t=He.sanitizeText(e,ye()),{className:r,type:n}=ih(t);if(zr.has(r))return;const i=He.sanitizeText(r,ye());zr.set(i,{id:i,type:n,label:i,text:`${i}${n?`&lt;${n}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:"classId-"+i+"-"+KO}),KO++},"addClass"),ZO=l(function(e,t){const r={id:`interface${d0.length}`,label:e,classId:t};d0.push(r)},"addInterface"),wae=l(function(e){const t=He.sanitizeText(e,ye());if(zr.has(t))return zr.get(t).domId;throw new Error("Class not found: "+t)},"lookUpDomId"),uTe=l(function(){hw=[],zr=new Map,n2=[],d0=[],(dw=[]).push(Tae),Ms=new Map,AC=0,SN="TB",Hn()},"clear"),hTe=l(function(e){return zr.get(e)},"getClass"),dTe=l(function(){return zr},"getClasses"),pTe=l(function(){return hw},"getRelations"),fTe=l(function(){return n2},"getNotes"),gTe=l(function(e){re.debug("Adding relation: "+JSON.stringify(e));const t=[Tl.LOLLIPOP,Tl.AGGREGATION,Tl.COMPOSITION,Tl.DEPENDENCY,Tl.EXTENSION];e.relation.type1!==Tl.LOLLIPOP||t.includes(e.relation.type2)?e.relation.type2!==Tl.LOLLIPOP||t.includes(e.relation.type1)?(sd(e.id1),sd(e.id2)):(sd(e.id1),ZO(e.id2,e.id1),e.id2="interface"+(d0.length-1)):(sd(e.id2),ZO(e.id1,e.id2),e.id1="interface"+(d0.length-1)),e.id1=ih(e.id1).className,e.id2=ih(e.id2).className,e.relationTitle1=He.sanitizeText(e.relationTitle1.trim(),ye()),e.relationTitle2=He.sanitizeText(e.relationTitle2.trim(),ye()),hw.push(e)},"addRelation"),mTe=l(function(e,t){const r=ih(e).className;zr.get(r).annotations.push(t)},"addAnnotation"),kae=l(function(e,t){sd(e);const r=ih(e).className,n=zr.get(r);if(typeof t=="string"){const i=t.trim();i.startsWith("<<")&&i.endsWith(">>")?n.annotations.push(nh(i.substring(2,i.length-2))):i.indexOf(")")>0?n.methods.push(new VO(i,"method")):i&&n.members.push(new VO(i,"attribute"))}},"addMember"),yTe=l(function(e,t){Array.isArray(t)&&(t.reverse(),t.forEach(r=>kae(e,r)))},"addMembers"),vTe=l(function(e,t){const r={id:`note${n2.length}`,class:t,text:e};n2.push(r)},"addNote"),xTe=l(function(e){return e.startsWith(":")&&(e=e.substring(1)),nh(e.trim())},"cleanupLabel"),CN=l(function(e,t){e.split(",").forEach(function(r){let n=r;/\d/.exec(r[0])&&(n="classId-"+n);const i=zr.get(n);i&&(i.cssClasses+=" "+t)})},"setCssClass"),bTe=l(function(e,t){for(const r of e){let n=XO.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},XO.set(r,n)),t&&t.forEach(function(i){if(/color/.exec(i)){const a=i.replace("fill","bgFill");n.textStyles.push(a)}n.styles.push(i)}),zr.forEach(i=>{i.cssClasses.includes(r)&&i.styles.push(...t.flatMap(a=>a.split(",")))})}},"defineClass"),wTe=l(function(e,t){e.split(",").forEach(function(r){t!==void 0&&(zr.get(r).tooltip=nh(t))})},"setTooltip"),kTe=l(function(e,t){return t&&Ms.has(t)?Ms.get(t).classes.get(e).tooltip:zr.get(e).tooltip},"getTooltip"),TTe=l(function(e,t,r){const n=ye();e.split(",").forEach(function(i){let a=i;/\d/.exec(i[0])&&(a="classId-"+a);const s=zr.get(a);s&&(s.link=Yt.formatUrl(t,n),n.securityLevel==="sandbox"?s.linkTarget="_top":s.linkTarget=typeof r=="string"?nh(r):"_blank")}),CN(e,"clickable")},"setLink"),_Te=l(function(e,t,r){e.split(",").forEach(function(n){ETe(n,t,r),zr.get(n).haveCallback=!0}),CN(e,"clickable")},"setClickEvent"),ETe=l(function(e,t,r){const n=He.sanitizeText(e,ye());if(ye().securityLevel!=="loose"||t===void 0)return;const i=n;if(zr.has(i)){const a=wae(i);let s=[];if(typeof r=="string"){s=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<s.length;o++){let u=s[o].trim();u.startsWith('"')&&u.endsWith('"')&&(u=u.substr(1,u.length-2)),s[o]=u}}s.length===0&&s.push(a),dw.push(function(){const o=document.querySelector(`[id="${a}"]`);o!==null&&o.addEventListener("click",function(){Yt.runFunc(t,...s)},!1)})}},"setClickFunc"),CTe=l(function(e){dw.forEach(function(t){t(e)})},"bindFunctions"),Tl={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},Tae=l(function(e){let t=Qe(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=Qe("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Qe(e).select("svg").selectAll("g.node").on("mouseover",function(){const r=Qe(this);if(r.attr("title")===null)return;const n=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(r.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),r.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),Qe(this).classed("hover",!1)})},"setupToolTips");dw.push(Tae);var SN="TB",_ae=l(()=>SN,"getDirection"),STe=l(e=>{SN=e},"setDirection"),ATe=l(function(e){Ms.has(e)||(Ms.set(e,{id:e,classes:new Map,children:{},domId:"classId-"+e+"-"+AC}),AC++)},"addNamespace"),LTe=l(function(e){return Ms.get(e)},"getNamespace"),NTe=l(function(){return Ms},"getNamespaces"),ITe=l(function(e,t){if(Ms.has(e))for(const r of t){const{className:n}=ih(r);zr.get(n).parent=e,Ms.get(e).classes.set(n,zr.get(n))}},"addClassesToNamespace"),MTe=l(function(e,t){const r=zr.get(e);if(t&&r)for(const n of t)n.includes(",")?r.styles.push(...n.split(",")):r.styles.push(n)},"setCssStyle");function LC(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}l(LC,"getArrowMarker");var RTe=l(()=>{var i;const e=[],t=[],r=ye();for(const a of Ms.keys()){const s=Ms.get(a);if(s){const o={id:s.id,label:s.id,isGroup:!0,padding:r.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:r.look};e.push(o)}}for(const a of zr.keys()){const s=zr.get(a);if(s){const o=s;o.parentId=s.parent,o.look=r.look,e.push(o)}}let n=0;for(const a of n2){n++;const s={id:a.id,label:a.text,isGroup:!1,shape:"note",padding:r.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${r.themeVariables.noteBkgColor}`,`stroke: ${r.themeVariables.noteBorderColor}`],look:r.look};e.push(s);const o=((i=zr.get(a.class))==null?void 0:i.id)??"";if(o){const u={id:`edgeNote${n}`,start:a.id,end:o,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:r.look};t.push(u)}}for(const a of d0){const s={id:a.id,label:a.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:r.look};e.push(s)}n=0;for(const a of hw){n++;const s={id:uH(a.id1,a.id2,{prefix:"id",counter:n}),start:a.id1,end:a.id2,type:"normal",label:a.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:LC(a.relation.type1),arrowTypeEnd:LC(a.relation.type2),startLabelRight:a.relationTitle1==="none"?"":a.relationTitle1,endLabelLeft:a.relationTitle2==="none"?"":a.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:a.style||"",pattern:a.relation.lineType==1?"dashed":"solid",look:r.look};t.push(s)}return{nodes:e,edges:t,other:{},config:r,direction:_ae()}},"getData"),u5={setAccTitle:Vn,getAccTitle:ci,getAccDescription:hi,setAccDescription:ui,getConfig:l(()=>ye().class,"getConfig"),addClass:sd,bindFunctions:CTe,clear:uTe,getClass:hTe,getClasses:dTe,getNotes:fTe,addAnnotation:mTe,addNote:vTe,getRelations:pTe,addRelation:gTe,getDirection:_ae,setDirection:STe,addMember:kae,addMembers:yTe,cleanupLabel:xTe,lineType:{LINE:0,DOTTED_LINE:1},relationType:Tl,setClickEvent:_Te,setCssClass:CN,defineClass:bTe,setLink:TTe,getTooltip:kTe,setTooltip:wTe,lookUpDomId:wae,setDiagramTitle:Fi,getDiagramTitle:di,setClassLabel:cTe,addNamespace:ATe,addClassesToNamespace:ITe,getNamespace:LTe,getNamespaces:NTe,setCssStyle:MTe,getData:RTe},Eae=l(e=>`g.classGroup text {
  fill: ${e.nodeBorder||e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}

.labelBkg {
  background: ${e.mainBkg};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),DTe=l((e,t="TB")=>{if(!e.doc)return t;let r=t;for(const n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),OTe=l(function(e,t){return t.db.getClasses()},"getClasses"),PTe=l(async function(e,t,r,n){re.info("REF0:"),re.info("Drawing class diagram (v3)",t);const{securityLevel:i,state:a,layout:s}=ye(),o=n.db.getData(),u=i1(t,i);o.type=n.type,o.layoutAlgorithm=cX(s),o.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,o.rankSpacing=(a==null?void 0:a.rankSpacing)||50,o.markers=["aggregation","extension","composition","dependency","lollipop"],o.diagramId=t,await cA(o,u),Yt.insertTitle(u,"classDiagramTitleText",(a==null?void 0:a.titleTopMargin)??25,n.db.getDiagramTitle()),a1(u,8,"classDiagram",(a==null?void 0:a.useMaxWidth)??!0)},"draw"),Cae={getClasses:OTe,draw:PTe,getDir:DTe},BTe={parser:bae,db:u5,renderer:Cae,styles:Eae,init:l(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,u5.clear()},"init")},$Te=Object.freeze({__proto__:null,diagram:BTe}),FTe={parser:bae,db:u5,renderer:Cae,styles:Eae,init:l(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,u5.clear()},"init")},zTe=Object.freeze({__proto__:null,diagram:FTe}),NC=function(){var e=l(function(I,P,$,z){for($=$||{},z=I.length;z--;$[I[z]]=P);return $},"o"),t=[1,2],r=[1,3],n=[1,4],i=[2,4],a=[1,9],s=[1,11],o=[1,16],u=[1,17],h=[1,18],d=[1,19],p=[1,32],f=[1,20],g=[1,21],m=[1,22],y=[1,23],v=[1,24],x=[1,26],b=[1,27],w=[1,28],T=[1,29],k=[1,30],R=[1,31],C=[1,34],E=[1,35],_=[1,36],L=[1,37],D=[1,33],B=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],S=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],N=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],A={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,style:42,STYLE_IDS:43,STYLEDEF_STYLEOPTS:44,class:45,CLASSENTITY_IDS:46,STYLECLASS:47,direction_tb:48,direction_bt:49,direction_rl:50,direction_lr:51,eol:52,";":53,EDGE_STATE:54,STYLE_SEPARATOR:55,left_of:56,right_of:57,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"style",43:"STYLE_IDS",44:"STYLEDEF_STYLEOPTS",45:"class",46:"CLASSENTITY_IDS",47:"STYLECLASS",48:"direction_tb",49:"direction_bt",50:"direction_rl",51:"direction_lr",53:";",54:"EDGE_STATE",55:"STYLE_SEPARATOR",56:"left_of",57:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[52,1],[52,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:l(function(I,P,$,z,G,q,J){var ie=q.length-1;switch(G){case 3:return z.setRootDoc(q[ie]),q[ie];case 4:this.$=[];break;case 5:q[ie]!="nl"&&(q[ie-1].push(q[ie]),this.$=q[ie-1]);break;case 6:case 7:case 12:this.$=q[ie];break;case 8:this.$="nl";break;case 13:const X=q[ie-1];X.description=z.trimColon(q[ie]),this.$=X;break;case 14:this.$={stmt:"relation",state1:q[ie-2],state2:q[ie]};break;case 15:const Q=z.trimColon(q[ie]);this.$={stmt:"relation",state1:q[ie-3],state2:q[ie-1],description:Q};break;case 19:this.$={stmt:"state",id:q[ie-3],type:"default",description:"",doc:q[ie-1]};break;case 20:var te=q[ie],W=q[ie-2].trim();if(q[ie].match(":")){var H=q[ie].split(":");te=H[0],W=[W,H[1]]}this.$={stmt:"state",id:te,type:"default",description:W};break;case 21:this.$={stmt:"state",id:q[ie-3],type:"default",description:q[ie-5],doc:q[ie-1]};break;case 22:this.$={stmt:"state",id:q[ie],type:"fork"};break;case 23:this.$={stmt:"state",id:q[ie],type:"join"};break;case 24:this.$={stmt:"state",id:q[ie],type:"choice"};break;case 25:this.$={stmt:"state",id:z.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:q[ie-1].trim(),note:{position:q[ie-2].trim(),text:q[ie].trim()}};break;case 29:this.$=q[ie].trim(),z.setAccTitle(this.$);break;case 30:case 31:this.$=q[ie].trim(),z.setAccDescription(this.$);break;case 32:case 33:this.$={stmt:"classDef",id:q[ie-1].trim(),classes:q[ie].trim()};break;case 34:this.$={stmt:"style",id:q[ie-1].trim(),styleClass:q[ie].trim()};break;case 35:this.$={stmt:"applyClass",id:q[ie-1].trim(),styleClass:q[ie].trim()};break;case 36:z.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 37:z.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 38:z.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 39:z.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 42:case 43:this.$={stmt:"state",id:q[ie].trim(),type:"default",description:""};break;case 44:case 45:this.$={stmt:"state",id:q[ie-2].trim(),classes:[q[ie].trim()],type:"default",description:""}}},"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:u,19:h,22:d,24:p,25:f,26:g,27:m,28:y,29:v,32:25,33:x,35:b,37:w,38:T,42:k,45:R,48:C,49:E,50:_,51:L,54:D},e(B,[2,5]),{9:38,10:12,11:13,12:14,13:15,16:o,17:u,19:h,22:d,24:p,25:f,26:g,27:m,28:y,29:v,32:25,33:x,35:b,37:w,38:T,42:k,45:R,48:C,49:E,50:_,51:L,54:D},e(B,[2,7]),e(B,[2,8]),e(B,[2,9]),e(B,[2,10]),e(B,[2,11]),e(B,[2,12],{14:[1,39],15:[1,40]}),e(B,[2,16]),{18:[1,41]},e(B,[2,18],{20:[1,42]}),{23:[1,43]},e(B,[2,22]),e(B,[2,23]),e(B,[2,24]),e(B,[2,25]),{30:44,31:[1,45],56:[1,46],57:[1,47]},e(B,[2,28]),{34:[1,48]},{36:[1,49]},e(B,[2,31]),{39:[1,50],41:[1,51]},{43:[1,52]},{46:[1,53]},e(S,[2,42],{55:[1,54]}),e(S,[2,43],{55:[1,55]}),e(B,[2,36]),e(B,[2,37]),e(B,[2,38]),e(B,[2,39]),e(B,[2,6]),e(B,[2,13]),{13:56,24:p,54:D},e(B,[2,17]),e(N,i,{7:57}),{24:[1,58]},{24:[1,59]},{23:[1,60]},{24:[2,46]},{24:[2,47]},e(B,[2,29]),e(B,[2,30]),{40:[1,61]},{40:[1,62]},{44:[1,63]},{47:[1,64]},{24:[1,65]},{24:[1,66]},e(B,[2,14],{14:[1,67]}),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:u,19:h,21:[1,68],22:d,24:p,25:f,26:g,27:m,28:y,29:v,32:25,33:x,35:b,37:w,38:T,42:k,45:R,48:C,49:E,50:_,51:L,54:D},e(B,[2,20],{20:[1,69]}),{31:[1,70]},{24:[1,71]},e(B,[2,32]),e(B,[2,33]),e(B,[2,34]),e(B,[2,35]),e(S,[2,44]),e(S,[2,45]),e(B,[2,15]),e(B,[2,19]),e(N,i,{7:72}),e(B,[2,26]),e(B,[2,27]),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:u,19:h,21:[1,73],22:d,24:p,25:f,26:g,27:m,28:y,29:v,32:25,33:x,35:b,37:w,38:T,42:k,45:R,48:C,49:E,50:_,51:L,54:D},e(B,[2,21])],defaultActions:{5:[2,1],6:[2,2],46:[2,46],47:[2,47]},parseError:l(function(I,P){if(!P.recoverable){var $=new Error(I);throw $.hash=P,$}this.trace(I)},"parseError"),parse:l(function(I){var P=this,$=[0],z=[],G=[null],q=[],J=this.table,ie="",te=0,W=0,H=2,X=1,Q=q.slice.call(arguments,1),ne=Object.create(this.lexer),ee={yy:{}};for(var pe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,pe)&&(ee.yy[pe]=this.yy[pe]);ne.setInput(I,ee.yy),ee.yy.lexer=ne,ee.yy.parser=this,ne.yylloc===void 0&&(ne.yylloc={});var j=ne.yylloc;q.push(j);var ce=ne.options&&ne.options.ranges;function le(K){$.length=$.length-2*K,G.length=G.length-K,q.length=q.length-K}function Ae(){var K;return typeof(K=z.pop()||ne.lex()||X)!="number"&&(K instanceof Array&&(K=(z=K).pop()),K=P.symbols_[K]||K),K}typeof ee.yy.parseError=="function"?this.parseError=ee.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,l(le,"popStack"),l(Ae,"lex");for(var Se,ze,Pe,Ve,Ue,Ge,V,ue,oe={};;){if(ze=$[$.length-1],this.defaultActions[ze]?Pe=this.defaultActions[ze]:(Se==null&&(Se=Ae()),Pe=J[ze]&&J[ze][Se]),Pe===void 0||!Pe.length||!Pe[0]){var we="";for(Ue in ue=[],J[ze])this.terminals_[Ue]&&Ue>H&&ue.push("'"+this.terminals_[Ue]+"'");we=ne.showPosition?"Parse error on line "+(te+1)+`:
`+ne.showPosition()+`
Expecting `+ue.join(", ")+", got '"+(this.terminals_[Se]||Se)+"'":"Parse error on line "+(te+1)+": Unexpected "+(Se==X?"end of input":"'"+(this.terminals_[Se]||Se)+"'"),this.parseError(we,{text:ne.match,token:this.terminals_[Se]||Se,line:ne.yylineno,loc:j,expected:ue})}if(Pe[0]instanceof Array&&Pe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ze+", token: "+Se);switch(Pe[0]){case 1:$.push(Se),G.push(ne.yytext),q.push(ne.yylloc),$.push(Pe[1]),Se=null,W=ne.yyleng,ie=ne.yytext,te=ne.yylineno,j=ne.yylloc;break;case 2:if(Ge=this.productions_[Pe[1]][1],oe.$=G[G.length-Ge],oe._$={first_line:q[q.length-(Ge||1)].first_line,last_line:q[q.length-1].last_line,first_column:q[q.length-(Ge||1)].first_column,last_column:q[q.length-1].last_column},ce&&(oe._$.range=[q[q.length-(Ge||1)].range[0],q[q.length-1].range[1]]),(Ve=this.performAction.apply(oe,[ie,W,te,ee.yy,Pe[1],G,q].concat(Q)))!==void 0)return Ve;Ge&&($=$.slice(0,-1*Ge*2),G=G.slice(0,-1*Ge),q=q.slice(0,-1*Ge)),$.push(this.productions_[Pe[1]][0]),G.push(oe.$),q.push(oe._$),V=J[$[$.length-2]][$[$.length-1]],$.push(V);break;case 3:return!0}}return!0},"parse")},M=function(){var I={EOF:1,parseError:l(function(P,$){if(!this.yy.parser)throw new Error(P);this.yy.parser.parseError(P,$)},"parseError"),setInput:l(function(P,$){return this.yy=$||this.yy||{},this._input=P,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var P=this._input[0];return this.yytext+=P,this.yyleng++,this.offset++,this.match+=P,this.matched+=P,P.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),P},"input"),unput:l(function(P){var $=P.length,z=P.split(/(?:\r\n?|\n)/g);this._input=P+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-$),this.offset-=$;var G=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),z.length-1&&(this.yylineno-=z.length-1);var q=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:z?(z.length===G.length?this.yylloc.first_column:0)+G[G.length-z.length].length-z[0].length:this.yylloc.first_column-$},this.options.ranges&&(this.yylloc.range=[q[0],q[0]+this.yyleng-$]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:l(function(P){this.unput(this.match.slice(P))},"less"),pastInput:l(function(){var P=this.matched.substr(0,this.matched.length-this.match.length);return(P.length>20?"...":"")+P.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var P=this.match;return P.length<20&&(P+=this._input.substr(0,20-P.length)),(P.substr(0,20)+(P.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var P=this.pastInput(),$=new Array(P.length+1).join("-");return P+this.upcomingInput()+`
`+$+"^"},"showPosition"),test_match:l(function(P,$){var z,G,q;if(this.options.backtrack_lexer&&(q={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(q.yylloc.range=this.yylloc.range.slice(0))),(G=P[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=G.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:G?G[G.length-1].length-G[G.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+P[0].length},this.yytext+=P[0],this.match+=P[0],this.matches=P,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(P[0].length),this.matched+=P[0],z=this.performAction.call(this,this.yy,this,$,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),z)return z;if(this._backtrack){for(var J in q)this[J]=q[J];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;var P,$,z,G;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var q=this._currentRules(),J=0;J<q.length;J++)if((z=this._input.match(this.rules[q[J]]))&&(!$||z[0].length>$[0].length)){if($=z,G=J,this.options.backtrack_lexer){if((P=this.test_match(z,q[J]))!==!1)return P;if(this._backtrack){$=!1;continue}return!1}if(!this.options.flex)break}return $?(P=this.test_match($,q[G]))!==!1&&P:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var P=this.next();return P||this.lex()},"lex"),begin:l(function(P){this.conditionStack.push(P)},"begin"),popState:l(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(P){return(P=this.conditionStack.length-1-Math.abs(P||0))>=0?this.conditionStack[P]:"INITIAL"},"topState"),pushState:l(function(P){this.begin(P)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(P,$,z,G){switch(z){case 0:return 41;case 1:case 42:return 48;case 2:case 43:return 49;case 3:case 44:return 50;case 4:case 45:return 51;case 5:case 6:case 8:case 9:case 10:case 11:case 54:case 56:case 62:break;case 7:case 77:return 5;case 12:case 32:return this.pushState("SCALE"),17;case 13:case 33:return 18;case 14:case 20:case 34:case 49:case 52:this.popState();break;case 15:return this.begin("acc_title"),33;case 16:return this.popState(),"acc_title_value";case 17:return this.begin("acc_descr"),35;case 18:return this.popState(),"acc_descr_value";case 19:this.begin("acc_descr_multiline");break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),38;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 24:return this.popState(),this.pushState("CLASSDEFID"),39;case 25:return this.popState(),40;case 26:return this.pushState("CLASS"),45;case 27:return this.popState(),this.pushState("CLASS_STYLE"),46;case 28:return this.popState(),47;case 29:return this.pushState("STYLE"),42;case 30:return this.popState(),this.pushState("STYLEDEF_STYLES"),43;case 31:return this.popState(),44;case 35:this.pushState("STATE");break;case 36:case 39:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),25;case 37:case 40:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),26;case 38:case 41:return this.popState(),$.yytext=$.yytext.slice(0,-10).trim(),27;case 46:this.pushState("STATE_STRING");break;case 47:return this.pushState("STATE_ID"),"AS";case 48:case 64:return this.popState(),"ID";case 50:return"STATE_DESCR";case 51:return 19;case 53:return this.popState(),this.pushState("struct"),20;case 55:return this.popState(),21;case 57:return this.begin("NOTE"),29;case 58:return this.popState(),this.pushState("NOTE_ID"),56;case 59:return this.popState(),this.pushState("NOTE_ID"),57;case 60:this.popState(),this.pushState("FLOATING_NOTE");break;case 61:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 63:return"NOTE_TEXT";case 65:return this.popState(),this.pushState("NOTE_TEXT"),24;case 66:return this.popState(),$.yytext=$.yytext.substr(2).trim(),31;case 67:return this.popState(),$.yytext=$.yytext.slice(0,-8).trim(),31;case 68:case 69:return 6;case 70:return 16;case 71:return 54;case 72:return 24;case 73:return $.yytext=$.yytext.trim(),14;case 74:return 15;case 75:return 28;case 76:return 55;case 78:return"INVALID"}},"anonymous"),rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,29,35,42,43,44,45,54,55,56,57,71,72,73,74,75],inclusive:!1},FLOATING_NOTE_ID:{rules:[64],inclusive:!1},FLOATING_NOTE:{rules:[61,62,63],inclusive:!1},NOTE_TEXT:{rules:[66,67],inclusive:!1},NOTE_ID:{rules:[65],inclusive:!1},NOTE:{rules:[58,59,60],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[31],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[30],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,33,34],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[48],inclusive:!1},STATE_STRING:{rules:[49,50],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,36,37,38,39,40,41,46,47,51,52,53],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,35,53,57,68,69,70,71,72,73,74,76,77,78],inclusive:!0}}};return I}();function O(){this.yy={}}return A.lexer=M,l(O,"Parser"),O.prototype=A,A.Parser=O,new O}();NC.parser=NC;var Sae=NC,Aae=l((e,t="TB")=>{if(!e.doc)return t;let r=t;for(const n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),UTe=l(function(e,t){return t.db.extract(t.db.getRootDocV2()),t.db.getClasses()},"getClasses"),GTe=l(async function(e,t,r,n){re.info("REF0:"),re.info("Drawing state diagram (v2)",t);const{securityLevel:i,state:a,layout:s}=ye();n.db.extract(n.db.getRootDocV2());const o=n.db.getData(),u=i1(t,i);o.type=n.type,o.layoutAlgorithm=s,o.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,o.rankSpacing=(a==null?void 0:a.rankSpacing)||50,o.markers=["barb"],o.diagramId=t,await cA(o,u),Yt.insertTitle(u,"statediagramTitleText",(a==null?void 0:a.titleTopMargin)??25,n.db.getDiagramTitle()),a1(u,8,"statediagram",(a==null?void 0:a.useMaxWidth)??!0)},"draw"),qTe={getClasses:UTe,draw:GTe,getDir:Aae},ab=new Map,Ll=0;function sb(e="",t=0,r="",n="----"){return`state-${e}${r!==null&&r.length>0?`${n}${r}`:""}-${t}`}l(sb,"stateDomId");var jTe=l((e,t,r,n,i,a,s,o)=>{re.trace("items",t),t.forEach(u=>{switch(u.stmt){case"state":case"default":ob(e,u,r,n,i,a,s,o);break;case"relation":{ob(e,u.state1,r,n,i,a,s,o),ob(e,u.state2,r,n,i,a,s,o);const h={id:"edge"+Ll,start:u.state1.id,end:u.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:"fill:none",labelStyle:"",label:He.sanitizeText(u.description,ye()),arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal",classes:"transition",look:s};i.push(h),Ll++}}})},"setupDoc"),QO=l((e,t="TB")=>{let r=t;if(e.doc)for(const n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir");function _m(e,t,r){if(!t.id||t.id==="</join></fork>"||t.id==="</choice>")return;t.cssClasses&&(Array.isArray(t.cssCompiledStyles)||(t.cssCompiledStyles=[]),t.cssClasses.split(" ").forEach(i=>{if(r.get(i)){const a=r.get(i);t.cssCompiledStyles=[...t.cssCompiledStyles,...a.styles]}}));const n=e.find(i=>i.id===t.id);n?Object.assign(n,t):e.push(t)}function Lae(e){var t;return((t=e==null?void 0:e.classes)==null?void 0:t.join(" "))??""}function Nae(e){return(e==null?void 0:e.styles)??[]}l(_m,"insertOrUpdateNode"),l(Lae,"getClassesFromDbInfo"),l(Nae,"getStylesFromDbInfo");var ob=l((e,t,r,n,i,a,s,o)=>{var f,g;const u=t.id,h=r.get(u),d=Lae(h),p=Nae(h);if(re.info("dataFetcher parsedItem",t,h,p),u!=="root"){let m="rect";t.start===!0?m="stateStart":t.start===!1&&(m="stateEnd"),t.type!=="default"&&(m=t.type),ab.get(u)||ab.set(u,{id:u,shape:m,description:He.sanitizeText(u,ye()),cssClasses:`${d} statediagram-state`,cssStyles:p});const y=ab.get(u);t.description&&(Array.isArray(y.description)?(y.shape="rectWithTitle",y.description.push(t.description)):((f=y.description)==null?void 0:f.length)>0?(y.shape="rectWithTitle",y.description===u?y.description=[t.description]:y.description=[y.description,t.description]):(y.shape="rect",y.description=t.description),y.description=He.sanitizeTextOrArray(y.description,ye())),((g=y.description)==null?void 0:g.length)===1&&y.shape==="rectWithTitle"&&(y.type==="group"?y.shape="roundedWithTitle":y.shape="rect"),!y.type&&t.doc&&(re.info("Setting cluster for XCX",u,QO(t)),y.type="group",y.isGroup=!0,y.dir=QO(t),y.shape=t.type==="divider"?"divider":"roundedWithTitle",y.cssClasses=`${y.cssClasses} statediagram-cluster ${a?"statediagram-cluster-alt":""}`);const v={labelStyle:"",shape:y.shape,label:y.description,cssClasses:y.cssClasses,cssCompiledStyles:[],cssStyles:y.cssStyles,id:u,dir:y.dir,domId:sb(u,Ll),type:y.type,isGroup:y.type==="group",padding:8,rx:10,ry:10,look:s};if(v.shape==="divider"&&(v.label=""),e&&e.id!=="root"&&(re.trace("Setting node ",u," to be child of its parent ",e.id),v.parentId=e.id),v.centerLabel=!0,t.note){const x={labelStyle:"",shape:"note",label:t.note.text,cssClasses:"statediagram-note",cssStyles:[],cssCompilesStyles:[],id:u+"----note-"+Ll,domId:sb(u,Ll,"note"),type:y.type,isGroup:y.type==="group",padding:ye().flowchart.padding,look:s,position:t.note.position},b=u+"----parent",w={labelStyle:"",shape:"noteGroup",label:t.note.text,cssClasses:y.cssClasses,cssStyles:[],id:u+"----parent",domId:sb(u,Ll,"parent"),type:"group",isGroup:!0,padding:16,look:s,position:t.note.position};Ll++,w.id=b,x.parentId=b,_m(n,w,o),_m(n,x,o),_m(n,v,o);let T=u,k=x.id;t.note.position==="left of"&&(T=x.id,k=u),i.push({id:T+"-"+k,start:T,end:k,arrowhead:"none",arrowTypeEnd:"",style:"fill:none",labelStyle:"",classes:"transition note-edge",arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal",look:s})}else _m(n,v,o)}t.doc&&(re.trace("Adding nodes children "),jTe(t,t.doc,r,n,i,!a,s,o))},"dataFetcher"),YTe=l(()=>{ab.clear(),Ll=0},"reset");function AN(){return new Map}l(AN,"newClassesList");var h5=[],LN=[],Iae="LR",d5=[],wd=AN(),Mae=l(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),p5={root:Mae()},Hi=p5.root,NN=0,WTe=0,Xv=l(e=>JSON.parse(JSON.stringify(e)),"clone"),HTe=l(e=>{re.info("Setting root doc",e),d5=e},"setRootDoc"),VTe=l(()=>d5,"getRootDoc"),lb=l((e,t,r)=>{if(t.stmt==="relation")lb(e,t.state1,!0),lb(e,t.state2,!1);else if(t.stmt==="state"&&(t.id==="[*]"?(t.id=r?e.id+"_start":e.id+"_end",t.start=r):t.id=t.id.trim()),t.doc){const n=[];let i,a=[];for(i=0;i<t.doc.length;i++)if(t.doc[i].type==="divider"){const s=Xv(t.doc[i]);s.doc=Xv(a),n.push(s),a=[]}else a.push(t.doc[i]);if(n.length>0&&a.length>0){const s={stmt:"state",id:sH(),type:"divider",doc:Xv(a)};n.push(Xv(s)),t.doc=n}t.doc.forEach(s=>lb(t,s,!0))}},"docTranslator"),IN=l(()=>(lb({id:"root"},{id:"root",doc:d5},!0),{id:"root",doc:d5}),"getRootDocV2"),XTe=l(e=>{let t;t=e.doc?e.doc:e,re.info(t),Rae(!0),re.info("Extract initial document:",t),t.forEach(i=>{switch(re.warn("Statement",i.stmt),i.stmt){case"state":cc(i.id.trim(),i.type,i.doc,i.description,i.note,i.classes,i.styles,i.textStyles);break;case"relation":$ae(i.state1,i.state2,i.description);break;case"classDef":Fae(i.id.trim(),i.classes);break;case"style":{const a=i.id.trim().split(","),s=i.styleClass.split(",");a.forEach(o=>{let u=ah(o);if(u===void 0){const h=o.trim();cc(h),u=ah(h)}u.styles=s.map(h=>{var d;return(d=h.replace(/;/g,""))==null?void 0:d.trim()})})}break;case"applyClass":MN(i.id.trim(),i.styleClass)}});const r=Dae(),n=ye().look;YTe(),ob(void 0,IN(),r,h5,LN,!0,n,wd),h5.forEach(i=>{if(Array.isArray(i.label)){if(i.description=i.label.slice(1),i.isGroup&&i.description.length>0)throw new Error("Group nodes can only have label. Remove the additional description for node ["+i.id+"]");i.label=i.label[0]}})},"extract"),cc=l(function(e,t="default",r=null,n=null,i=null,a=null,s=null,o=null){const u=e==null?void 0:e.trim();if(Hi.states.has(u)?(Hi.states.get(u).doc||(Hi.states.get(u).doc=r),Hi.states.get(u).type||(Hi.states.get(u).type=t)):(re.info("Adding state ",u,n),Hi.states.set(u,{id:u,descriptions:[],type:t,doc:r,note:i,classes:[],styles:[],textStyles:[]})),n&&(re.info("Setting state description",u,n),typeof n=="string"&&IC(u,n.trim()),typeof n=="object"&&n.forEach(h=>IC(u,h.trim()))),i){const h=Hi.states.get(u);h.note=i,h.note.text=He.sanitizeText(h.note.text,ye())}a&&(re.info("Setting state classes",u,a),(typeof a=="string"?[a]:a).forEach(h=>MN(u,h.trim()))),s&&(re.info("Setting state styles",u,s),(typeof s=="string"?[s]:s).forEach(h=>t_e(u,h.trim()))),o&&(re.info("Setting state styles",u,s),(typeof o=="string"?[o]:o).forEach(h=>r_e(u,h.trim())))},"addState"),Rae=l(function(e){h5=[],LN=[],p5={root:Mae()},Hi=p5.root,NN=0,wd=AN(),e||Hn()},"clear"),ah=l(function(e){return Hi.states.get(e)},"getState"),Dae=l(function(){return Hi.states},"getStates"),KTe=l(function(){re.info("Documents = ",p5)},"logDocuments"),ZTe=l(function(){return Hi.relations},"getRelations");function f5(e=""){let t=e;return e==="[*]"&&(t=`start${++NN}`),t}function g5(e="",t="default"){return e==="[*]"?"start":t}function Oae(e=""){let t=e;return e==="[*]"&&(t=`end${++NN}`),t}function Pae(e="",t="default"){return e==="[*]"?"end":t}function Bae(e,t,r){let n=f5(e.id.trim()),i=g5(e.id.trim(),e.type),a=f5(t.id.trim()),s=g5(t.id.trim(),t.type);cc(n,i,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),cc(a,s,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),Hi.relations.push({id1:n,id2:a,relationTitle:He.sanitizeText(r,ye())})}l(f5,"startIdIfNeeded"),l(g5,"startTypeIfNeeded"),l(Oae,"endIdIfNeeded"),l(Pae,"endTypeIfNeeded"),l(Bae,"addRelationObjs");var ka,$ae=l(function(e,t,r){if(typeof e=="object")Bae(e,t,r);else{const n=f5(e.trim()),i=g5(e),a=Oae(t.trim()),s=Pae(t);cc(n,i),cc(a,s),Hi.relations.push({id1:n,id2:a,title:He.sanitizeText(r,ye())})}},"addRelation"),IC=l(function(e,t){const r=Hi.states.get(e),n=t.startsWith(":")?t.replace(":","").trim():t;r.descriptions.push(He.sanitizeText(n,ye()))},"addDescription"),QTe=l(function(e){return e.substring(0,1)===":"?e.substr(2).trim():e.trim()},"cleanupLabel"),JTe=l(()=>"divider-id-"+ ++WTe,"getDividerId"),Fae=l(function(e,t=""){wd.has(e)||wd.set(e,{id:e,styles:[],textStyles:[]});const r=wd.get(e);t!=null&&t.split(",").forEach(n=>{const i=n.replace(/([^;]*);/,"$1").trim();if(RegExp("color").exec(n)){const a=i.replace("fill","bgFill").replace("color","fill");r.textStyles.push(a)}r.styles.push(i)})},"addStyleClass"),e_e=l(function(){return wd},"getClasses"),MN=l(function(e,t){e.split(",").forEach(function(r){let n=ah(r);if(n===void 0){const i=r.trim();cc(i),n=ah(i)}n.classes.push(t)})},"setCssClass"),t_e=l(function(e,t){const r=ah(e);r!==void 0&&r.styles.push(t)},"setStyle"),r_e=l(function(e,t){const r=ah(e);r!==void 0&&r.textStyles.push(t)},"setTextStyle"),n_e=l(()=>Iae,"getDirection"),i_e=l(e=>{Iae=e},"setDirection"),a_e=l(e=>e&&e[0]===":"?e.substr(1).trim():e.trim(),"trimColon"),s_e=l(()=>{const e=ye();return{nodes:h5,edges:LN,other:{},config:e,direction:Aae(IN())}},"getData"),Io={getConfig:l(()=>ye().state,"getConfig"),getData:s_e,addState:cc,clear:Rae,getState:ah,getStates:Dae,getRelations:ZTe,getClasses:e_e,getDirection:n_e,addRelation:$ae,getDividerId:JTe,setDirection:i_e,cleanupLabel:QTe,lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},logDocuments:KTe,getRootDoc:VTe,setRootDoc:HTe,getRootDocV2:IN,extract:XTe,trimColon:a_e,getAccTitle:ci,setAccTitle:Vn,getAccDescription:hi,setAccDescription:ui,addStyleClass:Fae,setCssClass:MN,addDescription:IC,setDiagramTitle:Fi,getDiagramTitle:di},zae=l(e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${e.edgeLabelBackground};
  p {
    background-color: ${e.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${e.edgeLabelBackground};
    fill: ${e.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),RN={},o_e=l((e,t)=>{RN[e]=t},"set"),l_e=l(e=>RN[e],"get"),Uae=l(()=>Object.keys(RN),"keys"),c_e=l(()=>Uae().length,"size"),u_e={get:l_e,set:o_e,keys:Uae,size:c_e},h_e=l(e=>e.append("circle").attr("class","start-state").attr("r",ye().state.sizeUnit).attr("cx",ye().state.padding+ye().state.sizeUnit).attr("cy",ye().state.padding+ye().state.sizeUnit),"drawStartState"),d_e=l(e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",ye().state.textHeight).attr("class","divider").attr("x2",2*ye().state.textHeight).attr("y1",0).attr("y2",0),"drawDivider"),p_e=l((e,t)=>{const r=e.append("text").attr("x",2*ye().state.padding).attr("y",ye().state.textHeight+2*ye().state.padding).attr("font-size",ye().state.fontSize).attr("class","state-title").text(t.id),n=r.node().getBBox();return e.insert("rect",":first-child").attr("x",ye().state.padding).attr("y",ye().state.padding).attr("width",n.width+2*ye().state.padding).attr("height",n.height+2*ye().state.padding).attr("rx",ye().state.radius),r},"drawSimpleState"),f_e=l((e,t)=>{const r=l(function(p,f,g){const m=p.append("tspan").attr("x",2*ye().state.padding).text(f);g||m.attr("dy",ye().state.textHeight)},"addTspan"),n=e.append("text").attr("x",2*ye().state.padding).attr("y",ye().state.textHeight+1.3*ye().state.padding).attr("font-size",ye().state.fontSize).attr("class","state-title").text(t.descriptions[0]).node().getBBox(),i=n.height,a=e.append("text").attr("x",ye().state.padding).attr("y",i+.4*ye().state.padding+ye().state.dividerMargin+ye().state.textHeight).attr("class","state-description");let s=!0,o=!0;t.descriptions.forEach(function(p){s||(r(a,p,o),o=!1),s=!1});const u=e.append("line").attr("x1",ye().state.padding).attr("y1",ye().state.padding+i+ye().state.dividerMargin/2).attr("y2",ye().state.padding+i+ye().state.dividerMargin/2).attr("class","descr-divider"),h=a.node().getBBox(),d=Math.max(h.width,n.width);return u.attr("x2",d+3*ye().state.padding),e.insert("rect",":first-child").attr("x",ye().state.padding).attr("y",ye().state.padding).attr("width",d+2*ye().state.padding).attr("height",h.height+i+2*ye().state.padding).attr("rx",ye().state.radius),e},"drawDescrState"),g_e=l((e,t,r)=>{const n=ye().state.padding,i=2*ye().state.padding,a=e.node().getBBox(),s=a.width,o=a.x,u=e.append("text").attr("x",0).attr("y",ye().state.titleShift).attr("font-size",ye().state.fontSize).attr("class","state-title").text(t.id),h=u.node().getBBox().width+i;let d,p=Math.max(h,s);p===s&&(p+=i);const f=e.node().getBBox();t.doc,d=o-n,h>s&&(d=(s-p)/2+n),Math.abs(o-f.x)<n&&h>s&&(d=o-(h-s)/2);const g=1-ye().state.textHeight;return e.insert("rect",":first-child").attr("x",d).attr("y",g).attr("class",r?"alt-composit":"composit").attr("width",p).attr("height",f.height+ye().state.textHeight+ye().state.titleShift+1).attr("rx","0"),u.attr("x",d+n),h<=s&&u.attr("x",o+(p-i)/2-h/2+n),e.insert("rect",":first-child").attr("x",d).attr("y",ye().state.titleShift-ye().state.textHeight-ye().state.padding).attr("width",p).attr("height",3*ye().state.textHeight).attr("rx",ye().state.radius),e.insert("rect",":first-child").attr("x",d).attr("y",ye().state.titleShift-ye().state.textHeight-ye().state.padding).attr("width",p).attr("height",f.height+3+2*ye().state.textHeight).attr("rx",ye().state.radius),e},"addTitleAndBox"),m_e=l(e=>(e.append("circle").attr("class","end-state-outer").attr("r",ye().state.sizeUnit+ye().state.miniPadding).attr("cx",ye().state.padding+ye().state.sizeUnit+ye().state.miniPadding).attr("cy",ye().state.padding+ye().state.sizeUnit+ye().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",ye().state.sizeUnit).attr("cx",ye().state.padding+ye().state.sizeUnit+2).attr("cy",ye().state.padding+ye().state.sizeUnit+2)),"drawEndState"),y_e=l((e,t)=>{let r=ye().state.forkWidth,n=ye().state.forkHeight;if(t.parentId){let i=r;r=n,n=i}return e.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",ye().state.padding).attr("y",ye().state.padding)},"drawForkJoinState"),v_e=l((e,t,r,n)=>{let i=0;const a=n.append("text");a.style("text-anchor","start"),a.attr("class","noteText");let s=e.replace(/\r\n/g,"<br/>");s=s.replace(/\n/g,"<br/>");const o=s.split(He.lineBreakRegex);let u=1.25*ye().state.noteMargin;for(const h of o){const d=h.trim();if(d.length>0){const p=a.append("tspan");p.text(d),u===0&&(u+=p.node().getBBox().height),i+=u,p.attr("x",t+ye().state.noteMargin),p.attr("y",r+i+1.25*ye().state.noteMargin)}}return{textWidth:a.node().getBBox().width,textHeight:i}},"_drawLongText"),x_e=l((e,t)=>{t.attr("class","state-note");const r=t.append("rect").attr("x",0).attr("y",ye().state.padding),n=t.append("g"),{textWidth:i,textHeight:a}=v_e(e,0,0,n);return r.attr("height",a+2*ye().state.noteMargin),r.attr("width",i+2*ye().state.noteMargin),r},"drawNote"),JO=l(function(e,t){const r=t.id,n={id:r,label:t.id,width:0,height:0},i=e.append("g").attr("id",r).attr("class","stateGroup");t.type==="start"&&h_e(i),t.type==="end"&&m_e(i),t.type!=="fork"&&t.type!=="join"||y_e(i,t),t.type==="note"&&x_e(t.note.text,i),t.type==="divider"&&d_e(i),t.type==="default"&&t.descriptions.length===0&&p_e(i,t),t.type==="default"&&t.descriptions.length>0&&f_e(i,t);const a=i.node().getBBox();return n.width=a.width+2*ye().state.padding,n.height=a.height+2*ye().state.padding,u_e.set(r,n),n},"drawState"),eP=0,b_e=l(function(e,t,r){const n=l(function(u){switch(u){case Io.relationType.AGGREGATION:return"aggregation";case Io.relationType.EXTENSION:return"extension";case Io.relationType.COMPOSITION:return"composition";case Io.relationType.DEPENDENCY:return"dependency"}},"getRelationType");t.points=t.points.filter(u=>!Number.isNaN(u.y));const i=t.points,a=Xl().x(function(u){return u.x}).y(function(u){return u.y}).curve(x0),s=e.append("path").attr("d",a(i)).attr("id","edge"+eP).attr("class","transition");let o="";if(ye().state.arrowMarkerAbsolute&&(o=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,o=o.replace(/\(/g,"\\("),o=o.replace(/\)/g,"\\)")),s.attr("marker-end","url("+o+"#"+n(Io.relationType.DEPENDENCY)+"End)"),r.title!==void 0){const u=e.append("g").attr("class","stateLabel"),{x:h,y:d}=Yt.calcLabelPosition(t.points),p=He.getRows(r.title);let f=0;const g=[];let m=0,y=0;for(let b=0;b<=p.length;b++){const w=u.append("text").attr("text-anchor","middle").text(p[b]).attr("x",h).attr("y",d+f),T=w.node().getBBox();m=Math.max(m,T.width),y=Math.min(y,T.x),re.info(T.x,h,d+f),f===0&&(f=w.node().getBBox().height,re.info("Title height",f,d)),g.push(w)}let v=f*p.length;if(p.length>1){const b=(p.length-1)*f*.5;g.forEach((w,T)=>w.attr("y",d+T*f-b)),v=f*p.length}const x=u.node().getBBox();u.insert("rect",":first-child").attr("class","box").attr("x",h-m/2-ye().state.padding/2).attr("y",d-v/2-ye().state.padding/2-3.5).attr("width",m+ye().state.padding).attr("height",v+ye().state.padding),re.info(x)}eP++},"drawEdge"),qk={},w_e=l(function(){},"setConf"),k_e=l(function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),T_e=l(function(e,t,r,n){ka=ye().state;const i=ye().securityLevel;let a;i==="sandbox"&&(a=Qe("#i"+t));const s=Qe(i==="sandbox"?a.nodes()[0].contentDocument.body:"body"),o=i==="sandbox"?a.nodes()[0].contentDocument:document;re.debug("Rendering diagram "+e);const u=s.select(`[id='${t}']`);k_e(u);const h=n.db.getRootDoc();Gae(h,u,void 0,!1,s,o,n);const d=ka.padding,p=u.node().getBBox(),f=p.width+2*d,g=p.height+2*d;Ci(u,g,1.75*f,ka.useMaxWidth),u.attr("viewBox",`${p.x-ka.padding}  ${p.y-ka.padding} `+f+" "+g)},"draw"),__e=l(e=>e?e.length*ka.fontSizeFactor:1,"getLabelWidth"),Gae=l((e,t,r,n,i,a,s)=>{const o=new _i({compound:!0,multigraph:!0});let u,h=!0;for(u=0;u<e.length;u++)if(e[u].stmt==="relation"){h=!1;break}r?o.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:h?1:ka.edgeLengthFactor,nodeSep:h?1:50,isMultiGraph:!0}):o.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:h?1:ka.edgeLengthFactor,nodeSep:h?1:50,ranker:"tight-tree",isMultiGraph:!0}),o.setDefaultEdgeLabel(function(){return{}}),s.db.extract(e);const d=s.db.getStates(),p=s.db.getRelations(),f=Object.keys(d);for(const x of f){const b=d[x];let w;if(r&&(b.parentId=r),b.doc){let T=t.append("g").attr("id",b.id).attr("class","stateGroup");w=Gae(b.doc,T,b.id,!n,i,a,s);{T=g_e(T,b,n);let k=T.node().getBBox();w.width=k.width,w.height=k.height+ka.padding/2,qk[b.id]={y:ka.compositTitleSize}}}else w=JO(t,b,o);if(b.note){const T={descriptions:[],id:b.id+"-note",note:b.note,type:"note"},k=JO(t,T,o);b.note.position==="left of"?(o.setNode(w.id+"-note",k),o.setNode(w.id,w)):(o.setNode(w.id,w),o.setNode(w.id+"-note",k)),o.setParent(w.id,w.id+"-group"),o.setParent(w.id+"-note",w.id+"-group")}else o.setNode(w.id,w)}re.debug("Count=",o.nodeCount(),o);let g=0;p.forEach(function(x){g++,re.debug("Setting edge",x),o.setEdge(x.id1,x.id2,{relation:x,width:__e(x.title),height:ka.labelHeight*He.getRows(x.title).length,labelpos:"c"},"id"+g)}),G2(o),re.debug("Graph after layout",o.nodes());const m=t.node();o.nodes().forEach(function(x){x!==void 0&&o.node(x)!==void 0?(re.warn("Node "+x+": "+JSON.stringify(o.node(x))),i.select("#"+m.id+" #"+x).attr("transform","translate("+(o.node(x).x-o.node(x).width/2)+","+(o.node(x).y+(qk[x]?qk[x].y:0)-o.node(x).height/2)+" )"),i.select("#"+m.id+" #"+x).attr("data-x-shift",o.node(x).x-o.node(x).width/2),a.querySelectorAll("#"+m.id+" #"+x+" .divider").forEach(b=>{const w=b.parentElement;let T=0,k=0;w&&(w.parentElement&&(T=w.parentElement.getBBox().width),k=parseInt(w.getAttribute("data-x-shift"),10),Number.isNaN(k)&&(k=0)),b.setAttribute("x1",0-k+8),b.setAttribute("x2",T-k-8)})):re.debug("No Node "+x+": "+JSON.stringify(o.node(x)))});let y=m.getBBox();o.edges().forEach(function(x){x!==void 0&&o.edge(x)!==void 0&&(re.debug("Edge "+x.v+" -> "+x.w+": "+JSON.stringify(o.edge(x))),b_e(t,o.edge(x),o.edge(x).relation))}),y=m.getBBox();const v={id:r||"root",label:r||"root",width:0,height:0};return v.width=y.width+2*ka.padding,v.height=y.height+2*ka.padding,re.debug("Doc rendered",v,o),v},"renderDoc"),E_e={parser:Sae,db:Io,renderer:{setConf:w_e,draw:T_e},styles:zae,init:l(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,Io.clear()},"init")},C_e=Object.freeze({__proto__:null,diagram:E_e}),S_e={parser:Sae,db:Io,renderer:qTe,styles:zae,init:l(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,Io.clear()},"init")},A_e=Object.freeze({__proto__:null,diagram:S_e}),MC=function(){var e=l(function(p,f,g,m){for(g=g||{},m=p.length;m--;g[p[m]]=f);return g},"o"),t=[6,8,10,11,12,14,16,17,18],r=[1,9],n=[1,10],i=[1,11],a=[1,12],s=[1,13],o=[1,14],u={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:l(function(p,f,g,m,y,v,x){var b=v.length-1;switch(y){case 1:return v[b-1];case 2:case 6:case 7:this.$=[];break;case 3:v[b-1].push(v[b]),this.$=v[b-1];break;case 4:case 5:this.$=v[b];break;case 8:m.setDiagramTitle(v[b].substr(6)),this.$=v[b].substr(6);break;case 9:this.$=v[b].trim(),m.setAccTitle(this.$);break;case 10:case 11:this.$=v[b].trim(),m.setAccDescription(this.$);break;case 12:m.addSection(v[b].substr(8)),this.$=v[b].substr(8);break;case 13:m.addTask(v[b-1],v[b]),this.$="task"}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:a,17:s,18:o},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:15,11:r,12:n,14:i,16:a,17:s,18:o},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,16]},{15:[1,17]},e(t,[2,11]),e(t,[2,12]),{19:[1,18]},e(t,[2,4]),e(t,[2,9]),e(t,[2,10]),e(t,[2,13])],defaultActions:{},parseError:l(function(p,f){if(!f.recoverable){var g=new Error(p);throw g.hash=f,g}this.trace(p)},"parseError"),parse:l(function(p){var f=this,g=[0],m=[],y=[null],v=[],x=this.table,b="",w=0,T=0,k=2,R=1,C=v.slice.call(arguments,1),E=Object.create(this.lexer),_={yy:{}};for(var L in this.yy)Object.prototype.hasOwnProperty.call(this.yy,L)&&(_.yy[L]=this.yy[L]);E.setInput(p,_.yy),_.yy.lexer=E,_.yy.parser=this,E.yylloc===void 0&&(E.yylloc={});var D=E.yylloc;v.push(D);var B=E.options&&E.options.ranges;function S(ie){g.length=g.length-2*ie,y.length=y.length-ie,v.length=v.length-ie}function N(){var ie;return typeof(ie=m.pop()||E.lex()||R)!="number"&&(ie instanceof Array&&(ie=(m=ie).pop()),ie=f.symbols_[ie]||ie),ie}typeof _.yy.parseError=="function"?this.parseError=_.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,l(S,"popStack"),l(N,"lex");for(var A,M,O,I,P,$,z,G,q={};;){if(M=g[g.length-1],this.defaultActions[M]?O=this.defaultActions[M]:(A==null&&(A=N()),O=x[M]&&x[M][A]),O===void 0||!O.length||!O[0]){var J="";for(P in G=[],x[M])this.terminals_[P]&&P>k&&G.push("'"+this.terminals_[P]+"'");J=E.showPosition?"Parse error on line "+(w+1)+`:
`+E.showPosition()+`
Expecting `+G.join(", ")+", got '"+(this.terminals_[A]||A)+"'":"Parse error on line "+(w+1)+": Unexpected "+(A==R?"end of input":"'"+(this.terminals_[A]||A)+"'"),this.parseError(J,{text:E.match,token:this.terminals_[A]||A,line:E.yylineno,loc:D,expected:G})}if(O[0]instanceof Array&&O.length>1)throw new Error("Parse Error: multiple actions possible at state: "+M+", token: "+A);switch(O[0]){case 1:g.push(A),y.push(E.yytext),v.push(E.yylloc),g.push(O[1]),A=null,T=E.yyleng,b=E.yytext,w=E.yylineno,D=E.yylloc;break;case 2:if($=this.productions_[O[1]][1],q.$=y[y.length-$],q._$={first_line:v[v.length-($||1)].first_line,last_line:v[v.length-1].last_line,first_column:v[v.length-($||1)].first_column,last_column:v[v.length-1].last_column},B&&(q._$.range=[v[v.length-($||1)].range[0],v[v.length-1].range[1]]),(I=this.performAction.apply(q,[b,T,w,_.yy,O[1],y,v].concat(C)))!==void 0)return I;$&&(g=g.slice(0,-1*$*2),y=y.slice(0,-1*$),v=v.slice(0,-1*$)),g.push(this.productions_[O[1]][0]),y.push(q.$),v.push(q._$),z=x[g[g.length-2]][g[g.length-1]],g.push(z);break;case 3:return!0}}return!0},"parse")},h=function(){var p={EOF:1,parseError:l(function(f,g){if(!this.yy.parser)throw new Error(f);this.yy.parser.parseError(f,g)},"parseError"),setInput:l(function(f,g){return this.yy=g||this.yy||{},this._input=f,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var f=this._input[0];return this.yytext+=f,this.yyleng++,this.offset++,this.match+=f,this.matched+=f,f.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),f},"input"),unput:l(function(f){var g=f.length,m=f.split(/(?:\r\n?|\n)/g);this._input=f+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-g),this.offset-=g;var y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1&&(this.yylineno-=m.length-1);var v=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===y.length?this.yylloc.first_column:0)+y[y.length-m.length].length-m[0].length:this.yylloc.first_column-g},this.options.ranges&&(this.yylloc.range=[v[0],v[0]+this.yyleng-g]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:l(function(f){this.unput(this.match.slice(f))},"less"),pastInput:l(function(){var f=this.matched.substr(0,this.matched.length-this.match.length);return(f.length>20?"...":"")+f.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var f=this.match;return f.length<20&&(f+=this._input.substr(0,20-f.length)),(f.substr(0,20)+(f.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var f=this.pastInput(),g=new Array(f.length+1).join("-");return f+this.upcomingInput()+`
`+g+"^"},"showPosition"),test_match:l(function(f,g){var m,y,v;if(this.options.backtrack_lexer&&(v={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(v.yylloc.range=this.yylloc.range.slice(0))),(y=f[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=y.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:y?y[y.length-1].length-y[y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+f[0].length},this.yytext+=f[0],this.match+=f[0],this.matches=f,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(f[0].length),this.matched+=f[0],m=this.performAction.call(this,this.yy,this,g,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var x in v)this[x]=v[x];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;var f,g,m,y;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var v=this._currentRules(),x=0;x<v.length;x++)if((m=this._input.match(this.rules[v[x]]))&&(!g||m[0].length>g[0].length)){if(g=m,y=x,this.options.backtrack_lexer){if((f=this.test_match(m,v[x]))!==!1)return f;if(this._backtrack){g=!1;continue}return!1}if(!this.options.flex)break}return g?(f=this.test_match(g,v[y]))!==!1&&f:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var f=this.next();return f||this.lex()},"lex"),begin:l(function(f){this.conditionStack.push(f)},"begin"),popState:l(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(f){return(f=this.conditionStack.length-1-Math.abs(f||0))>=0?this.conditionStack[f]:"INITIAL"},"topState"),pushState:l(function(f){this.begin(f)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(f,g,m,y){switch(m){case 0:case 1:case 3:case 4:break;case 2:return 10;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return p}();function d(){this.yy={}}return u.lexer=h,l(d,"Parser"),d.prototype=u,u.Parser=d,new d}();MC.parser=MC;var L_e=MC,p0="",DN=[],i2=[],a2=[],N_e=l(function(){DN.length=0,i2.length=0,p0="",a2.length=0,Hn()},"clear"),I_e=l(function(e){p0=e,DN.push(e)},"addSection"),M_e=l(function(){return DN},"getSections"),R_e=l(function(){let e=tP(),t=0;for(;!e&&t<100;)e=tP(),t++;return i2.push(...a2),i2},"getTasks"),D_e=l(function(){const e=[];return i2.forEach(t=>{t.people&&e.push(...t.people)}),[...new Set(e)].sort()},"updateActors"),O_e=l(function(e,t){const r=t.substr(1).split(":");let n=0,i=[];r.length===1?(n=Number(r[0]),i=[]):(n=Number(r[0]),i=r[1].split(","));const a=i.map(o=>o.trim()),s={section:p0,type:p0,people:a,task:e,score:n};a2.push(s)},"addTask"),P_e=l(function(e){const t={section:p0,type:p0,description:e,task:e,classes:[]};i2.push(t)},"addTaskOrg"),tP=l(function(){const e=l(function(r){return a2[r].processed},"compileTask");let t=!0;for(const[r,n]of a2.entries())e(r),t=t&&n.processed;return t},"compileTasks"),B_e=l(function(){return D_e()},"getActors"),rP={getConfig:l(()=>ye().journey,"getConfig"),clear:N_e,setDiagramTitle:Fi,getDiagramTitle:di,setAccTitle:Vn,getAccTitle:ci,setAccDescription:ui,getAccDescription:hi,addSection:I_e,getSections:M_e,getTasks:R_e,addTask:O_e,addTaskOrg:P_e,getActors:B_e},$_e=l(e=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
`,"getStyles"),ON=l(function(e,t){return b6(e,t)},"drawRect"),F_e=l(function(e,t){const n=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=e.append("g");function a(u){const h=qu().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(6.8181818181818175);u.append("path").attr("class","mouth").attr("d",h).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}function s(u){const h=qu().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(6.8181818181818175);u.append("path").attr("class","mouth").attr("d",h).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}function o(u){u.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return i.append("circle").attr("cx",t.cx-5).attr("cy",t.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",t.cx+5).attr("cy",t.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),l(a,"smile"),l(s,"sad"),l(o,"ambivalent"),t.score>3?a(i):t.score<3?s(i):o(i),n},"drawFace"),qae=l(function(e,t){const r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),jae=l(function(e,t){return Kve(e,t)},"drawText"),z_e=l(function(e,t){function r(i,a,s,o,u){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-u)+" "+(i+s-1.2*u)+","+(a+o)+" "+i+","+(a+o)}l(r,"genPoints");const n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,jae(e,t)},"drawLabel"),U_e=l(function(e,t,r){const n=e.append("g"),i=mh();i.x=t.x,i.y=t.y,i.fill=t.fill,i.width=r.width*t.taskCount+r.diagramMarginX*(t.taskCount-1),i.height=r.height,i.class="journey-section section-type-"+t.num,i.rx=3,i.ry=3,ON(n,i),Yae(r)(t.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),nP=-1,G_e=l(function(e,t,r){const n=t.x+r.width/2,i=e.append("g");nP++,i.append("line").attr("id","task"+nP).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),F_e(i,{cx:n,cy:300+30*(5-t.score),score:t.score});const a=mh();a.x=t.x,a.y=t.y,a.fill=t.fill,a.width=r.width,a.height=r.height,a.class="task task-type-"+t.num,a.rx=3,a.ry=3,ON(i,a);let s=t.x+14;t.people.forEach(o=>{const u=t.actors[o].color,h={cx:s,cy:t.y,r:7,fill:u,stroke:"#000",title:o,pos:t.actors[o].position};qae(i,h),s+=10}),Yae(r)(t.task,i,a.x,a.y,a.width,a.height,{class:"task"},r,t.colour)},"drawTask"),q_e=l(function(e,t){b7(e,t)},"drawBackgroundRect"),Yae=function(){function e(i,a,s,o,u,h,d,p){n(a.append("text").attr("x",s+u/2).attr("y",o+h/2+5).style("font-color",p).style("text-anchor","middle").text(i),d)}function t(i,a,s,o,u,h,d,p,f){const{taskFontSize:g,taskFontFamily:m}=p,y=i.split(/<br\s*\/?>/gi);for(let v=0;v<y.length;v++){const x=v*g-g*(y.length-1)/2,b=a.append("text").attr("x",s+u/2).attr("y",o).attr("fill",f).style("text-anchor","middle").style("font-size",g).style("font-family",m);b.append("tspan").attr("x",s+u/2).attr("dy",x).text(y[v]),b.attr("y",o+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(b,d)}}function r(i,a,s,o,u,h,d,p){const f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",o).attr("width",u).attr("height",h).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,f,s,o,u,h,d,p),n(g,d)}function n(i,a){for(const s in a)s in a&&i.attr(s,a[s])}return l(e,"byText"),l(t,"byTspan"),l(r,"byFo"),l(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),s2={drawRect:ON,drawCircle:qae,drawSection:U_e,drawText:jae,drawLabel:z_e,drawTask:G_e,drawBackgroundRect:q_e,initGraphics:l(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics")},j_e=l(function(e){Object.keys(e).forEach(function(t){pw[t]=e[t]})},"setConf"),Do={};function Wae(e){const t=ye().journey;let r=60;Object.keys(Do).forEach(n=>{const i=Do[n].color,a={cx:20,cy:r,r:7,fill:i,stroke:"#000",pos:Do[n].position};s2.drawCircle(e,a);const s={x:40,y:r+7,fill:"#666",text:n,textMargin:5|t.boxTextMargin};s2.drawText(e,s),r+=20})}l(Wae,"drawActorLegend");var pw=ye().journey,nu=pw.leftMargin,Y_e=l(function(e,t,r,n){const i=ye().journey,a=ye().securityLevel;let s;a==="sandbox"&&(s=Qe("#i"+t));const o=Qe(a==="sandbox"?s.nodes()[0].contentDocument.body:"body");Ua.init();const u=o.select("#"+t);s2.initGraphics(u);const h=n.db.getTasks(),d=n.db.getDiagramTitle(),p=n.db.getActors();for(const x in Do)delete Do[x];let f=0;p.forEach(x=>{Do[x]={color:i.actorColours[f%i.actorColours.length],position:f},f++}),Wae(u),Ua.insert(0,0,nu,50*Object.keys(Do).length),W_e(u,h,0);const g=Ua.getBounds();d&&u.append("text").text(d).attr("x",nu).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const m=g.stopy-g.starty+2*i.diagramMarginY,y=nu+g.stopx+2*i.diagramMarginX;Ci(u,m,y,i.useMaxWidth),u.append("line").attr("x1",nu).attr("y1",4*i.height).attr("x2",y-nu-4).attr("y2",4*i.height).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const v=d?70:0;u.attr("viewBox",`${g.startx} -25 ${y} ${m+v}`),u.attr("preserveAspectRatio","xMinYMin meet"),u.attr("height",m+v+25)},"draw"),Ua={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:l(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:l(function(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])},"updateVal"),updateBounds:l(function(e,t,r,n){const i=ye().journey,a=this;let s=0;function o(u){return l(function(h){s++;const d=a.sequenceItems.length-s+1;a.updateVal(h,"starty",t-d*i.boxMargin,Math.min),a.updateVal(h,"stopy",n+d*i.boxMargin,Math.max),a.updateVal(Ua.data,"startx",e-d*i.boxMargin,Math.min),a.updateVal(Ua.data,"stopx",r+d*i.boxMargin,Math.max),u!=="activation"&&(a.updateVal(h,"startx",e-d*i.boxMargin,Math.min),a.updateVal(h,"stopx",r+d*i.boxMargin,Math.max),a.updateVal(Ua.data,"starty",t-d*i.boxMargin,Math.min),a.updateVal(Ua.data,"stopy",n+d*i.boxMargin,Math.max))},"updateItemBounds")}l(o,"updateFn"),this.sequenceItems.forEach(o())},"updateBounds"),insert:l(function(e,t,r,n){const i=Math.min(e,r),a=Math.max(e,r),s=Math.min(t,n),o=Math.max(t,n);this.updateVal(Ua.data,"startx",i,Math.min),this.updateVal(Ua.data,"starty",s,Math.min),this.updateVal(Ua.data,"stopx",a,Math.max),this.updateVal(Ua.data,"stopy",o,Math.max),this.updateBounds(i,s,a,o)},"insert"),bumpVerticalPos:l(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:l(function(){return this.verticalPos},"getVerticalPos"),getBounds:l(function(){return this.data},"getBounds")},jk=pw.sectionFills,iP=pw.sectionColours,W_e=l(function(e,t,r){const n=ye().journey;let i="";const a=r+(2*n.height+n.diagramMarginY);let s=0,o="#CCC",u="black",h=0;for(const[d,p]of t.entries()){if(i!==p.section){o=jk[s%jk.length],h=s%jk.length,u=iP[s%iP.length];let g=0;const m=p.section;for(let v=d;v<t.length&&t[v].section==m;v++)g+=1;const y={x:d*n.taskMargin+d*n.width+nu,y:50,text:p.section,fill:o,num:h,colour:u,taskCount:g};s2.drawSection(e,y,n),i=p.section,s++}const f=p.people.reduce((g,m)=>(Do[m]&&(g[m]=Do[m]),g),{});p.x=d*n.taskMargin+d*n.width+nu,p.y=a,p.width=n.diagramMarginX,p.height=n.diagramMarginY,p.colour=u,p.fill=o,p.num=h,p.actors=f,s2.drawTask(e,p,n),Ua.insert(p.x,p.y,p.x+p.width+n.taskMargin,450)}},"drawTasks"),aP={setConf:j_e,draw:Y_e},H_e={parser:L_e,db:rP,renderer:aP,styles:$_e,init:l(e=>{aP.setConf(e.journey),rP.clear()},"init")},V_e=Object.freeze({__proto__:null,diagram:H_e}),RC=function(){var e=l(function(f,g,m,y){for(m=m||{},y=f.length;y--;m[f[y]]=g);return m},"o"),t=[6,8,10,11,12,14,16,17,20,21],r=[1,9],n=[1,10],i=[1,11],a=[1,12],s=[1,13],o=[1,16],u=[1,17],h={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:l(function(f,g,m,y,v,x,b){var w=x.length-1;switch(v){case 1:return x[w-1];case 2:case 6:case 7:this.$=[];break;case 3:x[w-1].push(x[w]),this.$=x[w-1];break;case 4:case 5:this.$=x[w];break;case 8:y.getCommonDb().setDiagramTitle(x[w].substr(6)),this.$=x[w].substr(6);break;case 9:this.$=x[w].trim(),y.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=x[w].trim(),y.getCommonDb().setAccDescription(this.$);break;case 12:y.addSection(x[w].substr(8)),this.$=x[w].substr(8);break;case 15:y.addTask(x[w],0,""),this.$=x[w];break;case 16:y.addEvent(x[w].substr(2)),this.$=x[w]}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:a,17:s,18:14,19:15,20:o,21:u},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:18,11:r,12:n,14:i,16:a,17:s,18:14,19:15,20:o,21:u},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,19]},{15:[1,20]},e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),e(t,[2,4]),e(t,[2,9]),e(t,[2,10])],defaultActions:{},parseError:l(function(f,g){if(!g.recoverable){var m=new Error(f);throw m.hash=g,m}this.trace(f)},"parseError"),parse:l(function(f){var g=this,m=[0],y=[],v=[null],x=[],b=this.table,w="",T=0,k=0,R=2,C=1,E=x.slice.call(arguments,1),_=Object.create(this.lexer),L={yy:{}};for(var D in this.yy)Object.prototype.hasOwnProperty.call(this.yy,D)&&(L.yy[D]=this.yy[D]);_.setInput(f,L.yy),L.yy.lexer=_,L.yy.parser=this,_.yylloc===void 0&&(_.yylloc={});var B=_.yylloc;x.push(B);var S=_.options&&_.options.ranges;function N(te){m.length=m.length-2*te,v.length=v.length-te,x.length=x.length-te}function A(){var te;return typeof(te=y.pop()||_.lex()||C)!="number"&&(te instanceof Array&&(te=(y=te).pop()),te=g.symbols_[te]||te),te}typeof L.yy.parseError=="function"?this.parseError=L.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,l(N,"popStack"),l(A,"lex");for(var M,O,I,P,$,z,G,q,J={};;){if(O=m[m.length-1],this.defaultActions[O]?I=this.defaultActions[O]:(M==null&&(M=A()),I=b[O]&&b[O][M]),I===void 0||!I.length||!I[0]){var ie="";for($ in q=[],b[O])this.terminals_[$]&&$>R&&q.push("'"+this.terminals_[$]+"'");ie=_.showPosition?"Parse error on line "+(T+1)+`:
`+_.showPosition()+`
Expecting `+q.join(", ")+", got '"+(this.terminals_[M]||M)+"'":"Parse error on line "+(T+1)+": Unexpected "+(M==C?"end of input":"'"+(this.terminals_[M]||M)+"'"),this.parseError(ie,{text:_.match,token:this.terminals_[M]||M,line:_.yylineno,loc:B,expected:q})}if(I[0]instanceof Array&&I.length>1)throw new Error("Parse Error: multiple actions possible at state: "+O+", token: "+M);switch(I[0]){case 1:m.push(M),v.push(_.yytext),x.push(_.yylloc),m.push(I[1]),M=null,k=_.yyleng,w=_.yytext,T=_.yylineno,B=_.yylloc;break;case 2:if(z=this.productions_[I[1]][1],J.$=v[v.length-z],J._$={first_line:x[x.length-(z||1)].first_line,last_line:x[x.length-1].last_line,first_column:x[x.length-(z||1)].first_column,last_column:x[x.length-1].last_column},S&&(J._$.range=[x[x.length-(z||1)].range[0],x[x.length-1].range[1]]),(P=this.performAction.apply(J,[w,k,T,L.yy,I[1],v,x].concat(E)))!==void 0)return P;z&&(m=m.slice(0,-1*z*2),v=v.slice(0,-1*z),x=x.slice(0,-1*z)),m.push(this.productions_[I[1]][0]),v.push(J.$),x.push(J._$),G=b[m[m.length-2]][m[m.length-1]],m.push(G);break;case 3:return!0}}return!0},"parse")},d=function(){var f={EOF:1,parseError:l(function(g,m){if(!this.yy.parser)throw new Error(g);this.yy.parser.parseError(g,m)},"parseError"),setInput:l(function(g,m){return this.yy=m||this.yy||{},this._input=g,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var g=this._input[0];return this.yytext+=g,this.yyleng++,this.offset++,this.match+=g,this.matched+=g,g.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),g},"input"),unput:l(function(g){var m=g.length,y=g.split(/(?:\r\n?|\n)/g);this._input=g+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-m),this.offset-=m;var v=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),y.length-1&&(this.yylineno-=y.length-1);var x=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:y?(y.length===v.length?this.yylloc.first_column:0)+v[v.length-y.length].length-y[0].length:this.yylloc.first_column-m},this.options.ranges&&(this.yylloc.range=[x[0],x[0]+this.yyleng-m]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:l(function(g){this.unput(this.match.slice(g))},"less"),pastInput:l(function(){var g=this.matched.substr(0,this.matched.length-this.match.length);return(g.length>20?"...":"")+g.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var g=this.match;return g.length<20&&(g+=this._input.substr(0,20-g.length)),(g.substr(0,20)+(g.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var g=this.pastInput(),m=new Array(g.length+1).join("-");return g+this.upcomingInput()+`
`+m+"^"},"showPosition"),test_match:l(function(g,m){var y,v,x;if(this.options.backtrack_lexer&&(x={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(x.yylloc.range=this.yylloc.range.slice(0))),(v=g[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=v.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:v?v[v.length-1].length-v[v.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+g[0].length},this.yytext+=g[0],this.match+=g[0],this.matches=g,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(g[0].length),this.matched+=g[0],y=this.performAction.call(this,this.yy,this,m,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),y)return y;if(this._backtrack){for(var b in x)this[b]=x[b];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;var g,m,y,v;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var x=this._currentRules(),b=0;b<x.length;b++)if((y=this._input.match(this.rules[x[b]]))&&(!m||y[0].length>m[0].length)){if(m=y,v=b,this.options.backtrack_lexer){if((g=this.test_match(y,x[b]))!==!1)return g;if(this._backtrack){m=!1;continue}return!1}if(!this.options.flex)break}return m?(g=this.test_match(m,x[v]))!==!1&&g:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var g=this.next();return g||this.lex()},"lex"),begin:l(function(g){this.conditionStack.push(g)},"begin"),popState:l(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(g){return(g=this.conditionStack.length-1-Math.abs(g||0))>=0?this.conditionStack[g]:"INITIAL"},"topState"),pushState:l(function(g){this.begin(g)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(g,m,y,v){switch(y){case 0:case 1:case 3:case 4:break;case 2:return 10;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s[^:\n]+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return f}();function p(){this.yy={}}return h.lexer=d,l(p,"Parser"),p.prototype=h,h.Parser=p,new p}();RC.parser=RC;var X_e=RC,Hae={};il(Hae,{addEvent:()=>tse,addSection:()=>Zae,addTask:()=>ese,addTaskOrg:()=>rse,clear:()=>Kae,default:()=>K_e,getCommonDb:()=>Xae,getSections:()=>Qae,getTasks:()=>Jae});var f0="",Vae=0,PN=[],m5=[],g0=[],Xae=l(()=>US,"getCommonDb"),Kae=l(function(){PN.length=0,m5.length=0,f0="",g0.length=0,Hn()},"clear"),Zae=l(function(e){f0=e,PN.push(e)},"addSection"),Qae=l(function(){return PN},"getSections"),Jae=l(function(){let e=sP(),t=0;for(;!e&&t<100;)e=sP(),t++;return m5.push(...g0),m5},"getTasks"),ese=l(function(e,t,r){const n={id:Vae++,section:f0,type:f0,task:e,score:t||0,events:r?[r]:[]};g0.push(n)},"addTask"),tse=l(function(e){g0.find(t=>t.id===Vae-1).events.push(e)},"addEvent"),rse=l(function(e){const t={section:f0,type:f0,description:e,task:e,classes:[]};m5.push(t)},"addTaskOrg"),sP=l(function(){const e=l(function(r){return g0[r].processed},"compileTask");let t=!0;for(const[r,n]of g0.entries())e(r),t=t&&n.processed;return t},"compileTasks"),K_e={clear:Kae,getCommonDb:Xae,addSection:Zae,getSections:Qae,getTasks:Jae,addTask:ese,addTaskOrg:rse,addEvent:tse},fw=l(function(e,t){const r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),t.class!==void 0&&r.attr("class",t.class),r},"drawRect"),Z_e=l(function(e,t){const n=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=e.append("g");function a(u){const h=qu().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(6.8181818181818175);u.append("path").attr("class","mouth").attr("d",h).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}function s(u){const h=qu().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(6.8181818181818175);u.append("path").attr("class","mouth").attr("d",h).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}function o(u){u.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return i.append("circle").attr("cx",t.cx-5).attr("cy",t.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",t.cx+5).attr("cy",t.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),l(a,"smile"),l(s,"sad"),l(o,"ambivalent"),t.score>3?a(i):t.score<3?s(i):o(i),n},"drawFace"),Q_e=l(function(e,t){const r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),nse=l(function(e,t){const r=t.text.replace(/<br\s*\/?>/gi," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class!==void 0&&n.attr("class",t.class);const i=n.append("tspan");return i.attr("x",t.x+2*t.textMargin),i.text(r),n},"drawText"),J_e=l(function(e,t){function r(i,a,s,o,u){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-u)+" "+(i+s-1.2*u)+","+(a+o)+" "+i+","+(a+o)}l(r,"genPoints");const n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,nse(e,t)},"drawLabel"),eEe=l(function(e,t,r){const n=e.append("g"),i=BN();i.x=t.x,i.y=t.y,i.fill=t.fill,i.width=r.width,i.height=r.height,i.class="journey-section section-type-"+t.num,i.rx=3,i.ry=3,fw(n,i),ise(r)(t.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),oP=-1,tEe=l(function(e,t,r){const n=t.x+r.width/2,i=e.append("g");oP++,i.append("line").attr("id","task"+oP).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),Z_e(i,{cx:n,cy:300+30*(5-t.score),score:t.score});const a=BN();a.x=t.x,a.y=t.y,a.fill=t.fill,a.width=r.width,a.height=r.height,a.class="task task-type-"+t.num,a.rx=3,a.ry=3,fw(i,a),ise(r)(t.task,i,a.x,a.y,a.width,a.height,{class:"task"},r,t.colour)},"drawTask"),rEe=l(function(e,t){fw(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},"drawBackgroundRect"),nEe=l(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),BN=l(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),ise=function(){function e(i,a,s,o,u,h,d,p){n(a.append("text").attr("x",s+u/2).attr("y",o+h/2+5).style("font-color",p).style("text-anchor","middle").text(i),d)}function t(i,a,s,o,u,h,d,p,f){const{taskFontSize:g,taskFontFamily:m}=p,y=i.split(/<br\s*\/?>/gi);for(let v=0;v<y.length;v++){const x=v*g-g*(y.length-1)/2,b=a.append("text").attr("x",s+u/2).attr("y",o).attr("fill",f).style("text-anchor","middle").style("font-size",g).style("font-family",m);b.append("tspan").attr("x",s+u/2).attr("dy",x).text(y[v]),b.attr("y",o+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(b,d)}}function r(i,a,s,o,u,h,d,p){const f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",o).attr("width",u).attr("height",h).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,f,s,o,u,h,d,p),n(g,d)}function n(i,a){for(const s in a)s in a&&i.attr(s,a[s])}return l(e,"byText"),l(t,"byTspan"),l(r,"byFo"),l(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),iEe=l(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");function $N(e,t){e.each(function(){var r,n=Qe(this),i=n.text().split(/(\s+|<br>)/).reverse(),a=[],s=n.attr("y"),o=parseFloat(n.attr("dy")),u=n.text(null).append("tspan").attr("x",0).attr("y",s).attr("dy",o+"em");for(let h=0;h<i.length;h++)r=i[i.length-1-h],a.push(r),u.text(a.join(" ").trim()),(u.node().getComputedTextLength()>t||r==="<br>")&&(a.pop(),u.text(a.join(" ").trim()),a=r==="<br>"?[""]:[r],u=n.append("tspan").attr("x",0).attr("y",s).attr("dy","1.1em").text(r))})}l($N,"wrap");var aEe=l(function(e,t,r,n){var d;const i=r%12-1,a=e.append("g");t.section=i,a.attr("class",(t.class?t.class+" ":"")+"timeline-node section-"+i);const s=a.append("g"),o=a.append("g"),u=o.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call($N,t.width).node().getBBox(),h=(d=n.fontSize)!=null&&d.replace?n.fontSize.replace("px",""):n.fontSize;return t.height=u.height+1.1*h*.5+t.padding,t.height=Math.max(t.height,t.maxHeight),t.width=t.width+2*t.padding,o.attr("transform","translate("+t.width/2+", "+t.padding/2+")"),oEe(s,t,i,n),t},"drawNode"),sEe=l(function(e,t,r){var s;const n=e.append("g"),i=n.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call($N,t.width).node().getBBox(),a=(s=r.fontSize)!=null&&s.replace?r.fontSize.replace("px",""):r.fontSize;return n.remove(),i.height+1.1*a*.5+t.padding},"getVirtualNodeHeight"),oEe=l(function(e,t,r){e.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("d",`M0 ${t.height-5} v${10-t.height} q0,-5 5,-5 h${t.width-10} q5,0 5,5 v${t.height-5} H0 Z`),e.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",t.height).attr("x2",t.width).attr("y2",t.height)},"defaultBkg"),iu={drawRect:fw,drawCircle:Q_e,drawSection:eEe,drawText:nse,drawLabel:J_e,drawTask:tEe,drawBackgroundRect:rEe,getTextObj:nEe,getNoteRect:BN,initGraphics:iEe,drawNode:aEe,getVirtualNodeHeight:sEe},lEe=l(function(e,t,r,n){var R,C;const i=ye(),a=i.leftMargin??50;re.debug("timeline",n.db);const s=i.securityLevel;let o;s==="sandbox"&&(o=Qe("#i"+t));const u=Qe(s==="sandbox"?o.nodes()[0].contentDocument.body:"body").select("#"+t);u.append("g");const h=n.db.getTasks(),d=n.db.getCommonDb().getDiagramTitle();re.debug("task",h),iu.initGraphics(u);const p=n.db.getSections();re.debug("sections",p);let f=0,g=0,m=0,y=50+a,v=50,x=0,b=!0;p.forEach(function(E){const _={number:x,descr:E,section:x,width:150,padding:20,maxHeight:f},L=iu.getVirtualNodeHeight(u,_,i);re.debug("sectionHeight before draw",L),f=Math.max(f,L+20)});let w=0,T=0;re.debug("tasks.length",h.length);for(const[E,_]of h.entries()){const L={number:E,descr:_,section:_.section,width:150,padding:20,maxHeight:g},D=iu.getVirtualNodeHeight(u,L,i);re.debug("taskHeight before draw",D),g=Math.max(g,D+20),w=Math.max(w,_.events.length);let B=0;for(const S of _.events){const N={descr:S,section:_.section,number:_.section,width:150,padding:20,maxHeight:50};B+=iu.getVirtualNodeHeight(u,N,i)}T=Math.max(T,B)}re.debug("maxSectionHeight before draw",f),re.debug("maxTaskHeight before draw",g),p&&p.length>0?p.forEach(E=>{const _=h.filter(S=>S.section===E),L={number:x,descr:E,section:x,width:200*Math.max(_.length,1)-50,padding:20,maxHeight:f};re.debug("sectionNode",L);const D=u.append("g"),B=iu.drawNode(D,L,x,i);re.debug("sectionNode output",B),D.attr("transform",`translate(${y}, 50)`),v+=f+50,_.length>0&&lP(u,_,x,y,v,g,i,w,T,f,!1),y+=200*Math.max(_.length,1),v=50,x++}):(b=!1,lP(u,h,x,y,v,g,i,w,T,f,!0));const k=u.node().getBBox();re.debug("bounds",k),d&&u.append("text").text(d).attr("x",k.width/2-a).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),m=b?f+g+150:g+100,u.append("g").attr("class","lineWrapper").append("line").attr("x1",a).attr("y1",m).attr("x2",k.width+3*a).attr("y2",m).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),v0(void 0,u,((R=i.timeline)==null?void 0:R.padding)??50,((C=i.timeline)==null?void 0:C.useMaxWidth)??!1)},"draw"),lP=l(function(e,t,r,n,i,a,s,o,u,h,d){var p;for(const f of t){const g={descr:f.task,section:r,number:r,width:150,padding:20,maxHeight:a};re.debug("taskNode",g);const m=e.append("g").attr("class","taskWrapper"),y=iu.drawNode(m,g,r,s).height;if(re.debug("taskHeight after draw",y),m.attr("transform",`translate(${n}, ${i})`),a=Math.max(a,y),f.events){const v=e.append("g").attr("class","lineWrapper");let x=a;i+=100,x+=cEe(e,f.events,r,n,i,s),i-=100,v.append("line").attr("x1",n+95).attr("y1",i+a).attr("x2",n+95).attr("y2",i+a+(d?a:h)+u+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}n+=200,d&&!((p=s.timeline)!=null&&p.disableMulticolor)&&r++}i-=10},"drawTasks"),cEe=l(function(e,t,r,n,i,a){let s=0;const o=i;i+=100;for(const u of t){const h={descr:u,section:r,number:r,width:150,padding:20,maxHeight:50};re.debug("eventNode",h);const d=e.append("g").attr("class","eventWrapper"),p=iu.drawNode(d,h,r,a).height;s+=p,d.attr("transform",`translate(${n}, ${i})`),i=i+10+p}return i=o,s},"drawEvents"),uEe={setConf:l(()=>{},"setConf"),draw:lEe},hEe=l(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],pc(e["lineColor"+r])?e["lineColor"+r]=wt(e["lineColor"+r],20):e["lineColor"+r]=Lt(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${e["cScaleLabel"+r]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),dEe={db:Hae,renderer:uEe,parser:X_e,styles:l(e=>`
  .edge {
    stroke-width: 3;
  }
  ${hEe(e)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles")},pEe=Object.freeze({__proto__:null,diagram:dEe});function Gn(e){return(Gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function gw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mw(e,t,r){return t&&DC(e.prototype,t),r&&DC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ga(e,t){return ase(e)||sse(e,t)||zN(e,t)||ose()}function ase(e){if(Array.isArray(e))return e}function sse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a=[],s=!0,o=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);s=!0);}catch(u){o=!0,i=u}finally{try{s||r.return==null||r.return()}finally{if(o)throw i}}return a}}function zN(e,t){if(e){if(typeof e=="string")return OC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?OC(e,t):void 0}}function OC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ose(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UN(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=zN(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=l(function(){},"F");return{s:i,n:l(function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},"n"),e:l(function(u){throw u},"e"),f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,o=!1;return{s:l(function(){r=r.call(e)},"s"),n:l(function(){var u=r.next();return s=u.done,u},"n"),e:l(function(u){o=!0,a=u},"e"),f:l(function(){try{s||r.return==null||r.return()}finally{if(o)throw a}},"f")}}l(Gn,"_typeof"),l(gw,"_classCallCheck"),l(DC,"_defineProperties"),l(mw,"_createClass"),l(FN,"_defineProperty$1"),l(Ga,"_slicedToArray"),l(ase,"_arrayWithHoles"),l(sse,"_iterableToArrayLimit"),l(zN,"_unsupportedIterableToArray"),l(OC,"_arrayLikeToArray"),l(ose,"_nonIterableRest"),l(UN,"_createForOfIteratorHelper");var In=typeof window>"u"?null:window,cP=In?In.navigator:null;In&&In.document;var fEe=Gn(""),lse=Gn({}),gEe=Gn(function(){}),mEe=typeof HTMLElement>"u"?"undefined":Gn(HTMLElement),nv=l(function(e){return e&&e.instanceString&&nn(e.instanceString)?e.instanceString():null},"instanceStr"),Nt=l(function(e){return e!=null&&Gn(e)==fEe},"string"),nn=l(function(e){return e!=null&&Gn(e)===gEe},"fn"),Dr=l(function(e){return!Ea(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},"array"),cr=l(function(e){return e!=null&&Gn(e)===lse&&!Dr(e)&&e.constructor===Object},"plainObject"),yEe=l(function(e){return e!=null&&Gn(e)===lse},"object"),lt=l(function(e){return e!=null&&Gn(e)===Gn(1)&&!isNaN(e)},"number"),vEe=l(function(e){return lt(e)&&Math.floor(e)===e},"integer"),y5=l(function(e){return mEe==="undefined"?void 0:e!=null&&e instanceof HTMLElement},"htmlElement"),Ea=l(function(e){return iv(e)||cse(e)},"elementOrCollection"),iv=l(function(e){return nv(e)==="collection"&&e._private.single},"element"),cse=l(function(e){return nv(e)==="collection"&&!e._private.single},"collection"),GN=l(function(e){return nv(e)==="core"},"core"),use=l(function(e){return nv(e)==="stylesheet"},"stylesheet"),xEe=l(function(e){return nv(e)==="event"},"event"),uc=l(function(e){return e==null||!(e!==""&&!e.match(/^\s+$/))},"emptyString"),bEe=l(function(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement},"domElement"),wEe=l(function(e){return cr(e)&&lt(e.x1)&&lt(e.x2)&&lt(e.y1)&&lt(e.y2)},"boundingBox"),kEe=l(function(e){return yEe(e)&&nn(e.then)},"promise"),TEe=l(function(){return cP&&cP.userAgent.match(/msie|trident|edge/i)},"ms"),o2=l(function(e,t){t||(t=l(function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);return n.join("$")},"keyFn"));var r=l(function n(){var i,a=this,s=arguments,o=t.apply(a,s),u=n.cache;return(i=u[o])||(i=u[o]=e.apply(a,s)),i},"memoizedFn");return r.cache={},r},"memoize"),qN=o2(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),yw=o2(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),hse=o2(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),uP=l(function(e){return uc(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},"capitalize"),jN="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",dse=l(function(e,t){return e<t?-1:e>t?1:0},"ascending"),_Ee=l(function(e,t){return-1*dse(e,t)},"descending"),$t=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];if(n!=null)for(var i=Object.keys(n),a=0;a<i.length;a++){var s=i[a];e[s]=n[s]}}return e},EEe=l(function(e){if((e.length===4||e.length===7)&&e[0]==="#"){var t,r,n,i=16;return e.length===4?(t=parseInt(e[1]+e[1],i),r=parseInt(e[2]+e[2],i),n=parseInt(e[3]+e[3],i)):(t=parseInt(e[1]+e[2],i),r=parseInt(e[3]+e[4],i),n=parseInt(e[5]+e[6],i)),[t,r,n]}},"hex2tuple"),CEe=l(function(e){var t,r,n,i,a,s,o,u;function h(g,m,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?g+6*(m-g)*y:y<.5?m:y<2/3?g+(m-g)*(2/3-y)*6:g}l(h,"hue2rgb");var d=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(d){if((r=parseInt(d[1]))<0?r=(360- -1*r%360)%360:r>360&&(r%=360),r/=360,(n=parseFloat(d[2]))<0||n>100||(n/=100,(i=parseFloat(d[3]))<0||i>100)||(i/=100,(a=d[4])!==void 0&&((a=parseFloat(a))<0||a>1)))return;if(n===0)s=o=u=Math.round(255*i);else{var p=i<.5?i*(1+n):i+n-i*n,f=2*i-p;s=Math.round(255*h(f,p,r+1/3)),o=Math.round(255*h(f,p,r)),u=Math.round(255*h(f,p,r-1/3))}t=[s,o,u,a]}return t},"hsl2tuple"),SEe=l(function(e){var t,r=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(r){t=[];for(var n=[],i=1;i<=3;i++){var a=r[i];if(a[a.length-1]==="%"&&(n[i]=!0),a=parseFloat(a),n[i]&&(a=a/100*255),a<0||a>255)return;t.push(Math.floor(a))}var s=n[1]||n[2]||n[3],o=n[1]&&n[2]&&n[3];if(s&&!o)return;var u=r[4];if(u!==void 0){if((u=parseFloat(u))<0||u>1)return;t.push(u)}}return t},"rgb2tuple"),AEe=l(function(e){return NEe[e.toLowerCase()]},"colorname2tuple"),LEe=l(function(e){return(Dr(e)?e:null)||AEe(e)||EEe(e)||SEe(e)||CEe(e)},"color2tuple"),NEe={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},pse=l(function(e){for(var t=e.map,r=e.keys,n=r.length,i=0;i<n;i++){var a=r[i];if(cr(a))throw Error("Tried to set map with object key");i<r.length-1?(t[a]==null&&(t[a]={}),t=t[a]):t[a]=e.value}},"setMap"),fse=l(function(e){for(var t=e.map,r=e.keys,n=r.length,i=0;i<n;i++){var a=r[i];if(cr(a))throw Error("Tried to get map with object key");if((t=t[a])==null)return t}return t},"getMap");function gse(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}l(gse,"isObject");var sh=gse,Em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mse(e,t){return e(t={exports:{}},t.exports),t.exports}l(mse,"createCommonjsModule");var IEe=typeof Em=="object"&&Em&&Em.Object===Object&&Em,MEe=typeof self=="object"&&self&&self.Object===Object&&self,vw=IEe||MEe||Function("return this")(),Yk=l(function(){return vw.Date.now()},"now"),REe=/\s/;function yse(e){for(var t=e.length;t--&&REe.test(e.charAt(t)););return t}l(yse,"trimmedEndIndex");var DEe=yse,OEe=/^\s+/;function vse(e){return e&&e.slice(0,DEe(e)+1).replace(OEe,"")}l(vse,"baseTrim");var PEe=vse,m0=vw.Symbol,xse=Object.prototype,BEe=xse.hasOwnProperty,$Ee=xse.toString,J0=m0?m0.toStringTag:void 0;function bse(e){var t=BEe.call(e,J0),r=e[J0];try{e[J0]=void 0;var n=!0}catch{}var i=$Ee.call(e);return n&&(t?e[J0]=r:delete e[J0]),i}l(bse,"getRawTag");var FEe=bse,zEe=Object.prototype.toString;function wse(e){return zEe.call(e)}l(wse,"objectToString");var UEe=wse,hP=m0?m0.toStringTag:void 0;function kse(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":hP&&hP in Object(e)?FEe(e):UEe(e)}l(kse,"baseGetTag");var Tse=kse;function _se(e){return e!=null&&typeof e=="object"}l(_se,"isObjectLike");var GEe=_se;function Ese(e){return typeof e=="symbol"||GEe(e)&&Tse(e)=="[object Symbol]"}l(Ese,"isSymbol");var av=Ese,qEe=/^[-+]0x[0-9a-f]+$/i,jEe=/^0b[01]+$/i,YEe=/^0o[0-7]+$/i,WEe=parseInt;function Cse(e){if(typeof e=="number")return e;if(av(e))return NaN;if(sh(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=sh(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=PEe(e);var r=jEe.test(e);return r||YEe.test(e)?WEe(e.slice(2),r?2:8):qEe.test(e)?NaN:+e}l(Cse,"toNumber");var dP=Cse,HEe=Math.max,VEe=Math.min;function Sse(e,t,r){var n,i,a,s,o,u,h=0,d=!1,p=!1,f=!0;if(typeof e!="function")throw new TypeError("Expected a function");function g(R){var C=n,E=i;return n=i=void 0,h=R,s=e.apply(E,C)}function m(R){return h=R,o=setTimeout(x,t),d?g(R):s}function y(R){var C=t-(R-u);return p?VEe(C,a-(R-h)):C}function v(R){var C=R-u;return u===void 0||C>=t||C<0||p&&R-h>=a}function x(){var R=Yk();if(v(R))return b(R);o=setTimeout(x,y(R))}function b(R){return o=void 0,f&&n?g(R):(n=i=void 0,s)}function w(){o!==void 0&&clearTimeout(o),h=0,n=u=i=o=void 0}function T(){return o===void 0?s:b(Yk())}function k(){var R=Yk(),C=v(R);if(n=arguments,i=this,u=R,C){if(o===void 0)return m(u);if(p)return clearTimeout(o),o=setTimeout(x,t),g(u)}return o===void 0&&(o=setTimeout(x,t)),s}return t=dP(t)||0,sh(r)&&(d=!!r.leading,a=(p="maxWait"in r)?HEe(dP(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f),l(g,"invokeFunc"),l(m,"leadingEdge"),l(y,"remainingWait"),l(v,"shouldInvoke"),l(x,"timerExpired"),l(b,"trailingEdge"),l(w,"cancel"),l(T,"flush"),l(k,"debounced"),k.cancel=w,k.flush=T,k}l(Sse,"debounce");var xw=Sse,Wk=In?In.performance:null,Ase=Wk&&Wk.now?function(){return Wk.now()}:function(){return Date.now()},XEe=function(){if(In){if(In.requestAnimationFrame)return function(e){In.requestAnimationFrame(e)};if(In.mozRequestAnimationFrame)return function(e){In.mozRequestAnimationFrame(e)};if(In.webkitRequestAnimationFrame)return function(e){In.webkitRequestAnimationFrame(e)};if(In.msRequestAnimationFrame)return function(e){In.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(Ase())},1e3/60)}}(),v5=l(function(e){return XEe(e)},"requestAnimationFrame"),rl=Ase,Lse=65599,Nse=l(function(e){for(var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:9261,n=r;!(t=e.next()).done;)n=n*Lse+t.value|0;return n},"hashIterableInts"),l2=l(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:9261;return t*Lse+e|0},"hashInt"),c2=l(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5381;return(t<<5)+t+e|0},"hashIntAlt"),KEe=l(function(e,t){return 2097152*e+t},"combineHashes"),ml=l(function(e){return 2097152*e[0]+e[1]},"combineHashesArray"),Kv=l(function(e,t){return[l2(e[0],t[0]),c2(e[1],t[1])]},"hashArrays"),ZEe=l(function(e,t){var r={value:0,done:!1},n=0,i=e.length;return Nse({next:l(function(){return n<i?r.value=e[n++]:r.done=!0,r},"next")},t)},"hashIntsArray"),oh=l(function(e,t){var r={value:0,done:!1},n=0,i=e.length;return Nse({next:l(function(){return n<i?r.value=e.charCodeAt(n++):r.done=!0,r},"next")},t)},"hashString"),Ise=l(function(){return QEe(arguments)},"hashStrings"),QEe=l(function(e){for(var t,r=0;r<e.length;r++){var n=e[r];t=r===0?oh(n):oh(n,t)}return t},"hashStringsArray"),pP=!0,JEe=console.warn!=null,eCe=console.trace!=null,YN=Number.MAX_SAFE_INTEGER||9007199254740991,Mse=l(function(){return!0},"trueify"),x5=l(function(){return!1},"falsify"),fP=l(function(){return 0},"zeroify"),WN=l(function(){},"noop"),hn=l(function(e){throw new Error(e)},"error"),Rse=l(function(e){if(e===void 0)return pP;pP=!!e},"warnings"),kr=l(function(e){Rse()&&(JEe?console.warn(e):(console.log(e),eCe&&console.trace()))},"warn"),tCe=l(function(e){return $t({},e)},"clone"),to=l(function(e){return e==null?e:Dr(e)?e.slice():cr(e)?tCe(e):e},"copy"),rCe=l(function(e){return e.slice()},"copyArray"),Dse=l(function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},"uuid"),nCe={},Ose=l(function(){return nCe},"staticEmptyObject"),pi=l(function(e){var t=Object.keys(e);return function(r){for(var n={},i=0;i<t.length;i++){var a=t[i],s=r==null?void 0:r[a];n[a]=s===void 0?e[a]:s}return n}},"defaults"),Dl=l(function(e,t,r){for(var n=e.length-1;n>=0&&(e[n]!==t||(e.splice(n,1),!r));n--);},"removeFromArray"),PC=l(function(e){e.splice(0,e.length)},"clearArray"),iCe=l(function(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.push(n)}},"push"),xs=l(function(e,t,r){return r&&(t=hse(r,t)),e[t]},"getPrefixedProperty"),yl=l(function(e,t,r,n){r&&(t=hse(r,t)),e[t]=n},"setPrefixedProperty"),ro=typeof Map<"u"?Map:function(){function e(){gw(this,e),this._obj={}}return l(e,"ObjectMap"),mw(e,[{key:"set",value:l(function(t,r){return this._obj[t]=r,this},"set")},{key:"delete",value:l(function(t){return this._obj[t]=void 0,this},"_delete")},{key:"clear",value:l(function(){this._obj={}},"clear")},{key:"has",value:l(function(t){return this._obj[t]!==void 0},"has")},{key:"get",value:l(function(t){return this._obj[t]},"get")}]),e}(),aCe=function(){function e(t){if(gw(this,e),this._obj=Object.create(null),this.size=0,t!=null){var r;r=t.instanceString!=null&&t.instanceString()===this.instanceString()?t.toArray():t;for(var n=0;n<r.length;n++)this.add(r[n])}}return l(e,"ObjectSet"),mw(e,[{key:"instanceString",value:l(function(){return"set"},"instanceString")},{key:"add",value:l(function(t){var r=this._obj;r[t]!==1&&(r[t]=1,this.size++)},"add")},{key:"delete",value:l(function(t){var r=this._obj;r[t]===1&&(r[t]=0,this.size--)},"_delete")},{key:"clear",value:l(function(){this._obj=Object.create(null)},"clear")},{key:"has",value:l(function(t){return this._obj[t]===1},"has")},{key:"toArray",value:l(function(){var t=this;return Object.keys(this._obj).filter(function(r){return t.has(r)})},"toArray")},{key:"forEach",value:l(function(t,r){return this.toArray().forEach(t,r)},"forEach")}]),e}(),P0=(typeof Set>"u"?"undefined":Gn(Set))!=="undefined"?Set:aCe,bw=l(function(e,t){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e!==void 0&&t!==void 0&&GN(e)){var n=t.group;if(n==null&&(n=t.data&&t.data.source!=null&&t.data.target!=null?"edges":"nodes"),n==="nodes"||n==="edges"){this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:n,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0||!!t.grabbable,pannable:t.pannable===void 0?n==="edges":!!t.pannable,active:!1,classes:new P0,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),t.renderedPosition){var a=t.renderedPosition,s=e.pan(),o=e.zoom();i.position={x:(a.x-s.x)/o,y:(a.y-s.y)/o}}var u=[];Dr(t.classes)?u=t.classes:Nt(t.classes)&&(u=t.classes.split(/\s+/));for(var h=0,d=u.length;h<d;h++){var p=u[h];p&&p!==""&&i.classes.add(p)}this.createEmitter();var f=t.style||t.css;f&&(kr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(f)),(r===void 0||r)&&this.restore()}else hn("An element must be of type `nodes` or `edges`; you specified `"+n+"`")}else hn("An element must have a core reference and parameters set")},"Element"),gP=l(function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},l(function(t,r,n){var i;cr(t)&&!Ea(t)&&(t=(i=t).roots||i.root,r=i.visit,n=i.directed),n=arguments.length!==2||nn(r)?n:r,r=nn(r)?r:function(){};for(var a,s=this._private.cy,o=t=Nt(t)?this.filter(t):t,u=[],h=[],d={},p={},f={},g=0,m=this.byGroup(),y=m.nodes,v=m.edges,x=0;x<o.length;x++){var b=o[x],w=b.id();b.isNode()&&(u.unshift(b),e.bfs&&(f[w]=!0,h.push(b)),p[w]=0)}for(var T=l(function(){var L=e.bfs?u.shift():u.pop(),D=L.id();if(e.dfs){if(f[D])return"continue";f[D]=!0,h.push(L)}var B,S=p[D],N=d[D],A=N!=null?N.source():null,M=N!=null?N.target():null,O=N==null?void 0:L.same(A)?M[0]:A[0];if((B=r(L,N,O,g++,S))===!0)return a=L,"break";if(B===!1)return"break";for(var I=L.connectedEdges().filter(function(q){return(!n||q.source().same(L))&&v.has(q)}),P=0;P<I.length;P++){var $=I[P],z=$.connectedNodes().filter(function(q){return!q.same(L)&&y.has(q)}),G=z.id();z.length===0||f[G]||(z=z[0],u.push(z),e.bfs&&(f[G]=!0,h.push(z)),d[G]=$,p[G]=p[D]+1)}},"_loop");u.length!==0;){var k=T();if(k!=="continue"&&k==="break")break}for(var R=s.collection(),C=0;C<h.length;C++){var E=h[C],_=d[E.id()];_!=null&&R.push(_),R.push(E)}return{path:s.collection(R),found:s.collection(a)}},"searchFn")},"defineSearch"),Cm={breadthFirstSearch:gP({bfs:!0}),depthFirstSearch:gP({dfs:!0})};Cm.bfs=Cm.breadthFirstSearch,Cm.dfs=Cm.depthFirstSearch;var sCe=mse(function(e,t){(function(){var r,n,i,a,s,o,u,h,d,p,f,g,m,y,v;i=Math.floor,p=Math.min,n=l(function(x,b){return x<b?-1:x>b?1:0},"defaultCmp"),d=l(function(x,b,w,T,k){var R;if(w==null&&(w=0),k==null&&(k=n),w<0)throw new Error("lo must be non-negative");for(T==null&&(T=x.length);w<T;)k(b,x[R=i((w+T)/2)])<0?T=R:w=R+1;return[].splice.apply(x,[w,w-w].concat(b)),b},"insort"),o=l(function(x,b,w){return w==null&&(w=n),x.push(b),y(x,0,x.length-1,w)},"heappush"),s=l(function(x,b){var w,T;return b==null&&(b=n),w=x.pop(),x.length?(T=x[0],x[0]=w,v(x,0,b)):T=w,T},"heappop"),h=l(function(x,b,w){var T;return w==null&&(w=n),T=x[0],x[0]=b,v(x,0,w),T},"heapreplace"),u=l(function(x,b,w){var T;return w==null&&(w=n),x.length&&w(x[0],b)<0&&(b=(T=[x[0],b])[0],x[0]=T[1],v(x,0,w)),b},"heappushpop"),a=l(function(x,b){var w,T,k,R,C,E;for(b==null&&(b=n),C=[],T=0,k=(R=(function(){E=[];for(var _=0,L=i(x.length/2);0<=L?_<L:_>L;0<=L?_++:_--)E.push(_);return E}).apply(this).reverse()).length;T<k;T++)w=R[T],C.push(v(x,w,b));return C},"heapify"),m=l(function(x,b,w){var T;if(w==null&&(w=n),(T=x.indexOf(b))!==-1)return y(x,0,T,w),v(x,T,w)},"updateItem"),f=l(function(x,b,w){var T,k,R,C,E;if(w==null&&(w=n),!(k=x.slice(0,b)).length)return k;for(a(k,w),R=0,C=(E=x.slice(b)).length;R<C;R++)T=E[R],u(k,T,w);return k.sort(w).reverse()},"nlargest"),g=l(function(x,b,w){var T,k,R,C,E,_,L,D,B;if(w==null&&(w=n),10*b<=x.length){if(!(R=x.slice(0,b).sort(w)).length)return R;for(k=R[R.length-1],C=0,_=(L=x.slice(b)).length;C<_;C++)w(T=L[C],k)<0&&(d(R,T,0,null,w),R.pop(),k=R[R.length-1]);return R}for(a(x,w),B=[],E=0,D=p(b,x.length);0<=D?E<D:E>D;0<=D?++E:--E)B.push(s(x,w));return B},"nsmallest"),y=l(function(x,b,w,T){var k,R,C;for(T==null&&(T=n),k=x[w];w>b&&T(k,R=x[C=w-1>>1])<0;)x[w]=R,w=C;return x[w]=k},"_siftdown"),v=l(function(x,b,w){var T,k,R,C,E;for(w==null&&(w=n),k=x.length,E=b,R=x[b],T=2*b+1;T<k;)(C=T+1)<k&&!(w(x[T],x[C])<0)&&(T=C),x[b]=x[T],T=2*(b=T)+1;return x[b]=R,y(x,E,b,w)},"_siftup"),r=function(){function x(b){this.cmp=b??n,this.nodes=[]}return x.push=o,x.pop=s,x.replace=h,x.pushpop=u,x.heapify=a,x.updateItem=m,x.nlargest=f,x.nsmallest=g,l(x,"Heap"),x.prototype.push=function(b){return o(this.nodes,b,this.cmp)},x.prototype.pop=function(){return s(this.nodes,this.cmp)},x.prototype.peek=function(){return this.nodes[0]},x.prototype.contains=function(b){return this.nodes.indexOf(b)!==-1},x.prototype.replace=function(b){return h(this.nodes,b,this.cmp)},x.prototype.pushpop=function(b){return u(this.nodes,b,this.cmp)},x.prototype.heapify=function(){return a(this.nodes,this.cmp)},x.prototype.updateItem=function(b){return m(this.nodes,b,this.cmp)},x.prototype.clear=function(){return this.nodes=[]},x.prototype.empty=function(){return this.nodes.length===0},x.prototype.size=function(){return this.nodes.length},x.prototype.clone=function(){var b;return(b=new x).nodes=this.nodes.slice(0),b},x.prototype.toArray=function(){return this.nodes.slice(0)},x.prototype.insert=x.prototype.push,x.prototype.top=x.prototype.peek,x.prototype.front=x.prototype.peek,x.prototype.has=x.prototype.contains,x.prototype.copy=x.prototype.clone,x}(),e.exports=r}).call(Em)}),sv=sCe,oCe=pi({root:null,weight:l(function(e){return 1},"weight"),directed:!1}),lCe={dijkstra:l(function(e){if(!cr(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var r=oCe(e),n=r.root,i=r.weight,a=r.directed,s=this,o=i,u=Nt(n)?this.filter(n)[0]:n[0],h={},d={},p={},f=this.byGroup(),g=f.nodes,m=f.edges;m.unmergeBy(function(N){return N.isLoop()});for(var y=l(function(N){return h[N.id()]},"getDist"),v=l(function(N,A){h[N.id()]=A,x.updateItem(N)},"setDist"),x=new sv(function(N,A){return y(N)-y(A)}),b=0;b<g.length;b++){var w=g[b];h[w.id()]=w.same(u)?0:1/0,x.push(w)}for(var T=l(function(N,A){for(var M,O=(a?N.edgesTo(A):N.edgesWith(A)).intersect(m),I=1/0,P=0;P<O.length;P++){var $=O[P],z=o($);(z<I||!M)&&(I=z,M=$)}return{edge:M,dist:I}},"distBetween");x.size()>0;){var k=x.pop(),R=y(k),C=k.id();if(p[C]=R,R!==1/0)for(var E=k.neighborhood().intersect(g),_=0;_<E.length;_++){var L=E[_],D=L.id(),B=T(k,L),S=R+B.dist;S<y(L)&&(v(L,S),d[D]={node:k,edge:B.edge})}}return{distanceTo:l(function(N){var A=Nt(N)?g.filter(N)[0]:N[0];return p[A.id()]},"distanceTo"),pathTo:l(function(N){var A=Nt(N)?g.filter(N)[0]:N[0],M=[],O=A,I=O.id();if(A.length>0)for(M.unshift(A);d[I];){var P=d[I];M.unshift(P.edge),M.unshift(P.node),I=(O=P.node).id()}return s.spawn(M)},"pathTo")}},"dijkstra")},cCe={kruskal:l(function(e){e=e||function(b){return 1};for(var t=this.byGroup(),r=t.nodes,n=t.edges,i=r.length,a=new Array(i),s=r,o=l(function(b){for(var w=0;w<a.length;w++)if(a[w].has(b))return w},"findSetIndex"),u=0;u<i;u++)a[u]=this.spawn(r[u]);for(var h=n.sort(function(b,w){return e(b)-e(w)}),d=0;d<h.length;d++){var p=h[d],f=p.source()[0],g=p.target()[0],m=o(f),y=o(g),v=a[m],x=a[y];m!==y&&(s.merge(p),v.merge(x),a.splice(y,1))}return s},"kruskal")},uCe=pi({root:null,goal:null,weight:l(function(e){return 1},"weight"),heuristic:l(function(e){return 0},"heuristic"),directed:!1}),hCe={aStar:l(function(e){var t=this.cy(),r=uCe(e),n=r.root,i=r.goal,a=r.heuristic,s=r.directed,o=r.weight;n=t.collection(n)[0],i=t.collection(i)[0];var u,h,d=n.id(),p=i.id(),f={},g={},m={},y=new sv(function(P,$){return g[P.id()]-g[$.id()]}),v=new P0,x={},b={},w=l(function(P,$){y.push(P),v.add($)},"addToOpenSet"),T=l(function(){u=y.pop(),h=u.id(),v.delete(h)},"popFromOpenSet"),k=l(function(P){return v.has(P)},"isInOpenSet");w(n,d),f[d]=0,g[d]=a(n);for(var R=0;y.size()>0;){if(T(),R++,h===p){for(var C=[],E=i,_=p,L=b[_];C.unshift(E),L!=null&&C.unshift(L),(E=x[_])!=null;)L=b[_=E.id()];return{found:!0,distance:f[h],path:this.spawn(C),steps:R}}m[h]=!0;for(var D=u._private.edges,B=0;B<D.length;B++){var S=D[B];if(this.hasElementWithId(S.id())&&(!s||S.data("source")===h)){var N=S.source(),A=S.target(),M=N.id()!==h?N:A,O=M.id();if(this.hasElementWithId(O)&&!m[O]){var I=f[h]+o(S);k(O)?I<f[O]&&(f[O]=I,g[O]=I+a(M),x[O]=u,b[O]=S):(f[O]=I,g[O]=I+a(M),w(M,O),x[O]=u,b[O]=S)}}}}return{found:!1,distance:void 0,path:void 0,steps:R}},"aStar")},dCe=pi({weight:l(function(e){return 1},"weight"),directed:!1}),pCe={floydWarshall:l(function(e){for(var t=this.cy(),r=dCe(e),n=r.weight,i=r.directed,a=n,s=this.byGroup(),o=s.nodes,u=s.edges,h=o.length,d=h*h,p=l(function(z){return o.indexOf(z)},"indexOf"),f=l(function(z){return o[z]},"atIndex"),g=new Array(d),m=0;m<d;m++){var y=m%h,v=(m-y)/h;g[m]=v===y?0:1/0}for(var x=new Array(d),b=new Array(d),w=0;w<u.length;w++){var T=u[w],k=T.source()[0],R=T.target()[0];if(k!==R){var C=p(k),E=p(R),_=C*h+E,L=a(T);if(g[_]>L&&(g[_]=L,x[_]=E,b[_]=T),!i){var D=E*h+C;!i&&g[D]>L&&(g[D]=L,x[D]=C,b[D]=T)}}}for(var B=0;B<h;B++)for(var S=0;S<h;S++)for(var N=S*h+B,A=0;A<h;A++){var M=S*h+A,O=B*h+A;g[N]+g[O]<g[M]&&(g[M]=g[N]+g[O],x[M]=x[N])}var I=l(function(z){return(Nt(z)?t.filter(z):z)[0]},"getArgEle"),P=l(function(z){return p(I(z))},"indexOfArgEle"),$={distance:l(function(z,G){var q=P(z),J=P(G);return g[q*h+J]},"distance"),path:l(function(z,G){var q=P(z),J=P(G),ie=f(q);if(q===J)return ie.collection();if(x[q*h+J]==null)return t.collection();var te,W=t.collection(),H=q;for(W.merge(ie);q!==J;)H=q,q=x[q*h+J],te=b[H*h+q],W.merge(te),W.merge(f(q));return W},"path")};return $},"floydWarshall")},fCe=pi({weight:l(function(e){return 1},"weight"),directed:!1,root:null}),gCe={bellmanFord:l(function(e){var t=this,r=fCe(e),n=r.weight,i=r.directed,a=r.root,s=n,o=this,u=this.cy(),h=this.byGroup(),d=h.edges,p=h.nodes,f=p.length,g=new ro,m=!1,y=[];a=u.collection(a)[0],d.unmergeBy(function(le){return le.isLoop()});for(var v=d.length,x=l(function(le){var Ae=g.get(le.id());return Ae||(Ae={},g.set(le.id(),Ae)),Ae},"getInfo"),b=l(function(le){return(Nt(le)?u.$(le):le)[0]},"getNodeFromTo"),w=l(function(le){return x(b(le)).dist},"distanceTo"),T=l(function(le){for(var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,Se=b(le),ze=[],Pe=Se;;){if(Pe==null)return t.spawn();var Ve=x(Pe),Ue=Ve.edge,Ge=Ve.pred;if(ze.unshift(Pe[0]),Pe.same(Ae)&&ze.length>0)break;Ue!=null&&ze.unshift(Ue),Pe=Ge}return o.spawn(ze)},"pathTo"),k=0;k<f;k++){var R=p[k],C=x(R);R.same(a)?C.dist=0:C.dist=1/0,C.pred=null,C.edge=null}for(var E=!1,_=l(function(le,Ae,Se,ze,Pe,Ve){var Ue=ze.dist+Ve;Ue<Pe.dist&&!Se.same(ze.edge)&&(Pe.dist=Ue,Pe.pred=le,Pe.edge=Se,E=!0)},"checkForEdgeReplacement"),L=1;L<f;L++){E=!1;for(var D=0;D<v;D++){var B=d[D],S=B.source(),N=B.target(),A=s(B),M=x(S),O=x(N);_(S,N,B,M,O,A),i||_(N,S,B,O,M,A)}if(!E)break}if(E)for(var I=[],P=0;P<v;P++){var $=d[P],z=$.source(),G=$.target(),q=s($),J=x(z).dist,ie=x(G).dist;if(J+q<ie||!i&&ie+q<J){if(m||(kr("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),e.findNegativeWeightCycles===!1)break;var te=[];J+q<ie&&te.push(z),!i&&ie+q<J&&te.push(G);for(var W=te.length,H=0;H<W;H++){var X=te[H],Q=[X];Q.push(x(X).edge);for(var ne=x(X).pred;Q.indexOf(ne)===-1;)Q.push(ne),Q.push(x(ne).edge),ne=x(ne).pred;for(var ee=(Q=Q.slice(Q.indexOf(ne)))[0].id(),pe=0,j=2;j<Q.length;j+=2)Q[j].id()<ee&&(ee=Q[j].id(),pe=j);(Q=Q.slice(pe).concat(Q.slice(0,pe))).push(Q[0]);var ce=Q.map(function(le){return le.id()}).join(",");I.indexOf(ce)===-1&&(y.push(o.spawn(Q)),I.push(ce))}}}return{distanceTo:w,pathTo:T,hasNegativeWeightCycle:m,negativeWeightCycles:y}},"bellmanFord")},mCe=Math.sqrt(2),yCe=l(function(e,t,r){r.length===0&&hn("Karger-Stein must be run on a connected (sub)graph");for(var n=r[e],i=n[1],a=n[2],s=t[i],o=t[a],u=r,h=u.length-1;h>=0;h--){var d=u[h],p=d[1],f=d[2];(t[p]===s&&t[f]===o||t[p]===o&&t[f]===s)&&u.splice(h,1)}for(var g=0;g<u.length;g++){var m=u[g];m[1]===o?(u[g]=m.slice(),u[g][1]=s):m[2]===o&&(u[g]=m.slice(),u[g][2]=s)}for(var y=0;y<t.length;y++)t[y]===o&&(t[y]=s);return u},"collapse"),Hk=l(function(e,t,r,n){for(;r>n;){var i=Math.floor(Math.random()*t.length);t=yCe(i,e,t),r--}return t},"contractUntil"),vCe={kargerStein:l(function(){var e=this,t=this.byGroup(),r=t.nodes,n=t.edges;n.unmergeBy(function(M){return M.isLoop()});var i=r.length,a=n.length,s=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),o=Math.floor(i/mCe);if(!(i<2)){for(var u=[],h=0;h<a;h++){var d=n[h];u.push([h,r.indexOf(d.source()),r.indexOf(d.target())])}for(var p=1/0,f=[],g=new Array(i),m=new Array(i),y=new Array(i),v=l(function(M,O){for(var I=0;I<i;I++)O[I]=M[I]},"copyNodesMap"),x=0;x<=s;x++){for(var b=0;b<i;b++)m[b]=b;var w=Hk(m,u.slice(),i,o),T=w.slice();v(m,y);var k=Hk(m,w,o,2),R=Hk(y,T,o,2);k.length<=R.length&&k.length<p?(p=k.length,f=k,v(m,g)):R.length<=k.length&&R.length<p&&(p=R.length,f=R,v(y,g))}for(var C=this.spawn(f.map(function(M){return n[M[0]]})),E=this.spawn(),_=this.spawn(),L=g[0],D=0;D<g.length;D++){var B=g[D],S=r[D];B===L?E.merge(S):_.merge(S)}var N=l(function(M){var O=e.spawn();return M.forEach(function(I){O.merge(I),I.connectedEdges().forEach(function(P){e.contains(P)&&!C.contains(P)&&O.merge(P)})}),O},"constructComponent"),A=[N(E),N(_)];return{cut:C,components:A,partition1:E,partition2:_}}hn("At least 2 nodes are required for Karger-Stein algorithm")},"kargerStein")},xCe=l(function(e){return{x:e.x,y:e.y}},"copyPosition"),ww=l(function(e,t,r){return{x:e.x*t+r.x,y:e.y*t+r.y}},"modelToRenderedPosition"),Pse=l(function(e,t,r){return{x:(e.x-r.x)/t,y:(e.y-r.y)/t}},"renderedToModelPosition"),od=l(function(e){return{x:e[0],y:e[1]}},"array2point"),bCe=l(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=1/0,i=t;i<r;i++){var a=e[i];isFinite(a)&&(n=Math.min(a,n))}return n},"min"),wCe=l(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=-1/0,i=t;i<r;i++){var a=e[i];isFinite(a)&&(n=Math.max(a,n))}return n},"max"),kCe=l(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=0,i=0,a=t;a<r;a++){var s=e[a];isFinite(s)&&(n+=s,i++)}return n/i},"mean"),TCe=l(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];n?e=e.slice(t,r):(r<e.length&&e.splice(r,e.length-r),t>0&&e.splice(0,t));for(var s=0,o=e.length-1;o>=0;o--){var u=e[o];a?isFinite(u)||(e[o]=-1/0,s++):e.splice(o,1)}i&&e.sort(function(p,f){return p-f});var h=e.length,d=Math.floor(h/2);return h%2!=0?e[d+1+s]:(e[d-1+s]+e[d+s])/2},"median"),_Ce=l(function(e){return Math.PI*e/180},"deg2rad"),Zv=l(function(e,t){return Math.atan2(t,e)-Math.PI/2},"getAngleFromDisp"),HN=Math.log2||function(e){return Math.log(e)/Math.log(2)},mP=l(function(e){return e>0?1:e<0?-1:0},"signum"),lh=l(function(e,t){return Math.sqrt(Yc(e,t))},"dist"),Yc=l(function(e,t){var r=t.x-e.x,n=t.y-e.y;return r*r+n*n},"sqdist"),ECe=l(function(e){for(var t=e.length,r=0,n=0;n<t;n++)r+=e[n];for(var i=0;i<t;i++)e[i]=e[i]/r;return e},"inPlaceSumNormalize"),Yn=l(function(e,t,r,n){return(1-n)*(1-n)*e+2*(1-n)*n*t+n*n*r},"qbezierAt"),kd=l(function(e,t,r,n){return{x:Yn(e.x,t.x,r.x,n),y:Yn(e.y,t.y,r.y,n)}},"qbezierPtAt"),CCe=l(function(e,t,r,n){var i=t.x-e.x,a=t.y-e.y,s=lh(e,t),o=i/s,u=a/s;return r=r??0,n=n??r*s,{x:e.x+o*n,y:e.y+u*n}},"lineAt"),u2=l(function(e,t,r){return Math.max(e,Math.min(r,t))},"bound"),da=l(function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},"makeBoundingBox"),SCe=l(function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},"copyBoundingBox"),ACe=l(function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},"clearBoundingBox"),LCe=l(function(e,t,r){return{x1:e.x1+t,x2:e.x2+t,y1:e.y1+r,y2:e.y2+r,w:e.w,h:e.h}},"shiftBoundingBox"),Bse=l(function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},"updateBoundingBox"),NCe=l(function(e,t,r){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r),e.y2=Math.max(e.y2,r),e.h=e.y2-e.y1},"expandBoundingBoxByPoint"),cb=l(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},"expandBoundingBox"),ub=l(function(e){var t,r,n,i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0];if(a.length===1)t=r=n=i=a[0];else if(a.length===2)t=n=a[0],i=r=a[1];else if(a.length===4){var s=Ga(a,4);t=s[0],r=s[1],n=s[2],i=s[3]}return e.x1-=i,e.x2+=r,e.y1-=t,e.y2+=n,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},"expandBoundingBoxSides"),yP=l(function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},"assignBoundingBox"),VN=l(function(e,t){return!(e.x1>t.x2)&&!(t.x1>e.x2)&&!(e.x2<t.x1)&&!(t.x2<e.x1)&&!(e.y2<t.y1)&&!(t.y2<e.y1)&&!(e.y1>t.y2)&&!(t.y1>e.y2)},"boundingBoxesIntersect"),Td=l(function(e,t,r){return e.x1<=t&&t<=e.x2&&e.y1<=r&&r<=e.y2},"inBoundingBox"),ICe=l(function(e,t){return Td(e,t.x,t.y)},"pointInBoundingBox"),$se=l(function(e,t){return Td(e,t.x1,t.y1)&&Td(e,t.x2,t.y2)},"boundingBoxInBoundingBox"),vP=l(function(e,t,r,n,i,a,s){var o,u,h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",d=h==="auto"?ch(i,a):h,p=i/2,f=a/2,g=(d=Math.min(d,p,f))!==p,m=d!==f;if(g){var y=r-p+d-s,v=n-f-s,x=r+p-d+s,b=v;if((o=Ol(e,t,r,n,y,v,x,b,!1)).length>0)return o}if(m){var w=r+p+s,T=n-f+d-s,k=w,R=n+f-d+s;if((o=Ol(e,t,r,n,w,T,k,R,!1)).length>0)return o}if(g){var C=r-p+d-s,E=n+f+s,_=r+p-d+s,L=E;if((o=Ol(e,t,r,n,C,E,_,L,!1)).length>0)return o}if(m){var D=r-p-s,B=n-f+d-s,S=D,N=n+f-d+s;if((o=Ol(e,t,r,n,D,B,S,N,!1)).length>0)return o}var A=r-p+d,M=n-f+d;if((u=Sm(e,t,r,n,A,M,d+s)).length>0&&u[0]<=A&&u[1]<=M)return[u[0],u[1]];var O=r+p-d,I=n-f+d;if((u=Sm(e,t,r,n,O,I,d+s)).length>0&&u[0]>=O&&u[1]<=I)return[u[0],u[1]];var P=r+p-d,$=n+f-d;if((u=Sm(e,t,r,n,P,$,d+s)).length>0&&u[0]>=P&&u[1]>=$)return[u[0],u[1]];var z=r-p+d,G=n+f-d;return(u=Sm(e,t,r,n,z,G,d+s)).length>0&&u[0]<=z&&u[1]>=G?[u[0],u[1]]:[]},"roundRectangleIntersectLine"),MCe=l(function(e,t,r,n,i,a,s){var o=s,u=Math.min(r,i),h=Math.max(r,i),d=Math.min(n,a),p=Math.max(n,a);return u-o<=e&&e<=h+o&&d-o<=t&&t<=p+o},"inLineVicinity"),RCe=l(function(e,t,r,n,i,a,s,o,u){var h=Math.min(r,s,i)-u,d=Math.max(r,s,i)+u,p=Math.min(n,o,a)-u,f=Math.max(n,o,a)+u;return!(e<h||e>d||t<p||t>f)},"inBezierVicinity"),DCe=l(function(e,t,r,n){var i=t*t-4*e*(r-=n);if(i<0)return[];var a=Math.sqrt(i),s=2*e;return[(-t+a)/s,(-t-a)/s]},"solveQuadratic"),OCe=l(function(e,t,r,n,i){var a,s,o,u,h,d,p,f;return e===0&&(e=1e-5),o=-27*(n/=e)+(t/=e)*(9*(r/=e)-t*t*2),a=(s=(3*r-t*t)/9)*s*s+(o/=54)*o,i[1]=0,p=t/3,a>0?(h=(h=o+Math.sqrt(a))<0?-Math.pow(-h,1/3):Math.pow(h,1/3),d=(d=o-Math.sqrt(a))<0?-Math.pow(-d,1/3):Math.pow(d,1/3),i[0]=-p+h+d,p+=(h+d)/2,i[4]=i[2]=-p,p=Math.sqrt(3)*(-d+h)/2,i[3]=p,void(i[5]=-p)):(i[5]=i[3]=0,a===0?(f=o<0?-Math.pow(-o,1/3):Math.pow(o,1/3),i[0]=2*f-p,void(i[4]=i[2]=-(f+p))):(u=(s=-s)*s*s,u=Math.acos(o/Math.sqrt(u)),f=2*Math.sqrt(s),i[0]=-p+f*Math.cos(u/3),i[2]=-p+f*Math.cos((u+2*Math.PI)/3),void(i[4]=-p+f*Math.cos((u+4*Math.PI)/3))))},"solveCubic"),PCe=l(function(e,t,r,n,i,a,s,o){var u=[];OCe(1*r*r-4*r*i+2*r*s+4*i*i-4*i*s+s*s+n*n-4*n*a+2*n*o+4*a*a-4*a*o+o*o,9*r*i-3*r*r-3*r*s-6*i*i+3*i*s+9*n*a-3*n*n-3*n*o-6*a*a+3*a*o,3*r*r-6*r*i+r*s-r*e+2*i*i+2*i*e-s*e+3*n*n-6*n*a+n*o-n*t+2*a*a+2*a*t-o*t,1*r*i-r*r+r*e-i*e+n*a-n*n+n*t-a*t,u);for(var h=[],d=0;d<6;d+=2)Math.abs(u[d+1])<1e-7&&u[d]>=0&&u[d]<=1&&h.push(u[d]);h.push(1),h.push(0);for(var p,f,g,m=-1,y=0;y<h.length;y++)p=Math.pow(1-h[y],2)*r+2*(1-h[y])*h[y]*i+h[y]*h[y]*s,f=Math.pow(1-h[y],2)*n+2*(1-h[y])*h[y]*a+h[y]*h[y]*o,g=Math.pow(p-e,2)+Math.pow(f-t,2),m>=0?g<m&&(m=g):m=g;return m},"sqdistToQuadraticBezier"),BCe=l(function(e,t,r,n,i,a){var s=[e-r,t-n],o=[i-r,a-n],u=o[0]*o[0]+o[1]*o[1],h=s[0]*s[0]+s[1]*s[1],d=s[0]*o[0]+s[1]*o[1],p=d*d/u;return d<0?h:p>u?(e-i)*(e-i)+(t-a)*(t-a):h-p},"sqdistToFiniteLine"),Zi=l(function(e,t,r){for(var n,i,a,s,o=0,u=0;u<r.length/2;u++)if(n=r[2*u],i=r[2*u+1],u+1<r.length/2?(a=r[2*(u+1)],s=r[2*(u+1)+1]):(a=r[2*(u+1-r.length/2)],s=r[2*(u+1-r.length/2)+1]),!(n==e&&a==e)){if(!(n>=e&&e>=a||n<=e&&e<=a))continue;(e-n)/(a-n)*(s-i)+i>t&&o++}return o%2!=0},"pointInsidePolygonPoints"),bo=l(function(e,t,r,n,i,a,s,o,u){var h,d=new Array(r.length);o[0]!=null?(h=Math.atan(o[1]/o[0]),o[0]<0?h+=Math.PI/2:h=-h-Math.PI/2):h=o;for(var p,f=Math.cos(-h),g=Math.sin(-h),m=0;m<d.length/2;m++)d[2*m]=a/2*(r[2*m]*f-r[2*m+1]*g),d[2*m+1]=s/2*(r[2*m+1]*f+r[2*m]*g),d[2*m]+=n,d[2*m+1]+=i;if(u>0){var y=w5(d,-u);p=b5(y)}else p=d;return Zi(e,t,p)},"pointInsidePolygon"),$Ce=l(function(e,t,r,n,i,a,s,o){for(var u=new Array(2*r.length),h=0;h<o.length;h++){var d=o[h];if(u[4*h+0]=d.startX,u[4*h+1]=d.startY,u[4*h+2]=d.stopX,u[4*h+3]=d.stopY,Math.pow(d.cx-e,2)+Math.pow(d.cy-t,2)<=Math.pow(d.radius,2))return!0}return Zi(e,t,u)},"pointInsideRoundPolygon"),b5=l(function(e){for(var t,r,n,i,a,s,o,u,h=new Array(e.length/2),d=0;d<e.length/4;d++){t=e[4*d],r=e[4*d+1],n=e[4*d+2],i=e[4*d+3],d<e.length/4-1?(a=e[4*(d+1)],s=e[4*(d+1)+1],o=e[4*(d+1)+2],u=e[4*(d+1)+3]):(a=e[0],s=e[1],o=e[2],u=e[3]);var p=Ol(t,r,n,i,a,s,o,u,!0);h[2*d]=p[0],h[2*d+1]=p[1]}return h},"joinLines"),w5=l(function(e,t){for(var r,n,i,a,s=new Array(2*e.length),o=0;o<e.length/2;o++){r=e[2*o],n=e[2*o+1],o<e.length/2-1?(i=e[2*(o+1)],a=e[2*(o+1)+1]):(i=e[0],a=e[1]);var u=a-n,h=-(i-r),d=Math.sqrt(u*u+h*h),p=u/d,f=h/d;s[4*o]=r+p*t,s[4*o+1]=n+f*t,s[4*o+2]=i+p*t,s[4*o+3]=a+f*t}return s},"expandPolygon"),FCe=l(function(e,t,r,n,i,a){var s=r-e,o=n-t;s/=i,o/=a;var u=Math.sqrt(s*s+o*o),h=u-1;if(h<0)return[];var d=h/u;return[(r-e)*d+e,(n-t)*d+t]},"intersectLineEllipse"),Ac=l(function(e,t,r,n,i,a,s){return e-=i,t-=a,(e/=r/2+s)*e+(t/=n/2+s)*t<=1},"checkInEllipse"),Sm=l(function(e,t,r,n,i,a,s){var o=[r-e,n-t],u=[e-i,t-a],h=o[0]*o[0]+o[1]*o[1],d=2*(u[0]*o[0]+u[1]*o[1]),p=d*d-4*h*(u[0]*u[0]+u[1]*u[1]-s*s);if(p<0)return[];var f=(-d+Math.sqrt(p))/(2*h),g=(-d-Math.sqrt(p))/(2*h),m=Math.min(f,g),y=Math.max(f,g),v=[];if(m>=0&&m<=1&&v.push(m),y>=0&&y<=1&&v.push(y),v.length===0)return[];var x=v[0]*o[0]+e,b=v[0]*o[1]+t;return v.length>1?v[0]==v[1]?[x,b]:[x,b,v[1]*o[0]+e,v[1]*o[1]+t]:[x,b]},"intersectLineCircle"),Vk=l(function(e,t,r){return t<=e&&e<=r||r<=e&&e<=t?e:e<=t&&t<=r||r<=t&&t<=e?t:r},"midOfThree"),Ol=l(function(e,t,r,n,i,a,s,o,u){var h=e-i,d=r-e,p=s-i,f=t-a,g=n-t,m=o-a,y=p*f-m*h,v=d*f-g*h,x=m*d-p*g;if(x!==0){var b=y/x,w=v/x,T=-.001;return T<=b&&b<=1.001&&T<=w&&w<=1.001||u?[e+b*d,t+b*g]:[]}return y===0||v===0?Vk(e,r,s)===s?[s,o]:Vk(e,r,i)===i?[i,a]:Vk(i,s,r)===r?[r,n]:[]:[]},"finiteLinesIntersect"),ly=l(function(e,t,r,n,i,a,s,o){var u,h,d,p,f,g,m=[],y=new Array(r.length),v=!0;if(a==null&&(v=!1),v){for(var x=0;x<y.length/2;x++)y[2*x]=r[2*x]*a+n,y[2*x+1]=r[2*x+1]*s+i;if(o>0){var b=w5(y,-o);h=b5(b)}else h=y}else h=r;for(var w=0;w<h.length/2;w++)d=h[2*w],p=h[2*w+1],w<h.length/2-1?(f=h[2*(w+1)],g=h[2*(w+1)+1]):(f=h[0],g=h[1]),(u=Ol(e,t,n,i,d,p,f,g)).length!==0&&m.push(u[0],u[1]);return m},"polygonIntersectLine"),zCe=l(function(e,t,r,n,i,a,s,o,u){var h,d=[],p=new Array(2*r.length);u.forEach(function(x,b){b===0?(p[p.length-2]=x.startX,p[p.length-1]=x.startY):(p[4*b-2]=x.startX,p[4*b-1]=x.startY),p[4*b]=x.stopX,p[4*b+1]=x.stopY,(h=Sm(e,t,n,i,x.cx,x.cy,x.radius)).length!==0&&d.push(h[0],h[1])});for(var f=0;f<p.length/4;f++)(h=Ol(e,t,n,i,p[4*f],p[4*f+1],p[4*f+2],p[4*f+3],!1)).length!==0&&d.push(h[0],h[1]);if(d.length>2){for(var g=[d[0],d[1]],m=Math.pow(g[0]-e,2)+Math.pow(g[1]-t,2),y=1;y<d.length/2;y++){var v=Math.pow(d[2*y]-e,2)+Math.pow(d[2*y+1]-t,2);v<=m&&(g[0]=d[2*y],g[1]=d[2*y+1],m=v)}return g}return d},"roundPolygonIntersectLine"),Qv=l(function(e,t,r){var n=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]),a=(i-r)/i;return a<0&&(a=1e-5),[t[0]+a*n[0],t[1]+a*n[1]]},"shortenIntersection"),Ni=l(function(e,t){var r=BC(e,t);return r=Fse(r)},"generateUnitNgonPointsFitToSquare"),Fse=l(function(e){for(var t,r,n=e.length/2,i=1/0,a=1/0,s=-1/0,o=-1/0,u=0;u<n;u++)t=e[2*u],r=e[2*u+1],i=Math.min(i,t),s=Math.max(s,t),a=Math.min(a,r),o=Math.max(o,r);for(var h=2/(s-i),d=2/(o-a),p=0;p<n;p++)t=e[2*p]=e[2*p]*h,r=e[2*p+1]=e[2*p+1]*d,i=Math.min(i,t),s=Math.max(s,t),a=Math.min(a,r),o=Math.max(o,r);if(a<-1)for(var f=0;f<n;f++)r=e[2*f+1]=e[2*f+1]+(-1-a);return e},"fitPolygonToSquare"),BC=l(function(e,t){var r=1/e*2*Math.PI,n=e%2==0?Math.PI/2+r/2:Math.PI/2;n+=t;for(var i,a=new Array(2*e),s=0;s<e;s++)i=s*r+n,a[2*s]=Math.cos(i),a[2*s+1]=Math.sin(-i);return a},"generateUnitNgonPoints"),ch=l(function(e,t){return Math.min(e/4,t/4,8)},"getRoundRectangleRadius"),zse=l(function(e,t){return Math.min(e/10,t/10,8)},"getRoundPolygonRadius"),XN=l(function(){return 8},"getCutRectangleCornerLength"),UCe=l(function(e,t,r){return[e-2*t+r,2*(t-e),e]},"bezierPtsToQuadCoeff"),$C=l(function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},"getBarrelCurveConstants"),GCe=pi({dampingFactor:.8,precision:1e-6,iterations:200,weight:l(function(e){return 1},"weight")}),qCe={pageRank:l(function(e){for(var t=GCe(e),r=t.dampingFactor,n=t.precision,i=t.iterations,a=t.weight,s=this._private.cy,o=this.byGroup(),u=o.nodes,h=o.edges,d=u.length,p=d*d,f=h.length,g=new Array(p),m=new Array(d),y=(1-r)/d,v=0;v<d;v++){for(var x=0;x<d;x++)g[v*d+x]=0;m[v]=0}for(var b=0;b<f;b++){var w=h[b],T=w.data("source"),k=w.data("target");if(T!==k){var R=u.indexOfId(T),C=u.indexOfId(k),E=a(w);g[C*d+R]+=E,m[R]+=E}}for(var _=1/d+y,L=0;L<d;L++)if(m[L]===0)for(var D=0;D<d;D++)g[D*d+L]=_;else for(var B=0;B<d;B++){var S=B*d+L;g[S]=g[S]/m[L]+y}for(var N,A=new Array(d),M=new Array(d),O=0;O<d;O++)A[O]=1;for(var I=0;I<i;I++){for(var P=0;P<d;P++)M[P]=0;for(var $=0;$<d;$++)for(var z=0;z<d;z++){var G=$*d+z;M[$]+=g[G]*A[z]}ECe(M),N=A,A=M,M=N;for(var q=0,J=0;J<d;J++){var ie=N[J]-A[J];q+=ie*ie}if(q<n)break}var te={rank:l(function(W){return W=s.collection(W)[0],A[u.indexOf(W)]},"rank")};return te},"pageRank")},xP=pi({root:null,weight:l(function(e){return 1},"weight"),directed:!1,alpha:0}),Vh={degreeCentralityNormalized:l(function(e){e=xP(e);var t=this.cy(),r=this.nodes(),n=r.length;if(e.directed){for(var i={},a={},s=0,o=0,u=0;u<n;u++){var h=r[u],d=h.id();e.root=h;var p=this.degreeCentrality(e);s<p.indegree&&(s=p.indegree),o<p.outdegree&&(o=p.outdegree),i[d]=p.indegree,a[d]=p.outdegree}return{indegree:l(function(x){return s==0?0:(Nt(x)&&(x=t.filter(x)),i[x.id()]/s)},"indegree"),outdegree:l(function(x){return o===0?0:(Nt(x)&&(x=t.filter(x)),a[x.id()]/o)},"outdegree")}}for(var f={},g=0,m=0;m<n;m++){var y=r[m];e.root=y;var v=this.degreeCentrality(e);g<v.degree&&(g=v.degree),f[y.id()]=v.degree}return{degree:l(function(x){return g===0?0:(Nt(x)&&(x=t.filter(x)),f[x.id()]/g)},"degree")}},"degreeCentralityNormalized"),degreeCentrality:l(function(e){e=xP(e);var t=this.cy(),r=this,n=e,i=n.root,a=n.weight,s=n.directed,o=n.alpha;if(i=t.collection(i)[0],s){for(var u=i.connectedEdges(),h=u.filter(function(k){return k.target().same(i)&&r.has(k)}),d=u.filter(function(k){return k.source().same(i)&&r.has(k)}),p=h.length,f=d.length,g=0,m=0,y=0;y<h.length;y++)g+=a(h[y]);for(var v=0;v<d.length;v++)m+=a(d[v]);return{indegree:Math.pow(p,1-o)*Math.pow(g,o),outdegree:Math.pow(f,1-o)*Math.pow(m,o)}}for(var x=i.connectedEdges().intersection(r),b=x.length,w=0,T=0;T<x.length;T++)w+=a(x[T]);return{degree:Math.pow(b,1-o)*Math.pow(w,o)}},"degreeCentrality")};Vh.dc=Vh.degreeCentrality,Vh.dcn=Vh.degreeCentralityNormalised=Vh.degreeCentralityNormalized;var bP=pi({harmonic:!0,weight:l(function(){return 1},"weight"),directed:!1,root:null}),Xh={closenessCentralityNormalized:l(function(e){for(var t=bP(e),r=t.harmonic,n=t.weight,i=t.directed,a=this.cy(),s={},o=0,u=this.nodes(),h=this.floydWarshall({weight:n,directed:i}),d=0;d<u.length;d++){for(var p=0,f=u[d],g=0;g<u.length;g++)if(d!==g){var m=h.distance(f,u[g]);p+=r?1/m:m}r||(p=1/p),o<p&&(o=p),s[f.id()]=p}return{closeness:l(function(y){return o==0?0:(y=Nt(y)?a.filter(y)[0].id():y.id(),s[y]/o)},"closeness")}},"closenessCentralityNormalized"),closenessCentrality:l(function(e){var t=bP(e),r=t.root,n=t.weight,i=t.directed,a=t.harmonic;r=this.filter(r)[0];for(var s=this.dijkstra({root:r,weight:n,directed:i}),o=0,u=this.nodes(),h=0;h<u.length;h++){var d=u[h];if(!d.same(r)){var p=s.distanceTo(d);o+=a?1/p:p}}return a?o:1/o},"closenessCentrality")};Xh.cc=Xh.closenessCentrality,Xh.ccn=Xh.closenessCentralityNormalised=Xh.closenessCentralityNormalized;var jCe=pi({weight:null,directed:!1}),FC={betweennessCentrality:l(function(e){for(var t=jCe(e),r=t.directed,n=t.weight,i=n!=null,a=this.cy(),s=this.nodes(),o={},u={},h=0,d={set:l(function(x,b){u[x]=b,b>h&&(h=b)},"set"),get:l(function(x){return u[x]},"get")},p=0;p<s.length;p++){var f=s[p],g=f.id();o[g]=r?f.outgoers().nodes():f.openNeighborhood().nodes(),d.set(g,0)}for(var m=l(function(x){for(var b=s[x].id(),w=[],T={},k={},R={},C=new sv(function(q,J){return R[q]-R[J]}),E=0;E<s.length;E++){var _=s[E].id();T[_]=[],k[_]=0,R[_]=1/0}for(k[b]=1,R[b]=0,C.push(b);!C.empty();){var L=C.pop();if(w.push(L),i)for(var D=0;D<o[L].length;D++){var B=o[L][D],S=a.getElementById(L),N=void 0;N=S.edgesTo(B).length>0?S.edgesTo(B)[0]:B.edgesTo(S)[0];var A=n(N);B=B.id(),R[B]>R[L]+A&&(R[B]=R[L]+A,C.nodes.indexOf(B)<0?C.push(B):C.updateItem(B),k[B]=0,T[B]=[]),R[B]==R[L]+A&&(k[B]=k[B]+k[L],T[B].push(L))}else for(var M=0;M<o[L].length;M++){var O=o[L][M].id();R[O]==1/0&&(C.push(O),R[O]=R[L]+1),R[O]==R[L]+1&&(k[O]=k[O]+k[L],T[O].push(L))}}for(var I={},P=0;P<s.length;P++)I[s[P].id()]=0;for(;w.length>0;){for(var $=w.pop(),z=0;z<T[$].length;z++){var G=T[$][z];I[G]=I[G]+k[G]/k[$]*(1+I[$])}$!=s[x].id()&&d.set($,d.get($)+I[$])}},"_loop"),y=0;y<s.length;y++)m(y);var v={betweenness:l(function(x){var b=a.collection(x).id();return d.get(b)},"betweenness"),betweennessNormalized:l(function(x){if(h==0)return 0;var b=a.collection(x).id();return d.get(b)/h},"betweennessNormalized")};return v.betweennessNormalised=v.betweennessNormalized,v},"betweennessCentrality")};FC.bc=FC.betweennessCentrality;var YCe=pi({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),WCe=l(function(e){return YCe(e)},"setOptions"),HCe=l(function(e,t){for(var r=0,n=0;n<t.length;n++)r+=t[n](e);return r},"getSimilarity"),VCe=l(function(e,t,r){for(var n=0;n<t;n++)e[n*t+n]=r},"addLoops"),Use=l(function(e,t){for(var r,n=0;n<t;n++){r=0;for(var i=0;i<t;i++)r+=e[i*t+n];for(var a=0;a<t;a++)e[a*t+n]=e[a*t+n]/r}},"normalize"),XCe=l(function(e,t,r){for(var n=new Array(r*r),i=0;i<r;i++){for(var a=0;a<r;a++)n[i*r+a]=0;for(var s=0;s<r;s++)for(var o=0;o<r;o++)n[i*r+o]+=e[i*r+s]*t[s*r+o]}return n},"mmult"),KCe=l(function(e,t,r){for(var n=e.slice(0),i=1;i<r;i++)e=XCe(e,n,t);return e},"expand"),ZCe=l(function(e,t,r){for(var n=new Array(t*t),i=0;i<t*t;i++)n[i]=Math.pow(e[i],r);return Use(n,t),n},"inflate"),QCe=l(function(e,t,r,n){for(var i=0;i<r;i++)if(Math.round(e[i]*Math.pow(10,n))/Math.pow(10,n)!==Math.round(t[i]*Math.pow(10,n))/Math.pow(10,n))return!1;return!0},"hasConverged"),JCe=l(function(e,t,r,n){for(var i=[],a=0;a<t;a++){for(var s=[],o=0;o<t;o++)Math.round(1e3*e[a*t+o])/1e3>0&&s.push(r[o]);s.length!==0&&i.push(n.collection(s))}return i},"assign"),eSe=l(function(e,t){for(var r=0;r<e.length;r++)if(!t[r]||e[r].id()!==t[r].id())return!1;return!0},"isDuplicate"),tSe=l(function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e.length;r++)t!=r&&eSe(e[t],e[r])&&e.splice(r,1);return e},"removeDuplicates"),wP=l(function(e){for(var t=this.nodes(),r=this.edges(),n=this.cy(),i=WCe(e),a={},s=0;s<t.length;s++)a[t[s].id()]=s;for(var o,u=t.length,h=u*u,d=new Array(h),p=0;p<h;p++)d[p]=0;for(var f=0;f<r.length;f++){var g=r[f],m=a[g.source().id()],y=a[g.target().id()],v=HCe(g,i.attributes);d[m*u+y]+=v,d[y*u+m]+=v}VCe(d,u,i.multFactor),Use(d,u);for(var x=!0,b=0;x&&b<i.maxIterations;)x=!1,o=KCe(d,u,i.expandFactor),d=ZCe(o,u,i.inflateFactor),QCe(d,o,h,4)||(x=!0),b++;var w=JCe(d,u,t,n);return w=tSe(w)},"markovClustering"),rSe={markovClustering:wP,mcl:wP},nSe=l(function(e){return e},"identity"),Gse=l(function(e,t){return Math.abs(t-e)},"absDiff"),kP=l(function(e,t,r){return e+Gse(t,r)},"addAbsDiff"),TP=l(function(e,t,r){return e+Math.pow(r-t,2)},"addSquaredDiff"),iSe=l(function(e){return Math.sqrt(e)},"sqrt"),aSe=l(function(e,t,r){return Math.max(e,Gse(t,r))},"maxAbsDiff"),em=l(function(e,t,r,n,i){for(var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:nSe,s=n,o=0;o<e;o++)s=i(s,t(o),r(o));return a(s)},"getDistance"),ld={euclidean:l(function(e,t,r){return e>=2?em(e,t,r,0,TP,iSe):em(e,t,r,0,kP)},"euclidean"),squaredEuclidean:l(function(e,t,r){return em(e,t,r,0,TP)},"squaredEuclidean"),manhattan:l(function(e,t,r){return em(e,t,r,0,kP)},"manhattan"),max:l(function(e,t,r){return em(e,t,r,-1/0,aSe)},"max")};function ov(e,t,r,n,i,a){var s;return s=nn(e)?e:ld[e]||ld.euclidean,t===0&&nn(e)?s(i,a):s(t,r,n,i,a)}ld["squared-euclidean"]=ld.squaredEuclidean,ld.squaredeuclidean=ld.squaredEuclidean,l(ov,"clusteringDistance");var sSe=pi({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),KN=l(function(e){return sSe(e)},"setOptions"),k5=l(function(e,t,r,n,i){var a=i!=="kMedoids"?function(h){return r[h]}:function(h){return n[h](r)},s=l(function(h){return n[h](t)},"getQ"),o=r,u=t;return ov(e,n.length,a,s,o,u)},"getDist"),Xk=l(function(e,t,r){for(var n=r.length,i=new Array(n),a=new Array(n),s=new Array(t),o=null,u=0;u<n;u++)i[u]=e.min(r[u]).value,a[u]=e.max(r[u]).value;for(var h=0;h<t;h++){o=[];for(var d=0;d<n;d++)o[d]=Math.random()*(a[d]-i[d])+i[d];s[h]=o}return s},"randomCentroids"),qse=l(function(e,t,r,n,i){for(var a=1/0,s=0,o=0;o<t.length;o++){var u=k5(r,e,t[o],n,i);u<a&&(a=u,s=o)}return s},"classify"),jse=l(function(e,t,r){for(var n=[],i=null,a=0;a<t.length;a++)r[(i=t[a]).id()]===e&&n.push(i);return n},"buildCluster"),oSe=l(function(e,t,r){return Math.abs(t-e)<=r},"haveValuesConverged"),lSe=l(function(e,t,r){for(var n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++)if(Math.abs(e[n][i]-t[n][i])>r)return!1;return!0},"haveMatricesConverged"),cSe=l(function(e,t,r){for(var n=0;n<r;n++)if(e===t[n])return!0;return!1},"seenBefore"),_P=l(function(e,t){var r=new Array(t);if(e.length<50)for(var n=0;n<t;n++){for(var i=e[Math.floor(Math.random()*e.length)];cSe(i,r,n);)i=e[Math.floor(Math.random()*e.length)];r[n]=i}else for(var a=0;a<t;a++)r[a]=e[Math.floor(Math.random()*e.length)];return r},"randomMedoids"),EP=l(function(e,t,r){for(var n=0,i=0;i<t.length;i++)n+=k5("manhattan",t[i],e,r,"kMedoids");return n},"findCost"),uSe=l(function(e){var t,r=this.cy(),n=this.nodes(),i=null,a=KN(e),s=new Array(a.k),o={};a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,t=Xk(n,a.k,a.attributes)):t=Gn(a.testCentroids)==="object"?a.testCentroids:Xk(n,a.k,a.attributes):t=Xk(n,a.k,a.attributes);for(var u=!0,h=0;u&&h<a.maxIterations;){for(var d=0;d<n.length;d++)o[(i=n[d]).id()]=qse(i,t,a.distance,a.attributes,"kMeans");u=!1;for(var p=0;p<a.k;p++){var f=jse(p,n,o);if(f.length!==0){for(var g=a.attributes.length,m=t[p],y=new Array(g),v=new Array(g),x=0;x<g;x++){v[x]=0;for(var b=0;b<f.length;b++)i=f[b],v[x]+=a.attributes[x](i);y[x]=v[x]/f.length,oSe(y[x],m[x],a.sensitivityThreshold)||(u=!0)}t[p]=y,s[p]=r.collection(f)}}h++}return s},"kMeans"),hSe=l(function(e){var t,r,n=this.cy(),i=this.nodes(),a=null,s=KN(e),o=new Array(s.k),u={},h=new Array(s.k);s.testMode?typeof s.testCentroids=="number"||(t=Gn(s.testCentroids)==="object"?s.testCentroids:_P(i,s.k)):t=_P(i,s.k);for(var d=!0,p=0;d&&p<s.maxIterations;){for(var f=0;f<i.length;f++)u[(a=i[f]).id()]=qse(a,t,s.distance,s.attributes,"kMedoids");d=!1;for(var g=0;g<t.length;g++){var m=jse(g,i,u);if(m.length!==0){h[g]=EP(t[g],m,s.attributes);for(var y=0;y<m.length;y++)(r=EP(m[y],m,s.attributes))<h[g]&&(h[g]=r,t[g]=m[y],d=!0);o[g]=n.collection(m)}}p++}return o},"kMedoids"),dSe=l(function(e,t,r,n,i){for(var a,s,o=0;o<t.length;o++)for(var u=0;u<e.length;u++)n[o][u]=Math.pow(r[o][u],i.m);for(var h=0;h<e.length;h++)for(var d=0;d<i.attributes.length;d++){a=0,s=0;for(var p=0;p<t.length;p++)a+=n[p][h]*i.attributes[d](t[p]),s+=n[p][h];e[h][d]=a/s}},"updateCentroids"),pSe=l(function(e,t,r,n,i){for(var a=0;a<e.length;a++)t[a]=e[a].slice();for(var s,o,u,h=2/(i.m-1),d=0;d<r.length;d++)for(var p=0;p<n.length;p++){s=0;for(var f=0;f<r.length;f++)o=k5(i.distance,n[p],r[d],i.attributes,"cmeans"),u=k5(i.distance,n[p],r[f],i.attributes,"cmeans"),s+=Math.pow(o/u,h);e[p][d]=1/s}},"updateMembership"),fSe=l(function(e,t,r,n){for(var i,a,s=new Array(r.k),o=0;o<s.length;o++)s[o]=[];for(var u=0;u<t.length;u++){i=-1/0,a=-1;for(var h=0;h<t[0].length;h++)t[u][h]>i&&(i=t[u][h],a=h);s[a].push(e[u])}for(var d=0;d<s.length;d++)s[d]=n.collection(s[d]);return s},"assign"),CP=l(function(e){var t,r,n,i,a=this.cy(),s=this.nodes(),o=KN(e);n=new Array(s.length);for(var u=0;u<s.length;u++)n[u]=new Array(o.k);r=new Array(s.length);for(var h=0;h<s.length;h++)r[h]=new Array(o.k);for(var d=0;d<s.length;d++){for(var p=0,f=0;f<o.k;f++)r[d][f]=Math.random(),p+=r[d][f];for(var g=0;g<o.k;g++)r[d][g]=r[d][g]/p}t=new Array(o.k);for(var m=0;m<o.k;m++)t[m]=new Array(o.attributes.length);i=new Array(s.length);for(var y=0;y<s.length;y++)i[y]=new Array(o.k);for(var v=!0,x=0;v&&x<o.maxIterations;)v=!1,dSe(t,s,r,i,o),pSe(r,n,t,s,o),lSe(r,n,o.sensitivityThreshold)||(v=!0),x++;return{clusters:fSe(s,r,o,a),degreeOfMembership:r}},"fuzzyCMeans"),gSe={kMeans:uSe,kMedoids:hSe,fuzzyCMeans:CP,fcm:CP},mSe=pi({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),ySe={single:"min",complete:"max"},vSe=l(function(e){var t=mSe(e),r=ySe[t.linkage];return r!=null&&(t.linkage=r),t},"setOptions"),SP=l(function(e,t,r,n,i){for(var a,s=0,o=1/0,u=i.attributes,h=l(function(C,E){return ov(i.distance,u.length,function(_){return u[_](C)},function(_){return u[_](E)},C,E)},"getDist"),d=0;d<e.length;d++){var p=e[d].key,f=r[p][n[p]];f<o&&(s=p,o=f)}if(i.mode==="threshold"&&o>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var g,m=t[s],y=t[n[s]];g=i.mode==="dendrogram"?{left:m,right:y,key:m.key}:{value:m.value.concat(y.value),key:m.key},e[m.index]=g,e.splice(y.index,1),t[m.key]=g;for(var v=0;v<e.length;v++){var x=e[v];m.key===x.key?a=1/0:i.linkage==="min"?(a=r[m.key][x.key],r[m.key][x.key]>r[y.key][x.key]&&(a=r[y.key][x.key])):i.linkage==="max"?(a=r[m.key][x.key],r[m.key][x.key]<r[y.key][x.key]&&(a=r[y.key][x.key])):a=i.linkage==="mean"?(r[m.key][x.key]*m.size+r[y.key][x.key]*y.size)/(m.size+y.size):i.mode==="dendrogram"?h(x.value,m.value):h(x.value[0],m.value[0]),r[m.key][x.key]=r[x.key][m.key]=a}for(var b=0;b<e.length;b++){var w=e[b].key;if(n[w]===m.key||n[w]===y.key){for(var T=w,k=0;k<e.length;k++){var R=e[k].key;r[w][R]<r[w][T]&&(T=R)}n[w]=T}e[b].index=b}return m.key=y.key=m.index=y.index=null,!0},"mergeClosest"),Jv=l(function e(t,r,n){t&&(t.value?r.push(t.value):(t.left&&e(t.left,r),t.right&&e(t.right,r)))},"getAllChildren"),xSe=l(function e(t,r){if(!t)return"";if(t.left&&t.right){var n=e(t.left,r),i=e(t.right,r),a=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:a.id()}}),r.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}return t.value?t.value.id():void 0},"buildDendrogram"),bSe=l(function e(t,r,n){if(!t)return[];var i=[],a=[],s=[];return r===0?(t.left&&Jv(t.left,i),t.right&&Jv(t.right,a),s=i.concat(a),[n.collection(s)]):r===1?t.value?[n.collection(t.value)]:(t.left&&Jv(t.left,i),t.right&&Jv(t.right,a),[n.collection(i),n.collection(a)]):t.value?[n.collection(t.value)]:(t.left&&(i=e(t.left,r-1,n)),t.right&&(a=e(t.right,r-1,n)),i.concat(a))},"buildClustersFromTree"),AP=l(function(e){for(var t=this.cy(),r=this.nodes(),n=vSe(e),i=n.attributes,a=l(function(x,b){return ov(n.distance,i.length,function(w){return i[w](x)},function(w){return i[w](b)},x,b)},"getDist"),s=[],o=[],u=[],h=[],d=0;d<r.length;d++){var p={value:n.mode==="dendrogram"?r[d]:[r[d]],key:d,index:d};s[d]=p,h[d]=p,o[d]=[],u[d]=0}for(var f=0;f<s.length;f++)for(var g=0;g<=f;g++){var m=void 0;m=n.mode==="dendrogram"?f===g?1/0:a(s[f].value,s[g].value):f===g?1/0:a(s[f].value[0],s[g].value[0]),o[f][g]=m,o[g][f]=m,m<o[f][u[f]]&&(u[f]=g)}for(var y,v=SP(s,h,o,u,n);v;)v=SP(s,h,o,u,n);return n.mode==="dendrogram"?(y=bSe(s[0],n.dendrogramDepth,t),n.addDendrogram&&xSe(s[0],t)):(y=new Array(s.length),s.forEach(function(x,b){x.key=x.index=null,y[b]=t.collection(x.value)})),y},"hierarchicalClustering"),wSe={hierarchicalClustering:AP,hca:AP},kSe=pi({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),TSe=l(function(e){var t=e.damping,r=e.preference;.5<=t&&t<1||hn("Damping must range on [0.5, 1).  Got: ".concat(t));var n=["median","mean","min","max"];return n.some(function(i){return i===r})||lt(r)||hn("Preference must be one of [".concat(n.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(r)),kSe(e)},"setOptions"),_Se=l(function(e,t,r,n){var i=l(function(a,s){return n[s](a)},"attr");return-ov(e,n.length,function(a){return i(t,a)},function(a){return i(r,a)},t,r)},"getSimilarity"),ESe=l(function(e,t){return t==="median"?TCe(e):t==="mean"?kCe(e):t==="min"?bCe(e):t==="max"?wCe(e):t},"getPreference"),CSe=l(function(e,t,r){for(var n=[],i=0;i<e;i++)t[i*e+i]+r[i*e+i]>0&&n.push(i);return n},"findExemplars"),LP=l(function(e,t,r){for(var n=[],i=0;i<e;i++){for(var a=-1,s=-1/0,o=0;o<r.length;o++){var u=r[o];t[i*e+u]>s&&(a=u,s=t[i*e+u])}a>0&&n.push(a)}for(var h=0;h<r.length;h++)n[r[h]]=r[h];return n},"assignClusters"),SSe=l(function(e,t,r){for(var n=LP(e,t,r),i=0;i<r.length;i++){for(var a=[],s=0;s<n.length;s++)n[s]===r[i]&&a.push(s);for(var o=-1,u=-1/0,h=0;h<a.length;h++){for(var d=0,p=0;p<a.length;p++)d+=t[a[p]*e+a[h]];d>u&&(o=h,u=d)}r[i]=a[o]}return n=LP(e,t,r)},"assign"),NP=l(function(e){for(var t,r,n,i,a,s,o=this.cy(),u=this.nodes(),h=TSe(e),d={},p=0;p<u.length;p++)d[u[p].id()]=p;r=(t=u.length)*t,n=new Array(r);for(var f=0;f<r;f++)n[f]=-1/0;for(var g=0;g<t;g++)for(var m=0;m<t;m++)g!==m&&(n[g*t+m]=_Se(h.distance,u[g],u[m],h.attributes));i=ESe(n,h.preference);for(var y=0;y<t;y++)n[y*t+y]=i;a=new Array(r);for(var v=0;v<r;v++)a[v]=0;s=new Array(r);for(var x=0;x<r;x++)s[x]=0;for(var b=new Array(t),w=new Array(t),T=new Array(t),k=0;k<t;k++)b[k]=0,w[k]=0,T[k]=0;for(var R,C=new Array(t*h.minIterations),E=0;E<C.length;E++)C[E]=0;for(R=0;R<h.maxIterations;R++){for(var _=0;_<t;_++){for(var L=-1/0,D=-1/0,B=-1,S=0,N=0;N<t;N++)b[N]=a[_*t+N],(S=s[_*t+N]+n[_*t+N])>=L?(D=L,L=S,B=N):S>D&&(D=S);for(var A=0;A<t;A++)a[_*t+A]=(1-h.damping)*(n[_*t+A]-L)+h.damping*b[A];a[_*t+B]=(1-h.damping)*(n[_*t+B]-D)+h.damping*b[B]}for(var M=0;M<t;M++){for(var O=0,I=0;I<t;I++)b[I]=s[I*t+M],w[I]=Math.max(0,a[I*t+M]),O+=w[I];O-=w[M],w[M]=a[M*t+M],O+=w[M];for(var P=0;P<t;P++)s[P*t+M]=(1-h.damping)*Math.min(0,O-w[P])+h.damping*b[P];s[M*t+M]=(1-h.damping)*(O-w[M])+h.damping*b[M]}for(var $=0,z=0;z<t;z++){var G=s[z*t+z]+a[z*t+z]>0?1:0;C[R%h.minIterations*t+z]=G,$+=G}if($>0&&(R>=h.minIterations-1||R==h.maxIterations-1)){for(var q=0,J=0;J<t;J++){T[J]=0;for(var ie=0;ie<h.minIterations;ie++)T[J]+=C[ie*t+J];T[J]!==0&&T[J]!==h.minIterations||q++}if(q===t)break}}for(var te=CSe(t,a,s),W=SSe(t,n,te),H={},X=0;X<te.length;X++)H[te[X]]=[];for(var Q=0;Q<u.length;Q++){var ne=W[d[u[Q].id()]];ne!=null&&H[ne].push(u[Q])}for(var ee=new Array(te.length),pe=0;pe<te.length;pe++)ee[pe]=o.collection(H[te[pe]]);return ee},"affinityPropagation"),ASe={affinityPropagation:NP,ap:NP},LSe=pi({root:void 0,directed:!1}),NSe={hierholzer:l(function(e){if(!cr(e)){var t=arguments;e={root:t[0],directed:t[1]}}var r,n,i,a=LSe(e),s=a.root,o=a.directed,u=this,h=!1;s&&(i=Nt(s)?this.filter(s)[0].id():s[0].id());var d={},p={};o?u.forEach(function(x){var b=x.id();if(x.isNode()){var w=x.indegree(!0),T=x.outdegree(!0),k=w-T,R=T-w;k==1?r?h=!0:r=b:R==1?n?h=!0:n=b:(R>1||k>1)&&(h=!0),d[b]=[],x.outgoers().forEach(function(C){C.isEdge()&&d[b].push(C.id())})}else p[b]=[void 0,x.target().id()]}):u.forEach(function(x){var b=x.id();x.isNode()?(x.degree(!0)%2&&(r?n?h=!0:n=b:r=b),d[b]=[],x.connectedEdges().forEach(function(w){return d[b].push(w.id())})):p[b]=[x.source().id(),x.target().id()]});var f={found:!1,trail:void 0};if(h)return f;if(n&&r)if(o){if(i&&n!=i)return f;i=n}else{if(i&&n!=i&&r!=i)return f;i||(i=n)}else i||(i=u[0].id());var g=l(function(x){for(var b,w,T,k=x,R=[x];d[k].length;)b=d[k].shift(),w=p[b][0],k!=(T=p[b][1])?(d[T]=d[T].filter(function(C){return C!=b}),k=T):o||k==w||(d[w]=d[w].filter(function(C){return C!=b}),k=w),R.unshift(b),R.unshift(k);return R},"walk"),m=[],y=[];for(y=g(i);y.length!=1;)d[y[0]].length==0?(m.unshift(u.getElementById(y.shift())),m.unshift(u.getElementById(y.shift()))):y=g(y.shift()).concat(y);for(var v in m.unshift(u.getElementById(y.shift())),d)if(d[v].length)return f;return f.found=!0,f.trail=this.spawn(m,!0),f},"hierholzer")},ex=l(function(){var e=this,t={},r=0,n=0,i=[],a=[],s={},o=l(function(d,p){for(var f=a.length-1,g=[],m=e.spawn();a[f].x!=d||a[f].y!=p;)g.push(a.pop().edge),f--;g.push(a.pop().edge),g.forEach(function(y){var v=y.connectedNodes().intersection(e);m.merge(y),v.forEach(function(x){var b=x.id(),w=x.connectedEdges().intersection(e);m.merge(x),t[b].cutVertex?m.merge(w.filter(function(T){return T.isLoop()})):m.merge(w)})}),i.push(m)},"buildComponent"),u=l(function d(p,f,g){p===g&&(n+=1),t[f]={id:r,low:r++,cutVertex:!1};var m,y,v,x,b=e.getElementById(f).connectedEdges().intersection(e);b.size()===0?i.push(e.spawn(e.getElementById(f))):b.forEach(function(w){m=w.source().id(),y=w.target().id(),(v=m===f?y:m)!==g&&(x=w.id(),s[x]||(s[x]=!0,a.push({x:f,y:v,edge:w})),v in t?t[f].low=Math.min(t[f].low,t[v].id):(d(p,v,f),t[f].low=Math.min(t[f].low,t[v].low),t[f].id<=t[v].low&&(t[f].cutVertex=!0,o(f,v))))})},"biconnectedSearch");e.forEach(function(d){if(d.isNode()){var p=d.id();p in t||(n=0,u(p,p),t[p].cutVertex=n>1)}});var h=Object.keys(t).filter(function(d){return t[d].cutVertex}).map(function(d){return e.getElementById(d)});return{cut:e.spawn(h),components:i}},"hopcroftTarjanBiconnected"),ISe={hopcroftTarjanBiconnected:ex,htbc:ex,htb:ex,hopcroftTarjanBiconnectedComponents:ex},tx=l(function(){var e=this,t={},r=0,n=[],i=[],a=e.spawn(e),s=l(function o(u){if(i.push(u),t[u]={index:r,low:r++,explored:!1},e.getElementById(u).connectedEdges().intersection(e).forEach(function(g){var m=g.target().id();m!==u&&(m in t||o(m),t[m].explored||(t[u].low=Math.min(t[u].low,t[m].low)))}),t[u].index===t[u].low){for(var h=e.spawn();;){var d=i.pop();if(h.merge(e.getElementById(d)),t[d].low=t[u].index,t[d].explored=!0,d===u)break}var p=h.edgesWith(h),f=h.merge(p);n.push(f),a=a.difference(f)}},"stronglyConnectedSearch");return e.forEach(function(o){if(o.isNode()){var u=o.id();u in t||s(u)}}),{cut:a,components:n}},"tarjanStronglyConnected"),Yse={};[Cm,lCe,cCe,hCe,pCe,gCe,vCe,qCe,Vh,Xh,FC,rSe,gSe,wSe,ASe,NSe,ISe,{tarjanStronglyConnected:tx,tsc:tx,tscc:tx,tarjanStronglyConnectedComponents:tx}].forEach(function(e){$t(Yse,e)});var Lo=l(function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))},"api");Lo.prototype={fulfill:l(function(e){return IP(this,1,"fulfillValue",e)},"fulfill"),reject:l(function(e){return IP(this,2,"rejectReason",e)},"reject"),then:l(function(e,t){var r=this,n=new Lo;return r.onFulfilled.push(RP(e,n,"fulfill")),r.onRejected.push(RP(t,n,"reject")),Wse(r),n.proxy},"then")};var IP=l(function(e,t,r,n){return e.state===0&&(e.state=t,e[r]=n,Wse(e)),e},"deliver"),Wse=l(function(e){e.state===1?MP(e,"onFulfilled",e.fulfillValue):e.state===2&&MP(e,"onRejected",e.rejectReason)},"execute"),MP=l(function(e,t,r){if(e[t].length!==0){var n=e[t];e[t]=[];var i=l(function(){for(var a=0;a<n.length;a++)n[a](r)},"func");typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},"execute_handlers"),RP=l(function(e,t,r){return function(n){if(typeof e!="function")t[r].call(t,n);else{var i;try{i=e(n)}catch(a){return void t.reject(a)}MSe(t,i)}}},"resolver"),MSe=l(function e(t,r){if(t!==r&&t.proxy!==r){var n;if(Gn(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(a){return void t.reject(a)}if(typeof n!="function")t.fulfill(r);else{var i=!1;try{n.call(r,function(a){i||(i=!0,a===r?t.reject(new TypeError("circular thenable chain")):e(t,a))},function(a){i||(i=!0,t.reject(a))})}catch(a){i||t.reject(a)}}}else t.reject(new TypeError("cannot resolve promise with itself"))},"resolve");Lo.all=function(e){return new Lo(function(t,r){for(var n=new Array(e.length),i=0,a=l(function(o,u){n[o]=u,++i===e.length&&t(n)},"fulfill"),s=0;s<e.length;s++)(function(o){var u=e[o];u!=null&&u.then!=null?u.then(function(h){a(o,h)},function(h){r(h)}):a(o,u)})(s)})},Lo.resolve=function(e){return new Lo(function(t,r){t(e)})},Lo.reject=function(e){return new Lo(function(t,r){r(e)})};var B0=typeof Promise<"u"?Promise:Lo,zC=l(function(e,t,r){var n=GN(e),i=!n,a=this._private=$t({duration:1e3},t,r);if(a.target=e,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&nn(a.complete)&&a.completes.push(a.complete),i){var s=e.position();a.startPosition=a.startPosition||{x:s.x,y:s.y},a.startStyle=a.startStyle||e.cy().style().getAnimationStartStyle(e,a.style)}if(n){var o=e.pan();a.startPan={x:o.x,y:o.y},a.startZoom=e.zoom()}this.length=1,this[0]=this},"Animation"),Lc=zC.prototype;$t(Lc,{instanceString:l(function(){return"animation"},"instanceString"),hook:l(function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),Ea(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},"hook"),play:l(function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},"play"),playing:l(function(){return this._private.playing},"playing"),apply:l(function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},"apply"),applying:l(function(){return this._private.applying},"applying"),pause:l(function(){var e=this._private;return e.playing=!1,e.started=!1,this},"pause"),stop:l(function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},"stop"),rewind:l(function(){return this.progress(0)},"rewind"),fastforward:l(function(){return this.progress(1)},"fastforward"),time:l(function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},"time"),progress:l(function(e){var t=this._private,r=t.playing;return e===void 0?t.progress:(r&&this.pause(),t.progress=e,t.started=!1,r&&this.play(),this)},"progress"),completed:l(function(){return this._private.progress===1},"completed"),reverse:l(function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var r=l(function(o,u){var h=e[o];h!=null&&(e[o]=e[u],e[u]=h)},"swap");if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),e.style)for(var n=0;n<e.style.length;n++){var i=e.style[n],a=i.name,s=e.startStyle[a];e.startStyle[a]=i,e.style[n]=s}return t&&this.play(),this},"reverse"),promise:l(function(e){var t,r=this._private;return e==="frame"?t=r.frames:t=r.completes,new B0(function(n,i){t.push(function(){n()})})},"promise")}),Lc.complete=Lc.completed,Lc.run=Lc.play,Lc.running=Lc.playing;var RSe={animated:l(function(){return l(function(){var e=this,t=e.length!==void 0?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var r=t[0];return r?r._private.animation.current.length>0:void 0},"animatedImpl")},"animated"),clearQueue:l(function(){return l(function(){var e=this,t=e.length!==void 0?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var r=0;r<t.length;r++)t[r]._private.animation.queue=[];return this},"clearQueueImpl")},"clearQueue"),delay:l(function(){return l(function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this},"delayImpl")},"delay"),delayAnimation:l(function(){return l(function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this},"delayAnimationImpl")},"delayAnimation"),animation:l(function(){return l(function(e,t){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this,s=!n,o=!s;if(!a.styleEnabled())return this;var u=a.style();if(e=$t({},e,t),Object.keys(e).length===0)return new zC(i[0],e);switch(e.duration===void 0&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(o&&(e.style=u.getPropsList(e.style||e.css),e.css=void 0),o&&e.renderedPosition!=null){var h=e.renderedPosition,d=a.pan(),p=a.zoom();e.position=Pse(h,p,d)}if(s&&e.panBy!=null){var f=e.panBy,g=a.pan();e.pan={x:g.x+f.x,y:g.y+f.y}}var m=e.center||e.centre;if(s&&m!=null){var y=a.getCenterPan(m.eles,e.zoom);y!=null&&(e.pan=y)}if(s&&e.fit!=null){var v=e.fit,x=a.getFitViewport(v.eles||v.boundingBox,v.padding);x!=null&&(e.pan=x.pan,e.zoom=x.zoom)}if(s&&cr(e.zoom)){var b=a.getZoomedViewport(e.zoom);b!=null?(b.zoomed&&(e.zoom=b.zoom),b.panned&&(e.pan=b.pan)):e.zoom=null}return new zC(i[0],e)},"animationImpl")},"animation"),animate:l(function(){return l(function(e,t){var r=this,n=r.length!==void 0?r:[r];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=$t({},e,t));for(var i=0;i<n.length;i++){var a=n[i],s=a.animated()&&(e.queue===void 0||e.queue);a.animation(e,s?{queue:!0}:void 0).play()}return this},"animateImpl")},"animate"),stop:l(function(){return l(function(e,t){var r=this,n=r.length!==void 0?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var a=0;a<n.length;a++){for(var s=n[a]._private,o=s.animation.current,u=0;u<o.length;u++){var h=o[u]._private;t&&(h.duration=0)}e&&(s.animation.queue=[]),t||(s.animation.current=[])}return i.notify("draw"),this},"stopImpl")},"stop")},kw=Array.isArray,DSe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,OSe=/^\w*$/;function Hse(e,t){if(kw(e))return!1;var r=typeof e;return!(r!="number"&&r!="symbol"&&r!="boolean"&&e!=null&&!av(e))||OSe.test(e)||!DSe.test(e)||t!=null&&e in Object(t)}l(Hse,"isKey");var PSe=Hse;function Vse(e){if(!sh(e))return!1;var t=Tse(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"}l(Vse,"isFunction");var BSe=Vse,Kk=vw["__core-js_shared__"],DP=function(){var e=/[^.]+$/.exec(Kk&&Kk.keys&&Kk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Xse(e){return!!DP&&DP in e}l(Xse,"isMasked");var $Se=Xse,FSe=Function.prototype.toString;function Kse(e){if(e!=null){try{return FSe.call(e)}catch{}try{return e+""}catch{}}return""}l(Kse,"toSource");var zSe=Kse,USe=/^\[object .+?Constructor\]$/,GSe=Function.prototype,qSe=Object.prototype,jSe=GSe.toString,YSe=qSe.hasOwnProperty,WSe=RegExp("^"+jSe.call(YSe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zse(e){return!(!sh(e)||$Se(e))&&(BSe(e)?WSe:USe).test(zSe(e))}l(Zse,"baseIsNative");var HSe=Zse;function Qse(e,t){return e==null?void 0:e[t]}l(Qse,"getValue$1");var VSe=Qse;function Jse(e,t){var r=VSe(e,t);return HSe(r)?r:void 0}l(Jse,"getNative");var ZN=Jse,h2=ZN(Object,"create");function eoe(){this.__data__=h2?h2(null):{},this.size=0}l(eoe,"hashClear");var XSe=eoe;function toe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}l(toe,"hashDelete");var KSe=toe,ZSe=Object.prototype.hasOwnProperty;function roe(e){var t=this.__data__;if(h2){var r=t[e];return r==="__lodash_hash_undefined__"?void 0:r}return ZSe.call(t,e)?t[e]:void 0}l(roe,"hashGet");var QSe=roe,JSe=Object.prototype.hasOwnProperty;function noe(e){var t=this.__data__;return h2?t[e]!==void 0:JSe.call(t,e)}l(noe,"hashHas");var e8e=noe;function ioe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=h2&&t===void 0?"__lodash_hash_undefined__":t,this}l(ioe,"hashSet");var t8e=ioe;function Wc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l(Wc,"Hash"),Wc.prototype.clear=XSe,Wc.prototype.delete=KSe,Wc.prototype.get=QSe,Wc.prototype.has=e8e,Wc.prototype.set=t8e;var OP=Wc;function aoe(){this.__data__=[],this.size=0}l(aoe,"listCacheClear");var r8e=aoe;function soe(e,t){return e===t||e!=e&&t!=t}l(soe,"eq");var ooe=soe;function loe(e,t){for(var r=e.length;r--;)if(ooe(e[r][0],t))return r;return-1}l(loe,"assocIndexOf");var Tw=loe,n8e=Array.prototype.splice;function coe(e){var t=this.__data__,r=Tw(t,e);return!(r<0)&&(r==t.length-1?t.pop():n8e.call(t,r,1),--this.size,!0)}l(coe,"listCacheDelete");var i8e=coe;function uoe(e){var t=this.__data__,r=Tw(t,e);return r<0?void 0:t[r][1]}l(uoe,"listCacheGet");var a8e=uoe;function hoe(e){return Tw(this.__data__,e)>-1}l(hoe,"listCacheHas");var s8e=hoe;function doe(e,t){var r=this.__data__,n=Tw(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}l(doe,"listCacheSet");var o8e=doe;function Hc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l(Hc,"ListCache"),Hc.prototype.clear=r8e,Hc.prototype.delete=i8e,Hc.prototype.get=a8e,Hc.prototype.has=s8e,Hc.prototype.set=o8e;var l8e=Hc,c8e=ZN(vw,"Map");function poe(){this.size=0,this.__data__={hash:new OP,map:new(c8e||l8e),string:new OP}}l(poe,"mapCacheClear");var u8e=poe;function foe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}l(foe,"isKeyable");var h8e=foe;function goe(e,t){var r=e.__data__;return h8e(t)?r[typeof t=="string"?"string":"hash"]:r.map}l(goe,"getMapData");var _w=goe;function moe(e){var t=_w(this,e).delete(e);return this.size-=t?1:0,t}l(moe,"mapCacheDelete");var d8e=moe;function yoe(e){return _w(this,e).get(e)}l(yoe,"mapCacheGet");var p8e=yoe;function voe(e){return _w(this,e).has(e)}l(voe,"mapCacheHas");var f8e=voe;function xoe(e,t){var r=_w(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}l(xoe,"mapCacheSet");var g8e=xoe;function Vc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l(Vc,"MapCache"),Vc.prototype.clear=u8e,Vc.prototype.delete=d8e,Vc.prototype.get=p8e,Vc.prototype.has=f8e,Vc.prototype.set=g8e;var boe=Vc;function T5(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var r=l(function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s},"memoized");return r.cache=new(T5.Cache||boe),r}l(T5,"memoize"),T5.Cache=boe;var m8e=T5;function woe(e){var t=m8e(e,function(n){return r.size===500&&r.clear(),n}),r=t.cache;return t}l(woe,"memoizeCapped");var y8e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v8e=/\\(\\)?/g,x8e=woe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(y8e,function(r,n,i,a){t.push(i?a.replace(v8e,"$1"):n||r)}),t}),koe=x8e;function Toe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}l(Toe,"arrayMap");var _oe=Toe,PP=m0?m0.prototype:void 0,BP=PP?PP.toString:void 0;function QN(e){if(typeof e=="string")return e;if(kw(e))return _oe(e,QN)+"";if(av(e))return BP?BP.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}l(QN,"baseToString");var b8e=QN;function Eoe(e){return e==null?"":b8e(e)}l(Eoe,"toString$1");var Coe=Eoe;function Soe(e,t){return kw(e)?e:PSe(e,t)?[e]:koe(Coe(e))}l(Soe,"castPath");var Aoe=Soe;function Loe(e){if(typeof e=="string"||av(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}l(Loe,"toKey");var JN=Loe;function Noe(e,t){for(var r=0,n=(t=Aoe(t,e)).length;e!=null&&r<n;)e=e[JN(t[r++])];return r&&r==n?e:void 0}l(Noe,"baseGet");var w8e=Noe;function Ioe(e,t,r){var n=e==null?void 0:w8e(e,t);return n===void 0?r:n}l(Ioe,"get");var k8e=Ioe,$P=function(){try{var e=ZN(Object,"defineProperty");return e({},"",{}),e}catch{}}();function Moe(e,t,r){t=="__proto__"&&$P?$P(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}l(Moe,"baseAssignValue");var T8e=Moe,_8e=Object.prototype.hasOwnProperty;function Roe(e,t,r){var n=e[t];_8e.call(e,t)&&ooe(n,r)&&(r!==void 0||t in e)||T8e(e,t,r)}l(Roe,"assignValue");var E8e=Roe,C8e=/^(?:0|[1-9]\d*)$/;function Doe(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&(r=="number"||r!="symbol"&&C8e.test(e))&&e>-1&&e%1==0&&e<t}l(Doe,"isIndex");var S8e=Doe;function Ooe(e,t,r,n){if(!sh(e))return e;for(var i=-1,a=(t=Aoe(t,e)).length,s=a-1,o=e;o!=null&&++i<a;){var u=JN(t[i]),h=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(i!=s){var d=o[u];(h=n?n(d,u,o):void 0)===void 0&&(h=sh(d)?d:S8e(t[i+1])?[]:{})}E8e(o,u,h),o=o[u]}return e}l(Ooe,"baseSet");var A8e=Ooe;function Poe(e,t,r){return e==null?e:A8e(e,t,r)}l(Poe,"set");var L8e=Poe;function Boe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}l(Boe,"copyArray");var N8e=Boe;function $oe(e){return kw(e)?_oe(e,JN):av(e)?[e]:N8e(koe(Coe(e)))}l($oe,"toPath");var I8e=$oe,M8e={data:l(function(e){return e=$t({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:l(function(t){},"beforeGet"),beforeSet:l(function(t,r){},"beforeSet"),onSet:l(function(t){},"onSet"),canSet:l(function(t){return!0},"canSet")},e),l(function(t,r){var n=e,i=this,a=i.length!==void 0,s=a?i:[i],o=a?i[0]:i;if(Nt(t)){var u,h=t.indexOf(".")!==-1&&I8e(t);if(n.allowGetting&&r===void 0)return o&&(n.beforeGet(o),u=h&&o._private[n.field][t]===void 0?k8e(o._private[n.field],h):o._private[n.field][t]),u;if(n.allowSetting&&r!==void 0&&!n.immutableKeys[t]){var d=FN({},t,r);n.beforeSet(i,d);for(var p=0,f=s.length;p<f;p++){var g=s[p];n.canSet(g)&&(h&&o._private[n.field][t]===void 0?L8e(g._private[n.field],h,r):g._private[n.field][t]=r)}n.updateStyle&&i.updateStyle(),n.onSet(i),n.settingTriggersEvent&&i[n.triggerFnName](n.settingEvent)}}else if(n.allowSetting&&cr(t)){var m,y,v=t,x=Object.keys(v);n.beforeSet(i,v);for(var b=0;b<x.length;b++)if(y=v[m=x[b]],!n.immutableKeys[m])for(var w=0;w<s.length;w++){var T=s[w];n.canSet(T)&&(T._private[n.field][m]=y)}n.updateStyle&&i.updateStyle(),n.onSet(i),n.settingTriggersEvent&&i[n.triggerFnName](n.settingEvent)}else if(n.allowBinding&&nn(t)){var k=t;i.on(n.bindingEvent,k)}else if(n.allowGetting&&t===void 0){var R;return o&&(n.beforeGet(o),R=o._private[n.field]),R}return i},"dataImpl")},"data"),removeData:l(function(e){return e=$t({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),l(function(t){var r=e,n=this,i=n.length!==void 0?n:[n];if(Nt(t)){for(var a=t.split(/\s+/),s=a.length,o=0;o<s;o++){var u=a[o];if(!uc(u)&&!r.immutableKeys[u])for(var h=0,d=i.length;h<d;h++)i[h]._private[r.field][u]=void 0}r.triggerEvent&&n[r.triggerFnName](r.event)}else if(t===void 0){for(var p=0,f=i.length;p<f;p++)for(var g=i[p]._private[r.field],m=Object.keys(g),y=0;y<m.length;y++){var v=m[y];!r.immutableKeys[v]&&(g[v]=void 0)}r.triggerEvent&&n[r.triggerFnName](r.event)}return n},"removeDataImpl")},"removeData")},R8e={eventAliasesOn:l(function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(r,n){var i=this,a=Array.prototype.slice.call(arguments,0);return new B0(function(s,o){var u=l(function(p){i.off.apply(i,d),s(p)},"callback"),h=a.concat([u]),d=h.concat([]);i.on.apply(i,h)})}},"eventAliasesOn")},br={};[RSe,M8e,R8e].forEach(function(e){$t(br,e)});var D8e={animate:br.animate(),animation:br.animation(),animated:br.animated(),clearQueue:br.clearQueue(),delay:br.delay(),delayAnimation:br.delayAnimation(),stop:br.stop()},hb={classes:l(function(e){var t=this;if(e===void 0){var r=[];return t[0]._private.classes.forEach(function(f){return r.push(f)}),r}Dr(e)||(e=(e||"").match(/\S+/g)||[]);for(var n=[],i=new P0(e),a=0;a<t.length;a++){for(var s=t[a],o=s._private,u=o.classes,h=!1,d=0;d<e.length;d++){var p=e[d];if(!u.has(p)){h=!0;break}}h||(h=u.size!==e.length),h&&(o.classes=i,n.push(s))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),t},"classes"),addClass:l(function(e){return this.toggleClass(e,!0)},"addClass"),hasClass:l(function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},"hasClass"),toggleClass:l(function(e,t){Dr(e)||(e=e.match(/\S+/g)||[]);for(var r=this,n=t===void 0,i=[],a=0,s=r.length;a<s;a++)for(var o=r[a],u=o._private.classes,h=!1,d=0;d<e.length;d++){var p=e[d],f=u.has(p),g=!1;t||n&&!f?(u.add(p),g=!0):(!t||n&&f)&&(u.delete(p),g=!0),!h&&g&&(i.push(o),h=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},"toggleClass"),removeClass:l(function(e){return this.toggleClass(e,!1)},"removeClass"),flashClass:l(function(e,t){var r=this;if(t==null)t=250;else if(t===0)return r;return r.addClass(e),setTimeout(function(){r.removeClass(e)},t),r},"flashClass")};hb.className=hb.classNames=hb.classes;var or={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:jN,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};or.variable="(?:[\\w-.]|(?:\\\\"+or.metaChar+"))+",or.className="(?:[\\w-]|(?:\\\\"+or.metaChar+"))+",or.value=or.string+"|"+or.number,or.id=or.variable,function(){var e,t,r;for(e=or.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],or.comparatorOp+="|@"+t;for(e=or.comparatorOp.split("|"),r=0;r<e.length;r++)(t=e[r]).indexOf("!")>=0||t!=="="&&(or.comparatorOp+="|\\!"+t)}();var Lr=l(function(){return{checks:[]}},"newQuery"),eI=0,Foe=1,zoe=2,tI=3,rI=4,nI=5,iI=6,aI=7,Ew=8,sI=9,UC=10,GC=11,Uoe=12,Goe=13,qC=14,oI=15,lI=16,_5=17,E5=18,C5=19,cd=20,jC=[{selector:":selected",matches:l(function(e){return e.selected()},"matches")},{selector:":unselected",matches:l(function(e){return!e.selected()},"matches")},{selector:":selectable",matches:l(function(e){return e.selectable()},"matches")},{selector:":unselectable",matches:l(function(e){return!e.selectable()},"matches")},{selector:":locked",matches:l(function(e){return e.locked()},"matches")},{selector:":unlocked",matches:l(function(e){return!e.locked()},"matches")},{selector:":visible",matches:l(function(e){return e.visible()},"matches")},{selector:":hidden",matches:l(function(e){return!e.visible()},"matches")},{selector:":transparent",matches:l(function(e){return e.transparent()},"matches")},{selector:":grabbed",matches:l(function(e){return e.grabbed()},"matches")},{selector:":free",matches:l(function(e){return!e.grabbed()},"matches")},{selector:":removed",matches:l(function(e){return e.removed()},"matches")},{selector:":inside",matches:l(function(e){return!e.removed()},"matches")},{selector:":grabbable",matches:l(function(e){return e.grabbable()},"matches")},{selector:":ungrabbable",matches:l(function(e){return!e.grabbable()},"matches")},{selector:":animated",matches:l(function(e){return e.animated()},"matches")},{selector:":unanimated",matches:l(function(e){return!e.animated()},"matches")},{selector:":parent",matches:l(function(e){return e.isParent()},"matches")},{selector:":childless",matches:l(function(e){return e.isChildless()},"matches")},{selector:":child",matches:l(function(e){return e.isChild()},"matches")},{selector:":orphan",matches:l(function(e){return e.isOrphan()},"matches")},{selector:":nonorphan",matches:l(function(e){return e.isChild()},"matches")},{selector:":compound",matches:l(function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()},"matches")},{selector:":loop",matches:l(function(e){return e.isLoop()},"matches")},{selector:":simple",matches:l(function(e){return e.isSimple()},"matches")},{selector:":active",matches:l(function(e){return e.active()},"matches")},{selector:":inactive",matches:l(function(e){return!e.active()},"matches")},{selector:":backgrounding",matches:l(function(e){return e.backgrounding()},"matches")},{selector:":nonbackgrounding",matches:l(function(e){return!e.backgrounding()},"matches")}].sort(function(e,t){return _Ee(e.selector,t.selector)}),O8e=function(){for(var e,t={},r=0;r<jC.length;r++)t[(e=jC[r]).selector]=e.matches;return t}(),P8e=l(function(e,t){return O8e[e](t)},"stateSelectorMatches"),B8e="("+jC.map(function(e){return e.selector}).join("|")+")",Ih=l(function(e){return e.replace(new RegExp("\\\\("+or.metaChar+")","g"),function(t,r){return r})},"cleanMetaChars"),vl=l(function(e,t,r){e[e.length-1]=r},"replaceLastQuery"),YC=[{name:"group",query:!0,regex:"("+or.group+")",populate:l(function(e,t,r){var n=Ga(r,1)[0];t.checks.push({type:eI,value:n==="*"?n:n+"s"})},"populate")},{name:"state",query:!0,regex:B8e,populate:l(function(e,t,r){var n=Ga(r,1)[0];t.checks.push({type:aI,value:n})},"populate")},{name:"id",query:!0,regex:"\\#("+or.id+")",populate:l(function(e,t,r){var n=Ga(r,1)[0];t.checks.push({type:Ew,value:Ih(n)})},"populate")},{name:"className",query:!0,regex:"\\.("+or.className+")",populate:l(function(e,t,r){var n=Ga(r,1)[0];t.checks.push({type:sI,value:Ih(n)})},"populate")},{name:"dataExists",query:!0,regex:"\\[\\s*("+or.variable+")\\s*\\]",populate:l(function(e,t,r){var n=Ga(r,1)[0];t.checks.push({type:rI,field:Ih(n)})},"populate")},{name:"dataCompare",query:!0,regex:"\\[\\s*("+or.variable+")\\s*("+or.comparatorOp+")\\s*("+or.value+")\\s*\\]",populate:l(function(e,t,r){var n=Ga(r,3),i=n[0],a=n[1],s=n[2];s=new RegExp("^"+or.string+"$").exec(s)!=null?s.substring(1,s.length-1):parseFloat(s),t.checks.push({type:tI,field:Ih(i),operator:a,value:s})},"populate")},{name:"dataBool",query:!0,regex:"\\[\\s*("+or.boolOp+")\\s*("+or.variable+")\\s*\\]",populate:l(function(e,t,r){var n=Ga(r,2),i=n[0],a=n[1];t.checks.push({type:nI,field:Ih(a),operator:i})},"populate")},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+or.meta+")\\s*("+or.comparatorOp+")\\s*("+or.number+")\\s*\\]\\]",populate:l(function(e,t,r){var n=Ga(r,3),i=n[0],a=n[1],s=n[2];t.checks.push({type:iI,field:Ih(i),operator:a,value:parseFloat(s)})},"populate")},{name:"nextQuery",separator:!0,regex:or.separator,populate:l(function(e,t){var r=e.currentSubject,n=e.edgeCount,i=e.compoundCount,a=e[e.length-1];return r!=null&&(a.subject=r,e.currentSubject=null),a.edgeCount=n,a.compoundCount=i,e.edgeCount=0,e.compoundCount=0,e[e.length++]=Lr()},"populate")},{name:"directedEdge",separator:!0,regex:or.directedEdge,populate:l(function(e,t){if(e.currentSubject==null){var r=Lr(),n=t,i=Lr();return r.checks.push({type:GC,source:n,target:i}),vl(e,t,r),e.edgeCount++,i}var a=Lr(),s=t,o=Lr();return a.checks.push({type:Uoe,source:s,target:o}),vl(e,t,a),e.edgeCount++,o},"populate")},{name:"undirectedEdge",separator:!0,regex:or.undirectedEdge,populate:l(function(e,t){if(e.currentSubject==null){var r=Lr(),n=t,i=Lr();return r.checks.push({type:UC,nodes:[n,i]}),vl(e,t,r),e.edgeCount++,i}var a=Lr(),s=t,o=Lr();return a.checks.push({type:qC,node:s,neighbor:o}),vl(e,t,a),o},"populate")},{name:"child",separator:!0,regex:or.child,populate:l(function(e,t){if(e.currentSubject==null){var r=Lr(),n=Lr(),i=e[e.length-1];return r.checks.push({type:oI,parent:i,child:n}),vl(e,t,r),e.compoundCount++,n}if(e.currentSubject===t){var a=Lr(),s=e[e.length-1],o=Lr(),u=Lr(),h=Lr(),d=Lr();return a.checks.push({type:C5,left:s,right:o,subject:u}),u.checks=t.checks,t.checks=[{type:cd}],d.checks.push({type:cd}),o.checks.push({type:_5,parent:d,child:h}),vl(e,s,a),e.currentSubject=u,e.compoundCount++,h}var p=Lr(),f=Lr(),g=[{type:_5,parent:p,child:f}];return p.checks=t.checks,t.checks=g,e.compoundCount++,f},"populate")},{name:"descendant",separator:!0,regex:or.descendant,populate:l(function(e,t){if(e.currentSubject==null){var r=Lr(),n=Lr(),i=e[e.length-1];return r.checks.push({type:lI,ancestor:i,descendant:n}),vl(e,t,r),e.compoundCount++,n}if(e.currentSubject===t){var a=Lr(),s=e[e.length-1],o=Lr(),u=Lr(),h=Lr(),d=Lr();return a.checks.push({type:C5,left:s,right:o,subject:u}),u.checks=t.checks,t.checks=[{type:cd}],d.checks.push({type:cd}),o.checks.push({type:E5,ancestor:d,descendant:h}),vl(e,s,a),e.currentSubject=u,e.compoundCount++,h}var p=Lr(),f=Lr(),g=[{type:E5,ancestor:p,descendant:f}];return p.checks=t.checks,t.checks=g,e.compoundCount++,f},"populate")},{name:"subject",modifier:!0,regex:or.subject,populate:l(function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return kr("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var r=e[e.length-1].checks[0],n=r==null?null:r.type;n===GC?r.type=Goe:n===UC&&(r.type=qC,r.node=r.nodes[1],r.neighbor=r.nodes[0],r.nodes=null)},"populate")}];YC.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var $8e=l(function(e){for(var t,r,n,i=0;i<YC.length;i++){var a=YC[i],s=a.name,o=e.match(a.regexObj);if(o!=null){r=o,t=a,n=s;var u=o[0];e=e.substring(u.length);break}}return{expr:t,match:r,name:n,remaining:e}},"consumeExpr"),F8e=l(function(e){var t=e.match(/^\s+/);if(t){var r=t[0];e=e.substring(r.length)}return e},"consumeWhitespace"),z8e=l(function(e){var t=this,r=t.inputText=e,n=t[0]=Lr();for(t.length=1,r=F8e(r);;){var i=$8e(r);if(i.expr==null)return kr("The selector `"+e+"`is invalid"),!1;var a=i.match.slice(1),s=i.expr.populate(t,n,a);if(s===!1)return!1;if(s!=null&&(n=s),(r=i.remaining).match(/^\s*$/))break}var o=t[t.length-1];t.currentSubject!=null&&(o.subject=t.currentSubject),o.edgeCount=t.edgeCount,o.compoundCount=t.compoundCount;for(var u=0;u<t.length;u++){var h=t[u];if(h.compoundCount>0&&h.edgeCount>0)return kr("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(h.edgeCount>1)return kr("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;h.edgeCount===1&&kr("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},"parse"),U8e=l(function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=l(function(u){return u??""},"clean"),t=l(function(u){return Nt(u)?'"'+u+'"':e(u)},"cleanVal"),r=l(function(u){return" "+u+" "},"space"),n=l(function(u,h){var d=u.type,p=u.value;switch(d){case eI:var f=e(p);return f.substring(0,f.length-1);case tI:var g=u.field,m=u.operator;return"["+g+r(e(m))+t(p)+"]";case nI:var y=u.operator,v=u.field;return"["+e(y)+v+"]";case rI:return"["+u.field+"]";case iI:var x=u.operator;return"[["+u.field+r(e(x))+t(p)+"]]";case aI:return p;case Ew:return"#"+p;case sI:return"."+p;case _5:case oI:return i(u.parent,h)+r(">")+i(u.child,h);case E5:case lI:return i(u.ancestor,h)+" "+i(u.descendant,h);case C5:var b=i(u.left,h),w=i(u.subject,h),T=i(u.right,h);return b+(b.length>0?" ":"")+w+T;case cd:return""}},"checkToString"),i=l(function(u,h){return u.checks.reduce(function(d,p,f){return d+(h===u&&f===0?"$":"")+n(p,h)},"")},"queryToString"),a="",s=0;s<this.length;s++){var o=this[s];a+=i(o,o.subject),this.length>1&&s<this.length-1&&(a+=", ")}return this.toStringCache=a,a},"toString"),G8e={parse:z8e,toString:U8e},FP=l(function(e,t,r){var n,i,a,s=Nt(e),o=lt(e),u=Nt(r),h=!1,d=!1,p=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),d=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),h=!0),(s||u||h)&&(i=s||o?""+e:"",a=""+r),h&&(e=i=i.toLowerCase(),r=a=a.toLowerCase()),t){case"*=":n=i.indexOf(a)>=0;break;case"$=":n=i.indexOf(a,i.length-a.length)>=0;break;case"^=":n=i.indexOf(a)===0;break;case"=":n=e===r;break;case">":p=!0,n=e>r;break;case">=":p=!0,n=e>=r;break;case"<":p=!0,n=e<r;break;case"<=":p=!0,n=e<=r;break;default:n=!1}return!d||e==null&&p||(n=!n),n},"valCmp"),q8e=l(function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},"boolCmp"),j8e=l(function(e){return e!==void 0},"existCmp"),Zk=l(function(e,t){return e.data(t)},"data"),Y8e=l(function(e,t){return e[t]()},"meta"),sn=[],jr=l(function(e,t){return e.checks.every(function(r){return sn[r.type](r,t)})},"matches");sn[eI]=function(e,t){var r=e.value;return r==="*"||r===t.group()},sn[aI]=function(e,t){var r=e.value;return P8e(r,t)},sn[Ew]=function(e,t){var r=e.value;return t.id()===r},sn[sI]=function(e,t){var r=e.value;return t.hasClass(r)},sn[iI]=function(e,t){var r=e.field,n=e.operator,i=e.value;return FP(Y8e(t,r),n,i)},sn[tI]=function(e,t){var r=e.field,n=e.operator,i=e.value;return FP(Zk(t,r),n,i)},sn[nI]=function(e,t){var r=e.field,n=e.operator;return q8e(Zk(t,r),n)},sn[rI]=function(e,t){var r=e.field;return e.operator,j8e(Zk(t,r))},sn[UC]=function(e,t){var r=e.nodes[0],n=e.nodes[1],i=t.source(),a=t.target();return jr(r,i)&&jr(n,a)||jr(n,i)&&jr(r,a)},sn[qC]=function(e,t){return jr(e.node,t)&&t.neighborhood().some(function(r){return r.isNode()&&jr(e.neighbor,r)})},sn[GC]=function(e,t){return jr(e.source,t.source())&&jr(e.target,t.target())},sn[Uoe]=function(e,t){return jr(e.source,t)&&t.outgoers().some(function(r){return r.isNode()&&jr(e.target,r)})},sn[Goe]=function(e,t){return jr(e.target,t)&&t.incomers().some(function(r){return r.isNode()&&jr(e.source,r)})},sn[oI]=function(e,t){return jr(e.child,t)&&jr(e.parent,t.parent())},sn[_5]=function(e,t){return jr(e.parent,t)&&t.children().some(function(r){return jr(e.child,r)})},sn[lI]=function(e,t){return jr(e.descendant,t)&&t.ancestors().some(function(r){return jr(e.ancestor,r)})},sn[E5]=function(e,t){return jr(e.ancestor,t)&&t.descendants().some(function(r){return jr(e.descendant,r)})},sn[C5]=function(e,t){return jr(e.subject,t)&&jr(e.left,t)&&jr(e.right,t)},sn[cd]=function(){return!0},sn[Foe]=function(e,t){return e.value.has(t)},sn[zoe]=function(e,t){return(0,e.value)(t)};var W8e=l(function(e){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===Ew)return e.getElementById(t[0].checks[0].value).collection();var r=l(function(n){for(var i=0;i<t.length;i++){var a=t[i];if(jr(a,n))return!0}return!1},"selectorFunction");return t.text()==null&&(r=l(function(){return!0},"selectorFunction")),e.filter(r)},"filter"),H8e=l(function(e){for(var t=0;t<this.length;t++){var r=this[t];if(jr(r,e))return!0}return!1},"matches"),V8e={matches:H8e,filter:W8e},hc=l(function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Nt(e)&&e.match(/^\s*$/)||(Ea(e)?this.addQuery({checks:[{type:Foe,value:e.collection()}]}):nn(e)?this.addQuery({checks:[{type:zoe,value:e}]}):Nt(e)?this.parse(e)||(this.invalid=!0):hn("A selector must be created from a string; found "))},"Selector"),xl=hc.prototype;[G8e,V8e].forEach(function(e){return $t(xl,e)}),xl.text=function(){return this.inputText},xl.size=function(){return this.length},xl.eq=function(e){return this[e]},xl.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},xl.addQuery=function(e){this[this.length++]=e},xl.selector=xl.toString;var _l={allAre:l(function(e){var t=new hc(e);return this.every(function(r){return t.matches(r)})},"allAre"),is:l(function(e){var t=new hc(e);return this.some(function(r){return t.matches(r)})},"is"),some:l(function(e,t){for(var r=0;r<this.length;r++)if(t?e.apply(t,[this[r],r,this]):e(this[r],r,this))return!0;return!1},"some"),every:l(function(e,t){for(var r=0;r<this.length;r++)if(!(t?e.apply(t,[this[r],r,this]):e(this[r],r,this)))return!1;return!0},"every"),same:l(function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(t===1?this[0]===e[0]:this.every(function(r){return e.hasElementWithId(r.id())}))},"same"),anySame:l(function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},"anySame"),allAreNeighbors:l(function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(r){return t.hasElementWithId(r.id())})},"allAreNeighbors"),contains:l(function(e){e=this.cy().collection(e);var t=this;return e.every(function(r){return t.hasElementWithId(r.id())})},"contains")};_l.allAreNeighbours=_l.allAreNeighbors,_l.has=_l.contains,_l.equal=_l.equals=_l.same;var rx,qoe,Fa=l(function(e,t){return l(function(r,n,i,a){var s,o=r,u=this;if(o==null?s="":Ea(o)&&o.length===1&&(s=o.id()),u.length===1&&s){var h=u[0]._private,d=h.traversalCache=h.traversalCache||{},p=d[t]=d[t]||[],f=oh(s),g=p[f];return g||(p[f]=e.call(u,r,n,i,a))}return e.call(u,r,n,i,a)},"traversalCache")},"cache"),Kh={parent:l(function(e){var t=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var n=0;n<this.length;n++){var i=this[n]._private.parent;i&&t.push(i)}return this.spawn(t,!0).filter(e)},"parent"),parents:l(function(e){for(var t=[],r=this.parent();r.nonempty();){for(var n=0;n<r.length;n++){var i=r[n];t.push(i)}r=r.parent()}return this.spawn(t,!0).filter(e)},"parents"),commonAncestors:l(function(e){for(var t,r=0;r<this.length;r++){var n=this[r].parents();t=(t=t||n).intersect(n)}return t.filter(e)},"commonAncestors"),orphans:l(function(e){return this.stdFilter(function(t){return t.isOrphan()}).filter(e)},"orphans"),nonorphans:l(function(e){return this.stdFilter(function(t){return t.isChild()}).filter(e)},"nonorphans"),children:Fa(function(e){for(var t=[],r=0;r<this.length;r++)for(var n=this[r]._private.children,i=0;i<n.length;i++)t.push(n[i]);return this.spawn(t,!0).filter(e)},"children"),siblings:l(function(e){return this.parent().children().not(this).filter(e)},"siblings"),isParent:l(function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},"isParent"),isChildless:l(function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},"isChildless"),isChild:l(function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},"isChild"),isOrphan:l(function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},"isOrphan"),descendants:l(function(e){var t=[];function r(n){for(var i=0;i<n.length;i++){var a=n[i];t.push(a),a.children().nonempty()&&r(a.children())}}return l(r,"add"),r(this.children()),this.spawn(t,!0).filter(e)},"descendants")};function nx(e,t,r,n){for(var i=[],a=new P0,s=e.cy().hasCompoundNodes(),o=0;o<e.length;o++){var u=e[o];r?i.push(u):s&&n(i,a,u)}for(;i.length>0;){var h=i.shift();t(h),a.add(h.id()),s&&n(i,a,h)}return e}function WC(e,t,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var a=n[i];t.has(a.id())||e.push(a)}}function HC(e,t,r){if(r.isChild()){var n=r._private.parent;t.has(n.id())||e.push(n)}}function zP(e,t,r){HC(e,t,r),WC(e,t,r)}l(nx,"forEachCompound"),l(WC,"addChildren"),Kh.forEachDown=function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return nx(this,e,t,WC)},l(HC,"addParent"),Kh.forEachUp=function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return nx(this,e,t,HC)},l(zP,"addParentAndChildren"),Kh.forEachUpAndDown=function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return nx(this,e,t,zP)},Kh.ancestors=Kh.parents,(rx=qoe={data:br.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:br.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:br.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:br.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:br.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:br.removeData({field:"rscratch",triggerEvent:!1}),id:l(function(){var e=this[0];if(e)return e._private.data.id},"id")}).attr=rx.data,rx.removeAttr=rx.removeData;var us,joe,X8e=qoe,db={};function ix(e){return function(t){var r=this;if(t===void 0&&(t=!0),r.length!==0&&r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,s=0;s<a.length;s++){var o=a[s];!t&&o.isLoop()||(n+=e(i,o))}return n}}}function Nc(e,t){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var s=i[a][e](r);s===void 0||n!==void 0&&!t(s,n)||(n=s)}return n}}l(ix,"defineDegreeFunction"),$t(db,{degree:ix(function(e,t){return t.source().same(t.target())?2:1}),indegree:ix(function(e,t){return t.target().same(e)?1:0}),outdegree:ix(function(e,t){return t.source().same(e)?1:0})}),l(Nc,"defineDegreeBoundsFunction"),$t(db,{minDegree:Nc("degree",function(e,t){return e<t}),maxDegree:Nc("degree",function(e,t){return e>t}),minIndegree:Nc("indegree",function(e,t){return e<t}),maxIndegree:Nc("indegree",function(e,t){return e>t}),minOutdegree:Nc("outdegree",function(e,t){return e<t}),maxOutdegree:Nc("outdegree",function(e,t){return e>t})}),$t(db,{totalDegree:l(function(e){for(var t=0,r=this.nodes(),n=0;n<r.length;n++)t+=r[n].degree(e);return t},"totalDegree")});var Yoe=l(function(e,t,r){for(var n=0;n<e.length;n++){var i=e[n];if(!i.locked()){var a=i._private.position,s={x:t.x!=null?t.x-a.x:0,y:t.y!=null?t.y-a.y:0};!i.isParent()||s.x===0&&s.y===0||i.children().shift(s,r),i.dirtyBoundingBoxCache()}}},"beforePositionSet"),UP={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:l(function(e){e.updateCompoundBounds()},"beforeGet"),beforeSet:l(function(e,t){Yoe(e,t,!1)},"beforeSet"),onSet:l(function(e){e.dirtyCompoundBoundsCache()},"onSet"),canSet:l(function(e){return!e.locked()},"canSet")};us=joe={position:br.data(UP),silentPosition:br.data($t({},UP,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:l(function(e,t){Yoe(e,t,!0)},"beforeSet"),onSet:l(function(e){e.dirtyCompoundBoundsCache()},"onSet")})),positions:l(function(e,t){if(cr(e))t?this.silentPosition(e):this.position(e);else if(nn(e)){var r=e,n=this.cy();n.startBatch();for(var i=0;i<this.length;i++){var a,s=this[i];(a=r(s,i))&&(t?s.silentPosition(a):s.position(a))}n.endBatch()}return this},"positions"),silentPositions:l(function(e){return this.positions(e,!0)},"silentPositions"),shift:l(function(e,t,r){var n;if(cr(e)?(n={x:lt(e.x)?e.x:0,y:lt(e.y)?e.y:0},r=t):Nt(e)&&lt(t)&&((n={x:0,y:0})[e]=t),n!=null){var i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var s=this[a];if(!(i.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var o=s.position(),u={x:o.x+n.x,y:o.y+n.y};r?s.silentPosition(u):s.position(u)}}i.endBatch()}return this},"shift"),silentShift:l(function(e,t){return cr(e)?this.shift(e,!0):Nt(e)&&lt(t)&&this.shift(e,t,!0),this},"silentShift"),renderedPosition:l(function(e,t){var r=this[0],n=this.cy(),i=n.zoom(),a=n.pan(),s=cr(e)?e:void 0,o=s!==void 0||t!==void 0&&Nt(e);if(r&&r.isNode()){if(!o){var u=r.position();return s=ww(u,i,a),e===void 0?s:s[e]}for(var h=0;h<this.length;h++){var d=this[h];t!==void 0?d.position(e,(t-a[e])/i):s!==void 0&&d.position(Pse(s,i,a))}}else if(!o)return;return this},"renderedPosition"),relativePosition:l(function(e,t){var r=this[0],n=this.cy(),i=cr(e)?e:void 0,a=i!==void 0||t!==void 0&&Nt(e),s=n.hasCompoundNodes();if(r&&r.isNode()){if(!a){var o=r.position(),u=s?r.parent():null,h=u&&u.length>0,d=h;h&&(u=u[0]);var p=d?u.position():{x:0,y:0};return i={x:o.x-p.x,y:o.y-p.y},e===void 0?i:i[e]}for(var f=0;f<this.length;f++){var g=this[f],m=s?g.parent():null,y=m&&m.length>0,v=y;y&&(m=m[0]);var x=v?m.position():{x:0,y:0};t!==void 0?g.position(e,t+x[e]):i!==void 0&&g.position({x:i.x+x.x,y:i.y+x.y})}}else if(!a)return;return this},"relativePosition")},us.modelPosition=us.point=us.position,us.modelPositions=us.points=us.positions,us.renderedPoint=us.renderedPosition,us.relativePoint=us.relativePosition;var Zh,Pl,K8e=joe;Zh=Pl={},Pl.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),i=r.pan(),a=t.x1*n+i.x,s=t.x2*n+i.x,o=t.y1*n+i.y,u=t.y2*n+i.y;return{x1:a,x2:s,y1:o,y2:u,w:s-a,h:u-o}},Pl.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,e||r.emitAndNotify("bounds")}}),this):this},Pl.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(s){if(s.isParent()){var o=s._private,u=s.children(),h=s.pstyle("compound-sizing-wrt-labels").value==="include",d={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},p=u.boundingBox({includeLabels:h,includeOverlays:!1,useCache:!1}),f=o.position;p.w!==0&&p.h!==0||((p={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue}).x1=f.x-p.w/2,p.x2=f.x+p.w/2,p.y1=f.y-p.h/2,p.y2=f.y+p.h/2),l(C,"computeBiasValues"),l(E,"computePaddingValues");var g=d.width.left.value;d.width.left.units==="px"&&d.width.val>0&&(g=100*g/d.width.val);var m=d.width.right.value;d.width.right.units==="px"&&d.width.val>0&&(m=100*m/d.width.val);var y=d.height.top.value;d.height.top.units==="px"&&d.height.val>0&&(y=100*y/d.height.val);var v=d.height.bottom.value;d.height.bottom.units==="px"&&d.height.val>0&&(v=100*v/d.height.val);var x=C(d.width.val-p.w,g,m),b=x.biasDiff,w=x.biasComplementDiff,T=C(d.height.val-p.h,y,v),k=T.biasDiff,R=T.biasComplementDiff;o.autoPadding=E(p.w,p.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(p.w,d.width.val),f.x=(-b+p.x1+p.x2+w)/2,o.autoHeight=Math.max(p.h,d.height.val),f.y=(-k+p.y1+p.y2+R)/2}function C(_,L,D){var B=0,S=0,N=L+D;return _>0&&N>0&&(B=L/N*_,S=D/N*_),{biasDiff:B,biasComplementDiff:S}}function E(_,L,D,B){if(D.units!=="%")return D.units==="px"?D.pfValue:0;switch(B){case"width":return _>0?D.pfValue*_:0;case"height":return L>0?D.pfValue*L:0;case"average":return _>0&&L>0?D.pfValue*(_+L)/2:0;case"min":return _>0&&L>0?_>L?D.pfValue*L:D.pfValue*_:0;case"max":return _>0&&L>0?_>L?D.pfValue*_:D.pfValue*L:0;default:return 0}}}l(r,"update");for(var n=0;n<this.length;n++){var i=this[n],a=i._private;a.compoundBoundsClean&&!e||(r(i),t.batching()||(a.compoundBoundsClean=!0))}return this};var Wa=l(function(e){return e===1/0||e===-1/0?0:e},"noninf"),bs=l(function(e,t,r,n,i){n-t!=0&&i-r!=0&&t!=null&&r!=null&&n!=null&&i!=null&&(e.x1=t<e.x1?t:e.x1,e.x2=n>e.x2?n:e.x2,e.y1=r<e.y1?r:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},"updateBounds"),Xc=l(function(e,t){return t==null?e:bs(e,t.x1,t.y1,t.x2,t.y2)},"updateBoundsFromBox"),tm=l(function(e,t,r){return xs(e,t,r)},"prefixedProperty"),ax=l(function(e,t,r){if(!t.cy().headless()){var n,i,a=t._private,s=a.rstyle,o=s.arrowWidth/2;if(t.pstyle(r+"-arrow-shape").value!=="none"){r==="source"?(n=s.srcX,i=s.srcY):r==="target"?(n=s.tgtX,i=s.tgtY):(n=s.midX,i=s.midY);var u=a.arrowBounds=a.arrowBounds||{},h=u[r]=u[r]||{};h.x1=n-o,h.y1=i-o,h.x2=n+o,h.y2=i+o,h.w=h.x2-h.x1,h.h=h.y2-h.y1,cb(h,1),bs(e,h.x1,h.y1,h.x2,h.y2)}}},"updateBoundsFromArrow"),Qk=l(function(e,t,r){if(!t.cy().headless()){var n;n=r?r+"-":"";var i=t._private,a=i.rstyle;if(t.pstyle(n+"label").strValue){var s,o,u,h,d=t.pstyle("text-halign"),p=t.pstyle("text-valign"),f=tm(a,"labelWidth",r),g=tm(a,"labelHeight",r),m=tm(a,"labelX",r),y=tm(a,"labelY",r),v=t.pstyle(n+"text-margin-x").pfValue,x=t.pstyle(n+"text-margin-y").pfValue,b=t.isEdge(),w=t.pstyle(n+"text-rotation"),T=t.pstyle("text-outline-width").pfValue,k=t.pstyle("text-border-width").pfValue/2,R=t.pstyle("text-background-padding").pfValue,C=g,E=f,_=E/2,L=C/2;if(b)s=m-_,o=m+_,u=y-L,h=y+L;else{switch(d.value){case"left":s=m-E,o=m;break;case"center":s=m-_,o=m+_;break;case"right":s=m,o=m+E}switch(p.value){case"top":u=y-C,h=y;break;case"center":u=y-L,h=y+L;break;case"bottom":u=y,h=y+C}}s+=v-Math.max(T,k)-R-2,o+=v+Math.max(T,k)+R+2,u+=x-Math.max(T,k)-R-2,h+=x+Math.max(T,k)+R+2;var D=r||"main",B=i.labelBounds,S=B[D]=B[D]||{};S.x1=s,S.y1=u,S.x2=o,S.y2=h,S.w=o-s,S.h=h-u;var N=b&&w.strValue==="autorotate",A=w.pfValue!=null&&w.pfValue!==0;if(N||A){var M=N?tm(i.rstyle,"labelAngle",r):w.pfValue,O=Math.cos(M),I=Math.sin(M),P=(s+o)/2,$=(u+h)/2;if(!b){switch(d.value){case"left":P=o;break;case"right":P=s}switch(p.value){case"top":$=h;break;case"bottom":$=u}}var z=l(function(H,X){return{x:(H-=P)*O-(X-=$)*I+P,y:H*I+X*O+$}},"rotate"),G=z(s,u),q=z(s,h),J=z(o,u),ie=z(o,h);s=Math.min(G.x,q.x,J.x,ie.x),o=Math.max(G.x,q.x,J.x,ie.x),u=Math.min(G.y,q.y,J.y,ie.y),h=Math.max(G.y,q.y,J.y,ie.y)}var te=D+"Rot",W=B[te]=B[te]||{};W.x1=s,W.y1=u,W.x2=o,W.y2=h,W.w=o-s,W.h=h-u,bs(e,s,u,o,h),bs(i.labelBounds.all,s,u,o,h)}return e}},"updateBoundsFromLabel"),Z8e=l(function(e,t){if(!t.cy().headless()){var r=t.pstyle("outline-opacity").value,n=t.pstyle("outline-width").value;if(r>0&&n>0){var i=t.pstyle("outline-offset").value,a=t.pstyle("shape").value,s=n+i,o=(e.w+2*s)/e.w,u=(e.h+2*s)/e.h,h=0;["diamond","pentagon","round-triangle"].includes(a)?(o=(e.w+2.4*s)/e.w,h=-s/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(a)?o=(e.w+2.4*s)/e.w:a==="star"?(o=(e.w+2.8*s)/e.w,u=(e.h+2.6*s)/e.h,h=-s/3.8):a==="triangle"?(o=(e.w+2.8*s)/e.w,u=(e.h+2.4*s)/e.h,h=-s/1.4):a==="vee"&&(o=(e.w+4.4*s)/e.w,u=(e.h+3.8*s)/e.h,h=.5*-s);var d=e.h*u-e.h,p=e.w*o-e.w;if(ub(e,[Math.ceil(d/2),Math.ceil(p/2)]),h!==0){var f=LCe(e,0,h);Bse(e,f)}}}},"updateBoundsFromOutline"),Q8e=l(function(e,t){var r,n,i,a,s,o,u=e._private.cy,h=u.styleEnabled(),d=u.headless(),p=da(),f=e._private,g=e.isNode(),m=e.isEdge(),y=f.rstyle,v=g&&h?e.pstyle("bounds-expansion").pfValue:[0],x=l(function(te){return te.pstyle("display").value!=="none"},"isDisplayed"),b=!h||x(e)&&(!m||x(e.source())&&x(e.target()));if(b){var w=0;h&&t.includeOverlays&&e.pstyle("overlay-opacity").value!==0&&(w=e.pstyle("overlay-padding").value);var T=0;h&&t.includeUnderlays&&e.pstyle("underlay-opacity").value!==0&&(T=e.pstyle("underlay-padding").value);var k=Math.max(w,T),R=0;if(h&&(R=e.pstyle("width").pfValue/2),g&&t.includeNodes){var C=e.position();s=C.x,o=C.y;var E=e.outerWidth()/2,_=e.outerHeight()/2;bs(p,r=s-E,i=o-_,n=s+E,a=o+_),h&&t.includeOutlines&&Z8e(p,e)}else if(m&&t.includeEdges)if(h&&!d){var L=e.pstyle("curve-style").strValue;if(r=Math.min(y.srcX,y.midX,y.tgtX),n=Math.max(y.srcX,y.midX,y.tgtX),i=Math.min(y.srcY,y.midY,y.tgtY),a=Math.max(y.srcY,y.midY,y.tgtY),bs(p,r-=R,i-=R,n+=R,a+=R),L==="haystack"){var D=y.haystackPts;if(D&&D.length===2){if(r=D[0].x,i=D[0].y,r>(n=D[1].x)){var B=r;r=n,n=B}if(i>(a=D[1].y)){var S=i;i=a,a=S}bs(p,r-R,i-R,n+R,a+R)}}else if(L==="bezier"||L==="unbundled-bezier"||L.endsWith("segments")||L.endsWith("taxi")){var N;switch(L){case"bezier":case"unbundled-bezier":N=y.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":N=y.linePts}if(N!=null)for(var A=0;A<N.length;A++){var M=N[A];r=M.x-R,n=M.x+R,i=M.y-R,a=M.y+R,bs(p,r,i,n,a)}}}else{var O=e.source().position(),I=e.target().position();if((r=O.x)>(n=I.x)){var P=r;r=n,n=P}if((i=O.y)>(a=I.y)){var $=i;i=a,a=$}bs(p,r-=R,i-=R,n+=R,a+=R)}if(h&&t.includeEdges&&m&&(ax(p,e,"mid-source"),ax(p,e,"mid-target"),ax(p,e,"source"),ax(p,e,"target")),h&&e.pstyle("ghost").value==="yes"){var z=e.pstyle("ghost-offset-x").pfValue,G=e.pstyle("ghost-offset-y").pfValue;bs(p,p.x1+z,p.y1+G,p.x2+z,p.y2+G)}var q=f.bodyBounds=f.bodyBounds||{};yP(q,p),ub(q,v),cb(q,1),h&&(r=p.x1,n=p.x2,i=p.y1,a=p.y2,bs(p,r-k,i-k,n+k,a+k));var J=f.overlayBounds=f.overlayBounds||{};yP(J,p),ub(J,v),cb(J,1);var ie=f.labelBounds=f.labelBounds||{};ie.all!=null?ACe(ie.all):ie.all=da(),h&&t.includeLabels&&(t.includeMainLabels&&Qk(p,e,null),m&&(t.includeSourceLabels&&Qk(p,e,"source"),t.includeTargetLabels&&Qk(p,e,"target")))}return p.x1=Wa(p.x1),p.y1=Wa(p.y1),p.x2=Wa(p.x2),p.y2=Wa(p.y2),p.w=Wa(p.x2-p.x1),p.h=Wa(p.y2-p.y1),p.w>0&&p.h>0&&b&&(ub(p,v),cb(p,1)),p},"boundingBoxImpl"),Woe=l(function(e){var t=0,r=l(function(i){return(i?1:0)<<t++},"tf"),n=0;return n+=r(e.incudeNodes),n+=r(e.includeEdges),n+=r(e.includeLabels),n+=r(e.includeMainLabels),n+=r(e.includeSourceLabels),n+=r(e.includeTargetLabels),n+=r(e.includeOverlays),n+=r(e.includeOutlines)},"getKey"),Hoe=l(function(e){if(e.isEdge()){var t=e.source().position(),r=e.target().position(),n=l(function(i){return Math.round(i)},"r");return ZEe([n(t.x),n(t.y),n(r.x),n(r.y)])}return 0},"getBoundingBoxPosKey"),GP=l(function(e,t){var r,n=e._private,i=e.isEdge(),a=(t==null?qP:Woe(t))===qP,s=Hoe(e),o=n.bbCachePosKey===s,u=t.useCache&&o,h=l(function(p){return p._private.bbCache==null||p._private.styleDirty},"isDirty");if(!u||h(e)||i&&h(e.source())||h(e.target())?(o||e.recalculateRenderedStyle(u),r=Q8e(e,d2),n.bbCache=r,n.bbCachePosKey=s):r=n.bbCache,!a){var d=e.isNode();r=da(),(t.includeNodes&&d||t.includeEdges&&!d)&&(t.includeOverlays?Xc(r,n.overlayBounds):Xc(r,n.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!i||t.includeSourceLabels&&t.includeTargetLabels)?Xc(r,n.labelBounds.all):(t.includeMainLabels&&Xc(r,n.labelBounds.mainRot),t.includeSourceLabels&&Xc(r,n.labelBounds.sourceRot),t.includeTargetLabels&&Xc(r,n.labelBounds.targetRot))),r.w=r.x2-r.x1,r.h=r.y2-r.y1}return r},"cachedBoundingBoxImpl"),d2={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},qP=Woe(d2),jP=pi(d2);Pl.boundingBox=function(e){var t;if(this.length!==1||this[0]._private.bbCache==null||this[0]._private.styleDirty||e!==void 0&&e.useCache!==void 0&&e.useCache!==!0){t=da();var r=jP(e=e||d2),n=this;if(n.cy().styleEnabled())for(var i=0;i<n.length;i++){var a=n[i],s=a._private,o=Hoe(a),u=s.bbCachePosKey===o,h=r.useCache&&u&&!s.styleDirty;a.recalculateRenderedStyle(h)}this.updateCompoundBounds(!e.useCache);for(var d=0;d<n.length;d++){var p=n[d];Xc(t,GP(p,r))}}else e=e===void 0?d2:jP(e),t=GP(this[0],e);return t.x1=Wa(t.x1),t.y1=Wa(t.y1),t.x2=Wa(t.x2),t.y2=Wa(t.y2),t.w=Wa(t.x2-t.x1),t.h=Wa(t.y2-t.y1),t},Pl.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Pl.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=t.filter(function(h){return h.isParent()}),t=t.not(i)),cr(e)){var a=e;e=l(function(){return a},"fn")}var s=l(function(h,d){return h._private.bbAtOldPos=e(h,d)},"storeOldPos"),o=l(function(h){return h._private.bbAtOldPos},"getOldPos");r.startBatch(),t.forEach(s).silentPositions(e),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var u=SCe(this.boundingBox({useCache:!1}));return t.silentPositions(o),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),u},Zh.boundingbox=Zh.bb=Zh.boundingBox,Zh.renderedBoundingbox=Zh.renderedBoundingBox;var Am,cy,J8e=Pl;Am=cy={};var YP=l(function(e){e.uppercaseName=uP(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=uP(e.outerName),Am[e.name]=l(function(){var t=this[0],r=t._private,n=r.cy._private.styleEnabled;if(t){if(n){if(t.isParent())return t.updateCompoundBounds(),r[e.autoName]||0;var i=t.pstyle(e.name);return i.strValue==="label"?(t.recalculateRenderedStyle(),r.rstyle[e.labelName]||0):i.pfValue}return 1}},"dimImpl"),Am["outer"+e.uppercaseName]=l(function(){var t=this[0],r=t._private.cy._private.styleEnabled;if(t)return r?t[e.name]()+t.pstyle("border-width").pfValue+2*t.padding():1},"outerDimImpl"),Am["rendered"+e.uppercaseName]=l(function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},"renderedDimImpl"),Am["rendered"+e.uppercaseOuterName]=l(function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()},"renderedOuterDimImpl")},"defineDimFns");YP({name:"width"}),YP({name:"height"}),cy.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},cy.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},cy.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var eAe=cy,tAe=l(function(e,t){if(e.isEdge())return t(e)},"ifEdge"),rAe=l(function(e,t){if(e.isEdge()){var r=e.cy();return ww(t(e),r.zoom(),r.pan())}},"ifEdgeRenderedPosition"),nAe=l(function(e,t){if(e.isEdge()){var r=e.cy(),n=r.pan(),i=r.zoom();return t(e).map(function(a){return ww(a,i,n)})}},"ifEdgeRenderedPositions"),WP={controlPoints:{get:l(function(e){return e.renderer().getControlPoints(e)},"controlPoints"),mult:!0},segmentPoints:{get:l(function(e){return e.renderer().getSegmentPoints(e)},"segmentPoints"),mult:!0},sourceEndpoint:{get:l(function(e){return e.renderer().getSourceEndpoint(e)},"sourceEndpoint")},targetEndpoint:{get:l(function(e){return e.renderer().getTargetEndpoint(e)},"targetEndpoint")},midpoint:{get:l(function(e){return e.renderer().getEdgeMidpoint(e)},"midpoint")}},iAe=l(function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},"renderedName"),aAe=Object.keys(WP).reduce(function(e,t){var r=WP[t],n=iAe(t);return e[t]=function(){return tAe(this,r.get)},r.mult?e[n]=function(){return nAe(this,r.get)}:e[n]=function(){return rAe(this,r.get)},e},{}),sAe=$t({},K8e,J8e,eAe,aAe),Voe=l(function(e,t){this.recycle(e,t)},"Event");function Mh(){return!1}function rm(){return!0}l(Mh,"returnFalse"),l(rm,"returnTrue"),Voe.prototype={instanceString:l(function(){return"event"},"instanceString"),recycle:l(function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Mh,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?rm:Mh):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,n=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:r.x*n+i.x,y:r.y*n+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},"recycle"),preventDefault:l(function(){this.isDefaultPrevented=rm;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},"preventDefault"),stopPropagation:l(function(){this.isPropagationStopped=rm;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},"stopPropagation"),stopImmediatePropagation:l(function(){this.isImmediatePropagationStopped=rm,this.stopPropagation()},"stopImmediatePropagation"),isDefaultPrevented:Mh,isPropagationStopped:Mh,isImmediatePropagationStopped:Mh};var Xoe=/^([^.]+)(\.(?:[^.]+))?$/,Koe={qualifierCompare:l(function(e,t){return e===t},"qualifierCompare"),eventMatches:l(function(){return!0},"eventMatches"),addEventFields:l(function(){},"addEventFields"),callbackContext:l(function(e){return e},"callbackContext"),beforeEmit:l(function(){},"beforeEmit"),afterEmit:l(function(){},"afterEmit"),bubble:l(function(){return!1},"bubble"),parent:l(function(){return null},"parent"),context:null},HP=Object.keys(Koe),oAe={};function lv(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oAe,t=arguments.length>1?arguments[1]:void 0,r=0;r<HP.length;r++){var n=HP[r];this[n]=e[n]||Koe[n]}this.context=t||this.context,this.listeners=[],this.emitting=0}l(lv,"Emitter");var bl=lv.prototype,VP=l(function(e,t,r,n,i,a,s){nn(n)&&(i=n,n=null),s&&(a=a==null?s:$t({},a,s));for(var o=Dr(r)?r:r.split(/\s+/),u=0;u<o.length;u++){var h=o[u];if(!uc(h)){var d=h.match(Xoe);if(d&&t(e,h,d[1],d[2]?d[2]:null,n,i,a)===!1)break}}},"forEachEvent"),XP=l(function(e,t){return e.addEventFields(e.context,t),new Voe(t.type,t)},"makeEventObj"),lAe=l(function(e,t,r){if(xEe(r))t(e,r);else if(cr(r))t(e,XP(e,r));else for(var n=Dr(r)?r:r.split(/\s+/),i=0;i<n.length;i++){var a=n[i];if(!uc(a)){var s=a.match(Xoe);if(s){var o=s[1],u=s[2]?s[2]:null;t(e,XP(e,{type:o,namespace:u,target:e.context}))}}}},"forEachEventObj");bl.on=bl.addListener=function(e,t,r,n,i){return VP(this,function(a,s,o,u,h,d,p){nn(d)&&a.listeners.push({event:s,callback:d,type:o,namespace:u,qualifier:h,conf:p})},e,t,r,n,i),this},bl.one=function(e,t,r,n){return this.on(e,t,r,n,{one:!0})},bl.removeListener=bl.off=function(e,t,r,n){var i=this;this.emitting!==0&&(this.listeners=rCe(this.listeners));for(var a=this.listeners,s=l(function(u){var h=a[u];VP(i,function(d,p,f,g,m,y){if((h.type===f||e==="*")&&(!g&&h.namespace!==".*"||h.namespace===g)&&(!m||d.qualifierCompare(h.qualifier,m))&&(!y||h.callback===y))return a.splice(u,1),!1},e,t,r,n)},"_loop"),o=a.length-1;o>=0;o--)s(o);return this},bl.removeAllListeners=function(){return this.removeListener("*")},bl.emit=bl.trigger=function(e,t,r){var n=this.listeners,i=n.length;return this.emitting++,Dr(t)||(t=[t]),lAe(this,function(a,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],i=n.length);for(var o=l(function(h){var d=n[h];if(d.type===s.type&&(!d.namespace||d.namespace===s.namespace||d.namespace===".*")&&a.eventMatches(a.context,d,s)){var p=[s];t!=null&&iCe(p,t),a.beforeEmit(a.context,d,s),d.conf&&d.conf.one&&(a.listeners=a.listeners.filter(function(m){return m!==d}));var f=a.callbackContext(a.context,d,s),g=d.callback.apply(f,p);a.afterEmit(a.context,d,s),g===!1&&(s.stopPropagation(),s.preventDefault())}},"_loop2"),u=0;u<i;u++)o(u);a.bubble(a.context)&&!s.isPropagationStopped()&&a.parent(a.context).emit(s,t)},e),this.emitting--,this};var cAe={qualifierCompare:l(function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},"qualifierCompare"),eventMatches:l(function(e,t,r){var n=t.qualifier;return n==null||e!==r.target&&iv(r.target)&&n.matches(r.target)},"eventMatches"),addEventFields:l(function(e,t){t.cy=e.cy(),t.target=e},"addEventFields"),callbackContext:l(function(e,t,r){return t.qualifier!=null?r.target:e},"callbackContext"),beforeEmit:l(function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},"beforeEmit"),bubble:l(function(){return!0},"bubble"),parent:l(function(e){return e.isChild()?e.parent():e.cy()},"parent")},sx=l(function(e){return Nt(e)?new hc(e):e},"argSelector"),Zoe={createEmitter:l(function(){for(var e=0;e<this.length;e++){var t=this[e],r=t._private;r.emitter||(r.emitter=new lv(cAe,t))}return this},"createEmitter"),emitter:l(function(){return this._private.emitter},"emitter"),on:l(function(e,t,r){for(var n=sx(t),i=0;i<this.length;i++)this[i].emitter().on(e,n,r);return this},"on"),removeListener:l(function(e,t,r){for(var n=sx(t),i=0;i<this.length;i++)this[i].emitter().removeListener(e,n,r);return this},"removeListener"),removeAllListeners:l(function(){for(var e=0;e<this.length;e++)this[e].emitter().removeAllListeners();return this},"removeAllListeners"),one:l(function(e,t,r){for(var n=sx(t),i=0;i<this.length;i++)this[i].emitter().one(e,n,r);return this},"one"),once:l(function(e,t,r){for(var n=sx(t),i=0;i<this.length;i++)this[i].emitter().on(e,n,r,{once:!0,onceCollection:this})},"once"),emit:l(function(e,t){for(var r=0;r<this.length;r++)this[r].emitter().emit(e,t);return this},"emit"),emitAndNotify:l(function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this},"emitAndNotify")};br.eventAliasesOn(Zoe);var Qoe={nodes:l(function(e){return this.filter(function(t){return t.isNode()}).filter(e)},"nodes"),edges:l(function(e){return this.filter(function(t){return t.isEdge()}).filter(e)},"edges"),byGroup:l(function(){for(var e=this.spawn(),t=this.spawn(),r=0;r<this.length;r++){var n=this[r];n.isNode()?e.push(n):t.push(n)}return{nodes:e,edges:t}},"byGroup"),filter:l(function(e,t){if(e===void 0)return this;if(Nt(e)||Ea(e))return new hc(e).filter(this);if(nn(e)){for(var r=this.spawn(),n=this,i=0;i<n.length;i++){var a=n[i];(t?e.apply(t,[a,i,n]):e(a,i,n))&&r.push(a)}return r}return this.spawn()},"filter"),not:l(function(e){if(e){Nt(e)&&(e=this.filter(e));for(var t=this.spawn(),r=0;r<this.length;r++){var n=this[r];e.has(n)||t.push(n)}return t}return this},"not"),absoluteComplement:l(function(){return this.cy().mutableElements().not(this)},"absoluteComplement"),intersect:l(function(e){if(Nt(e)){var t=e;return this.filter(t)}for(var r=this.spawn(),n=e,i=this.length<e.length,a=i?this:n,s=i?n:this,o=0;o<a.length;o++){var u=a[o];s.has(u)&&r.push(u)}return r},"intersect"),xor:l(function(e){var t=this._private.cy;Nt(e)&&(e=t.$(e));var r=this.spawn(),n=e,i=l(function(a,s){for(var o=0;o<a.length;o++){var u=a[o],h=u._private.data.id;s.hasElementWithId(h)||r.push(u)}},"add");return i(this,n),i(n,this),r},"xor"),diff:l(function(e){var t=this._private.cy;Nt(e)&&(e=t.$(e));var r=this.spawn(),n=this.spawn(),i=this.spawn(),a=e,s=l(function(o,u,h){for(var d=0;d<o.length;d++){var p=o[d],f=p._private.data.id;u.hasElementWithId(f)?i.merge(p):h.push(p)}},"add");return s(this,a,r),s(a,this,n),{left:r,right:n,both:i}},"diff"),add:l(function(e){var t=this._private.cy;if(!e)return this;if(Nt(e)){var r=e;e=t.mutableElements().filter(r)}for(var n=this.spawnSelf(),i=0;i<e.length;i++){var a=e[i];!this.has(a)&&n.push(a)}return n},"add"),merge:l(function(e){var t=this._private,r=t.cy;if(!e)return this;if(e&&Nt(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=t.map,a=0;a<e.length;a++){var s=e[a],o=s._private.data.id;if(!i.has(o)){var u=this.length++;this[u]=s,i.set(o,{ele:s,index:u})}}return this},"merge"),unmergeAt:l(function(e){var t=this[e].id(),r=this._private.map;this[e]=void 0,r.delete(t);var n=e===this.length-1;if(this.length>1&&!n){var i=this.length-1,a=this[i],s=a._private.data.id;this[i]=void 0,this[e]=a,r.set(s,{ele:a,index:e})}return this.length--,this},"unmergeAt"),unmergeOne:l(function(e){e=e[0];var t=this._private,r=e._private.data.id,n=t.map.get(r);if(!n)return this;var i=n.index;return this.unmergeAt(i),this},"unmergeOne"),unmerge:l(function(e){var t=this._private.cy;if(!e)return this;if(e&&Nt(e)){var r=e;e=t.mutableElements().filter(r)}for(var n=0;n<e.length;n++)this.unmergeOne(e[n]);return this},"unmerge"),unmergeBy:l(function(e){for(var t=this.length-1;t>=0;t--)e(this[t])&&this.unmergeAt(t);return this},"unmergeBy"),map:l(function(e,t){for(var r=[],n=this,i=0;i<n.length;i++){var a=n[i],s=t?e.apply(t,[a,i,n]):e(a,i,n);r.push(s)}return r},"map"),reduce:l(function(e,t){for(var r=t,n=this,i=0;i<n.length;i++)r=e(r,n[i],i,n);return r},"reduce"),max:l(function(e,t){for(var r,n=-1/0,i=this,a=0;a<i.length;a++){var s=i[a],o=t?e.apply(t,[s,a,i]):e(s,a,i);o>n&&(n=o,r=s)}return{value:n,ele:r}},"max"),min:l(function(e,t){for(var r,n=1/0,i=this,a=0;a<i.length;a++){var s=i[a],o=t?e.apply(t,[s,a,i]):e(s,a,i);o<n&&(n=o,r=s)}return{value:n,ele:r}},"min")},pr=Qoe;pr.u=pr["|"]=pr["+"]=pr.union=pr.or=pr.add,pr["\\"]=pr["!"]=pr["-"]=pr.difference=pr.relativeComplement=pr.subtract=pr.not,pr.n=pr["&"]=pr["."]=pr.and=pr.intersection=pr.intersect,pr["^"]=pr["(+)"]=pr["(-)"]=pr.symmetricDifference=pr.symdiff=pr.xor,pr.fnFilter=pr.filterFn=pr.stdFilter=pr.filter,pr.complement=pr.abscomp=pr.absoluteComplement;var uAe={isNode:l(function(){return this.group()==="nodes"},"isNode"),isEdge:l(function(){return this.group()==="edges"},"isEdge"),isLoop:l(function(){return this.isEdge()&&this.source()[0]===this.target()[0]},"isLoop"),isSimple:l(function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},"isSimple"),group:l(function(){var e=this[0];if(e)return e._private.group},"group")},Joe=l(function(e,t){var r=e.cy().hasCompoundNodes();function n(u){var h=u.pstyle("z-compound-depth");return h.value==="auto"?r?u.zDepth():0:h.value==="bottom"?-1:h.value==="top"?YN:0}l(n,"getDepth");var i=n(e)-n(t);if(i!==0)return i;function a(u){return u.pstyle("z-index-compare").value==="auto"&&u.isNode()?1:0}l(a,"getEleDepth");var s=a(e)-a(t);if(s!==0)return s;var o=e.pstyle("z-index").value-t.pstyle("z-index").value;return o!==0?o:e.poolIndex()-t.poolIndex()},"zIndexSort"),S5={forEach:l(function(e,t){if(nn(e))for(var r=this.length,n=0;n<r;n++){var i=this[n];if((t?e.apply(t,[i,n,this]):e(i,n,this))===!1)break}return this},"forEach"),toArray:l(function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},"toArray"),slice:l(function(e,t){var r=[],n=this.length;t==null&&(t=n),e==null&&(e=0),e<0&&(e=n+e),t<0&&(t=n+t);for(var i=e;i>=0&&i<t&&i<n;i++)r.push(this[i]);return this.spawn(r)},"slice"),size:l(function(){return this.length},"size"),eq:l(function(e){return this[e]||this.spawn()},"eq"),first:l(function(){return this[0]||this.spawn()},"first"),last:l(function(){return this[this.length-1]||this.spawn()},"last"),empty:l(function(){return this.length===0},"empty"),nonempty:l(function(){return!this.empty()},"nonempty"),sort:l(function(e){if(!nn(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},"sort"),sortByZIndex:l(function(){return this.sort(Joe)},"sortByZIndex"),zDepth:l(function(){var e=this[0];if(e){var t=e._private;if(t.group==="nodes"){var r=t.data.parent?e.parents().size():0;return e.isParent()?r:YN-1}var n=t.source,i=t.target,a=n.zDepth(),s=i.zDepth();return Math.max(a,s,0)}},"zDepth")};S5.each=S5.forEach;var hAe=l(function(){var e="undefined";(typeof Symbol>"u"?"undefined":Gn(Symbol))!=e&&Gn(Symbol.iterator)!=e&&(S5[Symbol.iterator]=function(){var t=this,r={value:void 0,done:!1},n=0,i=this.length;return FN({next:l(function(){return n<i?r.value=t[n++]:(r.value=void 0,r.done=!0),r},"next")},Symbol.iterator,function(){return this})})},"defineSymbolIterator");hAe();var dAe=pi({nodeDimensionsIncludeLabels:!1}),pb={layoutDimensions:l(function(e){var t;if(e=dAe(e),this.takesUpSpace())if(e.nodeDimensionsIncludeLabels){var r=this.boundingBox();t={w:r.w,h:r.h}}else t={w:this.outerWidth(),h:this.outerHeight()};else t={w:0,h:0};return t.w!==0&&t.h!==0||(t.w=t.h=1),t},"layoutDimensions"),layoutPositions:l(function(e,t,r){var n=this.nodes().filter(function(b){return!b.isParent()}),i=this.cy(),a=t.eles,s=l(function(b){return b.id()},"getMemoizeKey"),o=o2(r,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=l(function(b,w,T){var k=w.x1+w.w/2,R=w.y1+w.h/2;return{x:k+(T.x-k)*b,y:R+(T.y-R)*b}},"calculateSpacing"),h=t.spacingFactor&&t.spacingFactor!==1,d=l(function(){if(!h)return null;for(var b=da(),w=0;w<n.length;w++){var T=n[w],k=o(T,w);NCe(b,k.x,k.y)}return b},"spacingBb")(),p=o2(function(b,w){var T=o(b,w);if(h){var k=Math.abs(t.spacingFactor);T=u(k,d,T)}return t.transform!=null&&(T=t.transform(b,T)),T},s);if(t.animate){for(var f=0;f<n.length;f++){var g=n[f],m=p(g,f);if(t.animateFilter==null||t.animateFilter(g,f)){var y=g.animation({position:m,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(y)}else g.position(m)}if(t.fit){var v=i.animation({fit:{boundingBox:a.boundingBoxAt(p),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(v)}else if(t.zoom!==void 0&&t.pan!==void 0){var x=i.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(x)}e.animations.forEach(function(b){return b.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),B0.all(e.animations.map(function(b){return b.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else n.positions(p),t.fit&&i.fit(t.eles,t.padding),t.zoom!=null&&i.zoom(t.zoom),t.pan&&i.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},"layoutPositions"),layout:l(function(e){return this.cy().makeLayout($t({},e,{eles:this}))},"layout")};function cI(e,t,r){var n,i=r._private,a=i.styleCache=i.styleCache||[];return(n=a[e])!=null?n:n=a[e]=t(r)}function cv(e,t){return e=oh(e),l(function(r){return cI(e,t,r)},"cachedStyleFunction")}function p2(e,t){e=oh(e);var r=l(function(n){return t.call(n)},"selfFn");return l(function(){var n=this[0];if(n)return cI(e,r,n)},"cachedPrototypeStyleFunction")}pb.createLayout=pb.makeLayout=pb.layout,l(cI,"styleCache"),l(cv,"cacheStyleFunction"),l(p2,"cachePrototypeStyleFunction");var ni={recalculateRenderedStyle:l(function(e){var t=this.cy(),r=t.renderer(),n=t.styleEnabled();return r&&n&&r.recalculateRenderedStyle(this,e),this},"recalculateRenderedStyle"),dirtyStyleCache:l(function(){var e,t=this.cy(),r=l(function(n){return n._private.styleCache=null},"dirty");return t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(r)):this.forEach(function(n){r(n),n.connectedEdges().forEach(r)}),this},"dirtyStyleCache"),updateStyle:l(function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var r=this;e=!(!e&&e!==void 0),t.hasCompoundNodes()&&(r=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var n=r;return e?n.emitAndNotify("style"):n.emit("style"),r.forEach(function(i){return i._private.styleDirty=!0}),this},"updateStyle"),cleanStyle:l(function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var r=this[t];r._private.styleDirty&&(r._private.styleDirty=!1,e.style().apply(r))}},"cleanStyle"),parsedStyle:l(function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this[0],n=r.cy();if(n.styleEnabled()&&r){this.cleanStyle();var i=r._private.style[e];return i??(t?n.style().getDefaultProperty(e):null)}},"parsedStyle"),numericStyle:l(function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var r=t.pstyle(e);return r.pfValue!==void 0?r.pfValue:r.value}},"numericStyle"),numericStyleUnits:l(function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},"numericStyleUnits"),renderedStyle:l(function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=this[0];return r?t.style().getRenderedStyle(r,e):void 0},"renderedStyle"),style:l(function(e,t){var r=this.cy();if(!r.styleEnabled())return this;var n=r.style();if(cr(e)){var i=e;n.applyBypass(this,i,!1),this.emitAndNotify("style")}else if(Nt(e)){if(t===void 0){var a=this[0];return a?n.getStylePropertyValue(a,e):void 0}n.applyBypass(this,e,t,!1),this.emitAndNotify("style")}else if(e===void 0){var s=this[0];return s?n.getRawStyle(s):void 0}return this},"style"),removeStyle:l(function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=t.style(),n=this;if(e===void 0)for(var i=0;i<n.length;i++){var a=n[i];r.removeAllBypasses(a,!1)}else{e=e.split(/\s+/);for(var s=0;s<n.length;s++){var o=n[s];r.removeBypasses(o,e,!1)}}return this.emitAndNotify("style"),this},"removeStyle"),show:l(function(){return this.css("display","element"),this},"show"),hide:l(function(){return this.css("display","none"),this},"hide"),effectiveOpacity:l(function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),r=this[0];if(r){var n=r._private,i=r.pstyle("opacity").value;if(!t)return i;var a=n.data.parent?r.parents():null;if(a)for(var s=0;s<a.length;s++)i*=a[s].pstyle("opacity").value;return i}},"effectiveOpacity"),transparent:l(function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?e.effectiveOpacity()===0:e.pstyle("opacity").value===0:void 0},"transparent"),backgrounding:l(function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding},"backgrounding")};function fb(e,t){var r=e._private.data.parent?e.parents():null;if(r){for(var n=0;n<r.length;n++)if(!t(r[n]))return!1}return!0}function Cw(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,n=e.parentOk||e.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],s=i.hasCompoundNodes();if(a){var o=a._private;if(!t(a))return!1;if(a.isNode())return!s||fb(a,n);var u=o.source,h=o.target;return r(u)&&(!s||fb(u,r))&&(u===h||r(h)&&(!s||fb(h,r)))}}}l(fb,"checkCompound"),l(Cw,"defineDerivedStateFunction");var $0=cv("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(!e.isNode()||e.height()!==0)});ni.takesUpSpace=p2("takesUpSpace",Cw({ok:$0}));var pAe=cv("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&$0(e)}),fAe=cv("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&$0(e)});ni.interactive=p2("interactive",Cw({ok:pAe,parentOk:fAe,edgeOkViaNode:$0})),ni.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var gAe=cv("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&$0(e)}),mAe=$0;ni.visible=p2("visible",Cw({ok:gAe,edgeOkViaNode:mAe})),ni.hidden=function(){var e=this[0];if(e)return!e.visible()},ni.isBundledBezier=p2("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace()}),ni.bypass=ni.css=ni.style,ni.renderedCss=ni.renderedStyle,ni.removeBypass=ni.removeCss=ni.removeStyle,ni.pstyle=ni.parsedStyle;var Bl={};function VC(e){return function(){var t=arguments,r=[];if(t.length===2){var n=t[0],i=t[1];this.on(e.event,n,i)}else if(t.length===1&&nn(t[0])){var a=t[0];this.on(e.event,a)}else if(t.length===0||t.length===1&&Dr(t[0])){for(var s=t.length===1?t[0]:null,o=0;o<this.length;o++){var u=this[o],h=!e.ableField||u._private[e.ableField],d=u._private[e.field]!=e.value;if(e.overrideAble){var p=e.overrideAble(u);if(p!==void 0&&(h=p,!p))return this}h&&(u._private[e.field]=e.value,d&&r.push(u))}var f=this.spawn(r);f.updateStyle(),f.emit(e.event),s&&f.emit(s)}return this}}function Ic(e){Bl[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(r!==void 0)return r}return t._private[e.field]}},Bl[e.on]=VC({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Bl[e.off]=VC({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}l(VC,"defineSwitchFunction"),l(Ic,"defineSwitchSet"),Ic({field:"locked",overrideField:l(function(e){return!!e.cy().autolock()||void 0},"overrideField"),on:"lock",off:"unlock"}),Ic({field:"grabbable",overrideField:l(function(e){return!e.cy().autoungrabify()&&!e.pannable()&&void 0},"overrideField"),on:"grabify",off:"ungrabify"}),Ic({field:"selected",ableField:"selectable",overrideAble:l(function(e){return!e.cy().autounselectify()&&void 0},"overrideAble"),on:"select",off:"unselect"}),Ic({field:"selectable",overrideField:l(function(e){return!e.cy().autounselectify()&&void 0},"overrideField"),on:"selectify",off:"unselectify"}),Bl.deselect=Bl.unselect,Bl.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},Ic({field:"active",on:"activate",off:"unactivate"}),Ic({field:"pannable",on:"panify",off:"unpanify"}),Bl.inactive=function(){var e=this[0];if(e)return!e._private.active};var yi={},KP=l(function(e){return l(function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n];if(i.isNode()){for(var a=!1,s=i.connectedEdges(),o=0;o<s.length;o++){var u=s[o],h=u.source(),d=u.target();if(e.noIncomingEdges&&d===i&&h!==i||e.noOutgoingEdges&&h===i&&d!==i){a=!0;break}}a||r.push(i)}}return this.spawn(r,!0).filter(t)},"dagExtremityImpl")},"defineDagExtremity"),ZP=l(function(e){return function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n];if(i.isNode())for(var a=i.connectedEdges(),s=0;s<a.length;s++){var o=a[s],u=o.source(),h=o.target();e.outgoing&&u===i?(r.push(o),r.push(h)):e.incoming&&h===i&&(r.push(o),r.push(u))}}return this.spawn(r,!0).filter(t)}},"defineDagOneHop"),QP=l(function(e){return function(t){for(var r=this,n=[],i={};;){var a=e.outgoing?r.outgoers():r.incomers();if(a.length===0)break;for(var s=!1,o=0;o<a.length;o++){var u=a[o],h=u.id();i[h]||(i[h]=!0,n.push(u),s=!0)}if(!s)break;r=a}return this.spawn(n,!0).filter(t)}},"defineDagAllHops");function Jk(e){return l(function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n]._private[e.attr];i&&r.push(i)}return this.spawn(r,!0).filter(t)},"sourceImpl")}function eT(e){return l(function(t){var r=[],n=this._private.cy,i=e||{};Nt(t)&&(t=n.$(t));for(var a=0;a<t.length;a++)for(var s=t[a]._private.edges,o=0;o<s.length;o++){var u=s[o],h=u._private.data,d=this.hasElementWithId(h.source)&&t.hasElementWithId(h.target),p=t.hasElementWithId(h.source)&&this.hasElementWithId(h.target);if(d||p){if((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!d||i.thisIsTgt&&!p))continue;r.push(u)}}return this.spawn(r,!0)},"edgesWithImpl")}function tT(e){return e=$t({},{codirected:!1},e),l(function(t){for(var r=[],n=this.edges(),i=e,a=0;a<n.length;a++)for(var s=n[a]._private,o=s.source,u=o._private.data.id,h=s.data.target,d=o._private.edges,p=0;p<d.length;p++){var f=d[p],g=f._private.data,m=g.target,y=g.source,v=m===h&&y===u,x=u===m&&h===y;(i.codirected&&v||!i.codirected&&(v||x))&&r.push(f)}return this.spawn(r,!0).filter(t)},"parallelEdgesImpl")}yi.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},$t(yi,{roots:KP({noIncomingEdges:!0}),leaves:KP({noOutgoingEdges:!0}),outgoers:Fa(ZP({outgoing:!0}),"outgoers"),successors:QP({outgoing:!0}),incomers:Fa(ZP({incoming:!0}),"incomers"),predecessors:QP({incoming:!0})}),$t(yi,{neighborhood:Fa(function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),s=0;s<a.length;s++){var o=a[s],u=o.source(),h=o.target(),d=i===u?h:u;d.length>0&&t.push(d[0]),t.push(o[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:l(function(e){return this.neighborhood().add(this).filter(e)},"closedNeighborhood"),openNeighborhood:l(function(e){return this.neighborhood(e)},"openNeighborhood")}),yi.neighbourhood=yi.neighborhood,yi.closedNeighbourhood=yi.closedNeighborhood,yi.openNeighbourhood=yi.openNeighborhood,$t(yi,{source:Fa(l(function(e){var t,r=this[0];return r&&(t=r._private.source||r.cy().collection()),t&&e?t.filter(e):t},"sourceImpl"),"source"),target:Fa(l(function(e){var t,r=this[0];return r&&(t=r._private.target||r.cy().collection()),t&&e?t.filter(e):t},"targetImpl"),"target"),sources:Jk({attr:"source"}),targets:Jk({attr:"target"})}),l(Jk,"defineSourceFunction"),$t(yi,{edgesWith:Fa(eT(),"edgesWith"),edgesTo:Fa(eT({thisIsSrc:!0}),"edgesTo")}),l(eT,"defineEdgesWithFunction"),$t(yi,{connectedEdges:Fa(function(e){for(var t=[],r=0;r<this.length;r++){var n=this[r];if(n.isNode())for(var i=n._private.edges,a=0;a<i.length;a++){var s=i[a];t.push(s)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:Fa(function(e){for(var t=[],r=0;r<this.length;r++){var n=this[r];n.isEdge()&&(t.push(n.source()[0]),t.push(n.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:Fa(tT(),"parallelEdges"),codirectedEdges:Fa(tT({codirected:!0}),"codirectedEdges")}),l(tT,"defineParallelEdgesFunction"),$t(yi,{components:l(function(e){var t=this,r=t.cy(),n=r.collection(),i=e==null?t.nodes():e.nodes(),a=[];e!=null&&i.empty()&&(i=e.sources());var s=l(function(u,h){n.merge(u),i.unmerge(u),h.merge(u)},"visitInComponent");if(i.empty())return t.spawn();var o=l(function(){var u=r.collection();a.push(u);var h=i[0];s(h,u),t.bfs({directed:!1,roots:h,visit:l(function(d){return s(d,u)},"visit")}),u.forEach(function(d){d.connectedEdges().forEach(function(p){t.has(p)&&u.has(p.source())&&u.has(p.target())&&u.merge(p)})})},"_loop");do o();while(i.length>0);return a},"components"),component:l(function(){var e=this[0];return e.cy().mutableElements().components(e)[0]},"component")}),yi.componentsOf=yi.components;var ai=l(function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(e!==void 0){var i=new ro,a=!1;if(t){if(t.length>0&&cr(t[0])&&!iv(t[0])){a=!0;for(var s=[],o=new P0,u=0,h=t.length;u<h;u++){var d=t[u];d.data==null&&(d.data={});var p=d.data;if(p.id==null)p.id=Dse();else if(e.hasElementWithId(p.id)||o.has(p.id))continue;var f=new bw(e,d,!1);s.push(f),o.add(p.id)}t=s}}else t=[];this.length=0;for(var g=0,m=t.length;g<m;g++){var y=t[g][0];if(y!=null){var v=y._private.data.id;r&&i.has(v)||(r&&i.set(v,{index:this.length,ele:y}),this[this.length]=y,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(x){this.lazyMap=x},rebuildMap:l(function(){for(var x=this.lazyMap=new ro,b=this.eles,w=0;w<b.length;w++){var T=b[w];x.set(T.id(),{index:w,ele:T})}},"rebuildMap")},r&&(this._private.map=i),a&&!n&&this.restore()}else hn("A collection must have a reference to the core")},"Collection"),Br=bw.prototype=ai.prototype=Object.create(Array.prototype);Br.instanceString=function(){return"collection"},Br.spawn=function(e,t){return new ai(this.cy(),e,t)},Br.spawnSelf=function(){return this.spawn(this)},Br.cy=function(){return this._private.cy},Br.renderer=function(){return this._private.cy.renderer()},Br.element=function(){return this[0]},Br.collection=function(){return cse(this)?this:new ai(this._private.cy,[this])},Br.unique=function(){return new ai(this._private.cy,this,!0)},Br.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},Br.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new ai(t)},Br.$id=Br.getElementById,Br.poolIndex=function(){var e=this._private.cy._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index},Br.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},Br.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},Br.json=function(e){var t=this.element(),r=this.cy();if(t==null&&e)return this;if(t!=null){var n=t._private;if(cr(e)){if(r.startBatch(),e.data){t.data(e.data);var i=n.data;if(t.isEdge()){var a=!1,s={},o=e.data.source,u=e.data.target;o!=null&&o!=i.source&&(s.source=""+o,a=!0),u!=null&&u!=i.target&&(s.target=""+u,a=!0),a&&(t=t.move(s))}else{var h="parent"in e.data,d=e.data.parent;!h||d==null&&i.parent==null||d==i.parent||(d===void 0&&(d=null),d!=null&&(d=""+d),t=t.move({parent:d}))}}e.position&&t.position(e.position);var p=l(function(m,y,v){var x=e[m];x!=null&&x!==n[m]&&(x?t[y]():t[v]())},"checkSwitch");return p("removed","remove","restore"),p("selected","select","unselect"),p("selectable","selectify","unselectify"),p("locked","lock","unlock"),p("grabbable","grabify","ungrabify"),p("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),r.endBatch(),this}if(e===void 0){var f={data:to(n.data),position:to(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};f.classes="";var g=0;return n.classes.forEach(function(m){return f.classes+=g++==0?m:" "+m}),f}}},Br.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t].json();e.push(r)}return e},Br.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r].json(),i=new bw(e,n,!1);t.push(i)}return new ai(e,t)},Br.copy=Br.clone,Br.restore=function(){for(var e,t,r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this,a=i.cy(),s=a._private,o=[],u=[],h=0,d=i.length;h<d;h++){var p=i[h];n&&!p.removed()||(p.isNode()?o.push(p):u.push(p))}e=o.concat(u);var f=l(function(){e.splice(t,1),t--},"removeFromElements");for(t=0;t<e.length;t++){var g=e[t],m=g._private,y=m.data;if(g.clearTraversalCache(),n||m.removed)if(y.id===void 0)y.id=Dse();else if(lt(y.id))y.id=""+y.id;else{if(uc(y.id)||!Nt(y.id)){hn("Can not create element with invalid string ID `"+y.id+"`"),f();continue}if(a.hasElementWithId(y.id)){hn("Can not create second element with ID `"+y.id+"`"),f();continue}}var v=y.id;if(g.isNode()){var x=m.position;x.x==null&&(x.x=0),x.y==null&&(x.y=0)}if(g.isEdge()){for(var b=g,w=["source","target"],T=w.length,k=!1,R=0;R<T;R++){var C=w[R],E=y[C];lt(E)&&(E=y[C]=""+y[C]),E==null||E===""?(hn("Can not create edge `"+v+"` with unspecified "+C),k=!0):a.hasElementWithId(E)||(hn("Can not create edge `"+v+"` with nonexistant "+C+" `"+E+"`"),k=!0)}if(k){f();continue}var _=a.getElementById(y.source),L=a.getElementById(y.target);_.same(L)?_._private.edges.push(b):(_._private.edges.push(b),L._private.edges.push(b)),b._private.source=_,b._private.target=L}m.map=new ro,m.map.set(v,{ele:g,index:0}),m.removed=!1,n&&a.addToPool(g)}for(var D=0;D<o.length;D++){var B=o[D],S=B._private.data;lt(S.parent)&&(S.parent=""+S.parent);var N=S.parent,A=N!=null;if(A||B._private.parent){var M=B._private.parent?a.collection().merge(B._private.parent):a.getElementById(N);if(M.empty())S.parent=void 0;else if(M[0].removed())kr("Node added with missing parent, reference to parent removed"),S.parent=void 0,B._private.parent=null;else{for(var O=!1,I=M;!I.empty();){if(B.same(I)){O=!0,S.parent=void 0;break}I=I.parent()}O||(M[0]._private.children.push(B),B._private.parent=M[0],s.hasCompoundNodes=!0)}}}if(e.length>0){for(var P=e.length===i.length?i:new ai(a,e),$=0;$<P.length;$++){var z=P[$];z.isNode()||(z.parallelEdges().clearTraversalCache(),z.source().clearTraversalCache(),z.target().clearTraversalCache())}(s.hasCompoundNodes?a.collection().merge(P).merge(P.connectedNodes()).merge(P.parent()):P).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(r),r?P.emitAndNotify("add"):n&&P.emit("add")}return i},Br.removed=function(){var e=this[0];return e&&e._private.removed},Br.inside=function(){var e=this[0];return e&&!e._private.removed},Br.remove=function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this,n=[],i={},a=r._private.cy;function s(N){for(var A=N._private.edges,M=0;M<A.length;M++)u(A[M])}function o(N){for(var A=N._private.children,M=0;M<A.length;M++)u(A[M])}function u(N){var A=i[N.id()];t&&N.removed()||A||(i[N.id()]=!0,N.isNode()?(n.push(N),s(N),o(N)):n.unshift(N))}l(s,"addConnectedEdges"),l(o,"addChildren"),l(u,"add");for(var h=0,d=r.length;h<d;h++){var p=r[h];u(p)}function f(N,A){var M=N._private.edges;Dl(M,A),N.clearTraversalCache()}function g(N){N.clearTraversalCache()}l(f,"removeEdgeRef"),l(g,"removeParallelRef");var m=[];function y(N,A){A=A[0];var M=(N=N[0])._private.children,O=N.id();Dl(M,A),A._private.parent=null,m.ids[O]||(m.ids[O]=!0,m.push(N))}m.ids={},l(y,"removeChildRef"),r.dirtyCompoundBoundsCache(),t&&a.removeFromPool(n);for(var v=0;v<n.length;v++){var x=n[v];if(x.isEdge()){var b=x.source()[0],w=x.target()[0];f(b,x),f(w,x);for(var T=x.parallelEdges(),k=0;k<T.length;k++){var R=T[k];g(R),R.isBundledBezier()&&R.dirtyBoundingBoxCache()}}else{var C=x.parent();C.length!==0&&y(C,x)}t&&(x._private.removed=!0)}var E=a._private.elements;a._private.hasCompoundNodes=!1;for(var _=0;_<E.length;_++){var L=E[_];if(L.isParent()){a._private.hasCompoundNodes=!0;break}}var D=new ai(this.cy(),n);D.size()>0&&(e?D.emitAndNotify("remove"):t&&D.emit("remove"));for(var B=0;B<m.length;B++){var S=m[B];t&&S.removed()||S.updateStyle()}return D},Br.move=function(e){var t=this._private.cy,r=this,n=!1,i=!1,a=l(function(f){return f==null?f:""+f},"toString");if(e.source!==void 0||e.target!==void 0){var s=a(e.source),o=a(e.target),u=s!=null&&t.hasElementWithId(s),h=o!=null&&t.hasElementWithId(o);(u||h)&&(t.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var f=0;f<r.length;f++){var g=r[f],m=g._private.data;g.isEdge()&&(u&&(m.source=s),h&&(m.target=o))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(e.parent!==void 0){var d=a(e.parent);if(d===null||t.hasElementWithId(d)){var p=d===null?void 0:d;t.batch(function(){var f=r.remove(n,i);f.emitAndNotify("moveout");for(var g=0;g<r.length;g++){var m=r[g],y=m._private.data;m.isNode()&&(y.parent=p)}f.restore(n,i)}),r.emitAndNotify("move")}}return this},[Yse,D8e,hb,_l,Kh,X8e,db,sAe,Zoe,Qoe,uAe,S5,pb,ni,Bl,yi].forEach(function(e){$t(Br,e)});var yAe={add:l(function(e){var t,r=this;if(Ea(e)){var n=e;if(n._private.cy===r)t=n.restore();else{for(var i=[],a=0;a<n.length;a++){var s=n[a];i.push(s.json())}t=new ai(r,i)}}else if(Dr(e))t=new ai(r,e);else if(cr(e)&&(Dr(e.nodes)||Dr(e.edges))){for(var o=e,u=[],h=["nodes","edges"],d=0,p=h.length;d<p;d++){var f=h[d],g=o[f];if(Dr(g))for(var m=0,y=g.length;m<y;m++){var v=$t({group:f},g[m]);u.push(v)}}t=new ai(r,u)}else t=new bw(r,e).collection();return t},"add"),remove:l(function(e){if(!Ea(e)){if(Nt(e)){var t=e;e=this.$(t)}}return e.remove()},"remove")};function ele(e,t,r,n){var i=4,a=.001,s=1e-7,o=10,u=11,h=1/(u-1),d=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var p=0;p<4;++p)if(typeof arguments[p]!="number"||isNaN(arguments[p])||!isFinite(arguments[p]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var f=d?new Float32Array(u):new Array(u);function g(L,D){return 1-3*D+3*L}function m(L,D){return 3*D-6*L}function y(L){return 3*L}function v(L,D,B){return((g(D,B)*L+m(D,B))*L+y(D))*L}function x(L,D,B){return 3*g(D,B)*L*L+2*m(D,B)*L+y(D)}function b(L,D){for(var B=0;B<i;++B){var S=x(D,e,r);if(S===0)return D;D-=(v(D,e,r)-L)/S}return D}function w(){for(var L=0;L<u;++L)f[L]=v(L*h,e,r)}function T(L,D,B){var S,N,A=0;do(S=v(N=D+(B-D)/2,e,r)-L)>0?B=N:D=N;while(Math.abs(S)>s&&++A<o);return N}function k(L){for(var D=0,B=1,S=u-1;B!==S&&f[B]<=L;++B)D+=h;--B;var N=D+(L-f[B])/(f[B+1]-f[B])*h,A=x(N,e,r);return A>=a?b(L,N):A===0?N:T(L,D,D+h)}l(g,"A"),l(m,"B"),l(y,"C"),l(v,"calcBezier"),l(x,"getSlope"),l(b,"newtonRaphsonIterate"),l(w,"calcSampleValues"),l(T,"binarySubdivide"),l(k,"getTForX");var R=!1;function C(){R=!0,e===t&&r===n||w()}l(C,"precompute");var E=l(function(L){return R||C(),e===t&&r===n?L:L===0?0:L===1?1:v(k(L),t,n)},"f");E.getControlPoints=function(){return[{x:e,y:t},{x:r,y:n}]};var _="generateBezier("+[e,t,r,n]+")";return E.toString=function(){return _},E}l(ele,"generateCubicBezier");var vAe=function(){function e(n){return-n.tension*n.x-n.friction*n.v}function t(n,i,a){var s={x:n.x+a.dx*i,v:n.v+a.dv*i,tension:n.tension,friction:n.friction};return{dx:s.v,dv:e(s)}}function r(n,i){var a={dx:n.v,dv:e(n)},s=t(n,.5*i,a),o=t(n,.5*i,s),u=t(n,i,o),h=1/6*(a.dx+2*(s.dx+o.dx)+u.dx),d=1/6*(a.dv+2*(s.dv+o.dv)+u.dv);return n.x=n.x+h*i,n.v=n.v+d*i,n}return l(e,"springAccelerationForState"),l(t,"springEvaluateStateWithDerivative"),l(r,"springIntegrateState"),l(function n(i,a,s){var o,u,h,d={x:-1,v:0,tension:null,friction:null},p=[0],f=0,g=1e-4;for(i=parseFloat(i)||500,a=parseFloat(a)||20,s=s||null,d.tension=i,d.friction=a,u=(o=s!==null)?(f=n(i,a))/s*.016:.016;h=r(h||d,u),p.push(1+h.x),f+=16,Math.abs(h.x)>g&&Math.abs(h.v)>g;);return o?function(m){return p[m*(p.length-1)|0]}:f},"springRK4Factory")}(),$r=l(function(e,t,r,n){var i=ele(e,t,r,n);return function(a,s,o){return a+(s-a)*i(o)}},"cubicBezier"),gb={linear:l(function(e,t,r){return e+(t-e)*r},"linear"),ease:$r(.25,.1,.25,1),"ease-in":$r(.42,0,1,1),"ease-out":$r(0,0,.58,1),"ease-in-out":$r(.42,0,.58,1),"ease-in-sine":$r(.47,0,.745,.715),"ease-out-sine":$r(.39,.575,.565,1),"ease-in-out-sine":$r(.445,.05,.55,.95),"ease-in-quad":$r(.55,.085,.68,.53),"ease-out-quad":$r(.25,.46,.45,.94),"ease-in-out-quad":$r(.455,.03,.515,.955),"ease-in-cubic":$r(.55,.055,.675,.19),"ease-out-cubic":$r(.215,.61,.355,1),"ease-in-out-cubic":$r(.645,.045,.355,1),"ease-in-quart":$r(.895,.03,.685,.22),"ease-out-quart":$r(.165,.84,.44,1),"ease-in-out-quart":$r(.77,0,.175,1),"ease-in-quint":$r(.755,.05,.855,.06),"ease-out-quint":$r(.23,1,.32,1),"ease-in-out-quint":$r(.86,0,.07,1),"ease-in-expo":$r(.95,.05,.795,.035),"ease-out-expo":$r(.19,1,.22,1),"ease-in-out-expo":$r(1,0,0,1),"ease-in-circ":$r(.6,.04,.98,.335),"ease-out-circ":$r(.075,.82,.165,1),"ease-in-out-circ":$r(.785,.135,.15,.86),spring:l(function(e,t,r){if(r===0)return gb.linear;var n=vAe(e,t,r);return function(i,a,s){return i+(a-i)*n(s)}},"spring"),"cubic-bezier":$r};function XC(e,t,r,n,i){if(n===1||t===r)return r;var a=i(t,r,n);return e==null||((e.roundValue||e.color)&&(a=Math.round(a)),e.min!==void 0&&(a=Math.max(a,e.min)),e.max!==void 0&&(a=Math.min(a,e.max))),a}function KC(e,t){return e.pfValue!=null||e.value!=null?e.pfValue==null||t!=null&&t.type.units==="%"?e.value:e.pfValue:e}function Kc(e,t,r,n,i){var a=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var s=KC(e,i),o=KC(t,i);if(lt(s)&&lt(o))return XC(a,s,o,r,n);if(Dr(s)&&Dr(o)){for(var u=[],h=0;h<o.length;h++){var d=s[h],p=o[h];if(d!=null&&p!=null){var f=XC(a,d,p,r,n);u.push(f)}else u.push(p)}return u}}function tle(e,t,r,n){var i=!n,a=e._private,s=t._private,o=s.easing,u=s.startTime,h=(n?e:e.cy()).style();if(!s.easingImpl)if(o==null)s.easingImpl=gb.linear;else{var d,p,f;Nt(o)?d=h.parse("transition-timing-function",o).value:d=o,Nt(d)?(p=d,f=[]):(p=d[1],f=d.slice(2).map(function(M){return+M})),f.length>0?(p==="spring"&&f.push(s.duration),s.easingImpl=gb[p].apply(null,f)):s.easingImpl=gb[p]}var g,m=s.easingImpl;if(g=s.duration===0?1:(r-u)/s.duration,s.applying&&(g=s.progress),g<0?g=0:g>1&&(g=1),s.delay==null){var y=s.startPosition,v=s.position;if(v&&i&&!e.locked()){var x={};Qh(y.x,v.x)&&(x.x=Kc(y.x,v.x,g,m)),Qh(y.y,v.y)&&(x.y=Kc(y.y,v.y,g,m)),e.position(x)}var b=s.startPan,w=s.pan,T=a.pan,k=w!=null&&n;k&&(Qh(b.x,w.x)&&(T.x=Kc(b.x,w.x,g,m)),Qh(b.y,w.y)&&(T.y=Kc(b.y,w.y,g,m)),e.emit("pan"));var R=s.startZoom,C=s.zoom,E=C!=null&&n;E&&(Qh(R,C)&&(a.zoom=u2(a.minZoom,Kc(R,C,g,m),a.maxZoom)),e.emit("zoom")),(k||E)&&e.emit("viewport");var _=s.style;if(_&&_.length>0&&i){for(var L=0;L<_.length;L++){var D=_[L],B=D.name,S=D,N=s.startStyle[B],A=Kc(N,S,g,m,h.properties[N.name]);h.overrideBypass(e,B,A)}e.emit("style")}}return s.progress=g,g}function Qh(e,t){return e!=null&&t!=null&&(!(!lt(e)||!lt(t))||!(!e||!t))}function rle(e,t,r,n){var i=t._private;i.started=!0,i.startTime=r-i.progress*i.duration}function ZC(e,t){var r=t._private.aniEles,n=[];function i(h,d){var p=h._private,f=p.animation.current,g=p.animation.queue,m=!1;if(f.length===0){var y=g.shift();y&&f.push(y)}for(var v=l(function(T){for(var k=T.length-1;k>=0;k--)(0,T[k])();T.splice(0,T.length)},"callbacks"),x=f.length-1;x>=0;x--){var b=f[x],w=b._private;w.stopped?(f.splice(x,1),w.hooked=!1,w.playing=!1,w.started=!1,v(w.frames)):(w.playing||w.applying)&&(w.playing&&w.applying&&(w.applying=!1),w.started||rle(0,b,e),tle(h,b,e,d),w.applying&&(w.applying=!1),v(w.frames),w.step!=null&&w.step(e),b.completed()&&(f.splice(x,1),w.hooked=!1,w.playing=!1,w.started=!1,v(w.completes)),m=!0)}return d||f.length!==0||g.length!==0||n.push(h),m}l(i,"stepOne");for(var a=!1,s=0;s<r.length;s++){var o=i(r[s]);a=a||o}var u=i(t,!0);(a||u)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(n),t.emit("step")}l(XC,"getEasedValue"),l(KC,"getValue"),l(Kc,"ease"),l(tle,"step$1"),l(Qh,"valid"),l(rle,"startAnimation"),l(ZC,"stepAll");var xAe={animate:br.animate(),animation:br.animation(),animated:br.animated(),clearQueue:br.clearQueue(),delay:br.delay(),delayAnimation:br.delayAnimation(),stop:br.stop(),addToAnimationPool:l(function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},"addToAnimationPool"),stopAnimationLoop:l(function(){this._private.animationsRunning=!1},"stopAnimationLoop"),startAnimationLoop:l(function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){l(r,"headlessStep");var t=e.renderer();t&&t.beforeRender?t.beforeRender(l(function(n,i){ZC(i,e)},"rendererAnimationStep"),t.beforeRenderPriorities.animations):r()}function r(){e._private.animationsRunning&&v5(l(function(n){ZC(n,e),r()},"animationStep"))}},"startAnimationLoop")},bAe={qualifierCompare:l(function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},"qualifierCompare"),eventMatches:l(function(e,t,r){var n=t.qualifier;return n==null||e!==r.target&&iv(r.target)&&n.matches(r.target)},"eventMatches"),addEventFields:l(function(e,t){t.cy=e,t.target=e},"addEventFields"),callbackContext:l(function(e,t,r){return t.qualifier!=null?r.target:e},"callbackContext")},ox=l(function(e){return Nt(e)?new hc(e):e},"argSelector"),nle={createEmitter:l(function(){var e=this._private;return e.emitter||(e.emitter=new lv(bAe,this)),this},"createEmitter"),emitter:l(function(){return this._private.emitter},"emitter"),on:l(function(e,t,r){return this.emitter().on(e,ox(t),r),this},"on"),removeListener:l(function(e,t,r){return this.emitter().removeListener(e,ox(t),r),this},"removeListener"),removeAllListeners:l(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),one:l(function(e,t,r){return this.emitter().one(e,ox(t),r),this},"one"),once:l(function(e,t,r){return this.emitter().one(e,ox(t),r),this},"once"),emit:l(function(e,t){return this.emitter().emit(e,t),this},"emit"),emitAndNotify:l(function(e,t){return this.emit(e),this.notify(e,t),this},"emitAndNotify")};br.eventAliasesOn(nle);var QC={png:l(function(e){return e=e||{},this._private.renderer.png(e)},"png"),jpg:l(function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)},"jpg")};QC.jpeg=QC.jpg;var mb={layout:l(function(e){var t=this;if(e!=null)if(e.name!=null){var r,n=e.name,i=t.extension("layout",n);if(i!=null)return r=Nt(e.eles)?t.$(e.eles):e.eles!=null?e.eles:t.$(),new i($t({},e,{cy:t,eles:r}));hn("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else hn("A `name` must be specified to make a layout");else hn("Layout options must be specified to make a layout")},"layout")};mb.createLayout=mb.makeLayout=mb.layout;var wAe={notify:l(function(e,t){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var n=r.batchNotifications[e]=r.batchNotifications[e]||this.collection();t!=null&&n.merge(t)}else if(r.notificationsEnabled){var i=this.renderer();!this.destroyed()&&i&&i.notify(e,t)}},"notify"),notifications:l(function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},"notifications"),noNotifications:l(function(e){this.notifications(!1),e(),this.notifications(!0)},"noNotifications"),batching:l(function(){return this._private.batchCount>0},"batching"),startBatch:l(function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},"startBatch"),endBatch:l(function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(r){var n=e.batchNotifications[r];n.empty()?t.notify(r):t.notify(r,n)})}return this},"endBatch"),batch:l(function(e){return this.startBatch(),e(),this.endBatch(),this},"batch"),batchData:l(function(e){var t=this;return this.batch(function(){for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n],a=e[i];t.getElementById(i).data(a)}})},"batchData")},kAe=pi({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),JC={renderTo:l(function(e,t,r,n){return this._private.renderer.renderTo(e,t,r,n),this},"renderTo"),renderer:l(function(){return this._private.renderer},"renderer"),forceRender:l(function(){return this.notify("draw"),this},"forceRender"),resize:l(function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},"resize"),initRenderer:l(function(e){var t=this,r=t.extension("renderer",e.name);if(r!=null){e.wheelSensitivity!==void 0&&kr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=kAe(e);n.cy=t,t._private.renderer=new r(n),this.notify("init")}else hn("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},"initRenderer"),destroyRenderer:l(function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(r){var n=r._private;n.rscratch={},n.rstyle={},n.animation.current=[],n.animation.queue=[]})},"destroyRenderer"),onRender:l(function(e){return this.on("render",e)},"onRender"),offRender:l(function(e){return this.off("render",e)},"offRender")};JC.invalidateDimensions=JC.resize;var yb={collection:l(function(e,t){return Nt(e)?this.$(e):Ea(e)?e.collection():Dr(e)?(t||(t={}),new ai(this,e,t.unique,t.removed)):new ai(this)},"collection"),nodes:l(function(e){var t=this.$(function(r){return r.isNode()});return e?t.filter(e):t},"nodes"),edges:l(function(e){var t=this.$(function(r){return r.isEdge()});return e?t.filter(e):t},"edges"),$:l(function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},"$"),mutableElements:l(function(){return this._private.elements},"mutableElements")};yb.elements=yb.filter=yb.$;var vi={};vi.apply=function(e){for(var t=this,r=t._private.cy.collection(),n=0;n<e.length;n++){var i=e[n],a=t.getContextMeta(i);if(!a.empty){var s=t.getContextStyle(a),o=t.applyContextStyle(a,s,i);i._private.appliedInitStyle?t.updateTransitions(i,o.diffProps):i._private.appliedInitStyle=!0,t.updateStyleHints(i)&&r.push(i)}}return r},vi.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=e+"-"+t,a=n[i];if(a)return a;for(var s=[],o={},u=0;u<r.length;u++){var h=r[u],d=e[u]==="t",p=t[u]==="t",f=d!==p,g=h.mappedProperties.length>0;if(f||p&&g){var m=void 0;f&&g||f?m=h.properties:g&&(m=h.mappedProperties);for(var y=0;y<m.length;y++){for(var v=m[y],x=v.name,b=!1,w=u+1;w<r.length;w++){var T=r[w];if(t[w]==="t"&&(b=T.properties[v.name]!=null))break}o[x]||b||(o[x]=!0,s.push(x))}}}return n[i]=s,s},vi.getContextMeta=function(e){for(var t,r=this,n="",i=e._private.styleCxtKey||"",a=0;a<r.length;a++){var s=r[a];n+=s.selector&&s.selector.matches(e)?"t":"f"}return t=r.getPropertiesDiff(i,n),e._private.styleCxtKey=n,{key:n,diffPropNames:t,empty:t.length===0}},vi.getContextStyle=function(e){var t=e.key,r=this._private.contextStyles=this._private.contextStyles||{};if(r[t])return r[t];for(var n={_private:{key:t}},i=0;i<this.length;i++){var a=this[i];if(t[i]==="t")for(var s=0;s<a.properties.length;s++){var o=a.properties[s];n[o.name]=o}}return r[t]=n,n},vi.applyContextStyle=function(e,t,r){for(var n=e.diffPropNames,i={},a=this.types,s=0;s<n.length;s++){var o=n[s],u=t[o],h=r.pstyle(o);if(!u){if(!h)continue;u=h.bypass?{name:o,deleteBypassed:!0}:{name:o,delete:!0}}if(h!==u){if(u.mapped===a.fn&&h!=null&&h.mapping!=null&&h.mapping.value===u.value){var d=h.mapping;if((d.fnValue=u.value(r))===d.prevFnValue)continue}var p=i[o]={prev:h};this.applyParsedProperty(r,u),p.next=r.pstyle(o),p.next&&p.next.bypass&&(p.next=p.next.bypassed)}}return{diffProps:i}},vi.updateStyleHints=function(e){var t=e._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,a=l(function(W,H,X){return r.getPropertiesHash(W,H,X)},"propHash"),s=t.styleKey;if(e.removed())return!1;var o=t.group==="nodes",u=e._private.style;n=Object.keys(u);for(var h=0;h<i.length;h++){var d=i[h];t.styleKeys[d]=[9261,5381]}for(var p=l(function(W,H){return t.styleKeys[H][0]=l2(W,t.styleKeys[H][0])},"updateGrKey1"),f=l(function(W,H){return t.styleKeys[H][1]=c2(W,t.styleKeys[H][1])},"updateGrKey2"),g=l(function(W,H){p(W,H),f(W,H)},"updateGrKey"),m=l(function(W,H){for(var X=0;X<W.length;X++){var Q=W.charCodeAt(X);p(Q,H),f(Q,H)}},"updateGrKeyWStr"),y=l(function(W){return-128<W&&W<128&&Math.floor(W)!==W?2e9-(1024*W|0):W},"cleanNum"),v=0;v<n.length;v++){var x=n[v],b=u[x];if(b!=null){var w=this.properties[x],T=w.type,k=w.groupKey,R=void 0;w.hashOverride!=null?R=w.hashOverride(e,b):b.pfValue!=null&&(R=b.pfValue);var C=w.enums==null?b.value:null,E=R!=null,_=E||C!=null,L=b.units;T.number&&_&&!T.multiple?(g(y(E?R:C),k),E||L==null||m(L,k)):m(b.strValue,k)}}for(var D=[9261,5381],B=0;B<i.length;B++){var S=i[B],N=t.styleKeys[S];D[0]=l2(N[0],D[0]),D[1]=c2(N[1],D[1])}t.styleKey=KEe(D[0],D[1]);var A=t.styleKeys;t.labelDimsKey=ml(A.labelDimensions);var M=a(e,["label"],A.labelDimensions);if(t.labelKey=ml(M),t.labelStyleKey=ml(Kv(A.commonLabel,M)),!o){var O=a(e,["source-label"],A.labelDimensions);t.sourceLabelKey=ml(O),t.sourceLabelStyleKey=ml(Kv(A.commonLabel,O));var I=a(e,["target-label"],A.labelDimensions);t.targetLabelKey=ml(I),t.targetLabelStyleKey=ml(Kv(A.commonLabel,I))}if(o){var P=t.styleKeys,$=P.nodeBody,z=P.nodeBorder,G=P.nodeOutline,q=P.backgroundImage,J=P.compound,ie=P.pie,te=[$,z,G,q,J,ie].filter(function(W){return W!=null}).reduce(Kv,[9261,5381]);t.nodeKey=ml(te),t.hasPie=ie!=null&&ie[0]!==9261&&ie[1]!==5381}return s!==t.styleKey},vi.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null},vi.applyParsedProperty=function(e,t){var r,n=this,i=t,a=e._private.style,s=n.types,o=n.properties[i.name].type,u=i.bypass,h=a[i.name],d=h&&h.bypass,p=e._private,f="mapping",g=l(function($){return $==null?null:$.pfValue!=null?$.pfValue:$.value},"getVal"),m=l(function(){var $=g(h),z=g(i);n.checkTriggers(e,i.name,$,z)},"checkTriggers");if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(i=t=this.parse(t.name,"bezier",u)),i.delete)return a[i.name]=void 0,m(),!0;if(i.deleteBypassed)return h?!!h.bypass&&(h.bypassed=void 0,m(),!0):(m(),!0);if(i.deleteBypass)return h?!!h.bypass&&(a[i.name]=h.bypassed,m(),!0):(m(),!0);var y=l(function(){kr("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")},"printMappingErr");switch(i.mapped){case s.mapData:for(var v,x=i.field.split("."),b=p.data,w=0;w<x.length&&b;w++)b=b[x[w]];if(b==null)return y(),!1;if(!lt(b))return kr("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+b+"` for `"+e.id()+"` is non-numeric)"),!1;var T=i.fieldMax-i.fieldMin;if((v=T===0?0:(b-i.fieldMin)/T)<0?v=0:v>1&&(v=1),o.color){var k=i.valueMin[0],R=i.valueMax[0],C=i.valueMin[1],E=i.valueMax[1],_=i.valueMin[2],L=i.valueMax[2],D=i.valueMin[3]==null?1:i.valueMin[3],B=i.valueMax[3]==null?1:i.valueMax[3],S=[Math.round(k+(R-k)*v),Math.round(C+(E-C)*v),Math.round(_+(L-_)*v),Math.round(D+(B-D)*v)];r={bypass:i.bypass,name:i.name,value:S,strValue:"rgb("+S[0]+", "+S[1]+", "+S[2]+")"}}else{if(!o.number)return!1;var N=i.valueMin+(i.valueMax-i.valueMin)*v;r=this.parse(i.name,N,i.bypass,f)}if(!r)return y(),!1;r.mapping=i,i=r;break;case s.data:for(var A=i.field.split("."),M=p.data,O=0;O<A.length&&M;O++)M=M[A[O]];if(M!=null&&(r=this.parse(i.name,M,i.bypass,f)),!r)return y(),!1;r.mapping=i,i=r;break;case s.fn:var I=i.value,P=i.fnValue!=null?i.fnValue:I(e);if(i.prevFnValue=P,P==null)return kr("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+e.id()+"` is null)"),!1;if(!(r=this.parse(i.name,P,i.bypass,f)))return kr("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+e.id()+"` is invalid)"),!1;r.mapping=to(i),i=r;break;case void 0:break;default:return!1}return u?(i.bypassed=d?h.bypassed:h,a[i.name]=i):d?h.bypassed=i:a[i.name]=i,m(),!0},vi.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),t)for(var i=n._private.style,a=Object.keys(i),s=0;s<a.length;s++){var o=a[s],u=i[o];u!=null&&(u.bypass?u.bypassed=null:i[o]=null)}else n._private.style={}}},vi.update=function(){this._private.cy.mutableElements().updateStyle()},vi.updateTransitions=function(e,t){var r=this,n=e._private,i=e.pstyle("transition-property").value,a=e.pstyle("transition-duration").pfValue,s=e.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var o={},u=!1,h=0;h<i.length;h++){var d=i[h],p=e.pstyle(d),f=t[d];if(f){var g=f.prev,m=f.next!=null?f.next:p,y=!1,v=void 0,x=1e-6;g&&(lt(g.pfValue)&&lt(m.pfValue)?(y=m.pfValue-g.pfValue,v=g.pfValue+x*y):lt(g.value)&&lt(m.value)?(y=m.value-g.value,v=g.value+x*y):Dr(g.value)&&Dr(m.value)&&(y=g.value[0]!==m.value[0]||g.value[1]!==m.value[1]||g.value[2]!==m.value[2],v=g.strValue),y&&(o[d]=m.strValue,this.applyBypass(e,d,v),u=!0))}}if(!u)return;n.transitioning=!0,new B0(function(b){s>0?e.delayAnimation(s).play().promise().then(b):b()}).then(function(){return e.animation({style:o,duration:a,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,i),e.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),n.transitioning=!1)},vi.checkTrigger=function(e,t,r,n,i,a){var s=this.properties[t],o=i(s);o!=null&&o(r,n)&&a(s)},vi.checkZOrderTrigger=function(e,t,r,n){var i=this;this.checkTrigger(e,t,r,n,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",e)})},vi.checkBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(i){return i.triggersBounds},function(i){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),!i.triggersBoundsOfParallelBeziers||t!=="curve-style"||r!=="bezier"&&n!=="bezier"||e.parallelEdges().forEach(function(a){a.isBundledBezier()&&a.dirtyBoundingBoxCache()}),!i.triggersBoundsOfConnectedEdges||t!=="display"||r!=="none"&&n!=="none"||e.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})},vi.checkTriggers=function(e,t,r,n){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,n),this.checkBoundsTrigger(e,t,r,n)};var TAe={applyBypass:function(e,t,r,n){var i=[];if(t==="*"||t==="**"){if(r!==void 0)for(var a=0;a<this.properties.length;a++){var s=this.properties[a].name,o=this.parse(s,r,!0);o&&i.push(o)}}else if(Nt(t)){var u=this.parse(t,r,!0);u&&i.push(u)}else{if(!cr(t))return!1;var h=t;n=r;for(var d=Object.keys(h),p=0;p<d.length;p++){var f=d[p],g=h[f];if(g===void 0&&(g=h[yw(f)]),g!==void 0){var m=this.parse(f,g,!0);m&&i.push(m)}}}if(i.length===0)return!1;for(var y=!1,v=0;v<e.length;v++){for(var x=e[v],b={},w=void 0,T=0;T<i.length;T++){var k=i[T];if(n){var R=x.pstyle(k.name);w=b[k.name]={prev:R}}y=this.applyParsedProperty(x,to(k))||y,n&&(w.next=x.pstyle(k.name))}y&&this.updateStyleHints(x),n&&this.updateTransitions(x,b,!0)}return y},overrideBypass:function(e,t,r){t=qN(t);for(var n=0;n<e.length;n++){var i=e[n],a=i._private.style[t],s=this.properties[t].type,o=s.color,u=s.mutiple,h=a?a.pfValue!=null?a.pfValue:a.value:null;a&&a.bypass?(a.value=r,a.pfValue!=null&&(a.pfValue=r),a.strValue=o?"rgb("+r.join(",")+")":u?r.join(" "):""+r,this.updateStyleHints(i)):this.applyBypass(i,t,r),this.checkTriggers(i,t,h,r)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,r){for(var n=0;n<e.length;n++){for(var i=e[n],a={},s=0;s<t.length;s++){var o=t[s],u=this.properties[o],h=i.pstyle(u.name);if(h&&h.bypass){var d=this.parse(o,"",!0),p=a[u.name]={prev:h};this.applyParsedProperty(i,d),p.next=i.pstyle(u.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,a,!0)}}},_Ae={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1},containerCss:function(e){var t=this._private.cy,r=t.container(),n=t.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(e)}},eS={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){var r=this;if(e=e[0]){for(var n={},i=0;i<r.properties.length;i++){var a=r.properties[i],s=r.getStylePropertyValue(e,a.name,t);s!=null&&(n[a.name]=s,n[yw(a.name)]=s)}return n}},getIndexedStyle:function(e,t,r,n){var i=e.pstyle(t)[r][n];return i??e.cy().style().getDefaultProperty(t)[r][0]},getStylePropertyValue:function(e,t,r){if(e=e[0]){var n=this.properties[t];n.alias&&(n=n.pointsTo);var i=n.type,a=e.pstyle(n.name);if(a){var s=a.value,o=a.units,u=a.strValue;if(r&&i.number&&s!=null&&lt(s)){var h=e.cy().zoom(),d=l(function(m){return m*h},"getRenderedValue"),p=l(function(m,y){return d(m)+y},"getValueStringWithUnits"),f=Dr(s),g=f?o.every(function(m){return m!=null}):o!=null;return g?f?s.map(function(m,y){return p(m,o[y])}).join(" "):p(s,o):f?s.map(function(m){return Nt(m)?m:""+d(m)}).join(" "):""+d(s)}if(u!=null)return u}return null}},getAnimationStartStyle:function(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n].name,a=e.pstyle(i);a!==void 0&&(a=cr(a)?this.parse(i,a.strValue):this.parse(i,a)),a&&(r[i]=a)}return r},getPropsList:function(e){var t=[],r=e,n=this.properties;if(r)for(var i=Object.keys(r),a=0;a<i.length;a++){var s=i[a],o=r[s],u=n[s]||n[qN(s)],h=this.parse(u.name,o);h&&t.push(h)}return t},getNonDefaultPropertiesHash:function(e,t,r){var n,i,a,s,o,u,h=r.slice();for(o=0;o<t.length;o++)if(n=t[o],(i=e.pstyle(n,!1))!=null)if(i.pfValue!=null)h[0]=l2(s,h[0]),h[1]=c2(s,h[1]);else for(a=i.strValue,u=0;u<a.length;u++)s=a.charCodeAt(u),h[0]=l2(s,h[0]),h[1]=c2(s,h[1]);return h}};eS.getPropertiesHash=eS.getNonDefaultPropertiesHash;var EAe={appendFromJson:function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],i=n.selector,a=n.style||n.css,s=Object.keys(a);t.selector(i);for(var o=0;o<s.length;o++){var u=s[o],h=a[u];t.css(u,h)}}return t},fromJson:function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,i=r.properties,a={},s=0;s<i.length;s++){var o=i[s];a[o.name]=o.strValue}e.push({selector:n?n.toString():"core",style:a})}return e}},CAe={appendFromString:function(e){var t,r,n,i=this,a=""+e;function s(){a=a.length>t.length?a.substr(t.length):""}function o(){r=r.length>n.length?r.substr(n.length):""}for(a=a.replace(/[/][*](\s|.)+?[*][/]/g,""),l(s,"removeSelAndBlockFromRemaining"),l(o,"removePropAndValFromRem");!a.match(/^\s*$/);){var u=a.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!u){kr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+a);break}t=u[0];var h=u[1];if(h!=="core"&&new hc(h).invalid){kr("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),s();continue}var d=u[2],p=!1;r=d;for(var f=[];!r.match(/^\s*$/);){var g=r.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!g){kr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+d),p=!0;break}n=g[0];var m=g[1],y=g[2];this.properties[m]?i.parse(m,y)?(f.push({name:m,val:y}),o()):(kr("Skipping property: Invalid property definition in: "+n),o()):(kr("Skipping property: Invalid property name in: "+n),o())}if(p){s();break}i.selector(h);for(var v=0;v<f.length;v++){var x=f[v];i.css(x.name,x.val)}s()}return i},fromString:function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t}},ti={};(function(){var e=jN,t=l(function(q){return"^"+q+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},"data"),r=l(function(q){var J=e+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+q+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+J+")\\s*\\,\\s*("+J+")\\)$"},"mapData"),n=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];ti.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:t("data")},layoutData:{mapping:!0,regex:t("layoutData")},scratch:{mapping:!0,regex:t("scratch")},mapData:{mapping:!0,regex:r("mapData")},mapLayoutData:{mapping:!0,regex:r("mapLayoutData")},mapScratch:{mapping:!0,regex:r("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:n,singleRegexMatchValue:!0},urls:{regexes:n,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:l(function(q,J){switch(q.length){case 2:return J[0]!=="deg"&&J[0]!=="rad"&&J[1]!=="deg"&&J[1]!=="rad";case 1:return Nt(q[0])||J[0]==="deg"||J[0]==="rad";default:return!1}},"validate")},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:l(function(q){var J=q.length;return J===1||J===2||J===4},"validate")}};var i={zeroNonZero:l(function(q,J){return(q==null||J==null)&&q!==J||q==0&&J!=0||q!=0&&J==0},"zeroNonZero"),any:l(function(q,J){return q!=J},"any"),emptyNonEmpty:l(function(q,J){var ie=uc(q),te=uc(J);return ie&&!te||!ie&&te},"emptyNonEmpty")},a=ti.types,s=[{name:"label",type:a.text,triggersBounds:i.any,triggersZOrder:i.emptyNonEmpty},{name:"text-rotation",type:a.textRotation,triggersBounds:i.any},{name:"text-margin-x",type:a.bidirectionalSize,triggersBounds:i.any},{name:"text-margin-y",type:a.bidirectionalSize,triggersBounds:i.any}],o=[{name:"source-label",type:a.text,triggersBounds:i.any},{name:"source-text-rotation",type:a.textRotation,triggersBounds:i.any},{name:"source-text-margin-x",type:a.bidirectionalSize,triggersBounds:i.any},{name:"source-text-margin-y",type:a.bidirectionalSize,triggersBounds:i.any},{name:"source-text-offset",type:a.size,triggersBounds:i.any}],u=[{name:"target-label",type:a.text,triggersBounds:i.any},{name:"target-text-rotation",type:a.textRotation,triggersBounds:i.any},{name:"target-text-margin-x",type:a.bidirectionalSize,triggersBounds:i.any},{name:"target-text-margin-y",type:a.bidirectionalSize,triggersBounds:i.any},{name:"target-text-offset",type:a.size,triggersBounds:i.any}],h=[{name:"font-family",type:a.fontFamily,triggersBounds:i.any},{name:"font-style",type:a.fontStyle,triggersBounds:i.any},{name:"font-weight",type:a.fontWeight,triggersBounds:i.any},{name:"font-size",type:a.size,triggersBounds:i.any},{name:"text-transform",type:a.textTransform,triggersBounds:i.any},{name:"text-wrap",type:a.textWrap,triggersBounds:i.any},{name:"text-overflow-wrap",type:a.textOverflowWrap,triggersBounds:i.any},{name:"text-max-width",type:a.size,triggersBounds:i.any},{name:"text-outline-width",type:a.size,triggersBounds:i.any},{name:"line-height",type:a.positiveNumber,triggersBounds:i.any}],d=[{name:"text-valign",type:a.valign,triggersBounds:i.any},{name:"text-halign",type:a.halign,triggersBounds:i.any},{name:"color",type:a.color},{name:"text-outline-color",type:a.color},{name:"text-outline-opacity",type:a.zeroOneNumber},{name:"text-background-color",type:a.color},{name:"text-background-opacity",type:a.zeroOneNumber},{name:"text-background-padding",type:a.size,triggersBounds:i.any},{name:"text-border-opacity",type:a.zeroOneNumber},{name:"text-border-color",type:a.color},{name:"text-border-width",type:a.size,triggersBounds:i.any},{name:"text-border-style",type:a.borderStyle,triggersBounds:i.any},{name:"text-background-shape",type:a.textBackgroundShape,triggersBounds:i.any},{name:"text-justification",type:a.justification}],p=[{name:"events",type:a.bool,triggersZOrder:i.any},{name:"text-events",type:a.bool,triggersZOrder:i.any}],f=[{name:"display",type:a.display,triggersZOrder:i.any,triggersBounds:i.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:a.visibility,triggersZOrder:i.any},{name:"opacity",type:a.zeroOneNumber,triggersZOrder:i.zeroNonZero},{name:"text-opacity",type:a.zeroOneNumber},{name:"min-zoomed-font-size",type:a.size},{name:"z-compound-depth",type:a.zCompoundDepth,triggersZOrder:i.any},{name:"z-index-compare",type:a.zIndexCompare,triggersZOrder:i.any},{name:"z-index",type:a.number,triggersZOrder:i.any}],g=[{name:"overlay-padding",type:a.size,triggersBounds:i.any},{name:"overlay-color",type:a.color},{name:"overlay-opacity",type:a.zeroOneNumber,triggersBounds:i.zeroNonZero},{name:"overlay-shape",type:a.overlayShape,triggersBounds:i.any},{name:"overlay-corner-radius",type:a.cornerRadius}],m=[{name:"underlay-padding",type:a.size,triggersBounds:i.any},{name:"underlay-color",type:a.color},{name:"underlay-opacity",type:a.zeroOneNumber,triggersBounds:i.zeroNonZero},{name:"underlay-shape",type:a.overlayShape,triggersBounds:i.any},{name:"underlay-corner-radius",type:a.cornerRadius}],y=[{name:"transition-property",type:a.propList},{name:"transition-duration",type:a.time},{name:"transition-delay",type:a.time},{name:"transition-timing-function",type:a.easing}],v=l(function(q,J){return J.value==="label"?-q.poolIndex():J.pfValue},"nodeSizeHashOverride"),x=[{name:"height",type:a.nodeSize,triggersBounds:i.any,hashOverride:v},{name:"width",type:a.nodeSize,triggersBounds:i.any,hashOverride:v},{name:"shape",type:a.nodeShape,triggersBounds:i.any},{name:"shape-polygon-points",type:a.polygonPointList,triggersBounds:i.any},{name:"corner-radius",type:a.cornerRadius},{name:"background-color",type:a.color},{name:"background-fill",type:a.fill},{name:"background-opacity",type:a.zeroOneNumber},{name:"background-blacken",type:a.nOneOneNumber},{name:"background-gradient-stop-colors",type:a.colors},{name:"background-gradient-stop-positions",type:a.percentages},{name:"background-gradient-direction",type:a.gradientDirection},{name:"padding",type:a.sizeMaybePercent,triggersBounds:i.any},{name:"padding-relative-to",type:a.paddingRelativeTo,triggersBounds:i.any},{name:"bounds-expansion",type:a.boundsExpansion,triggersBounds:i.any}],b=[{name:"border-color",type:a.color},{name:"border-opacity",type:a.zeroOneNumber},{name:"border-width",type:a.size,triggersBounds:i.any},{name:"border-style",type:a.borderStyle},{name:"border-cap",type:a.lineCap},{name:"border-join",type:a.lineJoin},{name:"border-dash-pattern",type:a.numbers},{name:"border-dash-offset",type:a.number},{name:"border-position",type:a.linePosition}],w=[{name:"outline-color",type:a.color},{name:"outline-opacity",type:a.zeroOneNumber},{name:"outline-width",type:a.size,triggersBounds:i.any},{name:"outline-style",type:a.borderStyle},{name:"outline-offset",type:a.size,triggersBounds:i.any}],T=[{name:"background-image",type:a.urls},{name:"background-image-crossorigin",type:a.bgCrossOrigin},{name:"background-image-opacity",type:a.zeroOneNumbers},{name:"background-image-containment",type:a.bgContainment},{name:"background-image-smoothing",type:a.bools},{name:"background-position-x",type:a.bgPos},{name:"background-position-y",type:a.bgPos},{name:"background-width-relative-to",type:a.bgRelativeTo},{name:"background-height-relative-to",type:a.bgRelativeTo},{name:"background-repeat",type:a.bgRepeat},{name:"background-fit",type:a.bgFit},{name:"background-clip",type:a.bgClip},{name:"background-width",type:a.bgWH},{name:"background-height",type:a.bgWH},{name:"background-offset-x",type:a.bgPos},{name:"background-offset-y",type:a.bgPos}],k=[{name:"position",type:a.position,triggersBounds:i.any},{name:"compound-sizing-wrt-labels",type:a.compoundIncludeLabels,triggersBounds:i.any},{name:"min-width",type:a.size,triggersBounds:i.any},{name:"min-width-bias-left",type:a.sizeMaybePercent,triggersBounds:i.any},{name:"min-width-bias-right",type:a.sizeMaybePercent,triggersBounds:i.any},{name:"min-height",type:a.size,triggersBounds:i.any},{name:"min-height-bias-top",type:a.sizeMaybePercent,triggersBounds:i.any},{name:"min-height-bias-bottom",type:a.sizeMaybePercent,triggersBounds:i.any}],R=[{name:"line-style",type:a.lineStyle},{name:"line-color",type:a.color},{name:"line-fill",type:a.fill},{name:"line-cap",type:a.lineCap},{name:"line-opacity",type:a.zeroOneNumber},{name:"line-dash-pattern",type:a.numbers},{name:"line-dash-offset",type:a.number},{name:"line-outline-width",type:a.size},{name:"line-outline-color",type:a.color},{name:"line-gradient-stop-colors",type:a.colors},{name:"line-gradient-stop-positions",type:a.percentages},{name:"curve-style",type:a.curveStyle,triggersBounds:i.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:a.zeroOneNumber,triggersBounds:i.any},{name:"source-endpoint",type:a.edgeEndpoint,triggersBounds:i.any},{name:"target-endpoint",type:a.edgeEndpoint,triggersBounds:i.any},{name:"control-point-step-size",type:a.size,triggersBounds:i.any},{name:"control-point-distances",type:a.bidirectionalSizes,triggersBounds:i.any},{name:"control-point-weights",type:a.numbers,triggersBounds:i.any},{name:"segment-distances",type:a.bidirectionalSizes,triggersBounds:i.any},{name:"segment-weights",type:a.numbers,triggersBounds:i.any},{name:"segment-radii",type:a.numbers,triggersBounds:i.any},{name:"radius-type",type:a.radiusType,triggersBounds:i.any},{name:"taxi-turn",type:a.bidirectionalSizeMaybePercent,triggersBounds:i.any},{name:"taxi-turn-min-distance",type:a.size,triggersBounds:i.any},{name:"taxi-direction",type:a.axisDirection,triggersBounds:i.any},{name:"taxi-radius",type:a.number,triggersBounds:i.any},{name:"edge-distances",type:a.edgeDistances,triggersBounds:i.any},{name:"arrow-scale",type:a.positiveNumber,triggersBounds:i.any},{name:"loop-direction",type:a.angle,triggersBounds:i.any},{name:"loop-sweep",type:a.angle,triggersBounds:i.any},{name:"source-distance-from-node",type:a.size,triggersBounds:i.any},{name:"target-distance-from-node",type:a.size,triggersBounds:i.any}],C=[{name:"ghost",type:a.bool,triggersBounds:i.any},{name:"ghost-offset-x",type:a.bidirectionalSize,triggersBounds:i.any},{name:"ghost-offset-y",type:a.bidirectionalSize,triggersBounds:i.any},{name:"ghost-opacity",type:a.zeroOneNumber}],E=[{name:"selection-box-color",type:a.color},{name:"selection-box-opacity",type:a.zeroOneNumber},{name:"selection-box-border-color",type:a.color},{name:"selection-box-border-width",type:a.size},{name:"active-bg-color",type:a.color},{name:"active-bg-opacity",type:a.zeroOneNumber},{name:"active-bg-size",type:a.size},{name:"outside-texture-bg-color",type:a.color},{name:"outside-texture-bg-opacity",type:a.zeroOneNumber}],_=[];ti.pieBackgroundN=16,_.push({name:"pie-size",type:a.sizeMaybePercent});for(var L=1;L<=ti.pieBackgroundN;L++)_.push({name:"pie-"+L+"-background-color",type:a.color}),_.push({name:"pie-"+L+"-background-size",type:a.percent}),_.push({name:"pie-"+L+"-background-opacity",type:a.zeroOneNumber});var D=[],B=ti.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:a.arrowShape,triggersBounds:i.any},{name:"arrow-color",type:a.color},{name:"arrow-fill",type:a.arrowFill},{name:"arrow-width",type:a.arrowWidth}].forEach(function(q){B.forEach(function(J){var ie=J+"-"+q.name,te=q.type,W=q.triggersBounds;D.push({name:ie,type:te,triggersBounds:W})})},{});var S=ti.properties=[].concat(p,y,f,g,m,C,d,h,s,o,u,x,b,w,T,_,k,R,D,E),N=ti.propertyGroups={behavior:p,transition:y,visibility:f,overlay:g,underlay:m,ghost:C,commonLabel:d,labelDimensions:h,mainLabel:s,sourceLabel:o,targetLabel:u,nodeBody:x,nodeBorder:b,nodeOutline:w,backgroundImage:T,pie:_,compound:k,edgeLine:R,edgeArrow:D,core:E},A=ti.propertyGroupNames={};(ti.propertyGroupKeys=Object.keys(N)).forEach(function(q){A[q]=N[q].map(function(J){return J.name}),N[q].forEach(function(J){return J.groupKey=q})});var M=ti.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];ti.propertyNames=S.map(function(q){return q.name});for(var O=0;O<S.length;O++){var I=S[O];S[I.name]=I}for(var P=0;P<M.length;P++){var $=M[P],z=S[$.pointsTo],G={name:$.name,alias:!0,pointsTo:z};S.push(G),S[$.name]=G}})(),ti.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},ti.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=$t({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,h){for(var d=1;d<=ti.pieBackgroundN;d++){var p=h.name.replace("{{i}}",d),f=h.value;u[p]=f}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,h){return ti.arrowPrefixes.forEach(function(d){var p=d+"-"+h.name,f=h.value;u[p]=f}),u},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,s=t[a],o=this.parse(a,s);r[a]=o}}return e.defaultProperties=r,e.defaultProperties},ti.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var SAe={parse:function(e,t,r,n){var i=this;if(nn(t))return i.parseImplWarn(e,t,r,n);var a,s=Ise(e,""+t,r?"t":"f",n==="mapping"||n===!0||n===!1||n==null?"dontcare":n),o=i.propCache=i.propCache||[];return(a=o[s])||(a=o[s]=i.parseImplWarn(e,t,r,n)),(r||n==="mapping")&&(a=to(a))&&(a.value=to(a.value)),a},parseImplWarn:function(e,t,r,n){var i=this.parseImpl(e,t,r,n);return i||t==null||kr("The style property `".concat(e,": ").concat(t,"` is invalid")),!i||i.name!=="width"&&i.name!=="height"||t!=="label"||kr("The style value of `label` is deprecated for `"+i.name+"`"),i},parseImpl:function(e,t,r,n){var i=this;e=qN(e);var a=i.properties[e],s=t,o=i.types;if(!a||t===void 0)return null;a.alias&&(a=a.pointsTo,e=a.name);var u=Nt(t);u&&(t=t.trim());var h,d,p=a.type;if(!p)return null;if(r&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(nn(t))return{name:e,value:t,strValue:"fn",mapped:o.fn,bypass:r};if(!(!u||n||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(h=new RegExp(o.data.regex).exec(t))){if(r)return!1;var f=o.data;return{name:e,value:h,strValue:""+t,mapped:f,field:h[1],bypass:r}}if(t.length>=10&&t[0]==="m"&&(d=new RegExp(o.mapData.regex).exec(t))){if(r||p.multiple)return!1;var g=o.mapData;if(!p.color&&!p.number)return!1;var m=this.parse(e,d[4]);if(!m||m.mapped)return!1;var y=this.parse(e,d[5]);if(!y||y.mapped)return!1;if(m.pfValue===y.pfValue||m.strValue===y.strValue)return kr("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+m.strValue+"`"),this.parse(e,m.strValue);if(p.color){var v=m.value,x=y.value;if(!(v[0]!==x[0]||v[1]!==x[1]||v[2]!==x[2]||v[3]!==x[3]&&(v[3]!=null&&v[3]!==1||x[3]!=null&&x[3]!==1)))return!1}return{name:e,value:d,strValue:""+t,mapped:g,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:m.value,valueMax:y.value,bypass:r}}}if(p.multiple&&n!=="multiple"){var b;if(b=u?t.split(/\s+/):Dr(t)?t:[t],p.evenMultiple&&b.length%2!=0)return null;for(var w=[],T=[],k=[],R="",C=!1,E=0;E<b.length;E++){var _=i.parse(e,b[E],r,"multiple");C=C||Nt(_.value),w.push(_.value),k.push(_.pfValue!=null?_.pfValue:_.value),T.push(_.units),R+=(E>0?" ":"")+_.strValue}return p.validate&&!p.validate(w,T)?null:p.singleEnum&&C?w.length===1&&Nt(w[0])?{name:e,value:w[0],strValue:w[0],bypass:r}:null:{name:e,value:w,pfValue:k,strValue:R,bypass:r,units:T}}var L=l(function(){for(var te=0;te<p.enums.length;te++)if(p.enums[te]===t)return{name:e,value:t,strValue:""+t,bypass:r};return null},"checkEnums");if(p.number){var D,B="px";if(p.units&&(D=p.units),p.implicitUnits&&(B=p.implicitUnits),!p.unitless)if(u){var S="px|em"+(p.allowPercent?"|\\%":"");D&&(S=D);var N=t.match("^("+jN+")("+S+")?$");N&&(t=N[1],D=N[2]||B)}else D&&!p.implicitUnits||(D=B);if(t=parseFloat(t),isNaN(t)&&p.enums===void 0)return null;if(isNaN(t)&&p.enums!==void 0)return t=s,L();if(p.integer&&!vEe(t)||p.min!==void 0&&(t<p.min||p.strictMin&&t===p.min)||p.max!==void 0&&(t>p.max||p.strictMax&&t===p.max))return null;var A={name:e,value:t,strValue:""+t+(D||""),units:D,bypass:r};return p.unitless||D!=="px"&&D!=="em"?A.pfValue=t:A.pfValue=D!=="px"&&D?this.getEmSizeInPixels()*t:t,D!=="ms"&&D!=="s"||(A.pfValue=D==="ms"?t:1e3*t),D!=="deg"&&D!=="rad"||(A.pfValue=D==="rad"?t:_Ce(t)),D==="%"&&(A.pfValue=t/100),A}if(p.propList){var M=[],O=""+t;if(O!=="none"){for(var I=O.split(/\s*,\s*|\s+/),P=0;P<I.length;P++){var $=I[P].trim();i.properties[$]?M.push($):kr("`"+$+"` is not a valid property name")}if(M.length===0)return null}return{name:e,value:M,strValue:M.length===0?"none":M.join(" "),bypass:r}}if(p.color){var z=LEe(t);return z?{name:e,value:z,pfValue:z,strValue:"rgb("+z[0]+","+z[1]+","+z[2]+")",bypass:r}:null}if(p.regex||p.regexes){if(p.enums){var G=L();if(G)return G}for(var q=p.regexes?p.regexes:[p.regex],J=0;J<q.length;J++){var ie=new RegExp(q[J]).exec(t);if(ie)return{name:e,value:p.singleRegexMatchValue?ie[1]:ie,strValue:""+t,bypass:r}}return null}return p.string?{name:e,value:""+t,strValue:""+t,bypass:r}:p.enums?L():null}},wi=l(function e(t){if(!(this instanceof e))return new e(t);GN(t)?(this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()):hn("A style must have a core reference")},"Style"),mi=wi.prototype;mi.instanceString=function(){return"style"},mi.clear=function(){for(var e=this._private,t=e.cy.elements(),r=0;r<this.length;r++)this[r]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0),t.forEach(function(n){var i=n[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this},mi.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},mi.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},mi.selector=function(e){var t=e==="core"?null:new hc(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this},mi.css=function(){var e=this,t=arguments;if(t.length===1)for(var r=t[0],n=0;n<e.properties.length;n++){var i=e.properties[n],a=r[i.name];a===void 0&&(a=r[yw(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else t.length===2&&this.cssRule(t[0],t[1]);return this},mi.style=mi.css,mi.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r),!this[n].selector&&(this._private.coreStyle[r.name]=r)}return this},mi.append=function(e){return use(e)?e.appendToStyle(this):Dr(e)?this.appendFromJson(e):Nt(e)&&this.appendFromString(e),this},wi.fromJson=function(e,t){var r=new wi(e);return r.fromJson(t),r},wi.fromString=function(e,t){return new wi(e).fromString(t)},[vi,TAe,_Ae,eS,EAe,CAe,ti,SAe].forEach(function(e){$t(mi,e)}),wi.types=mi.types,wi.properties=mi.properties,wi.propertyGroups=mi.propertyGroups,wi.propertyGroupNames=mi.propertyGroupNames,wi.propertyGroupKeys=mi.propertyGroupKeys;var AAe={style:l(function(e){return e&&this.setStyle(e).update(),this._private.style},"style"),setStyle:l(function(e){var t=this._private;return use(e)?t.style=e.generateStyle(this):Dr(e)?t.style=wi.fromJson(this,e):Nt(e)?t.style=wi.fromString(this,e):t.style=wi(this),t.style},"setStyle"),updateStyle:l(function(){this.mutableElements().updateStyle()},"updateStyle")},Zc={autolock:l(function(e){return e===void 0?this._private.autolock:(this._private.autolock=!!e,this)},"autolock"),autoungrabify:l(function(e){return e===void 0?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},"autoungrabify"),autounselectify:l(function(e){return e===void 0?this._private.autounselectify:(this._private.autounselectify=!!e,this)},"autounselectify"),selectionType:l(function(e){var t=this._private;return t.selectionType==null&&(t.selectionType="single"),e===void 0?t.selectionType:(e!=="additive"&&e!=="single"||(t.selectionType=e),this)},"selectionType"),panningEnabled:l(function(e){return e===void 0?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},"panningEnabled"),userPanningEnabled:l(function(e){return e===void 0?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},"userPanningEnabled"),zoomingEnabled:l(function(e){return e===void 0?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},"zoomingEnabled"),userZoomingEnabled:l(function(e){return e===void 0?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},"userZoomingEnabled"),boxSelectionEnabled:l(function(e){return e===void 0?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},"boxSelectionEnabled"),pan:l(function(){var e,t,r,n,i,a=arguments,s=this._private.pan;switch(a.length){case 0:return s;case 1:if(Nt(a[0]))return s[e=a[0]];if(cr(a[0])){if(!this._private.panningEnabled)return this;n=(r=a[0]).x,i=r.y,lt(n)&&(s.x=n),lt(i)&&(s.y=i),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=a[0],t=a[1],e!=="x"&&e!=="y"||!lt(t)||(s[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},"pan"),panBy:l(function(e,t){var r,n,i,a,s,o=arguments,u=this._private.pan;if(!this._private.panningEnabled)return this;switch(o.length){case 1:cr(e)&&(a=(i=o[0]).x,s=i.y,lt(a)&&(u.x+=a),lt(s)&&(u.y+=s),this.emit("pan viewport"));break;case 2:n=t,(r=e)!=="x"&&r!=="y"||!lt(n)||(u[r]+=n),this.emit("pan viewport")}return this.notify("viewport"),this},"panBy"),fit:l(function(e,t){var r=this.getFitViewport(e,t);if(r){var n=this._private;n.zoom=r.zoom,n.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},"fit"),getFitViewport:l(function(e,t){if(lt(e)&&t===void 0&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var r;if(Nt(e)){var n=e;e=this.$(n)}else if(wEe(e)){var i=e;(r={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}).w=r.x2-r.x1,r.h=r.y2-r.y1}else Ea(e)||(e=this.mutableElements());if(!Ea(e)||!e.empty()){r=r||e.boundingBox();var a,s=this.width(),o=this.height();if(t=lt(t)?t:0,!isNaN(s)&&!isNaN(o)&&s>0&&o>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0)return{zoom:a=(a=(a=Math.min((s-2*t)/r.w,(o-2*t)/r.h))>this._private.maxZoom?this._private.maxZoom:a)<this._private.minZoom?this._private.minZoom:a,pan:{x:(s-a*(r.x1+r.x2))/2,y:(o-a*(r.y1+r.y2))/2}}}}},"getFitViewport"),zoomRange:l(function(e,t){var r=this._private;if(t==null){var n=e;e=n.min,t=n.max}return lt(e)&&lt(t)&&e<=t?(r.minZoom=e,r.maxZoom=t):lt(e)&&t===void 0&&e<=r.maxZoom?r.minZoom=e:lt(t)&&e===void 0&&t>=r.minZoom&&(r.maxZoom=t),this},"zoomRange"),minZoom:l(function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},"minZoom"),maxZoom:l(function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},"maxZoom"),getZoomedViewport:l(function(e){var t,r,n=this._private,i=n.pan,a=n.zoom,s=!1;if(n.zoomingEnabled||(s=!0),lt(e)?r=e:cr(e)&&(r=e.level,e.position!=null?t=ww(e.position,a,i):e.renderedPosition!=null&&(t=e.renderedPosition),t==null||n.panningEnabled||(s=!0)),r=(r=r>n.maxZoom?n.maxZoom:r)<n.minZoom?n.minZoom:r,s||!lt(r)||r===a||t!=null&&(!lt(t.x)||!lt(t.y)))return null;if(t!=null){var o=i,u=a,h=r;return{zoomed:!0,panned:!0,zoom:h,pan:{x:-h/u*(t.x-o.x)+t.x,y:-h/u*(t.y-o.y)+t.y}}}return{zoomed:!0,panned:!1,zoom:r,pan:i}},"getZoomedViewport"),zoom:l(function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),r=this._private;return t!=null&&t.zoomed?(r.zoom=t.zoom,t.panned&&(r.pan.x=t.pan.x,r.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},"zoom"),viewport:l(function(e){var t=this._private,r=!0,n=!0,i=[],a=!1,s=!1;if(!e)return this;if(lt(e.zoom)||(r=!1),cr(e.pan)||(n=!1),!r&&!n)return this;if(r){var o=e.zoom;o<t.minZoom||o>t.maxZoom||!t.zoomingEnabled?a=!0:(t.zoom=o,i.push("zoom"))}if(n&&(!a||!e.cancelOnFailedZoom)&&t.panningEnabled){var u=e.pan;lt(u.x)&&(t.pan.x=u.x,s=!1),lt(u.y)&&(t.pan.y=u.y,s=!1),s||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},"viewport"),center:l(function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},"center"),getCenterPan:l(function(e,t){if(this._private.panningEnabled){if(Nt(e)){var r=e;e=this.mutableElements().filter(r)}else Ea(e)||(e=this.mutableElements());if(e.length!==0){var n=e.boundingBox(),i=this.width(),a=this.height();return{x:(i-(t=t===void 0?this._private.zoom:t)*(n.x1+n.x2))/2,y:(a-t*(n.y1+n.y2))/2}}}},"getCenterPan"),reset:l(function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},"reset"),invalidateSize:l(function(){this._private.sizeCache=null},"invalidateSize"),size:l(function(){var e,t,r=this._private,n=r.container,i=this;return r.sizeCache=r.sizeCache||(n?(e=i.window().getComputedStyle(n),t=l(function(a){return parseFloat(e.getPropertyValue(a))},"val"),{width:n.clientWidth-t("padding-left")-t("padding-right"),height:n.clientHeight-t("padding-top")-t("padding-bottom")}):{width:1,height:1})},"size"),width:l(function(){return this.size().width},"width"),height:l(function(){return this.size().height},"height"),extent:l(function(){var e=this._private.pan,t=this._private.zoom,r=this.renderedExtent(),n={x1:(r.x1-e.x)/t,x2:(r.x2-e.x)/t,y1:(r.y1-e.y)/t,y2:(r.y2-e.y)/t};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},"extent"),renderedExtent:l(function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},"renderedExtent"),multiClickDebounceTime:l(function(e){return e?(this._private.multiClickDebounceTime=e,this):this._private.multiClickDebounceTime},"multiClickDebounceTime")};Zc.centre=Zc.center,Zc.autolockNodes=Zc.autolock,Zc.autoungrabifyNodes=Zc.autoungrabify;var Lm={data:br.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:br.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:br.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:br.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Lm.attr=Lm.data,Lm.removeAttr=Lm.removeData;var f2=l(function(e){var t=this,r=(e=$t({},e)).container;r&&!y5(r)&&y5(r[0])&&(r=r[0]);var n=r?r._cyreg:null;(n=n||{})&&n.cy&&(n.cy.destroy(),n={});var i=n.readies=n.readies||[];r&&(r._cyreg=n),n.cy=t;var a=In!==void 0&&r!==void 0&&!e.headless,s=e;s.layout=$t({name:a?"grid":"null"},s.layout),s.renderer=$t({name:a?"canvas":"null"},s.renderer);var o=l(function(f,g,m){return g!==void 0?g:m!==void 0?m:f},"defVal"),u=this._private={container:r,ready:!1,options:s,elements:new ai(this),listeners:[],aniEles:new ai(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:o(!0,s.zoomingEnabled),userZoomingEnabled:o(!0,s.userZoomingEnabled),panningEnabled:o(!0,s.panningEnabled),userPanningEnabled:o(!0,s.userPanningEnabled),boxSelectionEnabled:o(!0,s.boxSelectionEnabled),autolock:o(!1,s.autolock,s.autolockNodes),autoungrabify:o(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:o(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?a:s.styleEnabled,zoom:lt(s.zoom)?s.zoom:1,pan:{x:cr(s.pan)&&lt(s.pan.x)?s.pan.x:0,y:cr(s.pan)&&lt(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:o(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var h=l(function(f,g){if(f.some(kEe))return B0.all(f).then(g);g(f)},"loadExtData");u.styleEnabled&&t.setStyle([]);var d=$t({},s,s.renderer);t.initRenderer(d);var p=l(function(f,g,m){t.notifications(!1);var y=t.mutableElements();y.length>0&&y.remove(),f!=null&&(cr(f)||Dr(f))&&t.add(f),t.one("layoutready",function(x){t.notifications(!0),t.emit(x),t.one("load",g),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",m),t.emit("done")});var v=$t({},t._private.options.layout);v.eles=t.elements(),t.layout(v).run()},"setElesAndLayout");h([s.style,s.elements],function(f){var g=f[0],m=f[1];u.styleEnabled&&t.style().append(g),p(m,function(){t.startAnimationLoop(),u.ready=!0,nn(s.ready)&&t.on("ready",s.ready);for(var y=0;y<i.length;y++){var v=i[y];t.on("ready",v)}n&&(n.readies=[]),t.emit("ready")},s.done)})},"Core"),lx=f2.prototype;$t(lx,{instanceString:l(function(){return"core"},"instanceString"),isReady:l(function(){return this._private.ready},"isReady"),destroyed:l(function(){return this._private.destroyed},"destroyed"),ready:l(function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},"ready"),destroy:l(function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},"destroy"),hasElementWithId:l(function(e){return this._private.elements.hasElementWithId(e)},"hasElementWithId"),getElementById:l(function(e){return this._private.elements.getElementById(e)},"getElementById"),hasCompoundNodes:l(function(){return this._private.hasCompoundNodes},"hasCompoundNodes"),headless:l(function(){return this._private.renderer.isHeadless()},"headless"),styleEnabled:l(function(){return this._private.styleEnabled},"styleEnabled"),addToPool:l(function(e){return this._private.elements.merge(e),this},"addToPool"),removeFromPool:l(function(e){return this._private.elements.unmerge(e),this},"removeFromPool"),container:l(function(){return this._private.container||null},"container"),window:l(function(){if(this._private.container==null)return In;var e=this._private.container.ownerDocument;return e===void 0||e==null?In:e.defaultView||In},"window"),mount:l(function(e){if(e!=null){var t=this,r=t._private,n=r.options;return!y5(e)&&y5(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),r.container=e,r.styleEnabled=!0,t.invalidateSize(),t.initRenderer($t({},n,n.renderer,{name:n.renderer.name==="null"?"canvas":n.renderer.name})),t.startAnimationLoop(),t.style(n.style),t.emit("mount"),t}},"mount"),unmount:l(function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},"unmount"),options:l(function(){return to(this._private.options)},"options"),json:l(function(e){var t=this,r=t._private,n=t.mutableElements(),i=l(function(x){return t.getElementById(x.id())},"getFreshRef");if(cr(e)){if(t.startBatch(),e.elements){var a={},s=l(function(x,b){for(var w=[],T=[],k=0;k<x.length;k++){var R=x[k];if(R.data.id){var C=""+R.data.id,E=t.getElementById(C);a[C]=!0,E.length!==0?T.push({ele:E,json:R}):(b&&(R.group=b),w.push(R))}else kr("cy.json() cannot handle elements without an ID attribute")}t.add(w);for(var _=0;_<T.length;_++){var L=T[_],D=L.ele,B=L.json;D.json(B)}},"updateEles");if(Dr(e.elements))s(e.elements);else for(var o=["nodes","edges"],u=0;u<o.length;u++){var h=o[u],d=e.elements[h];Dr(d)&&s(d,h)}var p=t.collection();n.filter(function(x){return!a[x.id()]}).forEach(function(x){x.isParent()?p.merge(x):x.remove()}),p.forEach(function(x){return x.children().move({parent:null})}),p.forEach(function(x){return i(x).remove()})}e.style&&t.style(e.style),e.zoom!=null&&e.zoom!==r.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===r.pan.x&&e.pan.y===r.pan.y||t.pan(e.pan)),e.data&&t.data(e.data);for(var f=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],g=0;g<f.length;g++){var m=f[g];e[m]!=null&&t[m](e[m])}return t.endBatch(),this}var y={};e?y.elements=this.elements().map(function(x){return x.json()}):(y.elements={},n.forEach(function(x){var b=x.group();y.elements[b]||(y.elements[b]=[]),y.elements[b].push(x.json())})),this._private.styleEnabled&&(y.style=t.style().json()),y.data=to(t.data());var v=r.options;return y.zoomingEnabled=r.zoomingEnabled,y.userZoomingEnabled=r.userZoomingEnabled,y.zoom=r.zoom,y.minZoom=r.minZoom,y.maxZoom=r.maxZoom,y.panningEnabled=r.panningEnabled,y.userPanningEnabled=r.userPanningEnabled,y.pan=to(r.pan),y.boxSelectionEnabled=r.boxSelectionEnabled,y.renderer=to(v.renderer),y.hideEdgesOnViewport=v.hideEdgesOnViewport,y.textureOnViewport=v.textureOnViewport,y.wheelSensitivity=v.wheelSensitivity,y.motionBlur=v.motionBlur,y.multiClickDebounceTime=v.multiClickDebounceTime,y},"json")}),lx.$id=lx.getElementById,[yAe,xAe,nle,QC,mb,wAe,JC,yb,AAe,Zc,Lm].forEach(function(e){$t(lx,e)});var LAe={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")},NAe={maximal:!1,acyclic:!1},Rh=l(function(e){return e.scratch("breadthfirst")},"getInfo"),JP=l(function(e,t){return e.scratch("breadthfirst",t)},"setInfo");function tS(e){this.options=$t({},LAe,NAe,e)}l(tS,"BreadthFirstLayout"),tS.prototype.run=function(){var e,t=this.options,r=t,n=t.cy,i=r.eles,a=i.nodes().filter(function(j){return!j.isParent()}),s=i,o=r.directed,u=r.acyclic||r.maximal||r.maximalAdjustments>0,h=da(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(Ea(r.roots))e=r.roots;else if(Dr(r.roots)){for(var d=[],p=0;p<r.roots.length;p++){var f=r.roots[p],g=n.getElementById(f);d.push(g)}e=n.collection(d)}else if(Nt(r.roots))e=n.$(r.roots);else if(o)e=a.roots();else{var m=i.components();e=n.collection();for(var y=l(function(j){var ce=m[j],le=ce.maxDegree(!1),Ae=ce.filter(function(Se){return Se.degree(!1)===le});e=e.add(Ae)},"_loop"),v=0;v<m.length;v++)y(v)}var x=[],b={},w=l(function(j,ce){x[ce]==null&&(x[ce]=[]);var le=x[ce].length;x[ce].push(j),JP(j,{index:le,depth:ce})},"addToDepth"),T=l(function(j,ce){var le=Rh(j),Ae=le.depth,Se=le.index;x[Ae][Se]=null,w(j,ce)},"changeDepth");s.bfs({roots:e,directed:r.directed,visit:l(function(j,ce,le,Ae,Se){var ze=j[0],Pe=ze.id();w(ze,Se),b[Pe]=!0},"visit")});for(var k=[],R=0;R<a.length;R++){var C=a[R];b[C.id()]||k.push(C)}var E=l(function(j){for(var ce=x[j],le=0;le<ce.length;le++){var Ae=ce[le];Ae!=null?JP(Ae,{depth:j,index:le}):(ce.splice(le,1),le--)}},"assignDepthsAt"),_=l(function(){for(var j=0;j<x.length;j++)E(j)},"assignDepths"),L=l(function(j,ce){for(var le=Rh(j),Ae=j.incomers().filter(function(V){return V.isNode()&&i.has(V)}),Se=-1,ze=j.id(),Pe=0;Pe<Ae.length;Pe++){var Ve=Ae[Pe],Ue=Rh(Ve);Se=Math.max(Se,Ue.depth)}if(le.depth<=Se){if(!r.acyclic&&ce[ze])return null;var Ge=Se+1;return T(j,Ge),ce[ze]=Ge,!0}return!1},"adjustMaximally");if(o&&u){var D=[],B={},S=l(function(j){return D.push(j)},"enqueue"),N=l(function(){return D.shift()},"dequeue");for(a.forEach(function(j){return D.push(j)});D.length>0;){var A=N(),M=L(A,B);if(M)A.outgoers().filter(function(j){return j.isNode()&&i.has(j)}).forEach(S);else if(M===null){kr("Detected double maximal shift for node `"+A.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}_();var O=0;if(r.avoidOverlap)for(var I=0;I<a.length;I++){var P=a[I].layoutDimensions(r),$=P.w,z=P.h;O=Math.max(O,$,z)}var G={},q=l(function(j){if(G[j.id()])return G[j.id()];for(var ce=Rh(j).depth,le=j.neighborhood(),Ae=0,Se=0,ze=0;ze<le.length;ze++){var Pe=le[ze];if(!Pe.isEdge()&&!Pe.isParent()&&a.has(Pe)){var Ve=Rh(Pe);if(Ve!=null){var Ue=Ve.index,Ge=Ve.depth;if(Ue!=null&&Ge!=null){var V=x[Ge].length;Ge<ce&&(Ae+=Ue/V,Se++)}}}}return Ae/=Se=Math.max(1,Se),Se===0&&(Ae=0),G[j.id()]=Ae,Ae},"getWeightedPercent"),J=l(function(j,ce){var le=q(j)-q(ce);return le===0?dse(j.id(),ce.id()):le},"sortFn");r.depthSort!==void 0&&(J=r.depthSort);for(var ie=0;ie<x.length;ie++)x[ie].sort(J),E(ie);for(var te=[],W=0;W<k.length;W++)te.push(k[W]);x.unshift(te),_();for(var H=0,X=0;X<x.length;X++)H=Math.max(x[X].length,H);var Q=h.x1+h.w/2,ne=h.x1+h.h/2,ee=x.reduce(function(j,ce){return Math.max(j,ce.length)},0),pe=l(function(j){var ce=Rh(j),le=ce.depth,Ae=ce.index,Se=x[le].length,ze=Math.max(h.w/((r.grid?ee:Se)+1),O),Pe=Math.max(h.h/(x.length+1),O),Ve=Math.min(h.w/2/x.length,h.h/2/x.length);if(Ve=Math.max(Ve,O),r.circle){var Ue=Ve*le+Ve-(x.length>0&&x[0].length<=3?Ve/2:0),Ge=2*Math.PI/x[le].length*Ae;return le===0&&x[0].length===1&&(Ue=1),{x:Q+Ue*Math.cos(Ge),y:ne+Ue*Math.sin(Ge)}}return{x:Q+(Ae+1-(Se+1)/2)*ze,y:(le+1)*Pe}},"getPosition");return i.nodes().layoutPositions(this,r,pe),this};var IAe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")};function rS(e){this.options=$t({},IAe,e)}l(rS,"CircleLayout"),rS.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,a=n.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));for(var s,o=da(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u=o.x1+o.w/2,h=o.y1+o.h/2,d=(t.sweep===void 0?2*Math.PI-2*Math.PI/a.length:t.sweep)/Math.max(1,a.length-1),p=0,f=0;f<a.length;f++){var g=a[f].layoutDimensions(t),m=g.w,y=g.h;p=Math.max(p,m,y)}if(s=lt(t.radius)?t.radius:a.length<=1?0:Math.min(o.h,o.w)/2-p,a.length>1&&t.avoidOverlap){p*=1.75;var v=Math.cos(d)-Math.cos(0),x=Math.sin(d)-Math.sin(0),b=Math.sqrt(p*p/(v*v+x*x));s=Math.max(b,s)}var w=l(function(T,k){var R=t.startAngle+k*d*(i?1:-1),C=s*Math.cos(R),E=s*Math.sin(R);return{x:u+C,y:h+E}},"getPos");return n.nodes().layoutPositions(this,t,w),this};var eB,MAe={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:l(function(e){return e.degree()},"concentric"),levelWidth:l(function(e){return e.maxDegree()/4},"levelWidth"),animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")};function nS(e){this.options=$t({},MAe,e)}l(nS,"ConcentricLayout"),nS.prototype.run=function(){for(var e=this.options,t=e,r=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,n=e.cy,i=t.eles,a=i.nodes().not(":parent"),s=da(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),o=s.x1+s.w/2,u=s.y1+s.h/2,h=[],d=0,p=0;p<a.length;p++){var f,g=a[p];f=t.concentric(g),h.push({value:f,node:g}),g._private.scratch.concentric=f}a.updateStyle();for(var m=0;m<a.length;m++){var y=a[m].layoutDimensions(t);d=Math.max(d,y.w,y.h)}h.sort(function(ne,ee){return ee.value-ne.value});for(var v=t.levelWidth(a),x=[[]],b=x[0],w=0;w<h.length;w++){var T=h[w];b.length>0&&Math.abs(b[0].value-T.value)>=v&&(b=[],x.push(b)),b.push(T)}var k=d+t.minNodeSpacing;if(!t.avoidOverlap){var R=x.length>0&&x[0].length>1,C=(Math.min(s.w,s.h)/2-k)/(x.length+R?1:0);k=Math.min(k,C)}for(var E=0,_=0;_<x.length;_++){var L=x[_],D=t.sweep===void 0?2*Math.PI-2*Math.PI/L.length:t.sweep,B=L.dTheta=D/Math.max(1,L.length-1);if(L.length>1&&t.avoidOverlap){var S=Math.cos(B)-Math.cos(0),N=Math.sin(B)-Math.sin(0),A=Math.sqrt(k*k/(S*S+N*N));E=Math.max(A,E)}L.r=E,E+=k}if(t.equidistant){for(var M=0,O=0,I=0;I<x.length;I++){var P=x[I].r-O;M=Math.max(M,P)}O=0;for(var $=0;$<x.length;$++){var z=x[$];$===0&&(O=z.r),z.r=O,O+=M}}for(var G={},q=0;q<x.length;q++)for(var J=x[q],ie=J.dTheta,te=J.r,W=0;W<J.length;W++){var H=J[W],X=t.startAngle+(r?1:-1)*ie*W,Q={x:o+te*Math.cos(X),y:u+te*Math.sin(X)};G[H.node.id()]=Q}return i.nodes().layoutPositions(this,t,function(ne){var ee=ne.id();return G[ee]}),this};var RAe={ready:l(function(){},"ready"),stop:l(function(){},"stop"),animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:l(function(e){return 2048},"nodeRepulsion"),nodeOverlap:4,idealEdgeLength:l(function(e){return 32},"idealEdgeLength"),edgeElasticity:l(function(e){return 32},"edgeElasticity"),nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Nm(e){this.options=$t({},RAe,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges().filter(function(n){var i=n.source().data("id"),a=n.target().data("id"),s=t.some(function(u){return u.data("id")===i}),o=t.some(function(u){return u.data("id")===a});return!s||!o});this.options.eles=this.options.eles.not(r)}l(Nm,"CoseLayout"),Nm.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,e.animate!==!0&&e.animate!==!1||r.emit({type:"layoutstart",layout:r}),eB=e.debug===!0;var n=DAe(t,r,e);eB&&(void 0)(n),e.randomize&&BAe(n);var i=rl(),a=l(function(){$Ae(n,t,e),e.fit===!0&&t.fit(e.padding)},"refresh"),s=l(function(p){return!(r.stopped||p>=e.numIter)&&(FAe(n,e),n.temperature=n.temperature*e.coolingFactor,!(n.temperature<e.minTemp))},"mainLoop"),o=l(function(){if(e.animate===!0||e.animate===!1)a(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var p=e.eles.nodes(),f=ile(n,e,p);p.layoutPositions(r,e,f)}},"done"),u=0,h=!0;if(e.animate===!0){var d=l(function p(){for(var f=0;h&&f<e.refresh;)h=s(u),u++,f++;h?(rl()-i>=e.animationThreshold&&a(),v5(p)):(rB(n,e),o())},"frame");d()}else{for(;h;)h=s(u),u++;rB(n,e),o()}return this},Nm.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Nm.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var DAe=l(function(e,t,r){for(var n=r.eles.edges(),i=r.eles.nodes(),a=da(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:n.size(),temperature:r.initialTemp,clientWidth:a.w,clientHeight:a.h,boundingBox:a},o=r.eles.components(),u={},h=0;h<o.length;h++)for(var d=o[h],p=0;p<d.length;p++)u[d[p].id()]=h;for(h=0;h<s.nodeSize;h++){var f=(x=i[h]).layoutDimensions(r);(O={}).isLocked=x.locked(),O.id=x.data("id"),O.parentId=x.data("parent"),O.cmptId=u[x.id()],O.children=[],O.positionX=x.position("x"),O.positionY=x.position("y"),O.offsetX=0,O.offsetY=0,O.height=f.w,O.width=f.h,O.maxX=O.positionX+O.width/2,O.minX=O.positionX-O.width/2,O.maxY=O.positionY+O.height/2,O.minY=O.positionY-O.height/2,O.padLeft=parseFloat(x.style("padding")),O.padRight=parseFloat(x.style("padding")),O.padTop=parseFloat(x.style("padding")),O.padBottom=parseFloat(x.style("padding")),O.nodeRepulsion=nn(r.nodeRepulsion)?r.nodeRepulsion(x):r.nodeRepulsion,s.layoutNodes.push(O),s.idToIndex[O.id]=h}var g=[],m=0,y=-1,v=[];for(h=0;h<s.nodeSize;h++){var x,b=(x=s.layoutNodes[h]).parentId;b!=null?s.layoutNodes[s.idToIndex[b]].children.push(x.id):(g[++y]=x.id,v.push(x.id))}for(s.graphSet.push(v);m<=y;){var w=g[m++],T=s.idToIndex[w],k=s.layoutNodes[T].children;if(k.length>0)for(s.graphSet.push(k),h=0;h<k.length;h++)g[++y]=k[h]}for(h=0;h<s.graphSet.length;h++){var R=s.graphSet[h];for(p=0;p<R.length;p++){var C=s.idToIndex[R[p]];s.indexToGraph[C]=h}}for(h=0;h<s.edgeSize;h++){var E=n[h],_={};_.id=E.data("id"),_.sourceId=E.data("source"),_.targetId=E.data("target");var L=nn(r.idealEdgeLength)?r.idealEdgeLength(E):r.idealEdgeLength,D=nn(r.edgeElasticity)?r.edgeElasticity(E):r.edgeElasticity,B=s.idToIndex[_.sourceId],S=s.idToIndex[_.targetId];if(s.indexToGraph[B]!=s.indexToGraph[S]){for(var N=OAe(_.sourceId,_.targetId,s),A=s.graphSet[N],M=0,O=s.layoutNodes[B];A.indexOf(O.id)===-1;)O=s.layoutNodes[s.idToIndex[O.parentId]],M++;for(O=s.layoutNodes[S];A.indexOf(O.id)===-1;)O=s.layoutNodes[s.idToIndex[O.parentId]],M++;L*=M*r.nestingFactor}_.idealLength=L,_.elasticity=D,s.layoutEdges.push(_)}return s},"createLayoutInfo"),OAe=l(function(e,t,r){var n=PAe(e,t,0,r);return 2>n.count?0:n.graph},"findLCA"),PAe=l(function e(t,r,n,i){var a=i.graphSet[n];if(-1<a.indexOf(t)&&-1<a.indexOf(r))return{count:2,graph:n};for(var s=0,o=0;o<a.length;o++){var u=a[o],h=i.idToIndex[u],d=i.layoutNodes[h].children;if(d.length!==0){var p=e(t,r,i.indexToGraph[i.idToIndex[d[0]]],i);if(p.count!==0){if(p.count!==1)return p;if(++s===2)break}}}return{count:s,graph:n}},"findLCA_aux"),BAe=l(function(e,t){for(var r=e.clientWidth,n=e.clientHeight,i=0;i<e.nodeSize;i++){var a=e.layoutNodes[i];a.children.length!==0||a.isLocked||(a.positionX=Math.random()*r,a.positionY=Math.random()*n)}},"randomizePositions"),ile=l(function(e,t,r){var n=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(r.forEach(function(a){var s=e.layoutNodes[e.idToIndex[a.data("id")]];i.x1=Math.min(i.x1,s.positionX),i.x2=Math.max(i.x2,s.positionX),i.y1=Math.min(i.y1,s.positionY),i.y2=Math.max(i.y2,s.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(a,s){var o=e.layoutNodes[e.idToIndex[a.data("id")]];if(t.boundingBox){var u=(o.positionX-i.x1)/i.w,h=(o.positionY-i.y1)/i.h;return{x:n.x1+u*n.w,y:n.y1+h*n.h}}return{x:o.positionX,y:o.positionY}}},"getScaleInBoundsFn"),$Ae=l(function(e,t,r){var n=r.layout,i=r.eles.nodes(),a=ile(e,r,i);i.positions(a),e.ready!==!0&&(e.ready=!0,n.one("layoutready",r.ready),n.emit({type:"layoutready",layout:this}))},"refreshPositions"),FAe=l(function(e,t,r){zAe(e,t),qAe(e),jAe(e,t),YAe(e),WAe(e)},"step"),zAe=l(function(e,t){for(var r=0;r<e.graphSet.length;r++)for(var n=e.graphSet[r],i=n.length,a=0;a<i;a++)for(var s=e.layoutNodes[e.idToIndex[n[a]]],o=a+1;o<i;o++){var u=e.layoutNodes[e.idToIndex[n[o]]];UAe(s,u,e,t)}},"calculateNodeForces"),tB=l(function(e){return-e+2*e*Math.random()},"randomDistance"),UAe=l(function(e,t,r,n){if(e.cmptId===t.cmptId||r.isCompound){var i=t.positionX-e.positionX,a=t.positionY-e.positionY;i===0&&a===0&&(i=tB(1),a=tB(1));var s=GAe(e,t,i,a);if(s>0)var o=(h=n.nodeOverlap*s)*i/(y=Math.sqrt(i*i+a*a)),u=h*a/y;else{var h,d=A5(e,i,a),p=A5(t,-1*i,-1*a),f=p.x-d.x,g=p.y-d.y,m=f*f+g*g,y=Math.sqrt(m);o=(h=(e.nodeRepulsion+t.nodeRepulsion)/m)*f/y,u=h*g/y}e.isLocked||(e.offsetX-=o,e.offsetY-=u),t.isLocked||(t.offsetX+=o,t.offsetY+=u)}},"nodeRepulsion"),GAe=l(function(e,t,r,n){if(r>0)var i=e.maxX-t.minX;else i=t.maxX-e.minX;if(n>0)var a=e.maxY-t.minY;else a=t.maxY-e.minY;return i>=0&&a>=0?Math.sqrt(i*i+a*a):0},"nodesOverlap"),A5=l(function(e,t,r){var n=e.positionX,i=e.positionY,a=e.height||1,s=e.width||1,o=r/t,u=a/s,h={};return t===0&&0<r||t===0&&0>r?(h.x=n,h.y=i+a/2,h):0<t&&-1*u<=o&&o<=u?(h.x=n+s/2,h.y=i+s*r/2/t,h):0>t&&-1*u<=o&&o<=u?(h.x=n-s/2,h.y=i-s*r/2/t,h):0<r&&(o<=-1*u||o>=u)?(h.x=n+a*t/2/r,h.y=i+a/2,h):(0>r&&(o<=-1*u||o>=u)&&(h.x=n-a*t/2/r,h.y=i-a/2),h)},"findClippingPoint"),qAe=l(function(e,t){for(var r=0;r<e.edgeSize;r++){var n=e.layoutEdges[r],i=e.idToIndex[n.sourceId],a=e.layoutNodes[i],s=e.idToIndex[n.targetId],o=e.layoutNodes[s],u=o.positionX-a.positionX,h=o.positionY-a.positionY;if(u!==0||h!==0){var d=A5(a,u,h),p=A5(o,-1*u,-1*h),f=p.x-d.x,g=p.y-d.y,m=Math.sqrt(f*f+g*g),y=Math.pow(n.idealLength-m,2)/n.elasticity;if(m!==0)var v=y*f/m,x=y*g/m;else v=0,x=0;a.isLocked||(a.offsetX+=v,a.offsetY+=x),o.isLocked||(o.offsetX-=v,o.offsetY-=x)}}},"calculateEdgeForces"),jAe=l(function(e,t){if(t.gravity!==0)for(var r=0;r<e.graphSet.length;r++){var n=e.graphSet[r],i=n.length;if(r===0)var a=e.clientHeight/2,s=e.clientWidth/2;else{var o=e.layoutNodes[e.idToIndex[n[0]]],u=e.layoutNodes[e.idToIndex[o.parentId]];a=u.positionX,s=u.positionY}for(var h=0;h<i;h++){var d=e.layoutNodes[e.idToIndex[n[h]]];if(!d.isLocked){var p=a-d.positionX,f=s-d.positionY,g=Math.sqrt(p*p+f*f);if(g>1){var m=t.gravity*p/g,y=t.gravity*f/g;d.offsetX+=m,d.offsetY+=y}}}}},"calculateGravityForces"),YAe=l(function(e,t){var r=[],n=0,i=-1;for(r.push.apply(r,e.graphSet[0]),i+=e.graphSet[0].length;n<=i;){var a=r[n++],s=e.idToIndex[a],o=e.layoutNodes[s],u=o.children;if(0<u.length&&!o.isLocked){for(var h=o.offsetX,d=o.offsetY,p=0;p<u.length;p++){var f=e.layoutNodes[e.idToIndex[u[p]]];f.offsetX+=h,f.offsetY+=d,r[++i]=u[p]}o.offsetX=0,o.offsetY=0}}},"propagateForces"),WAe=l(function(e,t){for(var r=0;r<e.nodeSize;r++)0<(i=e.layoutNodes[r]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0);for(r=0;r<e.nodeSize;r++)if(!(0<(i=e.layoutNodes[r]).children.length||i.isLocked)){var n=HAe(i.offsetX,i.offsetY,e.temperature);i.positionX+=n.x,i.positionY+=n.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,VAe(i,e)}for(r=0;r<e.nodeSize;r++){var i;0<(i=e.layoutNodes[r]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},"updatePositions"),HAe=l(function(e,t,r){var n=Math.sqrt(e*e+t*t);if(n>r)var i={x:r*e/n,y:r*t/n};else i={x:e,y:t};return i},"limitForce"),VAe=l(function e(t,r){var n=t.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],a=!1;return(i.maxX==null||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,a=!0),(i.minX==null||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,a=!0),(i.maxY==null||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,a=!0),(i.minY==null||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,a=!0),a?e(i,r):void 0}},"updateAncestryBoundaries"),rB=l(function(e,t){for(var r=e.layoutNodes,n=[],i=0;i<r.length;i++){var a=r[i],s=a.cmptId;(n[s]=n[s]||[]).push(a)}var o=0;for(i=0;i<n.length;i++)if(y=n[i]){y.x1=1/0,y.x2=-1/0,y.y1=1/0,y.y2=-1/0;for(var u=0;u<y.length;u++){var h=y[u];y.x1=Math.min(y.x1,h.positionX-h.width/2),y.x2=Math.max(y.x2,h.positionX+h.width/2),y.y1=Math.min(y.y1,h.positionY-h.height/2),y.y2=Math.max(y.y2,h.positionY+h.height/2)}y.w=y.x2-y.x1,y.h=y.y2-y.y1,o+=y.w*y.h}n.sort(function(v,x){return x.w*x.h-v.w*v.h});var d=0,p=0,f=0,g=0,m=Math.sqrt(o)*e.clientWidth/e.clientHeight;for(i=0;i<n.length;i++){var y;if(y=n[i]){for(u=0;u<y.length;u++)(h=y[u]).isLocked||(h.positionX+=d-y.x1,h.positionY+=p-y.y1);d+=y.w+t.componentSpacing,f+=y.w+t.componentSpacing,g=Math.max(g,y.h),f>m&&(p+=g+t.componentSpacing,d=0,f=0,g=0)}}},"separateComponents"),XAe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:l(function(e){},"position"),sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")};function iS(e){this.options=$t({},XAe,e)}l(iS,"GridLayout"),iS.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=n.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var a=da(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)n.nodes().layoutPositions(this,t,function(q){return{x:a.x1,y:a.y1}});else{var s=i.size(),o=Math.sqrt(s*a.h/a.w),u=Math.round(o),h=Math.round(a.w/a.h*o),d=l(function(q){if(q==null)return Math.min(u,h);Math.min(u,h)==u?u=q:h=q},"small"),p=l(function(q){if(q==null)return Math.max(u,h);Math.max(u,h)==u?u=q:h=q},"large"),f=t.rows,g=t.cols!=null?t.cols:t.columns;if(f!=null&&g!=null)u=f,h=g;else if(f!=null&&g==null)u=f,h=Math.ceil(s/u);else if(f==null&&g!=null)h=g,u=Math.ceil(s/h);else if(h*u>s){var m=d(),y=p();(m-1)*y>=s?d(m-1):(y-1)*m>=s&&p(y-1)}else for(;h*u<s;){var v=d(),x=p();(x+1)*v>=s?p(x+1):d(v+1)}var b=a.w/h,w=a.h/u;if(t.condense&&(b=0,w=0),t.avoidOverlap)for(var T=0;T<i.length;T++){var k=i[T],R=k._private.position;R.x!=null&&R.y!=null||(R.x=0,R.y=0);var C=k.layoutDimensions(t),E=t.avoidOverlapPadding,_=C.w+E,L=C.h+E;b=Math.max(b,_),w=Math.max(w,L)}for(var D={},B=l(function(q,J){return!!D["c-"+q+"-"+J]},"used"),S=l(function(q,J){D["c-"+q+"-"+J]=!0},"use"),N=0,A=0,M=l(function(){++A>=h&&(A=0,N++)},"moveToNextCell"),O={},I=0;I<i.length;I++){var P=i[I],$=t.position(P);if($&&($.row!==void 0||$.col!==void 0)){var z={row:$.row,col:$.col};if(z.col===void 0)for(z.col=0;B(z.row,z.col);)z.col++;else if(z.row===void 0)for(z.row=0;B(z.row,z.col);)z.row++;O[P.id()]=z,S(z.row,z.col)}}var G=l(function(q,J){var ie,te;if(q.locked()||q.isParent())return!1;var W=O[q.id()];if(W)ie=W.col*b+b/2+a.x1,te=W.row*w+w/2+a.y1;else{for(;B(N,A);)M();ie=A*b+b/2+a.x1,te=N*w+w/2+a.y1,S(N,A),M()}return{x:ie,y:te}},"getPos");i.layoutPositions(this,t,G)}return this};var KAe={ready:l(function(){},"ready"),stop:l(function(){},"stop")};function vb(e){this.options=$t({},KAe,e)}l(vb,"NullLayout"),vb.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this},vb.prototype.stop=function(){return this};var ZAe={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")};function aS(e){this.options=$t({},ZAe,e)}l(aS,"PresetLayout"),aS.prototype.run=function(){var e=this.options,t=e.eles.nodes(),r=nn(e.positions);function n(i){if(e.positions==null)return xCe(i.position());if(r)return e.positions(i);var a=e.positions[i._private.data.id];return a??null}return l(n,"getPosition"),t.layoutPositions(this,e,function(i,a){var s=n(i);return!i.locked()&&s!=null&&s}),this};var QAe={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")};function sS(e){this.options=$t({},QAe,e)}l(sS,"RandomLayout"),sS.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=da(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),i=l(function(a,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}},"getPos");return r.nodes().layoutPositions(this,e,i),this};var JAe=[{name:"breadthfirst",impl:tS},{name:"circle",impl:rS},{name:"concentric",impl:nS},{name:"cose",impl:Nm},{name:"grid",impl:iS},{name:"null",impl:vb},{name:"preset",impl:aS},{name:"random",impl:sS}];function uI(e){this.options=e,this.notifications=0}l(uI,"NullRenderer");var nB=l(function(){},"noop"),iB=l(function(){throw new Error("A headless instance can not render images")},"throwImgErr");uI.prototype={recalculateRenderedStyle:nB,notify:l(function(){this.notifications++},"notify"),init:nB,isHeadless:l(function(){return!0},"isHeadless"),png:iB,jpg:iB};var oS,lS,e1e={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,r=l(function(u,h,d,p,f,g,m){var y=f.x-d/2-m,v=f.x+d/2+m,x=f.y-d/2-m,b=f.y+d/2+m;return y<=u&&u<=v&&x<=h&&h<=b},"bbCollide"),n=l(function(u,h,d,p,f){var g=u*Math.cos(p)-h*Math.sin(p),m=(u*Math.sin(p)+h*Math.cos(p))*d;return{x:g*d+f.x,y:m+f.y}},"transform"),i=l(function(u,h,d,p){for(var f=[],g=0;g<u.length;g+=2){var m=u[g],y=u[g+1];f.push(n(m,y,h,d,p))}return f},"transformPoints"),a=l(function(u){for(var h=[],d=0;d<u.length;d++){var p=u[d];h.push(p.x,p.y)}return h},"pointsToArr"),s=l(function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},"standardGap"),o=l(function(u,h){Nt(h)&&(h=e[h]),e[u]=$t({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:l(function(d,p,f,g,m,y){var v=a(i(this.points,f+2*y,g,m));return Zi(d,p,v)},"collide"),roughCollide:r,draw:l(function(d,p,f,g){var m=i(this.points,p,f,g);t.arrowShapeImpl("polygon")(d,m)},"draw"),spacing:l(function(d){return 0},"spacing"),gap:s},h)},"defineArrowShape");o("none",{collide:x5,roughCollide:x5,draw:WN,spacing:fP,gap:fP}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:l(function(u,h,d,p,f){var g=i(this.points,h,d,p),m=this.controlPoint,y=n(m[0],m[1],h,d,p);t.arrowShapeImpl(this.name)(u,g,y)},"draw"),gap:l(function(u){return .8*s(u)},"gap")}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:l(function(u,h,d,p,f,g,m){var y=a(i(this.points,d+2*m,p,f)),v=a(i(this.pointsTee,d+2*m,p,f));return Zi(u,h,y)||Zi(u,h,v)},"collide"),draw:l(function(u,h,d,p,f){var g=i(this.points,h,d,p),m=i(this.pointsTee,h,d,p);t.arrowShapeImpl(this.name)(u,g,m)},"draw")}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:l(function(u,h,d,p,f,g,m){var y=f,v=Math.pow(y.x-u,2)+Math.pow(y.y-h,2)<=Math.pow((d+2*m)*this.radius,2),x=a(i(this.points,d+2*m,p,f));return Zi(u,h,x)||v},"collide"),draw:l(function(u,h,d,p,f){var g=i(this.pointsTr,h,d,p);t.arrowShapeImpl(this.name)(u,g,p.x,p.y,this.radius*h)},"draw"),spacing:l(function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius},"spacing")}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:l(function(u,h){var d=this.baseCrossLinePts.slice(),p=h/u;return d[3]=d[3]-p,d[5]=d[5]-p,d},"crossLinePts"),collide:l(function(u,h,d,p,f,g,m){var y=a(i(this.points,d+2*m,p,f)),v=a(i(this.crossLinePts(d,g),d+2*m,p,f));return Zi(u,h,y)||Zi(u,h,v)},"collide"),draw:l(function(u,h,d,p,f){var g=i(this.points,h,d,p),m=i(this.crossLinePts(h,f),h,d,p);t.arrowShapeImpl(this.name)(u,g,m)},"draw")}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:l(function(u){return .525*s(u)},"gap")}),o("circle",{radius:.15,collide:l(function(u,h,d,p,f,g,m){var y=f;return Math.pow(y.x-u,2)+Math.pow(y.y-h,2)<=Math.pow((d+2*m)*this.radius,2)},"collide"),draw:l(function(u,h,d,p,f){t.arrowShapeImpl(this.name)(u,p.x,p.y,this.radius*h)},"draw"),spacing:l(function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius},"spacing")}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:l(function(u){return 1},"spacing"),gap:l(function(u){return 1},"gap")}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:l(function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value},"gap")}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:l(function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value},"gap")})}},t1e={projectIntoViewport:function(e,t){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],s=n[4],o=r.pan(),u=r.zoom();return[((e-i)/s-o.x)/u,((t-a)/s-o.y)/u]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),n=l(function(k){return parseFloat(r.getPropertyValue(k))},"styleValue"),i=n("padding-left"),a=n("padding-right"),s=n("padding-top"),o=n("padding-bottom"),u=n("border-left-width"),h=n("border-right-width"),d=n("border-top-width"),p=(n("border-bottom-width"),e.clientWidth),f=e.clientHeight,g=i+a,m=s+o,y=u+h,v=t.width/(p+y),x=p-g,b=f-m,w=t.left+i+u,T=t.top+s+d;return this.containerBB=[w,T,x,b,v]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,r,n){return this.findNearestElements(e,t,r,n)[0]},findNearestElements:function(e,t,r,n){var i,a,s=this,o=this,u=o.getCachedZSortedEles(),h=[],d=o.cy.zoom(),p=o.cy.hasCompoundNodes(),f=(n?24:8)/d,g=(n?8:2)/d,m=(n?8:2)/d,y=1/0;function v(C,E){if(C.isNode()){if(a)return;a=C,h.push(C)}if(C.isEdge()&&(E==null||E<y))if(i){if(i.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value&&i.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value){for(var _=0;_<h.length;_++)if(h[_].isEdge()){h[_]=C,i=C,y=E??y;break}}}else h.push(C),i=C,y=E??y}function x(C){var E=C.outerWidth()+2*g,_=C.outerHeight()+2*g,L=E/2,D=_/2,B=C.position(),S=C.pstyle("corner-radius").value==="auto"?"auto":C.pstyle("corner-radius").pfValue,N=C._private.rscratch;if(B.x-L<=e&&e<=B.x+L&&B.y-D<=t&&t<=B.y+D&&o.nodeShapes[s.getNodeShape(C)].checkPoint(e,t,0,E,_,B.x,B.y,S,N))return v(C,0),!0}function b(C){var E,_=C._private,L=_.rscratch,D=C.pstyle("width").pfValue,B=C.pstyle("arrow-scale").value,S=D/2+f,N=S*S,A=2*S,M=_.source,O=_.target;if(L.edgeType==="segments"||L.edgeType==="straight"||L.edgeType==="haystack"){for(var I=L.allpts,P=0;P+3<I.length;P+=2)if(MCe(e,t,I[P],I[P+1],I[P+2],I[P+3],A)&&N>(E=BCe(e,t,I[P],I[P+1],I[P+2],I[P+3])))return v(C,E),!0}else if(L.edgeType==="bezier"||L.edgeType==="multibezier"||L.edgeType==="self"||L.edgeType==="compound"){for(I=L.allpts,P=0;P+5<L.allpts.length;P+=4)if(RCe(e,t,I[P],I[P+1],I[P+2],I[P+3],I[P+4],I[P+5],A)&&N>(E=PCe(e,t,I[P],I[P+1],I[P+2],I[P+3],I[P+4],I[P+5])))return v(C,E),!0}M=M||_.source,O=O||_.target;var $=s.getArrowWidth(D,B),z=[{name:"source",x:L.arrowStartX,y:L.arrowStartY,angle:L.srcArrowAngle},{name:"target",x:L.arrowEndX,y:L.arrowEndY,angle:L.tgtArrowAngle},{name:"mid-source",x:L.midX,y:L.midY,angle:L.midsrcArrowAngle},{name:"mid-target",x:L.midX,y:L.midY,angle:L.midtgtArrowAngle}];for(P=0;P<z.length;P++){var G=z[P],q=o.arrowShapes[C.pstyle(G.name+"-arrow-shape").value],J=C.pstyle("width").pfValue;if(q.roughCollide(e,t,$,G.angle,{x:G.x,y:G.y},J,f)&&q.collide(e,t,$,G.angle,{x:G.x,y:G.y},J,f))return v(C),!0}p&&h.length>0&&(x(M),x(O))}function w(C,E,_){return xs(C,E,_)}function T(C,E){var _,L=C._private,D=m;_=E?E+"-":"",C.boundingBox();var B=L.labelBounds[E||"main"],S=C.pstyle(_+"label").value;if(C.pstyle("text-events").strValue==="yes"&&S){var N=w(L.rscratch,"labelX",E),A=w(L.rscratch,"labelY",E),M=w(L.rscratch,"labelAngle",E),O=C.pstyle(_+"text-margin-x").pfValue,I=C.pstyle(_+"text-margin-y").pfValue,P=B.x1-D-O,$=B.x2+D-O,z=B.y1-D-I,G=B.y2+D-I;if(M){var q=Math.cos(M),J=Math.sin(M),ie=l(function(ne,ee){return{x:(ne-=N)*q-(ee-=A)*J+N,y:ne*J+ee*q+A}},"rotate"),te=ie(P,z),W=ie(P,G),H=ie($,z),X=ie($,G),Q=[te.x+O,te.y+I,H.x+O,H.y+I,X.x+O,X.y+I,W.x+O,W.y+I];if(Zi(e,t,Q))return v(C),!0}else if(Td(B,e,t))return v(C),!0}}r&&(u=u.interactive),l(v,"addEle"),l(x,"checkNode"),l(b,"checkEdge"),l(w,"preprop"),l(T,"checkLabel");for(var k=u.length-1;k>=0;k--){var R=u[k];R.isNode()?x(R)||T(R):b(R)||T(R)||T(R,"source")||T(R,"target")}return h},getAllInBox:function(e,t,r,n){for(var i=this.getCachedZSortedEles().interactive,a=[],s=Math.min(e,r),o=Math.max(e,r),u=Math.min(t,n),h=Math.max(t,n),d=da({x1:e=s,y1:t=u,x2:r=o,y2:n=h}),p=0;p<i.length;p++){var f=i[p];if(f.isNode()){var g=f,m=g.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});VN(d,m)&&!$se(m,d)&&a.push(g)}else{var y=f,v=y._private,x=v.rscratch;if(x.startX!=null&&x.startY!=null&&!Td(d,x.startX,x.startY)||x.endX!=null&&x.endY!=null&&!Td(d,x.endX,x.endY))continue;if(x.edgeType==="bezier"||x.edgeType==="multibezier"||x.edgeType==="self"||x.edgeType==="compound"||x.edgeType==="segments"||x.edgeType==="haystack"){for(var b=v.rstyle.bezierPts||v.rstyle.linePts||v.rstyle.haystackPts,w=!0,T=0;T<b.length;T++)if(!ICe(d,b[T])){w=!1;break}w&&a.push(y)}else x.edgeType!=="haystack"&&x.edgeType!=="straight"||a.push(y)}}return a}},xb={};xb.calculateArrowAngles=function(e){var t,r,n,i,a,s,o=e._private.rscratch,u=o.edgeType==="haystack",h=o.edgeType==="bezier",d=o.edgeType==="multibezier",p=o.edgeType==="segments",f=o.edgeType==="compound",g=o.edgeType==="self";if(u?(n=o.haystackPts[0],i=o.haystackPts[1],a=o.haystackPts[2],s=o.haystackPts[3]):(n=o.arrowStartX,i=o.arrowStartY,a=o.arrowEndX,s=o.arrowEndY),y=o.midX,v=o.midY,p)t=n-o.segpts[0],r=i-o.segpts[1];else if(d||f||g||h){var m=o.allpts;t=n-Yn(m[0],m[2],m[4],.1),r=i-Yn(m[1],m[3],m[5],.1)}else t=n-y,r=i-v;o.srcArrowAngle=Zv(t,r);var y=o.midX,v=o.midY;if(u&&(y=(n+a)/2,v=(i+s)/2),t=a-n,r=s-i,p)if((m=o.allpts).length/2%2==0){var x=(_=m.length/2)-2;t=m[_]-m[x],r=m[_+1]-m[x+1]}else o.isRound?(t=o.midVector[1],r=-o.midVector[0]):(x=(_=m.length/2-1)-2,t=m[_]-m[x],r=m[_+1]-m[x+1]);else if(d||f||g){var b,w,T,k,m=o.allpts;if(o.ctrlpts.length/2%2==0){var R=(C=(E=m.length/2-1)+2)+2;b=Yn(m[E],m[C],m[R],0),w=Yn(m[E+1],m[C+1],m[R+1],0),T=Yn(m[E],m[C],m[R],1e-4),k=Yn(m[E+1],m[C+1],m[R+1],1e-4)}else{var C,E;R=(C=m.length/2-1)+2,b=Yn(m[E=C-2],m[C],m[R],.4999),w=Yn(m[E+1],m[C+1],m[R+1],.4999),T=Yn(m[E],m[C],m[R],.5),k=Yn(m[E+1],m[C+1],m[R+1],.5)}t=T-b,r=k-w}if(o.midtgtArrowAngle=Zv(t,r),o.midDispX=t,o.midDispY=r,t*=-1,r*=-1,p&&(m=o.allpts).length/2%2!=0){if(!o.isRound){var _,L=(_=m.length/2-1)+2;t=-(m[L]-m[_]),r=-(m[L+1]-m[_+1])}}if(o.midsrcArrowAngle=Zv(t,r),p)t=a-o.segpts[o.segpts.length-2],r=s-o.segpts[o.segpts.length-1];else if(d||f||g||h){var D=(m=o.allpts).length;t=a-Yn(m[D-6],m[D-4],m[D-2],.9),r=s-Yn(m[D-5],m[D-3],m[D-1],.9)}else t=a-y,r=s-v;o.tgtArrowAngle=Zv(t,r)},xb.getArrowWidth=xb.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[e+", "+t];return n||(n=Math.max(Math.pow(13.37*e,.9),29)*t,r[e+", "+t]=n,n)};var aB,sB,au,bb,wo,Mc,Qc,ko,nm,cx,ale,sle,cS,uS,oB,js={},za={},lB=l(function(e,t,r){r.x=t.x-e.x,r.y=t.y-e.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},"asVec"),r1e=l(function(e,t){t.x=-1*e.x,t.y=-1*e.y,t.nx=-1*e.nx,t.ny=-1*e.ny,t.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},"invertVec"),n1e=l(function(e,t,r,n,i){if(e!==oB?lB(t,e,js):r1e(za,js),lB(t,r,za),aB=js.nx*za.ny-js.ny*za.nx,sB=js.nx*za.nx-js.ny*-za.ny,wo=Math.asin(Math.max(-1,Math.min(1,aB))),Math.abs(wo)<1e-6)return oS=t.x,lS=t.y,void(Qc=nm=0);au=1,bb=!1,sB<0?wo<0?wo=Math.PI+wo:(wo=Math.PI-wo,au=-1,bb=!0):wo>0&&(au=-1,bb=!0),nm=t.radius!==void 0?t.radius:n,Mc=wo/2,cx=Math.min(js.len/2,za.len/2),i?(ko=Math.abs(Math.cos(Mc)*nm/Math.sin(Mc)))>cx?(ko=cx,Qc=Math.abs(ko*Math.sin(Mc)/Math.cos(Mc))):Qc=nm:(ko=Math.min(cx,nm),Qc=Math.abs(ko*Math.sin(Mc)/Math.cos(Mc))),cS=t.x+za.nx*ko,uS=t.y+za.ny*ko,oS=cS-za.ny*Qc*au,lS=uS+za.nx*Qc*au,ale=t.x+js.nx*ko,sle=t.y+js.ny*ko,oB=t},"calcCornerArc");function hI(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function Sw(e,t,r,n){var i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];return n===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(n1e(e,t,r,n,i),{cx:oS,cy:lS,radius:Qc,startX:ale,startY:sle,stopX:cS,stopY:uS,startAngle:js.ang+Math.PI/2*au,endAngle:za.ang-Math.PI/2*au,counterClockwise:bb})}l(hI,"drawPreparedRoundCorner"),l(Sw,"getRoundCorner");var xi={};function rT(e){var t=[];if(e!=null){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];t.push({x:n,y:i})}return t}}xi.findMidptPtsEtc=function(e,t){var r,n=t.posPts,i=t.intersectionPts,a=t.vectorNormInverse,s=e.pstyle("source-endpoint"),o=e.pstyle("target-endpoint"),u=s.units!=null&&o.units!=null,h=l(function(x,b,w,T){var k=T-b,R=w-x,C=Math.sqrt(R*R+k*k);return{x:-k/C,y:R/C}},"recalcVectorNormInverse");switch(e.pstyle("edge-distances").value){case"node-position":r=n;break;case"intersection":r=i;break;case"endpoints":if(u){var d=Ga(this.manualEndptToPx(e.source()[0],s),2),p=d[0],f=d[1],g=Ga(this.manualEndptToPx(e.target()[0],o),2),m=g[0],y=g[1],v={x1:p,y1:f,x2:m,y2:y};a=h(p,f,m,y),r=v}else kr("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),r=i}return{midptPts:r,vectorNormInverse:a}},xi.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r._private,i=n.rscratch;if(!i.haystack){var a=2*Math.random()*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=2*Math.random()*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var s=n.source,o=n.target,u=s.position(),h=o.position(),d=s.width(),p=o.width(),f=s.height(),g=o.height(),m=r.pstyle("haystack-radius").value/2;i.haystackPts=i.allpts=[i.source.x*d*m+u.x,i.source.y*f*m+u.y,i.target.x*p*m+h.x,i.target.y*g*m+h.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}},xi.findSegmentsPoints=function(e,t){var r=e._private.rscratch,n=e.pstyle("segment-weights"),i=e.pstyle("segment-distances"),a=e.pstyle("segment-radii"),s=e.pstyle("radius-type"),o=Math.min(n.pfValue.length,i.pfValue.length),u=a.pfValue[a.pfValue.length-1],h=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var d=0;d<o;d++){var p=n.pfValue[d],f=i.pfValue[d],g=1-p,m=p,y=this.findMidptPtsEtc(e,t),v=y.midptPts,x=y.vectorNormInverse,b={x:v.x1*g+v.x2*m,y:v.y1*g+v.y2*m};r.segpts.push(b.x+x.x*f,b.y+x.y*f),r.radii.push(a.pfValue[d]!==void 0?a.pfValue[d]:u),r.isArcRadius.push((s.pfValue[d]!==void 0?s.pfValue[d]:h)==="arc-radius")}},xi.findLoopPoints=function(e,t,r,n){var i=e._private.rscratch,a=t.dirCounts,s=t.srcPos,o=e.pstyle("control-point-distances"),u=o?o.pfValue[0]:void 0,h=e.pstyle("loop-direction").pfValue,d=e.pstyle("loop-sweep").pfValue,p=e.pstyle("control-point-step-size").pfValue;i.edgeType="self";var f=r,g=p;n&&(f=0,g=u);var m=h-Math.PI/2,y=m-d/2,v=m+d/2,x=h+"_"+d;f=a[x]===void 0?a[x]=0:++a[x],i.ctrlpts=[s.x+1.4*Math.cos(y)*g*(f/3+1),s.y+1.4*Math.sin(y)*g*(f/3+1),s.x+1.4*Math.cos(v)*g*(f/3+1),s.y+1.4*Math.sin(v)*g*(f/3+1)]},xi.findCompoundLoopPoints=function(e,t,r,n){var i=e._private.rscratch;i.edgeType="compound";var a=t.srcPos,s=t.tgtPos,o=t.srcW,u=t.srcH,h=t.tgtW,d=t.tgtH,p=e.pstyle("control-point-step-size").pfValue,f=e.pstyle("control-point-distances"),g=f?f.pfValue[0]:void 0,m=r,y=p;n&&(m=0,y=g);var v={x:a.x-o/2,y:a.y-u/2},x={x:s.x-h/2,y:s.y-d/2},b={x:Math.min(v.x,x.x),y:Math.min(v.y,x.y)},w=Math.max(.5,Math.log(.01*o)),T=Math.max(.5,Math.log(.01*h));i.ctrlpts=[b.x,b.y-(1+Math.pow(50,1.12)/100)*y*(m/3+1)*w,b.x-(1+Math.pow(50,1.12)/100)*y*(m/3+1)*T,b.y]},xi.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},xi.findBezierPoints=function(e,t,r,n,i){var a=e._private.rscratch,s=e.pstyle("control-point-step-size").pfValue,o=e.pstyle("control-point-distances"),u=e.pstyle("control-point-weights"),h=o&&u?Math.min(o.value.length,u.value.length):1,d=o?o.pfValue[0]:void 0,p=u.value[0],f=n;a.edgeType=f?"multibezier":"bezier",a.ctrlpts=[];for(var g=0;g<h;g++){var m=(.5-t.eles.length/2+r)*s*(i?-1:1),y=void 0,v=mP(m);f&&(d=o?o.pfValue[g]:s,p=u.value[g]);var x=(y=n?d:d!==void 0?v*d:void 0)!==void 0?y:m,b=1-p,w=p,T=this.findMidptPtsEtc(e,t),k=T.midptPts,R=T.vectorNormInverse,C={x:k.x1*b+k.x2*w,y:k.y1*b+k.y2*w};a.ctrlpts.push(C.x+R.x*x,C.y+R.y*x)}},xi.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",a="leftward",s="rightward",o="downward",u="upward",h=t.posPts,d=t.srcW,p=t.srcH,f=t.tgtW,g=t.tgtH,m=e.pstyle("edge-distances").value!=="node-position",y=e.pstyle("taxi-direction").value,v=y,x=e.pstyle("taxi-turn"),b=x.units==="%",w=x.pfValue,T=w<0,k=e.pstyle("taxi-turn-min-distance").pfValue,R=m?(d+f)/2:0,C=m?(p+g)/2:0,E=h.x2-h.x1,_=h.y2-h.y1,L=l(function(we,K){return we>0?Math.max(we-K,0):Math.min(we+K,0)},"subDWH"),D=L(E,R),B=L(_,C),S=!1;v==="auto"?y=Math.abs(D)>Math.abs(B)?i:n:v===u||v===o?(y=n,S=!0):v!==a&&v!==s||(y=i,S=!0);var N,A=y===n,M=A?B:D,O=A?_:E,I=mP(O),P=!1;S&&(b||T)||!(v===o&&O<0||v===u&&O>0||v===a&&O>0||v===s&&O<0)||(M=(I*=-1)*Math.abs(M),P=!0),b?N=(w<0?1+w:w)*M:N=(w<0?M:0)+w*I;var $=l(function(we){return Math.abs(we)<k||Math.abs(we)>=Math.abs(M)},"getIsTooClose"),z=$(N),G=$(Math.abs(M)-Math.abs(N));if((z||G)&&!P)if(A){var q=Math.abs(O)<=p/2,J=Math.abs(E)<=f/2;if(q){var ie=(h.x1+h.x2)/2,te=h.y1,W=h.y2;r.segpts=[ie,te,ie,W]}else if(J){var H=(h.y1+h.y2)/2,X=h.x1,Q=h.x2;r.segpts=[X,H,Q,H]}else r.segpts=[h.x1,h.y2]}else{var ne=Math.abs(O)<=d/2,ee=Math.abs(_)<=g/2;if(ne){var pe=(h.y1+h.y2)/2,j=h.x1,ce=h.x2;r.segpts=[j,pe,ce,pe]}else if(ee){var le=(h.x1+h.x2)/2,Ae=h.y1,Se=h.y2;r.segpts=[le,Ae,le,Se]}else r.segpts=[h.x2,h.y1]}else if(A){var ze=h.y1+N+(m?p/2*I:0),Pe=h.x1,Ve=h.x2;r.segpts=[Pe,ze,Ve,ze]}else{var Ue=h.x1+N+(m?d/2*I:0),Ge=h.y1,V=h.y2;r.segpts=[Ue,Ge,Ue,V]}if(r.isRound){var ue=e.pstyle("taxi-radius").value,oe=e.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(ue),r.isArcRadius=new Array(r.segpts.length/2).fill(oe)}},xi.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if(r.edgeType==="bezier"){var n=t.srcPos,i=t.tgtPos,a=t.srcW,s=t.srcH,o=t.tgtW,u=t.tgtH,h=t.srcShape,d=t.tgtShape,p=t.srcCornerRadius,f=t.tgtCornerRadius,g=t.srcRs,m=t.tgtRs,y=!lt(r.startX)||!lt(r.startY),v=!lt(r.arrowStartX)||!lt(r.arrowStartY),x=!lt(r.endX)||!lt(r.endY),b=!lt(r.arrowEndX)||!lt(r.arrowEndY),w=3*(this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth),T=lh({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),k=T<w,R=lh({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),C=R<w,E=!1;if(y||v||k){E=!0;var _={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},L=Math.sqrt(_.x*_.x+_.y*_.y),D={x:_.x/L,y:_.y/L},B=Math.max(a,s),S={x:r.ctrlpts[0]+2*D.x*B,y:r.ctrlpts[1]+2*D.y*B},N=h.intersectLine(n.x,n.y,a,s,S.x,S.y,0,p,g);k?(r.ctrlpts[0]=r.ctrlpts[0]+D.x*(w-T),r.ctrlpts[1]=r.ctrlpts[1]+D.y*(w-T)):(r.ctrlpts[0]=N[0]+D.x*w,r.ctrlpts[1]=N[1]+D.y*w)}if(x||b||C){E=!0;var A={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},M=Math.sqrt(A.x*A.x+A.y*A.y),O={x:A.x/M,y:A.y/M},I=Math.max(a,s),P={x:r.ctrlpts[0]+2*O.x*I,y:r.ctrlpts[1]+2*O.y*I},$=d.intersectLine(i.x,i.y,o,u,P.x,P.y,0,f,m);C?(r.ctrlpts[0]=r.ctrlpts[0]+O.x*(w-R),r.ctrlpts[1]=r.ctrlpts[1]+O.y*(w-R)):(r.ctrlpts[0]=$[0]+O.x*w,r.ctrlpts[1]=$[1]+O.y*w)}E&&this.findEndpoints(e)}},xi.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);var n;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2==0?(n=t.allpts.length/2-1,t.midX=t.allpts[n],t.midY=t.allpts[n+1]):(n=t.allpts.length/2-3,t.midX=Yn(t.allpts[n],t.allpts[n+2],t.allpts[n+4],.5),t.midY=Yn(t.allpts[n+1],t.allpts[n+3],t.allpts[n+5],.5))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var i=2;i+3<t.allpts.length;i+=2){var a=t.radii[i/2-1],s=t.isArcRadius[i/2-1];t.roundCorners.push(Sw({x:t.allpts[i-2],y:t.allpts[i-1]},{x:t.allpts[i],y:t.allpts[i+1],radius:a},{x:t.allpts[i+2],y:t.allpts[i+3]},a,s))}}if(t.segpts.length%4==0){var o=t.segpts.length/2,u=o-2;t.midX=(t.segpts[u]+t.segpts[o])/2,t.midY=(t.segpts[u+1]+t.segpts[o+1])/2}else{var h=t.segpts.length/2-1;if(t.isRound){var d={x:t.segpts[h],y:t.segpts[h+1]},p=t.roundCorners[h/2],f=[d.x-p.cx,d.y-p.cy],g=p.radius/Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2));f=f.map(function(m){return m*g}),t.midX=p.cx+f[0],t.midY=p.cy+f[1],t.midVector=f}else t.midX=t.segpts[h],t.midY=t.segpts[h+1]}}},xi.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||lt(t.startX)&&lt(t.startY)&&lt(t.endX)&&lt(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,kr("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},xi.findEdgeControlPoints=function(e){var t=this;if(e&&e.length!==0){for(var r=this,n=r.cy.hasCompoundNodes(),i={map:new ro,get:l(function(w){var T=this.map.get(w[0]);return T!=null?T.get(w[1]):null},"get"),set:l(function(w,T){var k=this.map.get(w[0]);k==null&&(k=new ro,this.map.set(w[0],k)),k.set(w[1],T)},"set")},a=[],s=[],o=0;o<e.length;o++){var u=e[o],h=u._private,d=u.pstyle("curve-style").value;if(!u.removed()&&u.takesUpSpace())if(d!=="haystack"){var p=d==="unbundled-bezier"||d.endsWith("segments")||d==="straight"||d==="straight-triangle"||d.endsWith("taxi"),f=d==="unbundled-bezier"||d==="bezier",g=h.source,m=h.target,y=[g.poolIndex(),m.poolIndex()].sort(),v=i.get(y);v==null&&(v={eles:[]},i.set(y,v),a.push(y)),v.eles.push(u),p&&(v.hasUnbundled=!0),f&&(v.hasBezier=!0)}else s.push(u)}for(var x=l(function(w){var T=a[w],k=i.get(T),R=void 0;if(!k.hasUnbundled){var C=k.eles[0].parallelEdges().filter(function(Ge){return Ge.isBundledBezier()});PC(k.eles),C.forEach(function(Ge){return k.eles.push(Ge)}),k.eles.sort(function(Ge,V){return Ge.poolIndex()-V.poolIndex()})}var E=k.eles[0],_=E.source(),L=E.target();if(_.poolIndex()>L.poolIndex()){var D=_;_=L,L=D}var B=k.srcPos=_.position(),S=k.tgtPos=L.position(),N=k.srcW=_.outerWidth(),A=k.srcH=_.outerHeight(),M=k.tgtW=L.outerWidth(),O=k.tgtH=L.outerHeight(),I=k.srcShape=r.nodeShapes[t.getNodeShape(_)],P=k.tgtShape=r.nodeShapes[t.getNodeShape(L)],$=k.srcCornerRadius=_.pstyle("corner-radius").value==="auto"?"auto":_.pstyle("corner-radius").pfValue,z=k.tgtCornerRadius=L.pstyle("corner-radius").value==="auto"?"auto":L.pstyle("corner-radius").pfValue,G=k.tgtRs=L._private.rscratch,q=k.srcRs=_._private.rscratch;k.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var J=0;J<k.eles.length;J++){var ie=k.eles[J],te=ie[0]._private.rscratch,W=ie.pstyle("curve-style").value,H=W==="unbundled-bezier"||W.endsWith("segments")||W.endsWith("taxi"),X=!_.same(ie.source());if(!k.calculatedIntersection&&_!==L&&(k.hasBezier||k.hasUnbundled)){k.calculatedIntersection=!0;var Q=I.intersectLine(B.x,B.y,N,A,S.x,S.y,0,$,q),ne=k.srcIntn=Q,ee=P.intersectLine(S.x,S.y,M,O,B.x,B.y,0,z,G),pe=k.tgtIntn=ee,j=k.intersectionPts={x1:Q[0],x2:ee[0],y1:Q[1],y2:ee[1]},ce=k.posPts={x1:B.x,x2:S.x,y1:B.y,y2:S.y},le=ee[1]-Q[1],Ae=ee[0]-Q[0],Se=Math.sqrt(Ae*Ae+le*le),ze=k.vector={x:Ae,y:le},Pe=k.vectorNorm={x:ze.x/Se,y:ze.y/Se},Ve={x:-Pe.y,y:Pe.x};k.nodesOverlap=!lt(Se)||P.checkPoint(Q[0],Q[1],0,M,O,S.x,S.y,z,G)||I.checkPoint(ee[0],ee[1],0,N,A,B.x,B.y,$,q),k.vectorNormInverse=Ve,R={nodesOverlap:k.nodesOverlap,dirCounts:k.dirCounts,calculatedIntersection:!0,hasBezier:k.hasBezier,hasUnbundled:k.hasUnbundled,eles:k.eles,srcPos:S,tgtPos:B,srcW:M,srcH:O,tgtW:N,tgtH:A,srcIntn:pe,tgtIntn:ne,srcShape:P,tgtShape:I,posPts:{x1:ce.x2,y1:ce.y2,x2:ce.x1,y2:ce.y1},intersectionPts:{x1:j.x2,y1:j.y2,x2:j.x1,y2:j.y1},vector:{x:-ze.x,y:-ze.y},vectorNorm:{x:-Pe.x,y:-Pe.y},vectorNormInverse:{x:-Ve.x,y:-Ve.y}}}var Ue=X?R:k;te.nodesOverlap=Ue.nodesOverlap,te.srcIntn=Ue.srcIntn,te.tgtIntn=Ue.tgtIntn,te.isRound=W.startsWith("round"),n&&(_.isParent()||_.isChild()||L.isParent()||L.isChild())&&(_.parents().anySame(L)||L.parents().anySame(_)||_.same(L)&&_.isParent())?t.findCompoundLoopPoints(ie,Ue,J,H):_===L?t.findLoopPoints(ie,Ue,J,H):W.endsWith("segments")?t.findSegmentsPoints(ie,Ue):W.endsWith("taxi")?t.findTaxiPoints(ie,Ue):W==="straight"||!H&&k.eles.length%2==1&&J===Math.floor(k.eles.length/2)?t.findStraightEdgePoints(ie):t.findBezierPoints(ie,Ue,J,H,X),t.findEndpoints(ie),t.tryToCorrectInvalidPoints(ie,Ue),t.checkForInvalidEdgeWarning(ie),t.storeAllpts(ie),t.storeEdgeProjections(ie),t.calculateArrowAngles(ie),t.recalculateEdgeLabelProjections(ie),t.calculateLabelAngles(ie)}},"_loop"),b=0;b<a.length;b++)x(b);this.findHaystackPoints(s)}},l(rT,"getPts"),xi.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if(t.edgeType==="segments")return this.recalculateRenderedStyle(e),rT(t.segpts)},xi.getControlPoints=function(e){var t=e[0]._private.rscratch,r=t.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return this.recalculateRenderedStyle(e),rT(t.ctrlpts)},xi.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var i1e={manualEndptToPx:function(e,t){var r=e.position(),n=e.outerWidth(),i=e.outerHeight(),a=e._private.rscratch;if(t.value.length===2){var s=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(s[0]=s[0]*n),t.units[1]==="%"&&(s[1]=s[1]*i),s[0]+=r.x,s[1]+=r.y,s}var o=t.pfValue[0];o=-Math.PI/2+o;var u=2*Math.max(n,i),h=[r.x+Math.cos(o)*u,r.y+Math.sin(o)*u];return this.nodeShapes[this.getNodeShape(e)].intersectLine(r.x,r.y,n,i,h[0],h[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,a)},findEndpoints:function(e){var t,r,n,i,a,s=this,o=e.source()[0],u=e.target()[0],h=o.position(),d=u.position(),p=e.pstyle("target-arrow-shape").value,f=e.pstyle("source-arrow-shape").value,g=e.pstyle("target-distance-from-node").pfValue,m=e.pstyle("source-distance-from-node").pfValue,y=o._private.rscratch,v=u._private.rscratch,x=e.pstyle("curve-style").value,b=e._private.rscratch,w=b.edgeType,T=w==="self"||w==="compound",k=w==="bezier"||w==="multibezier"||T,R=w!=="bezier",C=w==="straight"||w==="segments",E=w==="segments",_=k||R||C,L=T||x==="taxi",D=e.pstyle("source-endpoint"),B=L?"outside-to-node":D.value,S=o.pstyle("corner-radius").value==="auto"?"auto":o.pstyle("corner-radius").pfValue,N=e.pstyle("target-endpoint"),A=L?"outside-to-node":N.value,M=u.pstyle("corner-radius").value==="auto"?"auto":u.pstyle("corner-radius").pfValue;if(b.srcManEndpt=D,b.tgtManEndpt=N,k){var O=[b.ctrlpts[0],b.ctrlpts[1]];r=R?[b.ctrlpts[b.ctrlpts.length-2],b.ctrlpts[b.ctrlpts.length-1]]:O,n=O}else if(C){var I=E?b.segpts.slice(0,2):[d.x,d.y];r=E?b.segpts.slice(b.segpts.length-2):[h.x,h.y],n=I}if(A==="inside-to-node")t=[d.x,d.y];else if(N.units)t=this.manualEndptToPx(u,N);else if(A==="outside-to-line")t=b.tgtIntn;else if(A==="outside-to-node"||A==="outside-to-node-or-label"?i=r:A!=="outside-to-line"&&A!=="outside-to-line-or-label"||(i=[h.x,h.y]),t=s.nodeShapes[this.getNodeShape(u)].intersectLine(d.x,d.y,u.outerWidth(),u.outerHeight(),i[0],i[1],0,M,v),A==="outside-to-node-or-label"||A==="outside-to-line-or-label"){var P=u._private.rscratch,$=P.labelWidth,z=P.labelHeight,G=P.labelX,q=P.labelY,J=$/2,ie=z/2,te=u.pstyle("text-valign").value;te==="top"?q-=ie:te==="bottom"&&(q+=ie);var W=u.pstyle("text-halign").value;W==="left"?G-=J:W==="right"&&(G+=J);var H=ly(i[0],i[1],[G-J,q-ie,G+J,q-ie,G+J,q+ie,G-J,q+ie],d.x,d.y);if(H.length>0){var X=h,Q=Yc(X,od(t)),ne=Yc(X,od(H)),ee=Q;ne<Q&&(t=H,ee=ne),H.length>2&&Yc(X,{x:H[2],y:H[3]})<ee&&(t=[H[2],H[3]])}}var pe=Qv(t,r,s.arrowShapes[p].spacing(e)+g),j=Qv(t,r,s.arrowShapes[p].gap(e)+g);if(b.endX=j[0],b.endY=j[1],b.arrowEndX=pe[0],b.arrowEndY=pe[1],B==="inside-to-node")t=[h.x,h.y];else if(D.units)t=this.manualEndptToPx(o,D);else if(B==="outside-to-line")t=b.srcIntn;else if(B==="outside-to-node"||B==="outside-to-node-or-label"?a=n:B!=="outside-to-line"&&B!=="outside-to-line-or-label"||(a=[d.x,d.y]),t=s.nodeShapes[this.getNodeShape(o)].intersectLine(h.x,h.y,o.outerWidth(),o.outerHeight(),a[0],a[1],0,S,y),B==="outside-to-node-or-label"||B==="outside-to-line-or-label"){var ce=o._private.rscratch,le=ce.labelWidth,Ae=ce.labelHeight,Se=ce.labelX,ze=ce.labelY,Pe=le/2,Ve=Ae/2,Ue=o.pstyle("text-valign").value;Ue==="top"?ze-=Ve:Ue==="bottom"&&(ze+=Ve);var Ge=o.pstyle("text-halign").value;Ge==="left"?Se-=Pe:Ge==="right"&&(Se+=Pe);var V=ly(a[0],a[1],[Se-Pe,ze-Ve,Se+Pe,ze-Ve,Se+Pe,ze+Ve,Se-Pe,ze+Ve],h.x,h.y);if(V.length>0){var ue=d,oe=Yc(ue,od(t)),we=Yc(ue,od(V)),K=oe;we<oe&&(t=[V[0],V[1]],K=we),V.length>2&&Yc(ue,{x:V[2],y:V[3]})<K&&(t=[V[2],V[3]])}}var ve=Qv(t,n,s.arrowShapes[f].spacing(e)+m),Y=Qv(t,n,s.arrowShapes[f].gap(e)+m);b.startX=Y[0],b.startY=Y[1],b.arrowStartX=ve[0],b.arrowStartY=ve[1],_&&(lt(b.startX)&&lt(b.startY)&&lt(b.endX)&&lt(b.endY)?b.badLine=!1:b.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),t.edgeType==="haystack"?{x:t.haystackPts[0],y:t.haystackPts[1]}:{x:t.arrowStartX,y:t.arrowStartY}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),t.edgeType==="haystack"?{x:t.haystackPts[2],y:t.haystackPts[3]}:{x:t.arrowEndX,y:t.arrowEndY}}},hS={};function cB(e,t,r){for(var n=l(function(o,u,h,d){return Yn(o,u,h,d)},"qbezierAt$1"),i=t._private.rstyle.bezierPts,a=0;a<e.bezierProjPcts.length;a++){var s=e.bezierProjPcts[a];i.push({x:n(r[0],r[2],r[4],s),y:n(r[1],r[3],r[5],s)})}}l(cB,"pushBezierPts"),hS.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,n=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){t.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)cB(this,e,r.allpts.slice(i,i+6))}else if(n==="segments"){var a=t.rstyle.linePts=[];for(i=0;i+1<r.allpts.length;i+=2)a.push({x:r.allpts[i],y:r.allpts[i+1]})}else if(n==="haystack"){var s=r.haystackPts;t.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},hS.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var Eo={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!uc(t)){var r,n,i=e._private,a=e.width(),s=e.height(),o=e.padding(),u=e.position(),h=e.pstyle("text-halign").strValue,d=e.pstyle("text-valign").strValue,p=i.rscratch,f=i.rstyle;switch(h){case"left":r=u.x-a/2-o;break;case"right":r=u.x+a/2+o;break;default:r=u.x}switch(d){case"top":n=u.y-s/2-o;break;case"bottom":n=u.y+s/2+o;break;default:n=u.y}p.labelX=r,p.labelY=n,f.labelX=r,f.labelY=n,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}}},ole=l(function(e,t){var r=Math.atan(t/e);return e===0&&r<0&&(r*=-1),r},"lineAngleFromDelta"),lle=l(function(e,t){var r=t.x-e.x,n=t.y-e.y;return ole(r,n)},"lineAngle"),a1e=l(function(e,t,r,n){var i=u2(0,n-.001,1),a=u2(0,n+.001,1),s=kd(e,t,r,i),o=kd(e,t,r,a);return lle(s,o)},"bezierAngle");Eo.recalculateEdgeLabelProjections=function(e){var t,r=e._private,n=r.rscratch,i=this,a={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(a.mid||a.source||a.target){t={x:n.midX,y:n.midY};var s=l(function(d,p,f){yl(r.rscratch,d,p,f),yl(r.rstyle,d,p,f)},"setRs");s("labelX",null,t.x),s("labelY",null,t.y);var o=ole(n.midDispX,n.midDispY);s("labelAutoAngle",null,o);var u=l(function d(){if(d.cache)return d.cache;for(var p=[],f=0;f+5<n.allpts.length;f+=4){var g={x:n.allpts[f],y:n.allpts[f+1]},m={x:n.allpts[f+2],y:n.allpts[f+3]},y={x:n.allpts[f+4],y:n.allpts[f+5]};p.push({p0:g,p1:m,p2:y,startDist:0,length:0,segments:[]})}var v=r.rstyle.bezierPts,x=i.bezierProjPcts.length;function b(C,E,_,L,D){var B=lh(E,_),S=C.segments[C.segments.length-1],N={p0:E,p1:_,t0:L,t1:D,startDist:S?S.startDist+S.length:0,length:B};C.segments.push(N),C.length+=B}l(b,"addSegment");for(var w=0;w<p.length;w++){var T=p[w],k=p[w-1];k&&(T.startDist=k.startDist+k.length),b(T,T.p0,v[w*x],0,i.bezierProjPcts[0]);for(var R=0;R<x-1;R++)b(T,v[w*x+R],v[w*x+R+1],i.bezierProjPcts[R],i.bezierProjPcts[R+1]);b(T,v[w*x+x-1],T.p2,i.bezierProjPcts[x-1],1)}return d.cache=p},"createControlPointInfo"),h=l(function(d){var p,f=d==="source";if(a[d]){var g=e.pstyle(d+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var m,y=u(),v=0,x=0,b=0;b<y.length;b++){for(var w=y[f?b:y.length-1-b],T=0;T<w.segments.length;T++){var k=w.segments[f?T:w.segments.length-1-T],R=b===y.length-1&&T===w.segments.length-1;if(v=x,(x+=k.length)>=g||R){m={cp:w,segment:k};break}}if(m)break}var C=m.cp,E=m.segment,_=(g-v)/E.length,L=E.t1-E.t0,D=f?E.t0+L*_:E.t1-L*_;D=u2(0,D,1),t=kd(C.p0,C.p1,C.p2,D),p=a1e(C.p0,C.p1,C.p2,D);break;case"straight":case"segments":case"haystack":for(var B,S,N,A,M=0,O=n.allpts.length,I=0;I+3<O&&(f?(N={x:n.allpts[I],y:n.allpts[I+1]},A={x:n.allpts[I+2],y:n.allpts[I+3]}):(N={x:n.allpts[O-2-I],y:n.allpts[O-1-I]},A={x:n.allpts[O-4-I],y:n.allpts[O-3-I]}),S=M,!((M+=B=lh(N,A))>=g));I+=2);var P=(g-S)/B;P=u2(0,P,1),t=CCe(N,A,P),p=lle(N,A)}s("labelX",d,t.x),s("labelY",d,t.y),s("labelAutoAngle",d,p)}},"calculateEndProjection");h("source"),h("target"),this.applyLabelDimensions(e)}},Eo.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},Eo.applyPrefixedLabelDimensions=function(e,t){var r=e._private,n=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,n),a=e.pstyle("line-height").pfValue,s=e.pstyle("text-wrap").strValue,o=xs(r.rscratch,"labelWrapCachedLines",t)||[],u=s!=="wrap"?1:Math.max(o.length,1),h=i.height/u,d=h*a,p=i.width,f=i.height+(u-1)*(a-1)*h;yl(r.rstyle,"labelWidth",t,p),yl(r.rscratch,"labelWidth",t,p),yl(r.rstyle,"labelHeight",t,f),yl(r.rscratch,"labelHeight",t,f),yl(r.rscratch,"labelLineHeight",t,d)},Eo.getLabelText=function(e,t){var r=e._private,n=t?t+"-":"",i=e.pstyle(n+"label").strValue,a=e.pstyle("text-transform").value,s=l(function(N,A){return A?(yl(r.rscratch,N,t,A),A):xs(r.rscratch,N,t)},"rscratch");if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var o=e.pstyle("text-wrap").value;if(o==="wrap"){var u=s("labelKey");if(u!=null&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var h=i.split(`
`),d=e.pstyle("text-max-width").pfValue,p=e.pstyle("text-overflow-wrap").value==="anywhere",f=[],g=/[\s\u200b]+|$/g,m=0;m<h.length;m++){var y=h[m],v=this.calculateLabelDimensions(e,y).width;if(p){var x=y.split("").join("");y=x}if(v>d){var b,w="",T=0,k=UN(y.matchAll(g));try{for(k.s();!(b=k.n()).done;){var R=b.value,C=R[0],E=y.substring(T,R.index);T=R.index+C.length;var _=w.length===0?E:w+E+C;this.calculateLabelDimensions(e,_).width<=d?w+=E+C:(w&&f.push(w),w=E+C)}}catch(N){k.e(N)}finally{k.f()}w.match(/^[\s\u200b]+$/)||f.push(w)}else f.push(y)}s("labelWrapCachedLines",f),i=s("labelWrapCachedText",f.join(`
`)),s("labelWrapKey",u)}else if(o==="ellipsis"){var L=e.pstyle("text-max-width").pfValue,D="",B=!1;if(this.calculateLabelDimensions(e,i).width<L)return i;for(var S=0;S<i.length&&!(this.calculateLabelDimensions(e,D+i[S]+"").width>L);S++)D+=i[S],S===i.length-1&&(B=!0);return B||(D+=""),D}return i},Eo.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if(t!=="auto")return t;if(!e.isNode())return"center";switch(r){case"left":return"right";case"right":return"left";default:return"center"}},Eo.calculateLabelDimensions=function(e,t){var r=this,n=r.cy.window().document,i=oh(t,e._private.labelDimsKey),a=r.labelDimCache||(r.labelDimCache=[]),s=a[i];if(s!=null)return s;var o=e.pstyle("font-style").strValue,u=e.pstyle("font-size").pfValue,h=e.pstyle("font-family").strValue,d=e.pstyle("font-weight").strValue,p=this.labelCalcCanvas,f=this.labelCalcCanvasContext;if(!p){p=this.labelCalcCanvas=n.createElement("canvas"),f=this.labelCalcCanvasContext=p.getContext("2d");var g=p.style;g.position="absolute",g.left="-9999px",g.top="-9999px",g.zIndex="-1",g.visibility="hidden",g.pointerEvents="none"}f.font="".concat(o," ").concat(d," ").concat(u,"px ").concat(h);for(var m=0,y=0,v=t.split(`
`),x=0;x<v.length;x++){var b=v[x],w=f.measureText(b),T=Math.ceil(w.width),k=u;m=Math.max(T,m),y+=k}return m+=0,y+=0,a[i]={width:m,height:y}},Eo.calculateLabelAngle=function(e,t){var r=e._private.rscratch,n=e.isEdge(),i=t?t+"-":"",a=e.pstyle(i+"text-rotation"),s=a.strValue;return s==="none"?0:n&&s==="autorotate"?r.labelAutoAngle:s==="autorotate"?0:a.pfValue},Eo.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),n=e._private.rscratch;n.labelAngle=t.calculateLabelAngle(e),r&&(n.sourceLabelAngle=t.calculateLabelAngle(e,"source"),n.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var cle={},uB=!1;cle.getNodeShape=function(e){var t=e.pstyle("shape").value;if(t==="cutrectangle"&&(e.width()<28||e.height()<28))return uB||(kr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),uB=!0),"rectangle";if(e.isParent())return t==="rectangle"||t==="roundrectangle"||t==="round-rectangle"||t==="cutrectangle"||t==="cut-rectangle"||t==="barrel"?t:"rectangle";if(t==="polygon"){var r=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(r).name}return t};var s1e={registerCalculationListeners:function(){var e=this.cy,t=e.collection(),r=this,n=l(function(a){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(t.merge(a),s)for(var o=0;o<a.length;o++){var u=a[o],h=u._private,d=h.rstyle;d.clean=!1,d.cleanConnected=!1}},"enqueue");r.binder(e).on("bounds.* dirty.*",l(function(a){var s=a.target;n(s)},"onDirtyBounds")).on("style.* background.*",l(function(a){var s=a.target;n(s,!1)},"onDirtyStyle"));var i=l(function(a){if(a){var s=r.onUpdateEleCalcsFns;t.cleanStyle();for(var o=0;o<t.length;o++){var u=t[o],h=u._private.rstyle;u.isNode()&&!h.cleanConnected&&(n(u.connectedEdges()),h.cleanConnected=!0)}if(s)for(var d=0;d<s.length;d++)(0,s[d])(a,t);r.recalculateRenderedStyle(t),t=e.collection()}},"updateEleCalcs");r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var r=l(function(x){return x._private.rstyle.cleanConnected},"isCleanConnected"),n=[],i=[];if(!this.destroyed){t===void 0&&(t=!0);for(var a=0;a<e.length;a++){var s=e[a],o=s._private,u=o.rstyle;!s.isEdge()||r(s.source())&&r(s.target())||(u.clean=!1),t&&u.clean||s.removed()||s.pstyle("display").value!=="none"&&(o.group==="nodes"?i.push(s):n.push(s),u.clean=!0)}for(var h=0;h<i.length;h++){var d=i[h],p=d._private.rstyle,f=d.position();this.recalculateNodeLabelProjection(d),p.nodeX=f.x,p.nodeY=f.y,p.nodeW=d.pstyle("width").pfValue,p.nodeH=d.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var g=0;g<n.length;g++){var m=n[g]._private,y=m.rstyle,v=m.rscratch;y.srcX=v.arrowStartX,y.srcY=v.arrowStartY,y.tgtX=v.arrowEndX,y.tgtY=v.arrowEndY,y.midX=v.midX,y.midY=v.midY,y.labelAngle=v.labelAngle,y.sourceLabelAngle=v.sourceLabelAngle,y.targetLabelAngle=v.targetLabelAngle}}}},o1e={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var n=(i=e[r])._private.rscratch;i.grabbed()&&!i.isParent()?t.push(i):n.inDragLayer?e.drag.push(i):e.nondrag.push(i)}for(r=0;r<t.length;r++){var i=t[r];e.drag.push(i)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(Joe),t.interactive=t.filter(function(r){return r.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}},ule={};[t1e,xb,xi,i1e,hS,Eo,cle,s1e,o1e].forEach(function(e){$t(ule,e)});var l1e={getCachedImage:function(e,t,r){var n=this.imageCache=this.imageCache||{},i=n[e];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;var a=(i=n[e]=n[e]||{}).image=new Image;a.addEventListener("load",r),a.addEventListener("error",function(){a.error=!0});var s="data:";return e.substring(0,s.length).toLowerCase()===s||(t=t==="null"?null:t,a.crossOrigin=t),a.src=e,a}},c1e={registerBinding:function(e,t,r,n){var i=Array.prototype.slice.apply(arguments,[1]),a=this.binder(e);return a.on.apply(a,i)},binder:function(e){var t=this,r=t.cy.window(),n=e===r||e===r.document||e===r.document.body||bEe(e);if(t.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:l(function(){return i=!0,!0},"get")});r.addEventListener("test",null,a)}catch{}t.supportsPassiveEvents=i}var s=l(function(o,u,h){var d=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(d[2]={capture:h!=null&&h,passive:!1,once:!1}),t.bindings.push({target:e,args:d}),(e.addEventListener||e.on).apply(e,d),this},"on");return{on:s,addEventListener:s,addListener:s,bind:s}},nodeIsDraggable:function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},nodeIsGrabbable:function(e){return this.nodeIsDraggable(e)&&e.interactive()},load:function(){var e=this,t=e.cy.window(),r=l(function(V){return V.selected()},"isSelected"),n=l(function(V,ue,oe,we){V==null&&(V=e.cy);for(var K=0;K<ue.length;K++){var ve=ue[K];V.emit({originalEvent:oe,type:ve,position:we})}},"triggerEvents"),i=l(function(V){return V.shiftKey||V.metaKey||V.ctrlKey},"isMultSelKeyDown"),a=l(function(V,ue){var oe=!0;if(e.cy.hasCompoundNodes()&&V&&V.pannable()){for(var we=0;ue&&we<ue.length;we++)if((V=ue[we]).isNode()&&V.isParent()&&!V.pannable()){oe=!1;break}}else oe=!0;return oe},"allowPanningPassthrough"),s=l(function(V){V[0]._private.grabbed=!0},"setGrabbed"),o=l(function(V){V[0]._private.grabbed=!1},"setFreed"),u=l(function(V){V[0]._private.rscratch.inDragLayer=!0},"setInDragLayer"),h=l(function(V){V[0]._private.rscratch.inDragLayer=!1},"setOutDragLayer"),d=l(function(V){V[0]._private.rscratch.isGrabTarget=!0},"setGrabTarget"),p=l(function(V){V[0]._private.rscratch.isGrabTarget=!1},"removeGrabTarget"),f=l(function(V,ue){var oe=ue.addToList;oe.has(V)||!V.grabbable()||V.locked()||(oe.merge(V),s(V))},"addToDragList"),g=l(function(V,ue){if(V.cy().hasCompoundNodes()&&(ue.inDragLayer!=null||ue.addToList!=null)){var oe=V.descendants();ue.inDragLayer&&(oe.forEach(u),oe.connectedEdges().forEach(u)),ue.addToList&&f(oe,ue)}},"addDescendantsToDrag"),m=l(function(V,ue){ue=ue||{};var oe=V.cy().hasCompoundNodes();ue.inDragLayer&&(V.forEach(u),V.neighborhood().stdFilter(function(we){return!oe||we.isEdge()}).forEach(u)),ue.addToList&&V.forEach(function(we){f(we,ue)}),g(V,ue),x(V,{inDragLayer:ue.inDragLayer}),e.updateCachedGrabbedEles()},"addNodesToDrag"),y=m,v=l(function(V){V&&(e.getCachedZSortedEles().forEach(function(ue){o(ue),h(ue),p(ue)}),e.updateCachedGrabbedEles())},"freeDraggedElements"),x=l(function(V,ue){if((ue.inDragLayer!=null||ue.addToList!=null)&&V.cy().hasCompoundNodes()){var oe=V.ancestors().orphans();if(!oe.same(V)){var we=oe.descendants().spawnSelf().merge(oe).unmerge(V).unmerge(V.descendants()),K=we.connectedEdges();ue.inDragLayer&&(K.forEach(u),we.forEach(u)),ue.addToList&&we.forEach(function(ve){f(ve,ue)})}}},"updateAncestorsInDragLayer"),b=l(function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},"blurActiveDomElement"),w=typeof MutationObserver<"u",T=typeof ResizeObserver<"u";w?(e.removeObserver=new MutationObserver(function(V){for(var ue=0;ue<V.length;ue++){var oe=V[ue].removedNodes;if(oe){for(var we=0;we<oe.length;we++)if(oe[we]===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(V){e.destroy()});var k=xw(function(){e.cy.resize()},100);w&&(e.styleObserver=new MutationObserver(k),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",k),T&&(e.resizeObserver=new ResizeObserver(k),e.resizeObserver.observe(e.container));var R=l(function(V,ue){for(;V!=null;)ue(V),V=V.parentNode},"forEachUp"),C=l(function(){e.invalidateContainerClientCoordsCache()},"invalidateCoords");R(e.container,function(V){e.registerBinding(V,"transitionend",C),e.registerBinding(V,"animationend",C),e.registerBinding(V,"scroll",C)}),e.registerBinding(e.container,"contextmenu",function(V){V.preventDefault()});var E,_,L,D=l(function(){return e.selection[4]!==0},"inBoxSelection"),B=l(function(V){for(var ue=e.findContainerClientCoords(),oe=ue[0],we=ue[1],K=ue[2],ve=ue[3],Y=V.touches?V.touches:[V],he=!1,se=0;se<Y.length;se++){var be=Y[se];if(oe<=be.clientX&&be.clientX<=oe+K&&we<=be.clientY&&be.clientY<=we+ve){he=!0;break}}if(!he)return!1;for(var Te=e.container,_e=V.target.parentNode,Re=!1;_e;){if(_e===Te){Re=!0;break}_e=_e.parentNode}return!!Re},"eventInContainer");e.registerBinding(e.container,"mousedown",l(function(V){if(B(V)&&(e.hoverData.which!==1||V.which===1)){V.preventDefault(),b(),e.hoverData.capture=!0,e.hoverData.which=V.which;var ue=e.cy,oe=[V.clientX,V.clientY],we=e.projectIntoViewport(oe[0],oe[1]),K=e.selection,ve=e.findNearestElements(we[0],we[1],!0,!1),Y=ve[0],he=e.dragData.possibleDragElements;e.hoverData.mdownPos=we,e.hoverData.mdownGPos=oe;var se=l(function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var ke=e.hoverData.down;ke?ke.emit({originalEvent:V,type:"taphold",position:{x:we[0],y:we[1]}}):ue.emit({originalEvent:V,type:"taphold",position:{x:we[0],y:we[1]}})}},e.tapholdDuration)},"checkForTaphold");if(V.which==3){e.hoverData.cxtStarted=!0;var be={originalEvent:V,type:"cxttapstart",position:{x:we[0],y:we[1]}};Y?(Y.activate(),Y.emit(be),e.hoverData.down=Y):ue.emit(be),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(V.which==1){if(Y&&Y.activate(),Y!=null&&e.nodeIsGrabbable(Y)){var Te=l(function(ke){return{originalEvent:V,type:ke,position:{x:we[0],y:we[1]}}},"makeEvent"),_e=l(function(ke){ke.emit(Te("grab"))},"triggerGrab");if(d(Y),Y.selected()){he=e.dragData.possibleDragElements=ue.collection();var Re=ue.$(function(ke){return ke.isNode()&&ke.selected()&&e.nodeIsGrabbable(ke)});m(Re,{addToList:he}),Y.emit(Te("grabon")),Re.forEach(_e)}else he=e.dragData.possibleDragElements=ue.collection(),y(Y,{addToList:he}),Y.emit(Te("grabon")).emit(Te("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=Y,e.hoverData.downs=ve,e.hoverData.downTime=new Date().getTime(),n(Y,["mousedown","tapstart","vmousedown"],V,{x:we[0],y:we[1]}),Y==null?(K[4]=1,e.data.bgActivePosistion={x:we[0],y:we[1]},e.redrawHint("select",!0),e.redraw()):Y.pannable()&&(K[4]=1),se()}K[0]=K[2]=we[0],K[1]=K[3]=we[1]}},"mousedownHandler"),!1),e.registerBinding(t,"mousemove",l(function(V){if(e.hoverData.capture||B(V)){var ue=!1,oe=e.cy,we=oe.zoom(),K=[V.clientX,V.clientY],ve=e.projectIntoViewport(K[0],K[1]),Y=e.hoverData.mdownPos,he=e.hoverData.mdownGPos,se=e.selection,be=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(be=e.findNearestElement(ve[0],ve[1],!0,!1));var Te,_e=e.hoverData.last,Re=e.hoverData.down,ke=[ve[0]-se[2],ve[1]-se[3]],Be=e.dragData.possibleDragElements;if(he){var Oe=K[0]-he[0],ft=Oe*Oe,Et=K[1]-he[1],Ye=ft+Et*Et;e.hoverData.isOverThresholdDrag=Te=Ye>=e.desktopTapThreshold2}var bt=i(V);Te&&(e.hoverData.tapholdCancelled=!0);var at=l(function(){var Xe=e.hoverData.dragDelta=e.hoverData.dragDelta||[];Xe.length===0?(Xe.push(ke[0]),Xe.push(ke[1])):(Xe[0]+=ke[0],Xe[1]+=ke[1])},"updateDragDelta");ue=!0,n(be,["mousemove","vmousemove","tapdrag"],V,{x:ve[0],y:ve[1]});var De=l(function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||oe.emit({originalEvent:V,type:"boxstart",position:{x:ve[0],y:ve[1]}}),se[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()},"goIntoBoxMode");if(e.hoverData.which===3){if(Te){var rt={originalEvent:V,type:"cxtdrag",position:{x:ve[0],y:ve[1]}};Re?Re.emit(rt):oe.emit(rt),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&be===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:V,type:"cxtdragout",position:{x:ve[0],y:ve[1]}}),e.hoverData.cxtOver=be,be&&be.emit({originalEvent:V,type:"cxtdragover",position:{x:ve[0],y:ve[1]}}))}}else if(e.hoverData.dragging){if(ue=!0,oe.panningEnabled()&&oe.userPanningEnabled()){var Je;if(e.hoverData.justStartedPan){var Ze=e.hoverData.mdownPos;Je={x:(ve[0]-Ze[0])*we,y:(ve[1]-Ze[1])*we},e.hoverData.justStartedPan=!1}else Je={x:ke[0]*we,y:ke[1]*we};oe.panBy(Je),oe.emit("dragpan"),e.hoverData.dragged=!0}ve=e.projectIntoViewport(V.clientX,V.clientY)}else if(se[4]!=1||Re!=null&&!Re.pannable()){if(Re&&Re.pannable()&&Re.active()&&Re.unactivate(),Re&&Re.grabbed()||be==_e||(_e&&n(_e,["mouseout","tapdragout"],V,{x:ve[0],y:ve[1]}),be&&n(be,["mouseover","tapdragover"],V,{x:ve[0],y:ve[1]}),e.hoverData.last=be),Re)if(Te){if(oe.boxSelectionEnabled()&&bt)Re&&Re.grabbed()&&(v(Be),Re.emit("freeon"),Be.emit("free"),e.dragData.didDrag&&(Re.emit("dragfreeon"),Be.emit("dragfree"))),De();else if(Re&&Re.grabbed()&&e.nodeIsDraggable(Re)){var ht=!e.dragData.didDrag;ht&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||m(Be,{inDragLayer:!0});var mt={x:0,y:0};if(lt(ke[0])&&lt(ke[1])&&(mt.x+=ke[0],mt.y+=ke[1],ht)){var yt=e.hoverData.dragDelta;yt&&lt(yt[0])&&lt(yt[1])&&(mt.x+=yt[0],mt.y+=yt[1])}e.hoverData.draggingEles=!0,Be.silentShift(mt).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else at();ue=!0}else Te&&(e.hoverData.dragging||!oe.boxSelectionEnabled()||!bt&&oe.panningEnabled()&&oe.userPanningEnabled()?!e.hoverData.selecting&&oe.panningEnabled()&&oe.userPanningEnabled()&&a(Re,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,se[4]=0,e.data.bgActivePosistion=od(Y),e.redrawHint("select",!0),e.redraw()):De(),Re&&Re.pannable()&&Re.active()&&Re.unactivate());return se[2]=ve[0],se[3]=ve[1],ue?(V.stopPropagation&&V.stopPropagation(),V.preventDefault&&V.preventDefault(),!1):void 0}},"mousemoveHandler"),!1),e.registerBinding(t,"mouseup",l(function(V){if((e.hoverData.which!==1||V.which===1||!e.hoverData.capture)&&e.hoverData.capture){e.hoverData.capture=!1;var ue=e.cy,oe=e.projectIntoViewport(V.clientX,V.clientY),we=e.selection,K=e.findNearestElement(oe[0],oe[1],!0,!1),ve=e.dragData.possibleDragElements,Y=e.hoverData.down,he=i(V);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,Y&&Y.unactivate(),e.hoverData.which===3){var se={originalEvent:V,type:"cxttapend",position:{x:oe[0],y:oe[1]}};if(Y?Y.emit(se):ue.emit(se),!e.hoverData.cxtDragged){var be={originalEvent:V,type:"cxttap",position:{x:oe[0],y:oe[1]}};Y?Y.emit(be):ue.emit(be)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(n(K,["mouseup","tapend","vmouseup"],V,{x:oe[0],y:oe[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||(n(Y,["click","tap","vclick"],V,{x:oe[0],y:oe[1]}),_=!1,V.timeStamp-L<=ue.multiClickDebounceTime()?(E&&clearTimeout(E),_=!0,L=null,n(Y,["dblclick","dbltap","vdblclick"],V,{x:oe[0],y:oe[1]})):(E=setTimeout(function(){_||n(Y,["oneclick","onetap","voneclick"],V,{x:oe[0],y:oe[1]})},ue.multiClickDebounceTime()),L=V.timeStamp)),Y!=null||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||i(V)||(ue.$(r).unselect(["tapunselect"]),ve.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=ve=ue.collection()),K!=Y||e.dragData.didDrag||e.hoverData.selecting||K!=null&&K._private.selectable&&(e.hoverData.dragging||(ue.selectionType()==="additive"||he?K.selected()?K.unselect(["tapunselect"]):K.select(["tapselect"]):he||(ue.$(r).unmerge(K).unselect(["tapunselect"]),K.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var Te=ue.collection(e.getAllInBox(we[0],we[1],we[2],we[3]));e.redrawHint("select",!0),Te.length>0&&e.redrawHint("eles",!0),ue.emit({type:"boxend",originalEvent:V,position:{x:oe[0],y:oe[1]}});var _e=l(function(ke){return ke.selectable()&&!ke.selected()},"eleWouldBeSelected");ue.selectionType()==="additive"||he||ue.$(r).unmerge(Te).unselect(),Te.emit("box").stdFilter(_e).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!we[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var Re=Y&&Y.grabbed();v(ve),Re&&(Y.emit("freeon"),ve.emit("free"),e.dragData.didDrag&&(Y.emit("dragfreeon"),ve.emit("dragfree")))}}we[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}},"mouseupHandler"),!1);var S,N,A,M,O,I,P,$,z,G,q,J,ie,te=l(function(V){if(!e.scrollingPage){var ue=e.cy,oe=ue.zoom(),we=ue.pan(),K=e.projectIntoViewport(V.clientX,V.clientY),ve=[K[0]*oe+we.x,K[1]*oe+we.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||D())V.preventDefault();else if(ue.panningEnabled()&&ue.userPanningEnabled()&&ue.zoomingEnabled()&&ue.userZoomingEnabled()){var Y;V.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150),Y=V.deltaY!=null?V.deltaY/-250:V.wheelDeltaY!=null?V.wheelDeltaY/1e3:V.wheelDelta/1e3,Y*=e.wheelSensitivity,V.deltaMode===1&&(Y*=33);var he=ue.zoom()*Math.pow(10,Y);V.type==="gesturechange"&&(he=e.gestureStartZoom*V.scale),ue.zoom({level:he,renderedPosition:{x:ve[0],y:ve[1]}}),ue.emit(V.type==="gesturechange"?"pinchzoom":"scrollzoom")}}},"wheelHandler");e.registerBinding(e.container,"wheel",te,!0),e.registerBinding(t,"scroll",l(function(V){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},"scrollHandler"),!0),e.registerBinding(e.container,"gesturestart",l(function(V){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||V.preventDefault()},"gestureStartHandler"),!0),e.registerBinding(e.container,"gesturechange",function(V){e.hasTouchStarted||te(V)},!0),e.registerBinding(e.container,"mouseout",l(function(V){var ue=e.projectIntoViewport(V.clientX,V.clientY);e.cy.emit({originalEvent:V,type:"mouseout",position:{x:ue[0],y:ue[1]}})},"mouseOutHandler"),!1),e.registerBinding(e.container,"mouseover",l(function(V){var ue=e.projectIntoViewport(V.clientX,V.clientY);e.cy.emit({originalEvent:V,type:"mouseover",position:{x:ue[0],y:ue[1]}})},"mouseOverHandler"),!1);var W,H,X,Q,ne,ee,pe,j=l(function(V,ue,oe,we){return Math.sqrt((oe-V)*(oe-V)+(we-ue)*(we-ue))},"distance"),ce=l(function(V,ue,oe,we){return(oe-V)*(oe-V)+(we-ue)*(we-ue)},"distanceSq");if(e.registerBinding(e.container,"touchstart",W=l(function(V){if(e.hasTouchStarted=!0,B(V)){b(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var ue=e.cy,oe=e.touchData.now,we=e.touchData.earlier;if(V.touches[0]){var K=e.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);oe[0]=K[0],oe[1]=K[1]}if(V.touches[1]&&(K=e.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY),oe[2]=K[0],oe[3]=K[1]),V.touches[2]&&(K=e.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY),oe[4]=K[0],oe[5]=K[1]),V.touches[1]){e.touchData.singleTouchMoved=!0,v(e.dragData.touchDragEles);var ve=e.findContainerClientCoords();z=ve[0],G=ve[1],q=ve[2],J=ve[3],S=V.touches[0].clientX-z,N=V.touches[0].clientY-G,A=V.touches[1].clientX-z,M=V.touches[1].clientY-G,ie=0<=S&&S<=q&&0<=A&&A<=q&&0<=N&&N<=J&&0<=M&&M<=J;var Y=ue.pan(),he=ue.zoom();if(O=j(S,N,A,M),I=ce(S,N,A,M),$=[((P=[(S+A)/2,(N+M)/2])[0]-Y.x)/he,(P[1]-Y.y)/he],I<4e4&&!V.touches[2]){var se=e.findNearestElement(oe[0],oe[1],!0,!0),be=e.findNearestElement(oe[2],oe[3],!0,!0);return se&&se.isNode()?(se.activate().emit({originalEvent:V,type:"cxttapstart",position:{x:oe[0],y:oe[1]}}),e.touchData.start=se):be&&be.isNode()?(be.activate().emit({originalEvent:V,type:"cxttapstart",position:{x:oe[0],y:oe[1]}}),e.touchData.start=be):ue.emit({originalEvent:V,type:"cxttapstart",position:{x:oe[0],y:oe[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(V.touches[2])ue.boxSelectionEnabled()&&V.preventDefault();else if(!V.touches[1]){if(V.touches[0]){var Te=e.findNearestElements(oe[0],oe[1],!0,!0),_e=Te[0];if(_e!=null&&(_e.activate(),e.touchData.start=_e,e.touchData.starts=Te,e.nodeIsGrabbable(_e))){var Re=e.dragData.touchDragEles=ue.collection(),ke=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),_e.selected()?(ke=ue.$(function(Ye){return Ye.selected()&&e.nodeIsGrabbable(Ye)}),m(ke,{addToList:Re})):y(_e,{addToList:Re}),d(_e);var Be=l(function(Ye){return{originalEvent:V,type:Ye,position:{x:oe[0],y:oe[1]}}},"makeEvent");_e.emit(Be("grabon")),ke?ke.forEach(function(Ye){Ye.emit(Be("grab"))}):_e.emit(Be("grab"))}n(_e,["touchstart","tapstart","vmousedown"],V,{x:oe[0],y:oe[1]}),_e==null&&(e.data.bgActivePosistion={x:K[0],y:K[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved!==!1||e.pinching||e.touchData.selecting||n(e.touchData.start,["taphold"],V,{x:oe[0],y:oe[1]})},e.tapholdDuration)}}if(V.touches.length>=1){for(var Oe=e.touchData.startPosition=[null,null,null,null,null,null],ft=0;ft<oe.length;ft++)Oe[ft]=we[ft]=oe[ft];var Et=V.touches[0];e.touchData.startGPosition=[Et.clientX,Et.clientY]}}},"touchstartHandler"),!1),e.registerBinding(t,"touchmove",H=l(function(V){var ue=e.touchData.capture;if(ue||B(V)){var oe=e.selection,we=e.cy,K=e.touchData.now,ve=e.touchData.earlier,Y=we.zoom();if(V.touches[0]){var he=e.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);K[0]=he[0],K[1]=he[1]}V.touches[1]&&(he=e.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY),K[2]=he[0],K[3]=he[1]),V.touches[2]&&(he=e.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY),K[4]=he[0],K[5]=he[1]);var se,be=e.touchData.startGPosition;if(ue&&V.touches[0]&&be){for(var Te=[],_e=0;_e<K.length;_e++)Te[_e]=K[_e]-ve[_e];var Re=V.touches[0].clientX-be[0],ke=Re*Re,Be=V.touches[0].clientY-be[1];se=ke+Be*Be>=e.touchTapThreshold2}if(ue&&e.touchData.cxt){V.preventDefault();var Oe=V.touches[0].clientX-z,ft=V.touches[0].clientY-G,Et=V.touches[1].clientX-z,Ye=V.touches[1].clientY-G,bt=ce(Oe,ft,Et,Ye);if(bt/I>=2.25||bt>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var at={originalEvent:V,type:"cxttapend",position:{x:K[0],y:K[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(at),e.touchData.start=null):we.emit(at)}}if(ue&&e.touchData.cxt){at={originalEvent:V,type:"cxtdrag",position:{x:K[0],y:K[1]}},e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(at):we.emit(at),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var De=e.findNearestElement(K[0],K[1],!0,!0);e.touchData.cxtOver&&De===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:V,type:"cxtdragout",position:{x:K[0],y:K[1]}}),e.touchData.cxtOver=De,De&&De.emit({originalEvent:V,type:"cxtdragover",position:{x:K[0],y:K[1]}}))}else if(ue&&V.touches[2]&&we.boxSelectionEnabled())V.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||we.emit({originalEvent:V,type:"boxstart",position:{x:K[0],y:K[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,oe[4]=1,oe&&oe.length!==0&&oe[0]!==void 0?(oe[2]=(K[0]+K[2]+K[4])/3,oe[3]=(K[1]+K[3]+K[5])/3):(oe[0]=(K[0]+K[2]+K[4])/3,oe[1]=(K[1]+K[3]+K[5])/3,oe[2]=(K[0]+K[2]+K[4])/3+1,oe[3]=(K[1]+K[3]+K[5])/3+1),e.redrawHint("select",!0),e.redraw();else if(ue&&V.touches[1]&&!e.touchData.didSelect&&we.zoomingEnabled()&&we.panningEnabled()&&we.userZoomingEnabled()&&we.userPanningEnabled()){if(V.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),Wt=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var rt=0;rt<Wt.length;rt++){var Je=Wt[rt]._private;Je.grabbed=!1,Je.rscratch.inDragLayer=!1}}var Ze=e.touchData.start,ht=(Oe=V.touches[0].clientX-z,ft=V.touches[0].clientY-G,Et=V.touches[1].clientX-z,Ye=V.touches[1].clientY-G,j(Oe,ft,Et,Ye)),mt=ht/O;if(ie){var yt=(Oe-S+(Et-A))/2,Xe=(ft-N+(Ye-M))/2,Fe=we.zoom(),pt=Fe*mt,Rt=we.pan(),Ft=$[0]*Fe+Rt.x,Sr=$[1]*Fe+Rt.y,wn={x:-pt/Fe*(Ft-Rt.x-yt)+Ft,y:-pt/Fe*(Sr-Rt.y-Xe)+Sr};if(Ze&&Ze.active()){var Wt=e.dragData.touchDragEles;v(Wt),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Ze.unactivate().emit("freeon"),Wt.emit("free"),e.dragData.didDrag&&(Ze.emit("dragfreeon"),Wt.emit("dragfree"))}we.viewport({zoom:pt,pan:wn,cancelOnFailedZoom:!0}),we.emit("pinchzoom"),O=ht,S=Oe,N=ft,A=Et,M=Ye,e.pinching=!0}V.touches[0]&&(he=e.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY),K[0]=he[0],K[1]=he[1]),V.touches[1]&&(he=e.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY),K[2]=he[0],K[3]=he[1]),V.touches[2]&&(he=e.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY),K[4]=he[0],K[5]=he[1])}else if(V.touches[0]&&!e.touchData.didSelect){var Zt=e.touchData.start,Or=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(De=e.findNearestElement(K[0],K[1],!0,!0)),ue&&Zt!=null&&V.preventDefault(),ue&&Zt!=null&&e.nodeIsDraggable(Zt))if(se){Wt=e.dragData.touchDragEles;var rr=!e.dragData.didDrag;rr&&m(Wt,{inDragLayer:!0}),e.dragData.didDrag=!0;var Hr={x:0,y:0};lt(Te[0])&&lt(Te[1])&&(Hr.x+=Te[0],Hr.y+=Te[1],rr&&(e.redrawHint("eles",!0),(Tr=e.touchData.dragDelta)&&lt(Tr[0])&&lt(Tr[1])&&(Hr.x+=Tr[0],Hr.y+=Tr[1]))),e.hoverData.draggingEles=!0,Wt.silentShift(Hr).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==ve[0]&&e.touchData.startPosition[1]==ve[1]&&e.redrawHint("eles",!0),e.redraw()}else{var Tr;(Tr=e.touchData.dragDelta=e.touchData.dragDelta||[]).length===0?(Tr.push(Te[0]),Tr.push(Te[1])):(Tr[0]+=Te[0],Tr[1]+=Te[1])}if(n(Zt||De,["touchmove","tapdrag","vmousemove"],V,{x:K[0],y:K[1]}),Zt&&Zt.grabbed()||De==Or||(Or&&Or.emit({originalEvent:V,type:"tapdragout",position:{x:K[0],y:K[1]}}),De&&De.emit({originalEvent:V,type:"tapdragover",position:{x:K[0],y:K[1]}})),e.touchData.last=De,ue)for(rt=0;rt<K.length;rt++)K[rt]&&e.touchData.startPosition[rt]&&se&&(e.touchData.singleTouchMoved=!0);ue&&(Zt==null||Zt.pannable())&&we.panningEnabled()&&we.userPanningEnabled()&&(a(Zt,e.touchData.starts)&&(V.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=od(e.touchData.startPosition)),e.swipePanning?(we.panBy({x:Te[0]*Y,y:Te[1]*Y}),we.emit("dragpan")):se&&(e.swipePanning=!0,we.panBy({x:Re*Y,y:Be*Y}),we.emit("dragpan"),Zt&&(Zt.unactivate(),e.redrawHint("select",!0),e.touchData.start=null))),he=e.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY),K[0]=he[0],K[1]=he[1])}for(_e=0;_e<K.length;_e++)ve[_e]=K[_e];ue&&V.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},"touchmoveHandler"),!1),e.registerBinding(t,"touchcancel",X=l(function(V){var ue=e.touchData.start;e.touchData.capture=!1,ue&&ue.unactivate()},"touchcancelHandler")),e.registerBinding(t,"touchend",Q=l(function(V){var ue=e.touchData.start;if(e.touchData.capture){V.touches.length===0&&(e.touchData.capture=!1),V.preventDefault();var oe=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var we,K=e.cy,ve=K.zoom(),Y=e.touchData.now,he=e.touchData.earlier;if(V.touches[0]){var se=e.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);Y[0]=se[0],Y[1]=se[1]}if(V.touches[1]&&(se=e.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY),Y[2]=se[0],Y[3]=se[1]),V.touches[2]&&(se=e.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY),Y[4]=se[0],Y[5]=se[1]),ue&&ue.unactivate(),e.touchData.cxt){if(we={originalEvent:V,type:"cxttapend",position:{x:Y[0],y:Y[1]}},ue?ue.emit(we):K.emit(we),!e.touchData.cxtDragged){var be={originalEvent:V,type:"cxttap",position:{x:Y[0],y:Y[1]}};ue?ue.emit(be):K.emit(be)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!V.touches[2]&&K.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var Te=K.collection(e.getAllInBox(oe[0],oe[1],oe[2],oe[3]));oe[0]=void 0,oe[1]=void 0,oe[2]=void 0,oe[3]=void 0,oe[4]=0,e.redrawHint("select",!0),K.emit({type:"boxend",originalEvent:V,position:{x:Y[0],y:Y[1]}});var _e=l(function(at){return at.selectable()&&!at.selected()},"eleWouldBeSelected");Te.emit("box").stdFilter(_e).select().emit("boxselect"),Te.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(ue!=null&&ue.unactivate(),V.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!V.touches[1]){if(!V.touches[0]){if(!V.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Re=e.dragData.touchDragEles;if(ue!=null){var ke=ue._private.grabbed;v(Re),e.redrawHint("drag",!0),e.redrawHint("eles",!0),ke&&(ue.emit("freeon"),Re.emit("free"),e.dragData.didDrag&&(ue.emit("dragfreeon"),Re.emit("dragfree"))),n(ue,["touchend","tapend","vmouseup","tapdragout"],V,{x:Y[0],y:Y[1]}),ue.unactivate(),e.touchData.start=null}else{var Be=e.findNearestElement(Y[0],Y[1],!0,!0);n(Be,["touchend","tapend","vmouseup","tapdragout"],V,{x:Y[0],y:Y[1]})}var Oe=e.touchData.startPosition[0]-Y[0],ft=Oe*Oe,Et=e.touchData.startPosition[1]-Y[1],Ye=(ft+Et*Et)*ve*ve;e.touchData.singleTouchMoved||(ue||K.$(":selected").unselect(["tapunselect"]),n(ue,["tap","vclick"],V,{x:Y[0],y:Y[1]}),ne=!1,V.timeStamp-pe<=K.multiClickDebounceTime()?(ee&&clearTimeout(ee),ne=!0,pe=null,n(ue,["dbltap","vdblclick"],V,{x:Y[0],y:Y[1]})):(ee=setTimeout(function(){ne||n(ue,["onetap","voneclick"],V,{x:Y[0],y:Y[1]})},K.multiClickDebounceTime()),pe=V.timeStamp)),ue!=null&&!e.dragData.didDrag&&ue._private.selectable&&Ye<e.touchTapThreshold2&&!e.pinching&&(K.selectionType()==="single"?(K.$(r).unmerge(ue).unselect(["tapunselect"]),ue.select(["tapselect"])):ue.selected()?ue.unselect(["tapunselect"]):ue.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}}}for(var bt=0;bt<Y.length;bt++)he[bt]=Y[bt];e.dragData.didDrag=!1,V.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),V.touches.length<2&&(V.touches.length===1&&(e.touchData.startGPosition=[V.touches[0].clientX,V.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},"touchendHandler"),!1),typeof TouchEvent>"u"){var le=[],Ae=l(function(V){return{clientX:V.clientX,clientY:V.clientY,force:1,identifier:V.pointerId,pageX:V.pageX,pageY:V.pageY,radiusX:V.width/2,radiusY:V.height/2,screenX:V.screenX,screenY:V.screenY,target:V.target}},"makeTouch"),Se=l(function(V){return{event:V,touch:Ae(V)}},"makePointer"),ze=l(function(V){le.push(Se(V))},"addPointer"),Pe=l(function(V){for(var ue=0;ue<le.length;ue++)if(le[ue].event.pointerId===V.pointerId)return void le.splice(ue,1)},"removePointer"),Ve=l(function(V){var ue=le.filter(function(oe){return oe.event.pointerId===V.pointerId})[0];ue.event=V,ue.touch=Ae(V)},"updatePointer"),Ue=l(function(V){V.touches=le.map(function(ue){return ue.touch})},"addTouchesToEvent"),Ge=l(function(V){return V.pointerType==="mouse"||V.pointerType===4},"pointerIsMouse");e.registerBinding(e.container,"pointerdown",function(V){Ge(V)||(V.preventDefault(),ze(V),Ue(V),W(V))}),e.registerBinding(e.container,"pointerup",function(V){Ge(V)||(Pe(V),Ue(V),Q(V))}),e.registerBinding(e.container,"pointercancel",function(V){Ge(V)||(Pe(V),Ue(V),X(V))}),e.registerBinding(e.container,"pointermove",function(V){Ge(V)||(V.preventDefault(),Ve(V),Ue(V),H(V))})}}},u1e={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:l(function(r,n,i,a,s,o){this.renderer.nodeShapeImpl("polygon",r,n,i,a,s,this.points)},"draw"),intersectLine:l(function(r,n,i,a,s,o,u,h){return ly(s,o,this.points,r,n,i/2,a/2,u)},"intersectLine"),checkPoint:l(function(r,n,i,a,s,o,u,h){return bo(r,n,this.points,o,u,a,s,[0,-1],i)},"checkPoint")}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:l(function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},"draw"),intersectLine:l(function(e,t,r,n,i,a,s,o){return FCe(i,a,e,t,r/2+s,n/2+s)},"intersectLine"),checkPoint:l(function(e,t,r,n,i,a,s,o){return Ac(e,t,n,i,a,s,r)},"checkPoint")}},generateRoundPolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:l(function(r,n,i,a,s,o,u){if(o[u]!==void 0&&o[u+"-cx"]===r&&o[u+"-cy"]===n)return o[u];o[u]=new Array(t.length/2),o[u+"-cx"]=r,o[u+"-cy"]=n;var h=i/2,d=a/2;s=s==="auto"?zse(i,a):s;for(var p=new Array(t.length/2),f=0;f<t.length/2;f++)p[f]={x:r+h*t[2*f],y:n+d*t[2*f+1]};var g,m,y,v,x=p.length;for(m=p[x-1],g=0;g<x;g++)y=p[g%x],v=p[(g+1)%x],o[u][g]=Sw(m,y,v,s),m=y,y=v;return o[u]},"getOrCreateCorners"),draw:l(function(r,n,i,a,s,o,u){this.renderer.nodeShapeImpl("round-polygon",r,n,i,a,s,this.points,this.getOrCreateCorners(n,i,a,s,o,u,"drawCorners"))},"draw"),intersectLine:l(function(r,n,i,a,s,o,u,h,d){return zCe(s,o,this.points,r,n,i,a,u,this.getOrCreateCorners(r,n,i,a,h,d,"corners"))},"intersectLine"),checkPoint:l(function(r,n,i,a,s,o,u,h,d){return $Ce(r,n,this.points,o,u,a,s,this.getOrCreateCorners(o,u,a,s,h,d,"corners"))},"checkPoint")}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Ni(4,0),draw:l(function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i,this.points,a)},"draw"),intersectLine:l(function(e,t,r,n,i,a,s,o){return vP(i,a,e,t,r,n,s,o)},"intersectLine"),checkPoint:l(function(e,t,r,n,i,a,s,o){var u=n/2,h=i/2;o=o==="auto"?ch(n,i):o;var d=2*(o=Math.min(u,h,o));return!!bo(e,t,this.points,a,s,n,i-d,[0,-1],r)||!!bo(e,t,this.points,a,s,n-d,i,[0,-1],r)||!!Ac(e,t,d,d,a-u+o,s-h+o,r)||!!Ac(e,t,d,d,a+u-o,s-h+o,r)||!!Ac(e,t,d,d,a+u-o,s+h-o,r)||!!Ac(e,t,d,d,a-u+o,s+h-o,r)},"checkPoint")}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:XN(),points:Ni(4,0),draw:l(function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i,null,a)},"draw"),generateCutTrianglePts:l(function(e,t,r,n,i){var a=i==="auto"?this.cornerLength:i,s=t/2,o=e/2,u=r-o,h=r+o,d=n-s,p=n+s;return{topLeft:[u,d+a,u+a,d,u+a,d+a],topRight:[h-a,d,h,d+a,h-a,d+a],bottomRight:[h,p-a,h-a,p,h-a,p-a],bottomLeft:[u+a,p,u,p-a,u+a,p-a]}},"generateCutTrianglePts"),intersectLine:l(function(e,t,r,n,i,a,s,o){var u=this.generateCutTrianglePts(r+2*s,n+2*s,e,t,o),h=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return ly(i,a,h,e,t)},"intersectLine"),checkPoint:l(function(e,t,r,n,i,a,s,o){var u=o==="auto"?this.cornerLength:o;if(bo(e,t,this.points,a,s,n,i-2*u,[0,-1],r)||bo(e,t,this.points,a,s,n-2*u,i,[0,-1],r))return!0;var h=this.generateCutTrianglePts(n,i,a,s);return Zi(e,t,h.topLeft)||Zi(e,t,h.topRight)||Zi(e,t,h.bottomRight)||Zi(e,t,h.bottomLeft)},"checkPoint")}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Ni(4,0),draw:l(function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},"draw"),intersectLine:l(function(e,t,r,n,i,a,s,o){var u=this.generateBarrelBezierPts(r+2*s,n+2*s,e,t),h=l(function(p){var f=kd({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},.15),g=kd({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},.5),m=kd({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},.85);return[p[0],p[1],f.x,f.y,g.x,g.y,m.x,m.y,p[4],p[5]]},"approximateBarrelCurvePts"),d=[].concat(h(u.topLeft),h(u.topRight),h(u.bottomRight),h(u.bottomLeft));return ly(i,a,d,e,t)},"intersectLine"),generateBarrelBezierPts:l(function(e,t,r,n){var i=t/2,a=e/2,s=r-a,o=r+a,u=n-i,h=n+i,d=$C(e,t),p=d.heightOffset,f=d.widthOffset,g=d.ctrlPtOffsetPct*e,m={topLeft:[s,u+p,s+g,u,s+f,u],topRight:[o-f,u,o-g,u,o,u+p],bottomRight:[o,h-p,o-g,h,o-f,h],bottomLeft:[s+f,h,s+g,h,s,h-p]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},"generateBarrelBezierPts"),checkPoint:l(function(e,t,r,n,i,a,s,o){var u=$C(n,i),h=u.heightOffset,d=u.widthOffset;if(bo(e,t,this.points,a,s,n,i-2*h,[0,-1],r)||bo(e,t,this.points,a,s,n-2*d,i,[0,-1],r))return!0;for(var p=this.generateBarrelBezierPts(n,i,a,s),f=l(function(k,R,C){var E=C[4],_=C[2],L=C[0],D=C[5],B=C[1],S=Math.min(E,L),N=Math.max(E,L),A=Math.min(D,B),M=Math.max(D,B);if(S<=k&&k<=N&&A<=R&&R<=M){var O=UCe(E,_,L),I=DCe(O[0],O[1],O[2],k).filter(function(P){return 0<=P&&P<=1});if(I.length>0)return I[0]}return null},"getCurveT"),g=Object.keys(p),m=0;m<g.length;m++){var y=p[g[m]],v=f(e,t,y);if(v!=null){var x=y[5],b=y[3],w=y[1],T=Yn(x,b,w,v);if(y.isTop&&T<=t||y.isBottom&&t<=T)return!0}}return!1},"checkPoint")}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Ni(4,0),draw:l(function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i,this.points,a)},"draw"),intersectLine:l(function(e,t,r,n,i,a,s,o){var u=t-(n/2+s),h=Ol(i,a,e,t,e-(r/2+s),u,e+(r/2+s),u,!1);return h.length>0?h:vP(i,a,e,t,r,n,s,o)},"intersectLine"),checkPoint:l(function(e,t,r,n,i,a,s,o){var u=2*(o=o==="auto"?ch(n,i):o);if(bo(e,t,this.points,a,s,n,i-u,[0,-1],r)||bo(e,t,this.points,a,s,n-u,i,[0,-1],r))return!0;var h=n/2+2*r,d=i/2+2*r;return!!Zi(e,t,[a-h,s-d,a-h,s,a+h,s,a+h,s-d])||!!Ac(e,t,u,u,a+n/2-o,s+i/2-o,r)||!!Ac(e,t,u,u,a-n/2+o,s+i/2-o,r)},"checkPoint")}},registerNodeShapes:function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",Ni(3,0)),this.generateRoundPolygon("round-triangle",Ni(3,0)),this.generatePolygon("rectangle",Ni(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r),this.generatePolygon("pentagon",Ni(5,0)),this.generateRoundPolygon("round-pentagon",Ni(5,0)),this.generatePolygon("hexagon",Ni(6,0)),this.generateRoundPolygon("round-hexagon",Ni(6,0)),this.generatePolygon("heptagon",Ni(7,0)),this.generateRoundPolygon("round-heptagon",Ni(7,0)),this.generatePolygon("octagon",Ni(8,0)),this.generateRoundPolygon("round-octagon",Ni(8,0));var n=new Array(20),i=BC(5,0),a=BC(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<a.length/2;o++)a[2*o]*=s,a[2*o+1]*=s;for(o=0;o<5;o++)n[4*o]=i[2*o],n[4*o+1]=i[2*o+1],n[4*o+2]=a[2*o],n[4*o+3]=a[2*o+1];n=Fse(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u),e.makePolygon=function(h){var d,p="polygon-"+h.join("$");return(d=this[p])?d:t.generatePolygon(p,h)}}},hle={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||Ose();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){t==null&&hn("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(n,i){return i.priority-n.priority})}}},hB=l(function(e,t,r){for(var n=e.beforeRenderCallbacks,i=0;i<n.length;i++)n[i].fn(t,r)},"beforeRenderCallbacks");hle.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var r=l(function n(i){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){hB(e,!0,i);var a=rl();e.render(e.renderOptions);var s=e.lastDrawTime=rl();e.averageRedrawTime===void 0&&(e.averageRedrawTime=s-a),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var o=s-a;e.redrawTotalTime+=o,e.lastRedrawTime=o,e.averageRedrawTime=e.averageRedrawTime/2+o/2,e.requestedFrame=!1}else hB(e,!1,i);e.skipFrame=!1,v5(n)}},"renderFn");v5(r)}};var dle=l(function(e){this.init(e)},"BaseRenderer"),Dh=dle.prototype;Dh.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Dh.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),n=t.cy.window();if(n){var i=n.document,a=i.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",u=i.getElementById(s)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!u){var h=i.createElement("style");h.id=s,h.textContent="."+o+" { position: relative; }",a.insertBefore(h,a.children[0])}n.getComputedStyle(r).getPropertyValue("position")==="static"&&kr("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=lt(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},Dh.notify=function(e,t){var r=this,n=r.cy;this.destroyed||(e!=="init"?e!=="destroy"?((e==="add"||e==="remove"||e==="move"&&n.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&r.invalidateCachedZSortedEles(),e==="viewport"&&r.redrawHint("select",!0),e!=="load"&&e!=="resize"&&e!=="mount"||(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):r.destroy():r.load())},Dh.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],n=r.target;(n.off||n.removeEventListener).apply(n,r.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}},Dh.isHeadless=function(){return!1},[e1e,ule,l1e,c1e,u1e,hle].forEach(function(e){$t(Dh,e)});var ple={setupDequeueing:l(function(e){return l(function(){var t=this,r=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var n=xw(function(){r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},e.deqRedrawThreshold),i=l(function(s,o){var u=rl(),h=r.averageRedrawTime,d=r.lastRedrawTime,p=[],f=r.cy.extent(),g=r.getPixelRatio();for(s||r.flushRenderedStyleQueue();;){var m=rl(),y=m-u,v=m-o;if(d<16.666666666666668){var x=16.666666666666668-(s?h:0);if(v>=e.deqFastCost*x)break}else if(s){if(y>=e.deqCost*d||y>=e.deqAvgCost*h)break}else if(v>=16.666666666666668*e.deqNoDrawCost)break;var b=e.deq(t,g,f);if(!(b.length>0))break;for(var w=0;w<b.length;w++)p.push(b[w])}p.length>0&&(e.onDeqd(t,p),!s&&e.shouldRedraw(t,p,g,f)&&n())},"dequeue"),a=e.priority||WN;r.beforeRender(i,a(t))}},"setupDequeueingImpl")},"setupDequeueing")},h1e=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x5;gw(this,e),this.idsByKey=new ro,this.keyForId=new ro,this.cachesByLvl=new ro,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r}return l(e,"ElementTextureCacheLookup"),mw(e,[{key:"getIdsFor",value:l(function(t){t==null&&hn("Can not get id list for null key");var r=this.idsByKey,n=this.idsByKey.get(t);return n||(n=new P0,r.set(t,n)),n},"getIdsFor")},{key:"addIdForKey",value:l(function(t,r){t!=null&&this.getIdsFor(t).add(r)},"addIdForKey")},{key:"deleteIdForKey",value:l(function(t,r){t!=null&&this.getIdsFor(t).delete(r)},"deleteIdForKey")},{key:"getNumberOfIdsForKey",value:l(function(t){return t==null?0:this.getIdsFor(t).size},"getNumberOfIdsForKey")},{key:"updateKeyMappingFor",value:l(function(t){var r=t.id(),n=this.keyForId.get(r),i=this.getKey(t);this.deleteIdForKey(n,r),this.addIdForKey(i,r),this.keyForId.set(r,i)},"updateKeyMappingFor")},{key:"deleteKeyMappingFor",value:l(function(t){var r=t.id(),n=this.keyForId.get(r);this.deleteIdForKey(n,r),this.keyForId.delete(r)},"deleteKeyMappingFor")},{key:"keyHasChangedFor",value:l(function(t){var r=t.id();return this.keyForId.get(r)!==this.getKey(t)},"keyHasChangedFor")},{key:"isInvalid",value:l(function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)},"isInvalid")},{key:"getCachesAt",value:l(function(t){var r=this.cachesByLvl,n=this.lvls,i=r.get(t);return i||(i=new ro,r.set(t,i),n.push(t)),i},"getCachesAt")},{key:"getCache",value:l(function(t,r){return this.getCachesAt(r).get(t)},"getCache")},{key:"get",value:l(function(t,r){var n=this.getKey(t),i=this.getCache(n,r);return i!=null&&this.updateKeyMappingFor(t),i},"get")},{key:"getForCachedKey",value:l(function(t,r){var n=this.keyForId.get(t.id());return this.getCache(n,r)},"getForCachedKey")},{key:"hasCache",value:l(function(t,r){return this.getCachesAt(r).has(t)},"hasCache")},{key:"has",value:l(function(t,r){var n=this.getKey(t);return this.hasCache(n,r)},"has")},{key:"setCache",value:l(function(t,r,n){n.key=t,this.getCachesAt(r).set(t,n)},"setCache")},{key:"set",value:l(function(t,r,n){var i=this.getKey(t);this.setCache(i,r,n),this.updateKeyMappingFor(t)},"set")},{key:"deleteCache",value:l(function(t,r){this.getCachesAt(r).delete(t)},"deleteCache")},{key:"delete",value:l(function(t,r){var n=this.getKey(t);this.deleteCache(n,r)},"_delete")},{key:"invalidateKey",value:l(function(t){var r=this;this.lvls.forEach(function(n){return r.deleteCache(t,n)})},"invalidateKey")},{key:"invalidate",value:l(function(t){var r=t.id(),n=this.keyForId.get(r);this.deleteKeyMappingFor(t);var i=this.doesEleInvalidateKey(t);return i&&this.invalidateKey(n),i||this.getNumberOfIdsForKey(n)===0},"invalidate")}]),e}(),Oh={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},d1e=pi({getKey:null,doesEleInvalidateKey:x5,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Mse,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Im=l(function(e,t){var r=this;r.renderer=e,r.onDequeues=[];var n=d1e(t);$t(r,n),r.lookup=new h1e(n.getKey,n.doesEleInvalidateKey),r.setupDequeueing()},"ElementTextureCache"),An=Im.prototype;An.reasons=Oh,An.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},An.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},An.getElementQueue=function(){var e=this.eleCacheQueue=this.eleCacheQueue||new sv(function(t,r){return r.reqs-t.reqs});return e},An.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},An.getElement=function(e,t,r,n,i){var a=this,s=this.renderer,o=s.cy.zoom(),u=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!a.allowEdgeTxrCaching&&e.isEdge()||!a.allowParentTxrCaching&&e.isParent())return null;if(n==null&&(n=Math.ceil(HN(o*r))),n<-4)n=-4;else if(o>=7.99||n>3)return null;var h=Math.pow(2,n),d=t.h*h,p=t.w*h,f=s.eleTextBiggerThanMin(e,h);if(!this.isVisible(e,f))return null;var g,m=u.get(e,n);if(m&&m.invalidated&&(m.invalidated=!1,m.texture.invalidatedWidth-=m.width),m)return m;if(g=d<=25?25:d<=50?50:50*Math.ceil(d/50),d>1024||p>1024)return null;var y=a.getTextureQueue(g),v=y[y.length-2],x=l(function(){return a.recycleTexture(g,p)||a.addTexture(g,p)},"addNewTxr");v||(v=y[y.length-1]),v||(v=x()),v.width-v.usedWidth<p&&(v=x());for(var b,w=l(function(A){return A&&A.scaledLabelShown===f},"scalableFrom"),T=i&&i===Oh.dequeue,k=i&&i===Oh.highQuality,R=i&&i===Oh.downscale,C=n+1;C<=3;C++){var E=u.get(e,C);if(E){b=E;break}}var _=b&&b.level===n+1?b:null,L=l(function(){v.context.drawImage(_.texture.canvas,_.x,0,_.width,_.height,v.usedWidth,0,p,d)},"downscale");if(v.context.setTransform(1,0,0,1,0,0),v.context.clearRect(v.usedWidth,0,p,g),w(_))L();else if(w(b)){if(!k)return a.queueElement(e,b.level-1),b;for(var D=b.level;D>n;D--)_=a.getElement(e,t,r,D,Oh.downscale);L()}else{var B;if(!T&&!k&&!R)for(var S=n-1;S>=-4;S--){var N=u.get(e,S);if(N){B=N;break}}if(w(B))return a.queueElement(e,n),B;v.context.translate(v.usedWidth,0),v.context.scale(h,h),this.drawElement(v.context,e,t,f,!1),v.context.scale(1/h,1/h),v.context.translate(-v.usedWidth,0)}return m={x:v.usedWidth,texture:v,level:n,scale:h,width:p,height:d,scaledLabelShown:f},v.usedWidth+=Math.ceil(p+8),v.eleCaches.push(m),u.set(e,n,m),a.checkTextureFullness(v),m},An.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},An.invalidateElement=function(e){var t=this,r=t.lookup,n=[];if(r.isInvalid(e)){for(var i=-4;i<=3;i++){var a=r.getForCachedKey(e,i);a&&n.push(a)}if(r.invalidate(e))for(var s=0;s<n.length;s++){var o=n[s],u=o.texture;u.invalidatedWidth+=o.width,o.invalidated=!0,t.checkTextureUtility(u)}t.removeFromQueue(e)}},An.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},An.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?Dl(t,e):e.fullnessChecks++},An.retireTexture=function(e){var t=e.height,r=this.getTextureQueue(t),n=this.lookup;Dl(r,e),e.retired=!0;for(var i=e.eleCaches,a=0;a<i.length;a++){var s=i[a];n.deleteCache(s.key,s.level)}PC(i),this.getRetiredTextureQueue(t).push(e)},An.addTexture=function(e,t){var r={};return this.getTextureQueue(e).push(r),r.eleCaches=[],r.height=e,r.width=Math.max(1024,t),r.usedWidth=0,r.invalidatedWidth=0,r.fullnessChecks=0,r.canvas=this.renderer.makeOffscreenCanvas(r.width,r.height),r.context=r.canvas.getContext("2d"),r},An.recycleTexture=function(e,t){for(var r=this.getTextureQueue(e),n=this.getRetiredTextureQueue(e),i=0;i<n.length;i++){var a=n[i];if(a.width>=t)return a.retired=!1,a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,PC(a.eleCaches),a.context.setTransform(1,0,0,1,0,0),a.context.clearRect(0,0,a.width,a.height),Dl(n,a),r.push(a),a}},An.queueElement=function(e,t){var r=this.getElementQueue(),n=this.getElementKeyToQueue(),i=this.getKey(e),a=n[i];if(a)a.level=Math.max(a.level,t),a.eles.merge(e),a.reqs++,r.updateItem(a);else{var s={eles:e.spawn().merge(e),level:t,reqs:1,key:i};r.push(s),n[i]=s}},An.dequeue=function(e){for(var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),i=[],a=t.lookup,s=0;s<1&&r.size()>0;s++){var o=r.pop(),u=o.key,h=o.eles[0],d=a.hasCache(h,o.level);if(n[u]=null,!d){i.push(o);var p=t.getBoundingBox(h);t.getElement(h,p,e,o.level,Oh.dequeue)}}return i},An.removeFromQueue=function(e){var t=this.getElementQueue(),r=this.getElementKeyToQueue(),n=this.getKey(e),i=r[n];i!=null&&(i.eles.length===1?(i.reqs=YN,t.updateItem(i),t.pop(),r[n]=null):i.eles.unmerge(e))},An.onDequeue=function(e){this.onDequeues.push(e)},An.offDequeue=function(e){Dl(this.onDequeues,e)},An.setupDequeueing=ple.setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:l(function(e,t,r){return e.dequeue(t,r)},"deq"),onDeqd:l(function(e,t){for(var r=0;r<e.onDequeues.length;r++)(0,e.onDequeues[r])(t)},"onDeqd"),shouldRedraw:l(function(e,t,r,n){for(var i=0;i<t.length;i++)for(var a=t[i].eles,s=0;s<a.length;s++){var o=a[s].boundingBox();if(VN(o,n))return!0}return!1},"shouldRedraw"),priority:l(function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq},"priority")});var fle=l(function(e){var t=this,r=t.renderer=e,n=r.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=rl()-500,t.skipping=!1,t.eleTxrDeqs=n.collection(),t.scheduleElementRefinement=xw(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},50),r.beforeRender(function(a,s){s-t.lastInvalidationTime<=250?t.skipping=!0:t.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);var i=l(function(a,s){return s.reqs-a.reqs},"qSort");t.layersQueue=new sv(i),t.setupDequeueing()},"LayeredTextureCache"),Qn=fle.prototype,dB=0,p1e=Math.pow(2,53)-1;Qn.makeLayer=function(e,t){var r=Math.pow(2,t),n=Math.ceil(e.w*r),i=Math.ceil(e.h*r),a=this.renderer.makeOffscreenCanvas(n,i),s={id:dB=++dB%p1e,bb:e,level:t,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,u=-s.bb.x1,h=-s.bb.y1;return o.scale(r,r),o.translate(u,h),s},Qn.getLayers=function(e,t,r){var n=this,i=n.renderer.cy.zoom(),a=n.firstGet;if(n.firstGet=!1,r==null){if((r=Math.ceil(HN(i*t)))<-4)r=-4;else if(i>=3.99||r>2)return null}n.validateLayersElesOrdering(r,e);var s,o,u=n.layersByLevel,h=Math.pow(2,r),d=u[r]=u[r]||[],p=n.levelIsComplete(r,e),f=l(function(){var C=l(function(D){if(n.validateLayersElesOrdering(D,e),n.levelIsComplete(D,e))return o=u[D],!0},"canUseAsTmpLvl"),E=l(function(D){if(!o)for(var B=r+D;-4<=B&&B<=2&&!C(B);B+=D);},"checkLvls");E(1),E(-1);for(var _=d.length-1;_>=0;_--){var L=d[_];L.invalid&&Dl(d,L)}},"checkTempLevels");if(p)return d;f();var g=l(function(){if(!s){s=da();for(var C=0;C<e.length;C++)Bse(s,e[C].boundingBox())}return s},"getBb"),m=l(function(C){var E=(C=C||{}).after;if(g(),s.w*h*(s.h*h)>16e6)return null;var _=n.makeLayer(s,r);if(E!=null){var L=d.indexOf(E)+1;d.splice(L,0,_)}else(C.insert===void 0||C.insert)&&d.unshift(_);return _},"makeLayer");if(n.skipping&&!a)return null;for(var y=null,v=e.length/1,x=!a,b=0;b<e.length;b++){var w=e[b],T=w._private.rscratch,k=T.imgLayerCaches=T.imgLayerCaches||{},R=k[r];if(R)y=R;else{if((!y||y.eles.length>=v||!$se(y.bb,w.boundingBox()))&&!(y=m({insert:!0,after:y})))return null;o||x?n.queueLayer(y,w):n.drawEleInLayer(y,w,r,t),y.eles.push(w),k[r]=y}}return o||(x?null:d)},Qn.getEleLevelForLayerLevel=function(e,t){return e},Qn.drawEleInLayer=function(e,t,r,n){var i=this.renderer,a=e.context,s=t.boundingBox();s.w!==0&&s.h!==0&&t.visible()&&(r=this.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(a,!1),i.drawCachedElement(a,t,null,null,r,!0),i.setImgSmoothing(a,!0))},Qn.levelIsComplete=function(e,t){var r=this.layersByLevel[e];if(!r||r.length===0)return!1;for(var n=0,i=0;i<r.length;i++){var a=r[i];if(a.reqs>0||a.invalid)return!1;n+=a.eles.length}return n===t.length},Qn.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,s=0;s<t.length;s++)if(i.eles[0]===t[s]){a=s;break}if(a<0)this.invalidateLayer(i);else{var o=a;for(s=0;s<i.eles.length;s++)if(i.eles[s]!==t[o+s]){this.invalidateLayer(i);break}}}},Qn.updateElementsInLayers=function(e,t){for(var r=iv(e[0]),n=0;n<e.length;n++)for(var i=r?null:e[n],a=r?e[n]:e[n].ele,s=a._private.rscratch,o=s.imgLayerCaches=s.imgLayerCaches||{},u=-4;u<=2;u++){var h=o[u];h&&(i&&this.getEleLevelForLayerLevel(h.level)!==i.level||t(h,a,i))}},Qn.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var r=this.layersByLevel[t];if(r&&r.length>0){e=!0;break}}return e},Qn.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=rl(),e.length!==0&&t.haveLayers()&&t.updateElementsInLayers(e,l(function(r,n,i){t.invalidateLayer(r)},"invalAssocLayers")))},Qn.invalidateLayer=function(e){if(this.lastInvalidationTime=rl(),!e.invalid){var t=e.level,r=e.eles,n=this.layersByLevel[t];Dl(n,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<r.length;i++){var a=r[i]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}},Qn.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,l(function(r,n,i){var a=r.replacement;if(a||((a=r.replacement=t.makeLayer(r.bb,r.level)).replaces=r,a.eles=r.eles),!a.reqs)for(var s=0;s<a.eles.length;s++)t.queueLayer(a,a.eles[s])},"refineEachEle"))},Qn.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},Qn.queueLayer=function(e,t){var r=this.layersQueue,n=e.elesQueue,i=n.hasId=n.hasId||{};if(!e.replacement){if(t){if(i[t.id()])return;n.push(t),i[t.id()]=!0}e.reqs?(e.reqs++,r.updateItem(e)):(e.reqs=1,r.push(e))}},Qn.dequeue=function(e){for(var t=this,r=t.layersQueue,n=[],i=0;i<1&&r.size()!==0;){var a=r.peek();if(a.replacement)r.pop();else if(a.replaces&&a!==a.replaces.replacement)r.pop();else if(a.invalid)r.pop();else{var s=a.elesQueue.shift();s&&(t.drawEleInLayer(a,s,a.level,e),i++),n.length===0&&n.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&t.applyLayerReplacement(a),t.requestRedraw())}}return n},Qn.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],r=e.replaces,n=t.indexOf(r);if(!(n<0||r.invalid)){t[n]=e;for(var i=0;i<e.eles.length;i++){var a=e.eles[i]._private,s=a.imgLayerCaches=a.imgLayerCaches||{};s&&(s[e.level]=e)}this.requestRedraw()}},Qn.requestRedraw=xw(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),Qn.setupDequeueing=ple.setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:l(function(e,t){return e.dequeue(t)},"deq"),onDeqd:WN,shouldRedraw:Mse,priority:l(function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq},"priority")});var pB,gle={};function fB(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}}function gB(e,t,r){for(var n,i=0;i<t.length;i++){var a=t[i];i===0&&(n=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)}function nT(e,t,r){e.beginPath&&e.beginPath();for(var n=t,i=0;i<n.length;i++){var a=n[i];e.lineTo(a.x,a.y)}var s=r,o=r[0];for(e.moveTo(o.x,o.y),i=1;i<s.length;i++)a=s[i],e.lineTo(a.x,a.y);e.closePath&&e.closePath()}function mB(e,t,r,n,i){e.beginPath&&e.beginPath(),e.arc(r,n,i,0,2*Math.PI,!1);var a=t,s=a[0];e.moveTo(s.x,s.y);for(var o=0;o<a.length;o++){var u=a[o];e.lineTo(u.x,u.y)}e.closePath&&e.closePath()}function yB(e,t,r,n){e.arc(t,r,n,0,2*Math.PI,!1)}l(fB,"polygon"),l(gB,"triangleBackcurve"),l(nT,"triangleTee"),l(mB,"circleTriangle"),l(yB,"circle"),gle.arrowShapeImpl=function(e){return(pB||(pB={polygon:fB,"triangle-backcurve":gB,"triangle-tee":nT,"circle-triangle":mB,"triangle-cross":nT,circle:yB}))[e]};var Jh={drawElement:function(e,t,r,n,i,a){t.isNode()?this.drawNode(e,t,r,n,i,a):this.drawEdge(e,t,r,n,i,a)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawElementUnderlay:function(e,t){t.isNode()?this.drawNodeUnderlay(e,t):this.drawEdgeUnderlay(e,t)},drawCachedElementPortion:function(e,t,r,n,i,a,s,o){var u=this,h=r.getBoundingBox(t);if(h.w!==0&&h.h!==0){var d=r.getElement(t,h,n,i,a);if(d!=null){var p=o(u,t);if(p===0)return;var f,g,m,y,v,x,b=s(u,t),w=h.x1,T=h.y1,k=h.w,R=h.h;if(b!==0){var C=r.getRotationPoint(t);m=C.x,y=C.y,e.translate(m,y),e.rotate(b),(v=u.getImgSmoothing(e))||u.setImgSmoothing(e,!0);var E=r.getRotationOffset(t);f=E.x,g=E.y}else f=w,g=T;p!==1&&(x=e.globalAlpha,e.globalAlpha=x*p),e.drawImage(d.texture.canvas,d.x,0,d.width,d.height,f,g,k,R),p!==1&&(e.globalAlpha=x),b!==0&&(e.rotate(-b),e.translate(-m,-y),v||u.setImgSmoothing(e,!1))}else r.drawElement(e,t)}}},f1e=l(function(){return 0},"getZeroRotation"),g1e=l(function(e,t){return e.getTextAngle(t,null)},"getLabelRotation"),m1e=l(function(e,t){return e.getTextAngle(t,"source")},"getSourceLabelRotation"),y1e=l(function(e,t){return e.getTextAngle(t,"target")},"getTargetLabelRotation"),v1e=l(function(e,t){return t.effectiveOpacity()},"getOpacity"),iT=l(function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()},"getTextOpacity");Jh.drawCachedElement=function(e,t,r,n,i,a){var s=this,o=s.data,u=o.eleTxrCache,h=o.lblTxrCache,d=o.slbTxrCache,p=o.tlbTxrCache,f=t.boundingBox(),g=a===!0?u.reasons.highQuality:null;if(f.w!==0&&f.h!==0&&t.visible()&&(!n||VN(f,n))){var m=t.isEdge(),y=t.element()._private.rscratch.badLine;s.drawElementUnderlay(e,t),s.drawCachedElementPortion(e,t,u,r,i,g,f1e,v1e),m&&y||s.drawCachedElementPortion(e,t,h,r,i,g,g1e,iT),m&&!y&&(s.drawCachedElementPortion(e,t,d,r,i,g,m1e,iT),s.drawCachedElementPortion(e,t,p,r,i,g,y1e,iT)),s.drawElementOverlay(e,t)}},Jh.drawElements=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];this.drawElement(e,n)}},Jh.drawCachedElements=function(e,t,r,n){for(var i=0;i<t.length;i++){var a=t[i];this.drawCachedElement(e,a,r,n)}},Jh.drawCachedNodes=function(e,t,r,n){for(var i=0;i<t.length;i++){var a=t[i];a.isNode()&&this.drawCachedElement(e,a,r,n)}},Jh.drawLayeredElements=function(e,t,r,n){var i=this.data.lyrTxrCache.getLayers(t,r);if(i)for(var a=0;a<i.length;a++){var s=i[a],o=s.bb;o.w!==0&&o.h!==0&&e.drawImage(s.canvas,o.x1,o.y1,o.w,o.h)}else this.drawCachedElements(e,t,r,n)};var El={drawEdge:function(e,t,r){var n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],s=this,o=t._private.rscratch;if((!a||t.visible())&&!o.badLine&&o.allpts!=null&&!isNaN(o.allpts[0])){var u;r&&(u=r,e.translate(-u.x1,-u.y1));var h=a?t.pstyle("opacity").value:1,d=a?t.pstyle("line-opacity").value:1,p=t.pstyle("curve-style").value,f=t.pstyle("line-style").value,g=t.pstyle("width").pfValue,m=t.pstyle("line-cap").value,y=t.pstyle("line-outline-width").value,v=t.pstyle("line-outline-color").value,x=h*d,b=h*d,w=l(function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x;p==="straight-triangle"?(s.eleStrokeStyle(e,t,N),s.drawEdgeTrianglePath(t,e,o.allpts)):(e.lineWidth=g,e.lineCap=m,s.eleStrokeStyle(e,t,N),s.drawEdgePath(t,e,o.allpts,f),e.lineCap="butt")},"drawLine"),T=l(function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x;e.lineWidth=g+y,e.lineCap=m,y>0?(s.colorStrokeStyle(e,v[0],v[1],v[2],N),p==="straight-triangle"?s.drawEdgeTrianglePath(t,e,o.allpts):(s.drawEdgePath(t,e,o.allpts,f),e.lineCap="butt")):e.lineCap="butt"},"drawLineOutline"),k=l(function(){i&&s.drawEdgeOverlay(e,t)},"drawOverlay"),R=l(function(){i&&s.drawEdgeUnderlay(e,t)},"drawUnderlay"),C=l(function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;s.drawArrowheads(e,t,N)},"drawArrows"),E=l(function(){s.drawElementText(e,t,null,n)},"drawText");e.lineJoin="round";var _=t.pstyle("ghost").value==="yes";if(_){var L=t.pstyle("ghost-offset-x").pfValue,D=t.pstyle("ghost-offset-y").pfValue,B=t.pstyle("ghost-opacity").value,S=x*B;e.translate(L,D),w(S),C(S),e.translate(-L,-D)}else T();R(),w(),C(),k(),E(),r&&e.translate(u.x1,u.y1)}}},vB=l(function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r){if(r.visible()){var n=r.pstyle("".concat(e,"-opacity")).value;if(n!==0){var i=this,a=i.usePaths(),s=r._private.rscratch,o=2*r.pstyle("".concat(e,"-padding")).pfValue,u=r.pstyle("".concat(e,"-color")).value;t.lineWidth=o,s.edgeType!=="self"||a?t.lineCap="round":t.lineCap="butt",i.colorStrokeStyle(t,u[0],u[1],u[2],n),i.drawEdgePath(r,t,s.allpts,"solid")}}}},"drawEdgeOverlayUnderlay");El.drawEdgeOverlay=vB("overlay"),El.drawEdgeUnderlay=vB("underlay"),El.drawEdgePath=function(e,t,r,n){var i,a=e._private.rscratch,s=t,o=!1,u=this.usePaths(),h=e.pstyle("line-dash-pattern").pfValue,d=e.pstyle("line-dash-offset").pfValue;if(u){var p=r.join("$");a.pathCacheKey&&a.pathCacheKey===p?(i=t=a.pathCache,o=!0):(i=t=new Path2D,a.pathCacheKey=p,a.pathCache=i)}if(s.setLineDash)switch(n){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash(h),s.lineDashOffset=d;break;case"solid":s.setLineDash([])}if(!o&&!a.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var f=2;f+3<r.length;f+=4)t.quadraticCurveTo(r[f],r[f+1],r[f+2],r[f+3]);break;case"straight":case"haystack":for(var g=2;g+1<r.length;g+=2)t.lineTo(r[g],r[g+1]);break;case"segments":if(a.isRound){var m,y=UN(a.roundCorners);try{for(y.s();!(m=y.n()).done;)hI(t,m.value)}catch(x){y.e(x)}finally{y.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var v=2;v+1<r.length;v+=2)t.lineTo(r[v],r[v+1])}t=s,u?t.stroke(i):t.stroke(),t.setLineDash&&t.setLineDash([])},El.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var n=e.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var a=[r[i+2]-r[i],r[i+3]-r[i+1]],s=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=[a[1]/s,-a[0]/s],u=[o[0]*n/2,o[1]*n/2];t.beginPath(),t.moveTo(r[i]-u[0],r[i+1]-u[1]),t.lineTo(r[i]+u[0],r[i+1]+u[1]),t.lineTo(r[i+2],r[i+3]),t.closePath(),t.fill()}},El.drawArrowheads=function(e,t,r){var n=t._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)},El.drawArrowhead=function(e,t,r,n,i,a,s){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(a)||a==null)){var o=this,u=t.pstyle(r+"-arrow-shape").value;if(u!=="none"){var h=t.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",d=t.pstyle(r+"-arrow-fill").value,p=t.pstyle("width").pfValue,f=t.pstyle(r+"-arrow-width"),g=f.value==="match-line"?p:f.pfValue;f.units==="%"&&(g*=p);var m=t.pstyle("opacity").value;s===void 0&&(s=m);var y=e.globalCompositeOperation;s===1&&d!=="hollow"||(e.globalCompositeOperation="destination-out",o.colorFillStyle(e,255,255,255,1),o.colorStrokeStyle(e,255,255,255,1),o.drawArrowShape(t,e,h,p,u,g,n,i,a),e.globalCompositeOperation=y);var v=t.pstyle(r+"-arrow-color").value;o.colorFillStyle(e,v[0],v[1],v[2],s),o.colorStrokeStyle(e,v[0],v[1],v[2],s),o.drawArrowShape(t,e,d,p,u,g,n,i,a)}}},El.drawArrowShape=function(e,t,r,n,i,a,s,o,u){var h,d=this,p=this.usePaths()&&i!=="triangle-cross",f=!1,g=t,m={x:s,y:o},y=e.pstyle("arrow-scale").value,v=this.getArrowWidth(n,y),x=d.arrowShapes[i];if(p){var b=d.arrowPathCache=d.arrowPathCache||[],w=oh(i),T=b[w];T!=null?(h=t=T,f=!0):(h=t=new Path2D,b[w]=h)}f||(t.beginPath&&t.beginPath(),p?x.draw(t,1,0,{x:0,y:0},1):x.draw(t,v,u,m,n),t.closePath&&t.closePath()),t=g,p&&(t.translate(s,o),t.rotate(u),t.scale(v,v)),r!=="filled"&&r!=="both"||(p?t.fill(h):t.fill()),r!=="hollow"&&r!=="both"||(t.lineWidth=a/(p?v:1),t.lineJoin="miter",p?t.stroke(h):t.stroke()),p&&(t.scale(1/v,1/v),t.rotate(-u),t.translate(-s,-o))};var x1e={safeDrawImage:function(e,t,r,n,i,a,s,o,u,h){if(!(i<=0||a<=0||u<=0||h<=0))try{e.drawImage(t,r,n,i,a,s,o,u,h)}catch(d){kr(d)}},drawInscribedImage:function(e,t,r,n,i){var a=this,s=r.position(),o=s.x,u=s.y,h=r.cy().style(),d=h.getIndexedStyle.bind(h),p=d(r,"background-fit","value",n),f=d(r,"background-repeat","value",n),g=r.width(),m=r.height(),y=2*r.padding(),v=g+(d(r,"background-width-relative-to","value",n)==="inner"?0:y),x=m+(d(r,"background-height-relative-to","value",n)==="inner"?0:y),b=r._private.rscratch,w=d(r,"background-clip","value",n)==="node",T=d(r,"background-image-opacity","value",n)*i,k=d(r,"background-image-smoothing","value",n),R=r.pstyle("corner-radius").value;R!=="auto"&&(R=r.pstyle("corner-radius").pfValue);var C=t.width||t.cachedW,E=t.height||t.cachedH;C!=null&&E!=null||(document.body.appendChild(t),C=t.cachedW=t.width||t.offsetWidth,E=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var _=C,L=E;if(d(r,"background-width","value",n)!=="auto"&&(_=d(r,"background-width","units",n)==="%"?d(r,"background-width","pfValue",n)*v:d(r,"background-width","pfValue",n)),d(r,"background-height","value",n)!=="auto"&&(L=d(r,"background-height","units",n)==="%"?d(r,"background-height","pfValue",n)*x:d(r,"background-height","pfValue",n)),_!==0&&L!==0){if(p==="contain")_*=D=Math.min(v/_,x/L),L*=D;else if(p==="cover"){var D;_*=D=Math.max(v/_,x/L),L*=D}var B=o-v/2,S=d(r,"background-position-x","units",n),N=d(r,"background-position-x","pfValue",n);B+=S==="%"?(v-_)*N:N;var A=d(r,"background-offset-x","units",n),M=d(r,"background-offset-x","pfValue",n);B+=A==="%"?(v-_)*M:M;var O=u-x/2,I=d(r,"background-position-y","units",n),P=d(r,"background-position-y","pfValue",n);O+=I==="%"?(x-L)*P:P;var $=d(r,"background-offset-y","units",n),z=d(r,"background-offset-y","pfValue",n);O+=$==="%"?(x-L)*z:z,b.pathCache&&(B-=o,O-=u,o=0,u=0);var G=e.globalAlpha;e.globalAlpha=T;var q=a.getImgSmoothing(e),J=!1;if(k==="no"&&q?(a.setImgSmoothing(e,!1),J=!0):k!=="yes"||q||(a.setImgSmoothing(e,!0),J=!0),f==="no-repeat")w&&(e.save(),b.pathCache?e.clip(b.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(e,o,u,v,x,R,b),e.clip())),a.safeDrawImage(e,t,0,0,C,E,B,O,_,L),w&&e.restore();else{var ie=e.createPattern(t,f);e.fillStyle=ie,a.nodeShapes[a.getNodeShape(r)].draw(e,o,u,v,x,R,b),e.translate(B,O),e.fill(),e.translate(-B,-O)}e.globalAlpha=G,J&&a.setImgSmoothing(e,q)}}},Jc={};function ux(e,t,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=arguments.length>6?arguments[6]:void 0;e.beginPath(),e.moveTo(t+a,r),e.lineTo(t+n-a,r),e.quadraticCurveTo(t+n,r,t+n,r+a),e.lineTo(t+n,r+i-a),e.quadraticCurveTo(t+n,r+i,t+n-a,r+i),e.lineTo(t+a,r+i),e.quadraticCurveTo(t,r+i,t,r+i-a),e.lineTo(t,r+a),e.quadraticCurveTo(t,r,t+a,r),e.closePath(),s?e.stroke():e.fill()}Jc.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(HN(r*n));t=Math.pow(2,i)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},Jc.drawElementText=function(e,t,r,n,i){var a=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],s=this;if(n==null){if(a&&!s.eleTextBiggerThanMin(t))return}else if(n===!1)return;if(t.isNode()){var o=t.pstyle("label");if(!o||!o.value)return;var u=s.getLabelJustification(t);e.textAlign=u,e.textBaseline="bottom"}else{var h=t.element()._private.rscratch.badLine,d=t.pstyle("label"),p=t.pstyle("source-label"),f=t.pstyle("target-label");if(h||(!d||!d.value)&&(!p||!p.value)&&(!f||!f.value))return;e.textAlign="center",e.textBaseline="bottom"}var g,m=!r;r&&(g=r,e.translate(-g.x1,-g.y1)),i==null?(s.drawText(e,t,null,m,a),t.isEdge()&&(s.drawText(e,t,"source",m,a),s.drawText(e,t,"target",m,a))):s.drawText(e,t,i,m,a),r&&e.translate(g.x1,g.y1)},Jc.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if((t=this.fontCaches[r]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},Jc.setupTextStyle=function(e,t){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],n=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,s=t.pstyle("font-weight").strValue,o=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,u=t.pstyle("text-outline-opacity").value*o,h=t.pstyle("color").value,d=t.pstyle("text-outline-color").value;e.font=n+" "+s+" "+i+" "+a,e.lineJoin="round",this.colorFillStyle(e,h[0],h[1],h[2],o),this.colorStrokeStyle(e,d[0],d[1],d[2],u)},l(ux,"roundRect"),Jc.getTextAngle=function(e,t){var r=e._private.rscratch,n=t?t+"-":"",i=e.pstyle(n+"text-rotation"),a=xs(r,"labelAngle",t);return i.strValue==="autorotate"?e.isEdge()?a:0:i.strValue==="none"?0:i.pfValue},Jc.drawText=function(e,t,r){var n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=t._private,s=a.rscratch,o=i?t.effectiveOpacity():1;if(!i||o!==0&&t.pstyle("text-opacity").value!==0){r==="main"&&(r=null);var u,h,d=xs(s,"labelX",r),p=xs(s,"labelY",r),f=this.getLabelText(t,r);if(f!=null&&f!==""&&!isNaN(d)&&!isNaN(p)){this.setupTextStyle(e,t,i);var g,m=r?r+"-":"",y=xs(s,"labelWidth",r),v=xs(s,"labelHeight",r),x=t.pstyle(m+"text-margin-x").pfValue,b=t.pstyle(m+"text-margin-y").pfValue,w=t.isEdge(),T=t.pstyle("text-halign").value,k=t.pstyle("text-valign").value;switch(w&&(T="center",k="center"),d+=x,p+=b,(g=n?this.getTextAngle(t,r):0)!==0&&(u=d,h=p,e.translate(u,h),e.rotate(g),d=0,p=0),k){case"top":break;case"center":p+=v/2;break;case"bottom":p+=v}var R=t.pstyle("text-background-opacity").value,C=t.pstyle("text-border-opacity").value,E=t.pstyle("text-border-width").pfValue,_=t.pstyle("text-background-padding").pfValue,L=t.pstyle("text-background-shape").strValue,D=L.indexOf("round")===0,B=2;if(R>0||E>0&&C>0){var S=d-_;switch(T){case"left":S-=y;break;case"center":S-=y/2}var N=p-v-_,A=y+2*_,M=v+2*_;if(R>0){var O=e.fillStyle,I=t.pstyle("text-background-color").value;e.fillStyle="rgba("+I[0]+","+I[1]+","+I[2]+","+R*o+")",D?ux(e,S,N,A,M,B):e.fillRect(S,N,A,M),e.fillStyle=O}if(E>0&&C>0){var P=e.strokeStyle,$=e.lineWidth,z=t.pstyle("text-border-color").value,G=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+z[0]+","+z[1]+","+z[2]+","+C*o+")",e.lineWidth=E,e.setLineDash)switch(G){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=E/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(D?ux(e,S,N,A,M,B,"stroke"):e.strokeRect(S,N,A,M),G==="double"){var q=E/2;D?ux(e,S+q,N+q,A-2*q,M-2*q,B,"stroke"):e.strokeRect(S+q,N+q,A-2*q,M-2*q)}e.setLineDash&&e.setLineDash([]),e.lineWidth=$,e.strokeStyle=P}}var J=2*t.pstyle("text-outline-width").pfValue;if(J>0&&(e.lineWidth=J),t.pstyle("text-wrap").value==="wrap"){var ie=xs(s,"labelWrapCachedLines",r),te=xs(s,"labelLineHeight",r),W=y/2,H=this.getLabelJustification(t);switch(H==="auto"||(T==="left"?H==="left"?d+=-y:H==="center"&&(d+=-W):T==="center"?H==="left"?d+=-W:H==="right"&&(d+=W):T==="right"&&(H==="center"?d+=W:H==="right"&&(d+=y))),k){case"top":case"center":case"bottom":p-=(ie.length-1)*te}for(var X=0;X<ie.length;X++)J>0&&e.strokeText(ie[X],d,p),e.fillText(ie[X],d,p),p+=te}else J>0&&e.strokeText(f,d,p),e.fillText(f,d,p);g!==0&&(e.rotate(-g),e.translate(-u,-h))}}};var Mm={drawNode:function(e,t,r){var n,i,a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],u=this,h=t._private,d=h.rscratch,p=t.position();if(lt(p.x)&&lt(p.y)&&(!o||t.visible())){var f,g,m=o?t.effectiveOpacity():1,y=u.usePaths(),v=!1,x=t.padding();n=t.width()+2*x,i=t.height()+2*x,r&&(g=r,e.translate(-g.x1,-g.y1));for(var b=t.pstyle("background-image"),w=b.value,T=new Array(w.length),k=new Array(w.length),R=0,C=0;C<w.length;C++){var E=w[C],_=T[C]=E!=null&&E!=="none";if(_){var L=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",C);R++,k[C]=u.getCachedImage(E,L,function(){h.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var D=t.pstyle("background-blacken").value,B=t.pstyle("border-width").pfValue,S=t.pstyle("background-opacity").value*m,N=t.pstyle("border-color").value,A=t.pstyle("border-style").value,M=t.pstyle("border-join").value,O=t.pstyle("border-cap").value,I=t.pstyle("border-position").value,P=t.pstyle("border-dash-pattern").pfValue,$=t.pstyle("border-dash-offset").pfValue,z=t.pstyle("border-opacity").value*m,G=t.pstyle("outline-width").pfValue,q=t.pstyle("outline-color").value,J=t.pstyle("outline-style").value,ie=t.pstyle("outline-opacity").value*m,te=t.pstyle("outline-offset").value,W=t.pstyle("corner-radius").value;W!=="auto"&&(W=t.pstyle("corner-radius").pfValue);var H=l(function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S;u.eleFillStyle(e,t,ve)},"setupShapeColor"),X=l(function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z;u.colorStrokeStyle(e,N[0],N[1],N[2],ve)},"setupBorderColor"),Q=l(function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ie;u.colorStrokeStyle(e,q[0],q[1],q[2],ve)},"setupOutlineColor"),ne=l(function(ve,Y,he,se){var be,Te=u.nodePathCache=u.nodePathCache||[],_e=Ise(he==="polygon"?he+","+se.join(","):he,""+Y,""+ve,""+W),Re=Te[_e],ke=!1;return Re!=null?(be=Re,ke=!0,d.pathCache=be):(be=new Path2D,Te[_e]=d.pathCache=be),{path:be,cacheHit:ke}},"getPath"),ee=t.pstyle("shape").strValue,pe=t.pstyle("shape-polygon-points").pfValue;if(y){e.translate(p.x,p.y);var j=ne(n,i,ee,pe);f=j.path,v=j.cacheHit}var ce=l(function(){if(!v){var ve=p;y&&(ve={x:0,y:0}),u.nodeShapes[u.getNodeShape(t)].draw(f||e,ve.x,ve.y,n,i,W,d)}y?e.fill(f):e.fill()},"drawShape"),le=l(function(){for(var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m,Y=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],he=h.backgrounding,se=0,be=0;be<k.length;be++){var Te=t.cy().style().getIndexedStyle(t,"background-image-containment","value",be);Y&&Te==="over"||!Y&&Te==="inside"?se++:T[be]&&k[be].complete&&!k[be].error&&(se++,u.drawInscribedImage(e,k[be],t,be,ve))}h.backgrounding=se!==R,he!==h.backgrounding&&t.updateStyle(!1)},"drawImages"),Ae=l(function(){var ve=arguments.length>0&&arguments[0]!==void 0&&arguments[0],Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m;u.hasPie(t)&&(u.drawPie(e,t,Y),ve&&(y||u.nodeShapes[u.getNodeShape(t)].draw(e,p.x,p.y,n,i,W,d)))},"drawPie"),Se=l(function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m,Y=(D>0?D:-D)*ve,he=D>0?0:255;D!==0&&(u.colorFillStyle(e,he,he,he,Y),y?e.fill(f):e.fill())},"darken"),ze=l(function(){if(B>0){if(e.lineWidth=B,e.lineCap=O,e.lineJoin=M,e.setLineDash)switch(A){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(P),e.lineDashOffset=$;break;case"solid":case"double":e.setLineDash([])}if(I!=="center"){if(e.save(),e.lineWidth*=2,I==="inside")y?e.clip(f):e.clip();else{var ve=new Path2D;ve.rect(-n/2-B,-i/2-B,n+2*B,i+2*B),ve.addPath(f),e.clip(ve,"evenodd")}y?e.stroke(f):e.stroke(),e.restore()}else y?e.stroke(f):e.stroke();if(A==="double"){e.lineWidth=B/3;var Y=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",y?e.stroke(f):e.stroke(),e.globalCompositeOperation=Y}e.setLineDash&&e.setLineDash([])}},"drawBorder"),Pe=l(function(){if(G>0){if(e.lineWidth=G,e.lineCap="butt",e.setLineDash)switch(J){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var ve=p;y&&(ve={x:0,y:0});var Y=u.getNodeShape(t),he=B;I==="inside"&&(he=0),I==="outside"&&(he*=2);var se,be=(n+he+(G+te))/n,Te=(i+he+(G+te))/i,_e=n*be,Re=i*Te,ke=u.nodeShapes[Y].points;if(y&&(se=ne(_e,Re,Y,ke).path),Y==="ellipse")u.drawEllipsePath(se||e,ve.x,ve.y,_e,Re);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Y)){var Be=0,Oe=0,ft=0;Y==="round-diamond"?Be=1.4*(he+te+G):Y==="round-heptagon"?(Be=1.075*(he+te+G),ft=-(he/2+te+G)/35):Y==="round-hexagon"?Be=1.12*(he+te+G):Y==="round-pentagon"?(Be=1.13*(he+te+G),ft=-(he/2+te+G)/15):Y==="round-tag"?(Be=1.12*(he+te+G),Oe=.07*(he/2+G+te)):Y==="round-triangle"&&(Be=(he+te+G)*(Math.PI/2),ft=-(he+te/2+G)/Math.PI),Be!==0&&(_e=n*(be=(n+Be)/n),["round-hexagon","round-tag"].includes(Y)||(Re=i*(Te=(i+Be)/i)));for(var Et=_e/2,Ye=Re/2,bt=(W=W==="auto"?zse(_e,Re):W)+(he+G+te)/2,at=new Array(ke.length/2),De=new Array(ke.length/2),rt=0;rt<ke.length/2;rt++)at[rt]={x:ve.x+Oe+Et*ke[2*rt],y:ve.y+ft+Ye*ke[2*rt+1]};var Je,Ze,ht,mt,yt=at.length;for(Ze=at[yt-1],Je=0;Je<yt;Je++)ht=at[Je%yt],mt=at[(Je+1)%yt],De[Je]=Sw(Ze,ht,mt,bt),Ze=ht,ht=mt;u.drawRoundPolygonPath(se||e,ve.x+Oe,ve.y+ft,n*be,i*Te,ke,De)}else["roundrectangle","round-rectangle"].includes(Y)?(W=W==="auto"?ch(_e,Re):W,u.drawRoundRectanglePath(se||e,ve.x,ve.y,_e,Re,W+(he+G+te)/2)):["cutrectangle","cut-rectangle"].includes(Y)?(W=W==="auto"?XN():W,u.drawCutRectanglePath(se||e,ve.x,ve.y,_e,Re,null,W+(he+G+te)/4)):["bottomroundrectangle","bottom-round-rectangle"].includes(Y)?(W=W==="auto"?ch(_e,Re):W,u.drawBottomRoundRectanglePath(se||e,ve.x,ve.y,_e,Re,W+(he+G+te)/2)):Y==="barrel"?u.drawBarrelPath(se||e,ve.x,ve.y,_e,Re):Y.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Y)?(ke=b5(w5(ke,(he+G+te)/n)),u.drawPolygonPath(se||e,ve.x,ve.y,n,i,ke)):(ke=b5(w5(ke,-((he+G+te)/n))),u.drawPolygonPath(se||e,ve.x,ve.y,n,i,ke));if(y?e.stroke(se):e.stroke(),J==="double"){e.lineWidth=he/3;var Xe=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",y?e.stroke(se):e.stroke(),e.globalCompositeOperation=Xe}e.setLineDash&&e.setLineDash([])}},"drawOutline"),Ve=l(function(){s&&u.drawNodeOverlay(e,t,p,n,i)},"drawOverlay"),Ue=l(function(){s&&u.drawNodeUnderlay(e,t,p,n,i)},"drawUnderlay"),Ge=l(function(){u.drawElementText(e,t,null,a)},"drawText"),V=t.pstyle("ghost").value==="yes";if(V){var ue=t.pstyle("ghost-offset-x").pfValue,oe=t.pstyle("ghost-offset-y").pfValue,we=t.pstyle("ghost-opacity").value,K=we*m;e.translate(ue,oe),Q(),Pe(),H(we*S),ce(),le(K,!0),X(we*z),ze(),Ae(D!==0||B!==0),le(K,!1),Se(K),e.translate(-ue,-oe)}y&&e.translate(-p.x,-p.y),Ue(),y&&e.translate(p.x,p.y),Q(),Pe(),H(),ce(),le(m,!0),X(),ze(),Ae(D!==0||B!==0),le(m,!1),Se(),y&&e.translate(-p.x,-p.y),Ge(),Ve(),r&&e.translate(g.x1,g.y1)}}},xB=l(function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r,n,i,a){if(r.visible()){var s=r.pstyle("".concat(e,"-padding")).pfValue,o=r.pstyle("".concat(e,"-opacity")).value,u=r.pstyle("".concat(e,"-color")).value,h=r.pstyle("".concat(e,"-shape")).value,d=r.pstyle("".concat(e,"-corner-radius")).value;if(o>0){if(n=n||r.position(),i==null||a==null){var p=r.padding();i=r.width()+2*p,a=r.height()+2*p}this.colorFillStyle(t,u[0],u[1],u[2],o),this.nodeShapes[h].draw(t,n.x,n.y,i+2*s,a+2*s,d),t.fill()}}}},"drawNodeOverlayUnderlay");Mm.drawNodeOverlay=xB("overlay"),Mm.drawNodeUnderlay=xB("underlay"),Mm.hasPie=function(e){return(e=e[0])._private.hasPie},Mm.drawPie=function(e,t,r,n){t=t[0],n=n||t.position();var i=t.cy().style(),a=t.pstyle("pie-size"),s=n.x,o=n.y,u=t.width(),h=t.height(),d=Math.min(u,h)/2,p=0;this.usePaths()&&(s=0,o=0),a.units==="%"?d*=a.pfValue:a.pfValue!==void 0&&(d=a.pfValue/2);for(var f=1;f<=i.pieBackgroundN;f++){var g=t.pstyle("pie-"+f+"-background-size").value,m=t.pstyle("pie-"+f+"-background-color").value,y=t.pstyle("pie-"+f+"-background-opacity").value*r,v=g/100;v+p>1&&(v=1-p);var x=1.5*Math.PI+2*Math.PI*p,b=x+2*Math.PI*v;g===0||p>=1||p+v>1||(e.beginPath(),e.moveTo(s,o),e.arc(s,o,d,x,b),e.closePath(),this.colorFillStyle(e,m[0],m[1],m[2],y),e.fill(),p+=v)}};var ba={};ba.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r},ba.paintCache=function(e){for(var t,r=this.paintCaches=this.paintCaches||[],n=!0,i=0;i<r.length;i++)if((t=r[i]).context===e){n=!1;break}return n&&(t={context:e},r.push(t)),t},ba.createGradientStyleFor=function(e,t,r,n,i){var a,s=this.usePaths(),o=r.pstyle(t+"-gradient-stop-colors").value,u=r.pstyle(t+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var h=r.sourceEndpoint(),d=r.targetEndpoint(),p=r.midpoint(),f=lh(h,p),g=lh(d,p);a=e.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(f,g))}else{var m=s?{x:0,y:0}:r.position(),y=r.paddedWidth(),v=r.paddedHeight();a=e.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(y,v))}else if(r.isEdge()){var x=r.sourceEndpoint(),b=r.targetEndpoint();a=e.createLinearGradient(x.x,x.y,b.x,b.y)}else{var w=s?{x:0,y:0}:r.position(),T=r.paddedWidth()/2,k=r.paddedHeight()/2;switch(r.pstyle("background-gradient-direction").value){case"to-bottom":a=e.createLinearGradient(w.x,w.y-k,w.x,w.y+k);break;case"to-top":a=e.createLinearGradient(w.x,w.y+k,w.x,w.y-k);break;case"to-left":a=e.createLinearGradient(w.x+T,w.y,w.x-T,w.y);break;case"to-right":a=e.createLinearGradient(w.x-T,w.y,w.x+T,w.y);break;case"to-bottom-right":case"to-right-bottom":a=e.createLinearGradient(w.x-T,w.y-k,w.x+T,w.y+k);break;case"to-top-right":case"to-right-top":a=e.createLinearGradient(w.x-T,w.y+k,w.x+T,w.y-k);break;case"to-bottom-left":case"to-left-bottom":a=e.createLinearGradient(w.x+T,w.y-k,w.x-T,w.y+k);break;case"to-top-left":case"to-left-top":a=e.createLinearGradient(w.x+T,w.y+k,w.x-T,w.y-k)}}if(!a)return null;for(var R=u.length===o.length,C=o.length,E=0;E<C;E++)a.addColorStop(R?u[E]:E/(C-1),"rgba("+o[E][0]+","+o[E][1]+","+o[E][2]+","+i+")");return a},ba.gradientFillStyle=function(e,t,r,n){var i=this.createGradientStyleFor(e,"background",t,r,n);if(!i)return null;e.fillStyle=i},ba.colorFillStyle=function(e,t,r,n,i){e.fillStyle="rgba("+t+","+r+","+n+","+i+")"},ba.eleFillStyle=function(e,t,r){var n=t.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(e,t,n,r);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],r)}},ba.gradientStrokeStyle=function(e,t,r,n){var i=this.createGradientStyleFor(e,"line",t,r,n);if(!i)return null;e.strokeStyle=i},ba.colorStrokeStyle=function(e,t,r,n,i){e.strokeStyle="rgba("+t+","+r+","+n+","+i+")"},ba.eleStrokeStyle=function(e,t,r){var n=t.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(e,t,n,r);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],r)}},ba.matchCanvasSize=function(e){var t=this,r=t.data,n=t.findContainerClientCoords(),i=n[2],a=n[3],s=t.getPixelRatio(),o=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(s=o);var u,h=i*s,d=a*s;if(h!==t.canvasWidth||d!==t.canvasHeight){t.fontCaches=null;var p=r.canvasContainer;p.style.width=i+"px",p.style.height=a+"px";for(var f=0;f<t.CANVAS_LAYERS;f++)(u=r.canvases[f]).width=h,u.height=d,u.style.width=i+"px",u.style.height=a+"px";for(f=0;f<t.BUFFER_COUNT;f++)(u=r.bufferCanvases[f]).width=h,u.height=d,u.style.width=i+"px",u.style.height=a+"px";t.textureMult=1,s<=1&&(u=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,u.width=h*t.textureMult,u.height=d*t.textureMult),t.canvasWidth=h,t.canvasHeight=d}},ba.renderTo=function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})},ba.render=function(e){var t=(e=e||Ose()).forcedContext,r=e.drawAllLayers,n=e.drawOnlyNodeLayer,i=e.forcedZoom,a=e.forcedPan,s=this,o=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,u=s.cy,h=s.data,d=h.canvasNeedsRedraw,p=s.textureOnViewport&&!t&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),f=e.motionBlur!==void 0?e.motionBlur:s.motionBlur,g=s.motionBlurPxRatio,m=u.hasCompoundNodes(),y=s.hoverData.draggingEles,v=!(!s.hoverData.selecting&&!s.touchData.selecting),x=f=f&&!t&&s.motionBlurEnabled&&!v;t||(s.prevPxRatio!==o&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=o),!t&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),f&&(s.mbFrames==null&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(x=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!p&&(d[s.NODE]=!0,d[s.SELECT_BOX]=!0);var b=u.style(),w=u.zoom(),T=i!==void 0?i:w,k=u.pan(),R={x:k.x,y:k.y},C={zoom:w,pan:{x:k.x,y:k.y}},E=s.prevViewport;E===void 0||C.zoom!==E.zoom||C.pan.x!==E.pan.x||C.pan.y!==E.pan.y||y&&!m||(s.motionBlurPxRatio=1),a&&(R=a),T*=o,R.x*=o,R.y*=o;var _=s.getCachedZSortedEles();function L(ne,ee,pe,j,ce){var le=ne.globalCompositeOperation;ne.globalCompositeOperation="destination-out",s.colorFillStyle(ne,255,255,255,s.motionBlurTransparency),ne.fillRect(ee,pe,j,ce),ne.globalCompositeOperation=le}function D(ne,ee){var pe,j,ce,le;s.clearingMotionBlur||ne!==h.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]&&ne!==h.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]?(pe=R,j=T,ce=s.canvasWidth,le=s.canvasHeight):(pe={x:k.x*g,y:k.y*g},j=w*g,ce=s.canvasWidth*g,le=s.canvasHeight*g),ne.setTransform(1,0,0,1,0,0),ee==="motionBlur"?L(ne,0,0,ce,le):t||ee!==void 0&&!ee||ne.clearRect(0,0,ce,le),r||(ne.translate(pe.x,pe.y),ne.scale(j,j)),a&&ne.translate(a.x,a.y),i&&ne.scale(i,i)}if(l(L,"mbclear"),l(D,"setContextTransform"),p||(s.textureDrawLastFrame=!1),p){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=u.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var B=s.data.bufferContexts[s.TEXTURE_BUFFER];B.setTransform(1,0,0,1,0,0),B.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:B,drawOnlyNodeLayer:!0,forcedPxRatio:o*s.textureMult}),(C=s.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:s.canvasWidth,height:s.canvasHeight}).mpan={x:(0-C.pan.x)/C.zoom,y:(0-C.pan.y)/C.zoom}}d[s.DRAG]=!1,d[s.NODE]=!1;var S=h.contexts[s.NODE],N=s.textureCache.texture;C=s.textureCache.viewport,S.setTransform(1,0,0,1,0,0),f?L(S,0,0,C.width,C.height):S.clearRect(0,0,C.width,C.height);var A=b.core("outside-texture-bg-color").value,M=b.core("outside-texture-bg-opacity").value;s.colorFillStyle(S,A[0],A[1],A[2],M),S.fillRect(0,0,C.width,C.height),w=u.zoom(),D(S,!1),S.clearRect(C.mpan.x,C.mpan.y,C.width/C.zoom/o,C.height/C.zoom/o),S.drawImage(N,C.mpan.x,C.mpan.y,C.width/C.zoom/o,C.height/C.zoom/o)}else s.textureOnViewport&&!t&&(s.textureCache=null);var O=u.extent(),I=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles||s.cy.animated(),P=s.hideEdgesOnViewport&&I,$=[];if($[s.NODE]=!d[s.NODE]&&f&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,$[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),$[s.DRAG]=!d[s.DRAG]&&f&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,$[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),d[s.NODE]||r||n||$[s.NODE]){var z=f&&!$[s.NODE]&&g!==1;D(S=t||(z?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:h.contexts[s.NODE]),f&&!z?"motionBlur":void 0),P?s.drawCachedNodes(S,_.nondrag,o,O):s.drawLayeredElements(S,_.nondrag,o,O),s.debug&&s.drawDebugPoints(S,_.nondrag),r||f||(d[s.NODE]=!1)}if(!n&&(d[s.DRAG]||r||$[s.DRAG])&&(z=f&&!$[s.DRAG]&&g!==1,D(S=t||(z?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:h.contexts[s.DRAG]),f&&!z?"motionBlur":void 0),P?s.drawCachedNodes(S,_.drag,o,O):s.drawCachedElements(S,_.drag,o,O),s.debug&&s.drawDebugPoints(S,_.drag),r||f||(d[s.DRAG]=!1)),s.showFps||!n&&d[s.SELECT_BOX]&&!r){if(D(S=t||h.contexts[s.SELECT_BOX]),s.selection[4]==1&&(s.hoverData.selecting||s.touchData.selecting)){w=s.cy.zoom();var G=b.core("selection-box-border-width").value/w;S.lineWidth=G,S.fillStyle="rgba("+b.core("selection-box-color").value[0]+","+b.core("selection-box-color").value[1]+","+b.core("selection-box-color").value[2]+","+b.core("selection-box-opacity").value+")",S.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),G>0&&(S.strokeStyle="rgba("+b.core("selection-box-border-color").value[0]+","+b.core("selection-box-border-color").value[1]+","+b.core("selection-box-border-color").value[2]+","+b.core("selection-box-opacity").value+")",S.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(h.bgActivePosistion&&!s.hoverData.selecting){w=s.cy.zoom();var q=h.bgActivePosistion;S.fillStyle="rgba("+b.core("active-bg-color").value[0]+","+b.core("active-bg-color").value[1]+","+b.core("active-bg-color").value[2]+","+b.core("active-bg-opacity").value+")",S.beginPath(),S.arc(q.x,q.y,b.core("active-bg-size").pfValue/w,0,2*Math.PI),S.fill()}var J=s.lastRedrawTime;if(s.showFps&&J){J=Math.round(J);var ie=Math.round(1e3/J);S.setTransform(1,0,0,1,0,0),S.fillStyle="rgba(255, 0, 0, 0.75)",S.strokeStyle="rgba(255, 0, 0, 0.75)",S.lineWidth=1,S.fillText("1 frame = "+J+" ms = "+ie+" fps",0,20),S.strokeRect(0,30,250,20),S.fillRect(0,30,250*Math.min(ie/60,1),20)}r||(d[s.SELECT_BOX]=!1)}if(f&&g!==1){var te=h.contexts[s.NODE],W=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],H=h.contexts[s.DRAG],X=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],Q=l(function(ne,ee,pe){ne.setTransform(1,0,0,1,0,0),pe||!x?ne.clearRect(0,0,s.canvasWidth,s.canvasHeight):L(ne,0,0,s.canvasWidth,s.canvasHeight);var j=g;ne.drawImage(ee,0,0,s.canvasWidth*j,s.canvasHeight*j,0,0,s.canvasWidth,s.canvasHeight)},"drawMotionBlur");(d[s.NODE]||$[s.NODE])&&(Q(te,W,$[s.NODE]),d[s.NODE]=!1),(d[s.DRAG]||$[s.DRAG])&&(Q(H,X,$[s.DRAG]),d[s.DRAG]=!1)}s.prevViewport=C,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),f&&(s.motionBlurTimeout=setTimeout(function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!p,s.mbFrames=0,d[s.NODE]=!0,d[s.DRAG]=!0,s.redraw()},100)),t||u.emit("render")};var Rc,mle={drawPolygonPath:function(e,t,r,n,i,a){var s=n/2,o=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+s*a[0],r+o*a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(t+s*a[2*u],r+o*a[2*u+1]);e.closePath()},drawRoundPolygonPath:function(e,t,r,n,i,a,s){s.forEach(function(o){return hI(e,o)}),e.closePath()},drawRoundRectanglePath:function(e,t,r,n,i,a){var s=n/2,o=i/2,u=a==="auto"?ch(n,i):Math.min(a,o,s);e.beginPath&&e.beginPath(),e.moveTo(t,r-o),e.arcTo(t+s,r-o,t+s,r,u),e.arcTo(t+s,r+o,t,r+o,u),e.arcTo(t-s,r+o,t-s,r,u),e.arcTo(t-s,r-o,t,r-o,u),e.lineTo(t,r-o),e.closePath()},drawBottomRoundRectanglePath:function(e,t,r,n,i,a){var s=n/2,o=i/2,u=a==="auto"?ch(n,i):a;e.beginPath&&e.beginPath(),e.moveTo(t,r-o),e.lineTo(t+s,r-o),e.lineTo(t+s,r),e.arcTo(t+s,r+o,t,r+o,u),e.arcTo(t-s,r+o,t-s,r,u),e.lineTo(t-s,r-o),e.lineTo(t,r-o),e.closePath()},drawCutRectanglePath:function(e,t,r,n,i,a,s){var o=n/2,u=i/2,h=s==="auto"?XN():s;e.beginPath&&e.beginPath(),e.moveTo(t-o+h,r-u),e.lineTo(t+o-h,r-u),e.lineTo(t+o,r-u+h),e.lineTo(t+o,r+u-h),e.lineTo(t+o-h,r+u),e.lineTo(t-o+h,r+u),e.lineTo(t-o,r+u-h),e.lineTo(t-o,r-u+h),e.closePath()},drawBarrelPath:function(e,t,r,n,i){var a=n/2,s=i/2,o=t-a,u=t+a,h=r-s,d=r+s,p=$C(n,i),f=p.widthOffset,g=p.heightOffset,m=p.ctrlPtOffsetPct*f;e.beginPath&&e.beginPath(),e.moveTo(o,h+g),e.lineTo(o,d-g),e.quadraticCurveTo(o+m,d,o+f,d),e.lineTo(u-f,d),e.quadraticCurveTo(u-m,d,u,d-g),e.lineTo(u,h+g),e.quadraticCurveTo(u-m,h,u-f,h),e.lineTo(o+f,h),e.quadraticCurveTo(o+m,h,o,h+g),e.closePath()}},bB=Math.sin(0),wB=Math.cos(0),dS={},pS={},yle=Math.PI/40;for(Rc=0*Math.PI;Rc<2*Math.PI;Rc+=yle)dS[Rc]=Math.sin(Rc),pS[Rc]=Math.cos(Rc);mle.drawEllipsePath=function(e,t,r,n,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,n/2,i/2,0,0,2*Math.PI);else for(var a,s,o=n/2,u=i/2,h=0*Math.PI;h<2*Math.PI;h+=yle)a=t-o*dS[h]*bB+o*pS[h]*wB,s=r+u*pS[h]*bB+u*dS[h]*wB,h===0?e.moveTo(a,s):e.lineTo(a,s);e.closePath()};var Rm={};function vle(e,t){for(var r=atob(e),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:t})}function fS(e){var t=e.indexOf(",");return e.substr(t+1)}function aT(e,t,r){var n=l(function(){return t.toDataURL(r,e.quality)},"getB64Uri");switch(e.output){case"blob-promise":return new B0(function(i,a){try{t.toBlob(function(s){s!=null?i(s):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,e.quality)}catch(s){a(s)}});case"blob":return vle(fS(n()),r);case"base64":return fS(n());default:return n()}}Rm.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]},Rm.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements().boundingBox(),n=this.findContainerClientCoords(),i=e.full?Math.ceil(r.w):n[2],a=e.full?Math.ceil(r.h):n[3],s=lt(e.maxWidth)||lt(e.maxHeight),o=this.getPixelRatio(),u=1;if(e.scale!==void 0)i*=e.scale,a*=e.scale,u=e.scale;else if(s){var h=1/0,d=1/0;lt(e.maxWidth)&&(h=u*e.maxWidth/i),lt(e.maxHeight)&&(d=u*e.maxHeight/a),i*=u=Math.min(h,d),a*=u}s||(i*=o,a*=o,u*=o);var p=document.createElement("canvas");p.width=i,p.height=a,p.style.width=i+"px",p.style.height=a+"px";var f=p.getContext("2d");if(i>0&&a>0){f.clearRect(0,0,i,a),f.globalCompositeOperation="source-over";var g=this.getCachedZSortedEles();if(e.full)f.translate(-r.x1*u,-r.y1*u),f.scale(u,u),this.drawElements(f,g),f.scale(1/u,1/u),f.translate(r.x1*u,r.y1*u);else{var m=t.pan(),y={x:m.x*u,y:m.y*u};u*=t.zoom(),f.translate(y.x,y.y),f.scale(u,u),this.drawElements(f,g),f.scale(1/u,1/u),f.translate(-y.x,-y.y)}e.bg&&(f.globalCompositeOperation="destination-over",f.fillStyle=e.bg,f.rect(0,0,i,a),f.fill())}return p},l(vle,"b64ToBlob"),l(fS,"b64UriToB64"),l(aT,"output"),Rm.png=function(e){return aT(e,this.bufferCanvasImage(e),"image/png")},Rm.jpg=function(e){return aT(e,this.bufferCanvasImage(e),"image/jpeg")};var b1e={nodeShapeImpl:function(e,t,r,n,i,a,s,o){switch(e){case"ellipse":return this.drawEllipsePath(t,r,n,i,a);case"polygon":return this.drawPolygonPath(t,r,n,i,a,s);case"round-polygon":return this.drawRoundPolygonPath(t,r,n,i,a,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,n,i,a,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,n,i,a,s,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,n,i,a,o);case"barrel":return this.drawBarrelPath(t,r,n,i,a)}}},w1e=dI,gr=dI.prototype;function dI(e){var t=this,r=t.cy.window().document;t.data={canvases:new Array(gr.CANVAS_LAYERS),contexts:new Array(gr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(gr.CANVAS_LAYERS),bufferCanvases:new Array(gr.BUFFER_COUNT),bufferContexts:new Array(gr.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";t.data.canvasContainer=r.createElement("div");var a=t.data.canvasContainer.style;t.data.canvasContainer.style[n]=i,a.position="relative",a.zIndex="0",a.overflow="hidden";var s=e.cy.container();s.appendChild(t.data.canvasContainer),s.style[n]=i;var o={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};TEe()&&(o["-ms-touch-action"]="none",o["touch-action"]="none");for(var u=0;u<gr.CANVAS_LAYERS;u++){var h=t.data.canvases[u]=r.createElement("canvas");t.data.contexts[u]=h.getContext("2d"),Object.keys(o).forEach(function(W){h.style[W]=o[W]}),h.style.position="absolute",h.setAttribute("data-id","layer"+u),h.style.zIndex=String(gr.CANVAS_LAYERS-u),t.data.canvasContainer.appendChild(h),t.data.canvasNeedsRedraw[u]=!1}for(t.data.topCanvas=t.data.canvases[0],t.data.canvases[gr.NODE].setAttribute("data-id","layer"+gr.NODE+"-node"),t.data.canvases[gr.SELECT_BOX].setAttribute("data-id","layer"+gr.SELECT_BOX+"-selectbox"),t.data.canvases[gr.DRAG].setAttribute("data-id","layer"+gr.DRAG+"-drag"),u=0;u<gr.BUFFER_COUNT;u++)t.data.bufferCanvases[u]=r.createElement("canvas"),t.data.bufferContexts[u]=t.data.bufferCanvases[u].getContext("2d"),t.data.bufferCanvases[u].style.position="absolute",t.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),t.data.bufferCanvases[u].style.zIndex=String(-u-1),t.data.bufferCanvases[u].style.visibility="hidden";t.pathsEnabled=!0;var d=da(),p=l(function(W){return{x:(W.x1+W.x2)/2,y:(W.y1+W.y2)/2}},"getBoxCenter"),f=l(function(W){return{x:-W.w/2,y:-W.h/2}},"getCenterOffset"),g=l(function(W){var H=W[0]._private;return H.oldBackgroundTimestamp!==H.backgroundTimestamp},"backgroundTimestampHasChanged"),m=l(function(W){return W[0]._private.nodeKey},"getStyleKey"),y=l(function(W){return W[0]._private.labelStyleKey},"getLabelKey"),v=l(function(W){return W[0]._private.sourceLabelStyleKey},"getSourceLabelKey"),x=l(function(W){return W[0]._private.targetLabelStyleKey},"getTargetLabelKey"),b=l(function(W,H,X,Q,ne){return t.drawElement(W,H,X,!1,!1,ne)},"drawElement"),w=l(function(W,H,X,Q,ne){return t.drawElementText(W,H,X,Q,"main",ne)},"drawLabel"),T=l(function(W,H,X,Q,ne){return t.drawElementText(W,H,X,Q,"source",ne)},"drawSourceLabel"),k=l(function(W,H,X,Q,ne){return t.drawElementText(W,H,X,Q,"target",ne)},"drawTargetLabel"),R=l(function(W){return W.boundingBox(),W[0]._private.bodyBounds},"getElementBox"),C=l(function(W){return W.boundingBox(),W[0]._private.labelBounds.main||d},"getLabelBox"),E=l(function(W){return W.boundingBox(),W[0]._private.labelBounds.source||d},"getSourceLabelBox"),_=l(function(W){return W.boundingBox(),W[0]._private.labelBounds.target||d},"getTargetLabelBox"),L=l(function(W,H){return H},"isLabelVisibleAtScale"),D=l(function(W){return p(R(W))},"getElementRotationPoint"),B=l(function(W,H,X){var Q=W?W+"-":"";return{x:H.x+X.pstyle(Q+"text-margin-x").pfValue,y:H.y+X.pstyle(Q+"text-margin-y").pfValue}},"addTextMargin"),S=l(function(W,H,X){var Q=W[0]._private.rscratch;return{x:Q[H],y:Q[X]}},"getRsPt"),N=l(function(W){return B("",S(W,"labelX","labelY"),W)},"getLabelRotationPoint"),A=l(function(W){return B("source",S(W,"sourceLabelX","sourceLabelY"),W)},"getSourceLabelRotationPoint"),M=l(function(W){return B("target",S(W,"targetLabelX","targetLabelY"),W)},"getTargetLabelRotationPoint"),O=l(function(W){return f(R(W))},"getElementRotationOffset"),I=l(function(W){return f(E(W))},"getSourceLabelRotationOffset"),P=l(function(W){return f(_(W))},"getTargetLabelRotationOffset"),$=l(function(W){var H=C(W),X=f(C(W));if(W.isNode()){switch(W.pstyle("text-halign").value){case"left":X.x=-H.w;break;case"right":X.x=0}switch(W.pstyle("text-valign").value){case"top":X.y=-H.h;break;case"bottom":X.y=0}}return X},"getLabelRotationOffset"),z=t.data.eleTxrCache=new Im(t,{getKey:m,doesEleInvalidateKey:g,drawElement:b,getBoundingBox:R,getRotationPoint:D,getRotationOffset:O,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),G=t.data.lblTxrCache=new Im(t,{getKey:y,drawElement:w,getBoundingBox:C,getRotationPoint:N,getRotationOffset:$,isVisible:L}),q=t.data.slbTxrCache=new Im(t,{getKey:v,drawElement:T,getBoundingBox:E,getRotationPoint:A,getRotationOffset:I,isVisible:L}),J=t.data.tlbTxrCache=new Im(t,{getKey:x,drawElement:k,getBoundingBox:_,getRotationPoint:M,getRotationOffset:P,isVisible:L}),ie=t.data.lyrTxrCache=new fle(t);t.onUpdateEleCalcs(l(function(W,H){z.invalidateElements(H),G.invalidateElements(H),q.invalidateElements(H),J.invalidateElements(H),ie.invalidateElements(H);for(var X=0;X<H.length;X++){var Q=H[X]._private;Q.oldBackgroundTimestamp=Q.backgroundTimestamp}},"invalidateTextureCaches"));var te=l(function(W){for(var H=0;H<W.length;H++)ie.enqueueElementRefinement(W[H].ele)},"refineInLayers");z.onDequeue(te),G.onDequeue(te),q.onDequeue(te),J.onDequeue(te)}gr.CANVAS_LAYERS=3,gr.SELECT_BOX=0,gr.DRAG=1,gr.NODE=2,gr.BUFFER_COUNT=3,gr.TEXTURE_BUFFER=0,gr.MOTIONBLUR_BUFFER_NODE=1,gr.MOTIONBLUR_BUFFER_DRAG=2,l(dI,"CanvasRenderer"),gr.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[gr.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[gr.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[gr.SELECT_BOX]=t}};var k1e=typeof Path2D<"u";gr.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e},gr.usePaths=function(){return k1e&&this.pathsEnabled},gr.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},gr.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},gr.makeOffscreenCanvas=function(e,t){var r;return(typeof OffscreenCanvas>"u"?"undefined":Gn(OffscreenCanvas))!=="undefined"?r=new OffscreenCanvas(e,t):((r=this.cy.window().document.createElement("canvas")).width=e,r.height=t),r},[gle,Jh,El,x1e,Jc,Mm,ba,mle,Rm,b1e].forEach(function(e){$t(gr,e)});var T1e=[{type:"layout",extensions:JAe},{type:"renderer",extensions:[{name:"null",impl:uI},{name:"base",impl:dle},{name:"canvas",impl:w1e}]}],xle={},ble={};function pI(e,t,r){var n=r,i=l(function(R){kr("Can not register `"+t+"` for `"+e+"` since `"+R+"` already exists in the prototype and can not be overridden")},"overrideErr");if(e==="core"){if(f2.prototype[t])return i(t);f2.prototype[t]=r}else if(e==="collection"){if(ai.prototype[t])return i(t);ai.prototype[t]=r}else if(e==="layout"){for(var a=l(function(R){this.options=R,r.call(this,R),cr(this._private)||(this._private={}),this._private.cy=R.cy,this._private.listeners=[],this.createEmitter()},"Layout"),s=a.prototype=Object.create(r.prototype),o=[],u=0;u<o.length;u++){var h=o[u];s[h]=s[h]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var d=r.prototype.stop;s.stop=function(){var R=this.options;if(R&&R.animate){var C=this.animations;if(C)for(var E=0;E<C.length;E++)C[E].stop()}return d?d.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var p=l(function(R){return R._private.cy},"getCy"),f={addEventFields:l(function(R,C){C.layout=R,C.cy=p(R),C.target=R},"addEventFields"),bubble:l(function(){return!0},"bubble"),parent:l(function(R){return p(R)},"parent")};$t(s,{createEmitter:l(function(){return this._private.emitter=new lv(f,this),this},"createEmitter"),emitter:l(function(){return this._private.emitter},"emitter"),on:l(function(R,C){return this.emitter().on(R,C),this},"on"),one:l(function(R,C){return this.emitter().one(R,C),this},"one"),once:l(function(R,C){return this.emitter().one(R,C),this},"once"),removeListener:l(function(R,C){return this.emitter().removeListener(R,C),this},"removeListener"),removeAllListeners:l(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),emit:l(function(R,C){return this.emitter().emit(R,C),this},"emit")}),br.eventAliasesOn(s),n=a}else if(e==="renderer"&&t!=="null"&&t!=="base"){var g=fI("renderer","base"),m=g.prototype,y=r,v=r.prototype,x=l(function(){g.apply(this,arguments),y.apply(this,arguments)},"Renderer"),b=x.prototype;for(var w in m){var T=m[w];if(v[w]!=null)return i(w);b[w]=T}for(var k in v)b[k]=v[k];m.clientFunctions.forEach(function(R){b[R]=b[R]||function(){hn("Renderer does not implement `renderer."+R+"()` on its prototype")}}),n=x}else if(e==="__proto__"||e==="constructor"||e==="prototype")return hn(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return pse({map:xle,keys:[e,t],value:n})}function fI(e,t){return fse({map:xle,keys:[e,t]})}function wle(e,t,r,n,i){return pse({map:ble,keys:[e,t,r,n],value:i})}function kle(e,t,r,n){return fse({map:ble,keys:[e,t,r,n]})}l(pI,"setExtension"),l(fI,"getExtension"),l(wle,"setModule"),l(kle,"getModule");var gS=l(function(){return arguments.length===2?fI.apply(null,arguments):arguments.length===3?pI.apply(null,arguments):arguments.length===4?kle.apply(null,arguments):arguments.length===5?wle.apply(null,arguments):void hn("Invalid extension access syntax")},"extension");f2.prototype.extension=gS,T1e.forEach(function(e){e.extensions.forEach(function(t){pI(e.type,t.name,t.impl)})});var Tle=l(function e(){if(!(this instanceof e))return new e;this.length=0},"Stylesheet"),Dc=Tle.prototype;Dc.instanceString=function(){return"stylesheet"},Dc.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},Dc.css=function(e,t){var r=this.length-1;if(Nt(e))this[r].properties.push({name:e,value:t});else if(cr(e))for(var n=e,i=Object.keys(n),a=0;a<i.length;a++){var s=i[a],o=n[s];if(o!=null){var u=wi.properties[s]||wi.properties[yw(s)];if(u!=null){var h=u.name,d=o;this[r].properties.push({name:h,value:d})}}}return this},Dc.style=Dc.css,Dc.generateStyle=function(e){var t=new wi(e);return this.appendToStyle(t)},Dc.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],n=r.selector,i=r.properties;e.selector(n);for(var a=0;a<i.length;a++){var s=i[a];e.css(s.name,s.value)}}return e};var Vs=l(function(e){return e===void 0&&(e={}),cr(e)?new f2(e):Nt(e)?gS.apply(gS,arguments):void 0},"cytoscape");Vs.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(Vs),e.apply(null,t),this},Vs.warnings=function(e){return Rse(e)},Vs.version="3.30.2",Vs.stylesheet=Vs.Stylesheet=Tle;/*! Bundled license information:

cytoscape/dist/cytoscape.esm.mjs:
  (*!
  Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
  Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
  Licensed under The MIT License (http://opensource.org/licenses/MIT)
  *)
  (*!
  Event object based on jQuery events, MIT license
  
  https://jquery.org/license/
  https://tldrlegal.com/license/mit-license
  https://github.com/jquery/jquery/blob/master/src/event.js
  *)
  (*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
  (*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
*/var kB=qn({"../../node_modules/.pnpm/layout-base@1.0.2/node_modules/layout-base/layout-base.js"(e,t){l(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n():typeof define=="function"&&define.amd?define([],n):typeof e=="object"?e.layoutBase=n():r.layoutBase=n()},"webpackUniversalModuleDefinition")(e,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return l(i,"__webpack_require__"),i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},i.n=function(a){var s=a&&a.__esModule?l(function(){return a.default},"getDefault"):l(function(){return a},"getModuleExports");return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=26)}([function(r,n,i){function a(){}l(a,"LayoutConstants"),a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,n,i){var a=i(2),s=i(8),o=i(9);function u(d,p,f){a.call(this,f),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=f,this.bendpoints=[],this.source=d,this.target=p}for(var h in l(u,"LEdge"),u.prototype=Object.create(a.prototype),a)u[h]=a[h];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(d,p){for(var f=this.getOtherEnd(d),g=p.getGraphManager().getRoot();;){if(f.getOwner()==p)return f;if(f.getOwner()==g)break;f=f.getOwner().getParent()}return null},u.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,n,i){function a(s){this.vGraphObject=s}l(a,"LGraphObject"),r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(13),u=i(0),h=i(16),d=i(4);function p(g,m,y,v){y==null&&v==null&&(v=m),a.call(this,v),g.graphManager!=null&&(g=g.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=v,this.edges=[],this.graphManager=g,this.rect=y!=null&&m!=null?new o(m.x,m.y,y.width,y.height):new o}for(var f in l(p,"LNode"),p.prototype=Object.create(a.prototype),a)p[f]=a[f];p.prototype.getEdges=function(){return this.edges},p.prototype.getChild=function(){return this.child},p.prototype.getOwner=function(){return this.owner},p.prototype.getWidth=function(){return this.rect.width},p.prototype.setWidth=function(g){this.rect.width=g},p.prototype.getHeight=function(){return this.rect.height},p.prototype.setHeight=function(g){this.rect.height=g},p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},p.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},p.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},p.prototype.getRect=function(){return this.rect},p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},p.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},p.prototype.setRect=function(g,m){this.rect.x=g.x,this.rect.y=g.y,this.rect.width=m.width,this.rect.height=m.height},p.prototype.setCenter=function(g,m){this.rect.x=g-this.rect.width/2,this.rect.y=m-this.rect.height/2},p.prototype.setLocation=function(g,m){this.rect.x=g,this.rect.y=m},p.prototype.moveBy=function(g,m){this.rect.x+=g,this.rect.y+=m},p.prototype.getEdgeListToNode=function(g){var m=[],y=this;return y.edges.forEach(function(v){if(v.target==g){if(v.source!=y)throw"Incorrect edge source!";m.push(v)}}),m},p.prototype.getEdgesBetween=function(g){var m=[],y=this;return y.edges.forEach(function(v){if(v.source!=y&&v.target!=y)throw"Incorrect edge source and/or target";v.target!=g&&v.source!=g||m.push(v)}),m},p.prototype.getNeighborsList=function(){var g=new Set,m=this;return m.edges.forEach(function(y){if(y.source==m)g.add(y.target);else{if(y.target!=m)throw"Incorrect incidency!";g.add(y.source)}}),g},p.prototype.withChildren=function(){var g=new Set;if(g.add(this),this.child!=null)for(var m=this.child.getNodes(),y=0;y<m.length;y++)m[y].withChildren().forEach(function(v){g.add(v)});return g},p.prototype.getNoOfChildren=function(){var g=0;if(this.child==null)g=1;else for(var m=this.child.getNodes(),y=0;y<m.length;y++)g+=m[y].getNoOfChildren();return g==0&&(g=1),g},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},p.prototype.scatter=function(){var g,m,y=-u.INITIAL_WORLD_BOUNDARY,v=u.INITIAL_WORLD_BOUNDARY;g=u.WORLD_CENTER_X+h.nextDouble()*(v-y)+y;var x=-u.INITIAL_WORLD_BOUNDARY,b=u.INITIAL_WORLD_BOUNDARY;m=u.WORLD_CENTER_Y+h.nextDouble()*(b-x)+x,this.rect.x=g,this.rect.y=m},p.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var g=this.getChild();if(g.updateBounds(!0),this.rect.x=g.getLeft(),this.rect.y=g.getTop(),this.setWidth(g.getRight()-g.getLeft()),this.setHeight(g.getBottom()-g.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var m=g.getRight()-g.getLeft(),y=g.getBottom()-g.getTop();this.labelWidth>m&&(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)),this.labelHeight>y&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-y)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-y),this.setHeight(this.labelHeight))}}},p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},p.prototype.transform=function(g){var m=this.rect.x;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var y=this.rect.y;y>u.WORLD_BOUNDARY?y=u.WORLD_BOUNDARY:y<-u.WORLD_BOUNDARY&&(y=-u.WORLD_BOUNDARY);var v=new d(m,y),x=g.inverseTransformPoint(v);this.setLocation(x.x,x.y)},p.prototype.getLeft=function(){return this.rect.x},p.prototype.getRight=function(){return this.rect.x+this.rect.width},p.prototype.getTop=function(){return this.rect.y},p.prototype.getBottom=function(){return this.rect.y+this.rect.height},p.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=p},function(r,n,i){function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}l(a,"PointD"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(0),u=i(6),h=i(3),d=i(1),p=i(13),f=i(12),g=i(11);function m(v,x,b){a.call(this,b),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=v,x!=null&&x instanceof u?this.graphManager=x:x!=null&&x instanceof Layout&&(this.graphManager=x.graphManager)}for(var y in l(m,"LGraph"),m.prototype=Object.create(a.prototype),a)m[y]=a[y];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(v,x,b){if(x==null&&b==null){var w=v;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(w)>-1)throw"Node already in graph!";return w.owner=this,this.getNodes().push(w),w}var T=v;if(!(this.getNodes().indexOf(x)>-1&&this.getNodes().indexOf(b)>-1))throw"Source or target not in graph!";if(x.owner!=b.owner||x.owner!=this)throw"Both owners must be this graph!";return x.owner!=b.owner?null:(T.source=x,T.target=b,T.isInterGraph=!1,this.getEdges().push(T),x.edges.push(T),b!=x&&b.edges.push(T),T)},m.prototype.remove=function(v){var x=v;if(v instanceof h){if(x==null)throw"Node is null!";if(x.owner==null||x.owner!=this)throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var b=x.edges.slice(),w=b.length,T=0;T<w;T++)(k=b[T]).isInterGraph?this.graphManager.remove(k):k.source.owner.remove(k);if((R=this.nodes.indexOf(x))==-1)throw"Node not in owner node list!";this.nodes.splice(R,1)}else if(v instanceof d){var k;if((k=v)==null)throw"Edge is null!";if(k.source==null||k.target==null)throw"Source and/or target is null!";if(k.source.owner==null||k.target.owner==null||k.source.owner!=this||k.target.owner!=this)throw"Source and/or target owner is invalid!";var R,C=k.source.edges.indexOf(k),E=k.target.edges.indexOf(k);if(!(C>-1&&E>-1))throw"Source and/or target doesn't know this edge!";if(k.source.edges.splice(C,1),k.target!=k.source&&k.target.edges.splice(E,1),(R=k.source.owner.getEdges().indexOf(k))==-1)throw"Not in owner's edge list!";k.source.owner.getEdges().splice(R,1)}},m.prototype.updateLeftTop=function(){for(var v,x,b,w=s.MAX_VALUE,T=s.MAX_VALUE,k=this.getNodes(),R=k.length,C=0;C<R;C++){var E=k[C];w>(v=E.getTop())&&(w=v),T>(x=E.getLeft())&&(T=x)}return w==s.MAX_VALUE?null:(b=k[0].getParent().paddingLeft!=null?k[0].getParent().paddingLeft:this.margin,this.left=T-b,this.top=w-b,new f(this.left,this.top))},m.prototype.updateBounds=function(v){for(var x,b,w,T,k,R=s.MAX_VALUE,C=-s.MAX_VALUE,E=s.MAX_VALUE,_=-s.MAX_VALUE,L=this.nodes,D=L.length,B=0;B<D;B++){var S=L[B];v&&S.child!=null&&S.updateBounds(),R>(x=S.getLeft())&&(R=x),C<(b=S.getRight())&&(C=b),E>(w=S.getTop())&&(E=w),_<(T=S.getBottom())&&(_=T)}var N=new p(R,E,C-R,_-E);R==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),k=L[0].getParent().paddingLeft!=null?L[0].getParent().paddingLeft:this.margin,this.left=N.x-k,this.right=N.x+N.width+k,this.top=N.y-k,this.bottom=N.y+N.height+k},m.calculateBounds=function(v){for(var x,b,w,T,k=s.MAX_VALUE,R=-s.MAX_VALUE,C=s.MAX_VALUE,E=-s.MAX_VALUE,_=v.length,L=0;L<_;L++){var D=v[L];k>(x=D.getLeft())&&(k=x),R<(b=D.getRight())&&(R=b),C>(w=D.getTop())&&(C=w),E<(T=D.getBottom())&&(E=T)}return new p(k,C,R-k,E-C)},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var v=0,x=this.nodes,b=x.length,w=0;w<b;w++)v+=x[w].calcEstimatedSize();return this.estimatedSize=v==0?o.EMPTY_COMPOUND_NODE_SIZE:v/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var v=this;if(this.nodes.length!=0){var x,b,w=new g,T=new Set,k=this.nodes[0];for(k.withChildren().forEach(function(_){w.push(_),T.add(_)});w.length!==0;)for(var R=(x=(k=w.shift()).getEdges()).length,C=0;C<R;C++)(b=x[C].getOtherEndInGraph(k,this))!=null&&!T.has(b)&&b.withChildren().forEach(function(_){w.push(_),T.add(_)});if(this.isConnected=!1,T.size>=this.nodes.length){var E=0;T.forEach(function(_){_.owner==v&&E++}),E==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},r.exports=m},function(r,n,i){var a,s=i(1);function o(u){a=i(5),this.layout=u,this.graphs=[],this.edges=[]}l(o,"LGraphManager"),o.prototype.addRoot=function(){var u=this.layout.newGraph(),h=this.layout.newNode(null),d=this.add(u,h);return this.setRootGraph(d),this.rootGraph},o.prototype.add=function(u,h,d,p,f){if(d==null&&p==null&&f==null){if(u==null)throw"Graph is null!";if(h==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(h.child!=null)throw"Already has a child!";return u.parent=h,h.child=u,u}f=d,d=u;var g=(p=h).getOwner(),m=f.getOwner();if(g==null||g.getGraphManager()!=this)throw"Source not in this graph mgr!";if(m==null||m.getGraphManager()!=this)throw"Target not in this graph mgr!";if(g==m)return d.isInterGraph=!1,g.add(d,p,f);if(d.isInterGraph=!0,d.source=p,d.target=f,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),d.source==null||d.target==null)throw"Edge source and/or target is null!";if(d.source.edges.indexOf(d)!=-1||d.target.edges.indexOf(d)!=-1)throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d},o.prototype.remove=function(u){if(u instanceof a){var h=u;if(h.getGraphManager()!=this)throw"Graph not in this graph mgr";if(h!=this.rootGraph&&(h.parent==null||h.parent.graphManager!=this))throw"Invalid parent node!";for(var d,p=[],f=(p=p.concat(h.getEdges())).length,g=0;g<f;g++)d=p[g],h.remove(d);var m,y=[];for(f=(y=y.concat(h.getNodes())).length,g=0;g<f;g++)m=y[g],h.remove(m);h==this.rootGraph&&this.setRootGraph(null);var v=this.graphs.indexOf(h);this.graphs.splice(v,1),h.parent=null}else if(u instanceof s){if((d=u)==null)throw"Edge is null!";if(!d.isInterGraph)throw"Not an inter-graph edge!";if(d.source==null||d.target==null)throw"Source and/or target is null!";if(d.source.edges.indexOf(d)==-1||d.target.edges.indexOf(d)==-1)throw"Source and/or target doesn't know this edge!";if(v=d.source.edges.indexOf(d),d.source.edges.splice(v,1),v=d.target.edges.indexOf(d),d.target.edges.splice(v,1),d.source.owner==null||d.source.owner.getGraphManager()==null)throw"Edge owner graph or owner graph manager is null!";if(d.source.owner.getGraphManager().edges.indexOf(d)==-1)throw"Not in owner graph manager's edge list!";v=d.source.owner.getGraphManager().edges.indexOf(d),d.source.owner.getGraphManager().edges.splice(v,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<d;p++)u=u.concat(h[p].getNodes());this.allNodes=u}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],h=this.getGraphs();h.length;for(var d=0;d<h.length;d++)u=u.concat(h[d].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(u,h){if(u==null||h==null)throw"assert failed";if(u==h)return!0;for(var d,p=u.getOwner();(d=p.getParent())!=null;){if(d==h)return!0;if((p=d.getOwner())==null)break}for(p=h.getOwner();(d=p.getParent())!=null;){if(d==u)return!0;if((p=d.getOwner())==null)break}return!1},o.prototype.calcLowestCommonAncestors=function(){for(var u,h,d,p,f,g=this.getAllEdges(),m=g.length,y=0;y<m;y++)if(h=(u=g[y]).source,d=u.target,u.lca=null,u.sourceInLca=h,u.targetInLca=d,h!=d){for(p=h.getOwner();u.lca==null;){for(u.targetInLca=d,f=d.getOwner();u.lca==null;){if(f==p){u.lca=f;break}if(f==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=f.getParent(),f=u.targetInLca.getOwner()}if(p==this.rootGraph)break;u.lca==null&&(u.sourceInLca=p.getParent(),p=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}else u.lca=h.getOwner()},o.prototype.calcLowestCommonAncestor=function(u,h){if(u==h)return u.getOwner();for(var d=u.getOwner();d!=null;){for(var p=h.getOwner();p!=null;){if(p==d)return p;p=p.getParent().getOwner()}d=d.getParent().getOwner()}return d},o.prototype.calcInclusionTreeDepths=function(u,h){var d;u==null&&h==null&&(u=this.rootGraph,h=1);for(var p=u.getNodes(),f=p.length,g=0;g<f;g++)(d=p[g]).inclusionTreeDepth=h,d.child!=null&&this.calcInclusionTreeDepths(d.child,h+1)},o.prototype.includesInvalidEdge=function(){for(var u,h=this.edges.length,d=0;d<h;d++)if(u=this.edges[d],this.isOneAncestorOfOther(u.source,u.target))return!0;return!1},r.exports=o},function(r,n,i){var a=i(0);function s(){}for(var o in l(s,"FDLayoutConstants"),a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=3*s.MAX_NODE_DISPLACEMENT_INCREMENTAL,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,i){var a=i(12);function s(){}l(s,"IGeometry"),s.calcSeparationAmount=function(o,u,h,d){if(!o.intersects(u))throw"assert failed";var p=new Array(2);this.decideDirectionsForOverlappingNodes(o,u,p),h[0]=Math.min(o.getRight(),u.getRight())-Math.max(o.x,u.x),h[1]=Math.min(o.getBottom(),u.getBottom())-Math.max(o.y,u.y),o.getX()<=u.getX()&&o.getRight()>=u.getRight()?h[0]+=Math.min(u.getX()-o.getX(),o.getRight()-u.getRight()):u.getX()<=o.getX()&&u.getRight()>=o.getRight()&&(h[0]+=Math.min(o.getX()-u.getX(),u.getRight()-o.getRight())),o.getY()<=u.getY()&&o.getBottom()>=u.getBottom()?h[1]+=Math.min(u.getY()-o.getY(),o.getBottom()-u.getBottom()):u.getY()<=o.getY()&&u.getBottom()>=o.getBottom()&&(h[1]+=Math.min(o.getY()-u.getY(),u.getBottom()-o.getBottom()));var f=Math.abs((u.getCenterY()-o.getCenterY())/(u.getCenterX()-o.getCenterX()));u.getCenterY()===o.getCenterY()&&u.getCenterX()===o.getCenterX()&&(f=1);var g=f*h[0],m=h[1]/f;h[0]<m?m=h[0]:g=h[1],h[0]=-1*p[0]*(m/2+d),h[1]=-1*p[1]*(g/2+d)},s.decideDirectionsForOverlappingNodes=function(o,u,h){o.getCenterX()<u.getCenterX()?h[0]=-1:h[0]=1,o.getCenterY()<u.getCenterY()?h[1]=-1:h[1]=1},s.getIntersection2=function(o,u,h){var d=o.getCenterX(),p=o.getCenterY(),f=u.getCenterX(),g=u.getCenterY();if(o.intersects(u))return h[0]=d,h[1]=p,h[2]=f,h[3]=g,!0;var m=o.getX(),y=o.getY(),v=o.getRight(),x=o.getX(),b=o.getBottom(),w=o.getRight(),T=o.getWidthHalf(),k=o.getHeightHalf(),R=u.getX(),C=u.getY(),E=u.getRight(),_=u.getX(),L=u.getBottom(),D=u.getRight(),B=u.getWidthHalf(),S=u.getHeightHalf(),N=!1,A=!1;if(d===f){if(p>g)return h[0]=d,h[1]=y,h[2]=f,h[3]=L,!1;if(p<g)return h[0]=d,h[1]=b,h[2]=f,h[3]=C,!1}else if(p===g){if(d>f)return h[0]=m,h[1]=p,h[2]=E,h[3]=g,!1;if(d<f)return h[0]=v,h[1]=p,h[2]=R,h[3]=g,!1}else{var M=o.height/o.width,O=u.height/u.width,I=(g-p)/(f-d),P=void 0,$=void 0,z=void 0,G=void 0,q=void 0,J=void 0;if(-M===I?d>f?(h[0]=x,h[1]=b,N=!0):(h[0]=v,h[1]=y,N=!0):M===I&&(d>f?(h[0]=m,h[1]=y,N=!0):(h[0]=w,h[1]=b,N=!0)),-O===I?f>d?(h[2]=_,h[3]=L,A=!0):(h[2]=E,h[3]=C,A=!0):O===I&&(f>d?(h[2]=R,h[3]=C,A=!0):(h[2]=D,h[3]=L,A=!0)),N&&A)return!1;if(d>f?p>g?(P=this.getCardinalDirection(M,I,4),$=this.getCardinalDirection(O,I,2)):(P=this.getCardinalDirection(-M,I,3),$=this.getCardinalDirection(-O,I,1)):p>g?(P=this.getCardinalDirection(-M,I,1),$=this.getCardinalDirection(-O,I,3)):(P=this.getCardinalDirection(M,I,2),$=this.getCardinalDirection(O,I,4)),!N)switch(P){case 1:G=y,z=d+-k/I,h[0]=z,h[1]=G;break;case 2:z=w,G=p+T*I,h[0]=z,h[1]=G;break;case 3:G=b,z=d+k/I,h[0]=z,h[1]=G;break;case 4:z=x,G=p+-T*I,h[0]=z,h[1]=G}if(!A)switch($){case 1:J=C,q=f+-S/I,h[2]=q,h[3]=J;break;case 2:q=D,J=g+B*I,h[2]=q,h[3]=J;break;case 3:J=L,q=f+S/I,h[2]=q,h[3]=J;break;case 4:q=_,J=g+-B*I,h[2]=q,h[3]=J}}return!1},s.getCardinalDirection=function(o,u,h){return o>u?h:1+h%4},s.getIntersection=function(o,u,h,d){if(d==null)return this.getIntersection2(o,u,h);var p,f,g,m,y,v,x,b=o.x,w=o.y,T=u.x,k=u.y,R=h.x,C=h.y,E=d.x,_=d.y;return(x=(p=k-w)*(m=R-E)-(f=_-C)*(g=b-T))===0?null:new a((g*(v=E*C-R*_)-m*(y=T*w-b*k))/x,(f*y-p*v)/x)},s.angleOfVector=function(o,u,h,d){var p=void 0;return o!==h?(p=Math.atan((d-u)/(h-o)),h<o?p+=Math.PI:d<u&&(p+=this.TWO_PI)):p=d<u?this.ONE_AND_HALF_PI:this.HALF_PI,p},s.doIntersect=function(o,u,h,d){var p=o.x,f=o.y,g=u.x,m=u.y,y=h.x,v=h.y,x=d.x,b=d.y,w=(g-p)*(b-v)-(x-y)*(m-f);if(w===0)return!1;var T=((b-v)*(x-p)+(y-x)*(b-f))/w,k=((f-m)*(x-p)+(g-p)*(b-f))/w;return 0<T&&T<1&&0<k&&k<1},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,i){function a(){}l(a,"IMath"),a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,n,i){function a(){}l(a,"Integer"),a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,n,i){var a=function(){function p(f,g){for(var m=0;m<g.length;m++){var y=g[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}return l(p,"defineProperties"),function(f,g,m){return g&&p(f.prototype,g),m&&p(f,m),f}}();function s(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=l(function(p){return{value:p,next:null,prev:null}},"nodeFrom"),u=l(function(p,f,g,m){return p!==null?p.next=f:m.head=f,g!==null?g.prev=f:m.tail=f,f.prev=p,f.next=g,m.length++,f},"add"),h=l(function(p,f){var g=p.prev,m=p.next;return g!==null?g.next=m:f.head=m,m!==null?m.prev=g:f.tail=g,p.prev=p.next=null,f.length--,p},"_remove"),d=function(){function p(f){var g=this;s(this,p),this.length=0,this.head=null,this.tail=null,f!=null&&f.forEach(function(m){return g.push(m)})}return l(p,"LinkedList"),a(p,[{key:"size",value:l(function(){return this.length},"size")},{key:"insertBefore",value:l(function(f,g){return u(g.prev,o(f),g,this)},"insertBefore")},{key:"insertAfter",value:l(function(f,g){return u(g,o(f),g.next,this)},"insertAfter")},{key:"insertNodeBefore",value:l(function(f,g){return u(g.prev,f,g,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:l(function(f,g){return u(g,f,g.next,this)},"insertNodeAfter")},{key:"push",value:l(function(f){return u(this.tail,o(f),null,this)},"push")},{key:"unshift",value:l(function(f){return u(null,o(f),this.head,this)},"unshift")},{key:"remove",value:l(function(f){return h(f,this)},"remove")},{key:"pop",value:l(function(){return h(this.tail,this).value},"pop")},{key:"popNode",value:l(function(){return h(this.tail,this)},"popNode")},{key:"shift",value:l(function(){return h(this.head,this).value},"shift")},{key:"shiftNode",value:l(function(){return h(this.head,this)},"shiftNode")},{key:"get_object_at",value:l(function(f){if(f<=this.length()){for(var g=1,m=this.head;g<f;)m=m.next,g++;return m.value}},"get_object_at")},{key:"set_object_at",value:l(function(f,g){if(f<=this.length()){for(var m=1,y=this.head;m<f;)y=y.next,m++;y.value=g}},"set_object_at")}]),p}();r.exports=d},function(r,n,i){function a(s,o,u){this.x=null,this.y=null,s==null&&o==null&&u==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&u==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&u==null&&(u=s,this.x=u.x,this.y=u.y)}l(a,"Point"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,u){s.constructor.name=="Point"&&o==null&&u==null?(u=s,this.setLocation(u.x,u.y)):typeof s=="number"&&typeof o=="number"&&u==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,n,i){function a(s,o,u,h){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&u!=null&&h!=null&&(this.x=s,this.y=o,this.width=u,this.height=h)}l(a,"RectangleD"),a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x)&&!(this.getBottom()<s.y)&&!(s.getRight()<this.x)&&!(s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}l(s,"UniqueIDGeneretor"),s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var u=o===void 0?"undefined":a(o);return o==null||u!="object"&&u!="function"},r.exports=s},function(r,n,i){function a(y){if(Array.isArray(y)){for(var v=0,x=Array(y.length);v<y.length;v++)x[v]=y[v];return x}return Array.from(y)}l(a,"_toConsumableArray");var s=i(0),o=i(6),u=i(3),h=i(1),d=i(5),p=i(4),f=i(17),g=i(27);function m(y){g.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}l(m,"Layout"),m.RANDOM_SEED=1,m.prototype=Object.create(g.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var y=new o(this);return this.graphManager=y,y},m.prototype.newGraph=function(y){return new d(null,this.graphManager,y)},m.prototype.newNode=function(y){return new u(this.graphManager,y)},m.prototype.newEdge=function(y){return new h(null,null,y)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){var y;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),y=!this.checkLayoutSuccess()&&this.layout(),s.ANIMATE!=="during"&&(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y=this.graphManager.getAllEdges(),v=0;v<y.length;v++)y[v];var x=this.graphManager.getRoot().getNodes();for(v=0;v<x.length;v++)x[v];this.update(this.graphManager.getRoot())}},m.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof u){var v=y;if(v.getChild()!=null)for(var x=v.getChild().getNodes(),b=0;b<x.length;b++)update(x[b]);v.vGraphObject!=null&&v.vGraphObject.update(v)}else if(y instanceof h){var w=y;w.vGraphObject!=null&&w.vGraphObject.update(w)}else if(y instanceof d){var T=y;T.vGraphObject!=null&&T.vGraphObject.update(T)}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(y){if(y==null)this.transform(new p(0,0));else{var v=new f,x=this.graphManager.getRoot().updateLeftTop();if(x!=null){v.setWorldOrgX(y.x),v.setWorldOrgY(y.y),v.setDeviceOrgX(x.x),v.setDeviceOrgY(x.y);for(var b=this.getAllNodes(),w=0;w<b.length;w++)b[w].transform(v)}}},m.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var v,x,b=y.getNodes(),w=0;w<b.length;w++)(x=(v=b[w]).getChild())==null||x.getNodes().length==0?v.scatter():(this.positionNodesRandomly(x),v.updateBounds())},m.prototype.getFlatForest=function(){for(var y=[],v=!0,x=this.graphManager.getRoot().getNodes(),b=!0,w=0;w<x.length;w++)x[w].getChild()!=null&&(b=!1);if(!b)return y;var T=new Set,k=[],R=new Map,C=[];for(C=C.concat(x);C.length>0&&v;){for(k.push(C[0]);k.length>0&&v;){var E=k[0];k.splice(0,1),T.add(E);var _=E.getEdges();for(w=0;w<_.length;w++){var L=_[w].getOtherEnd(E);if(R.get(E)!=L){if(T.has(L)){v=!1;break}k.push(L),R.set(L,E)}}}if(v){var D=[].concat(a(T));for(y.push(D),w=0;w<D.length;w++){var B=D[w],S=C.indexOf(B);S>-1&&C.splice(S,1)}T=new Set,R=new Map}else y=[]}return y},m.prototype.createDummyNodesForBendpoints=function(y){for(var v=[],x=y.source,b=this.graphManager.calcLowestCommonAncestor(y.source,y.target),w=0;w<y.bendpoints.length;w++){var T=this.newNode(null);T.setRect(new Point(0,0),new Dimension(1,1)),b.add(T);var k=this.newEdge(null);this.graphManager.add(k,x,T),v.add(T),x=T}return k=this.newEdge(null),this.graphManager.add(k,x,y.target),this.edgeToDummyNodes.set(y,v),y.isInterGraph()?this.graphManager.remove(y):b.remove(y),v},m.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(a(this.edgeToDummyNodes.keys())).concat(y);for(var v=0;v<y.length;v++){var x=y[v];if(x.bendpoints.length>0){for(var b=this.edgeToDummyNodes.get(x),w=0;w<b.length;w++){var T=b[w],k=new p(T.getCenterX(),T.getCenterY()),R=x.bendpoints.get(w);R.x=k.x,R.y=k.y,T.getOwner().remove(T)}this.graphManager.add(x,x.source,x.target)}}},m.transform=function(y,v,x,b){if(x!=null&&b!=null){var w=v;return y<=50?w-=(v-v/x)/50*(50-y):w+=(v*b-v)/50*(y-50),w}var T,k;return y<=50?(T=9*v/500,k=v/10):(T=9*v/50,k=-8*v),T*y+k},m.findCenterOfTree=function(y){var v=[];v=v.concat(y);var x=[],b=new Map,w=!1,T=null;v.length!=1&&v.length!=2||(w=!0,T=v[0]);for(var k=0;k<v.length;k++){var R=(_=v[k]).getNeighborsList().size;b.set(_,_.getNeighborsList().size),R==1&&x.push(_)}var C=[];for(C=C.concat(x);!w;){var E=[];for(E=E.concat(C),C=[],k=0;k<v.length;k++){var _=v[k],L=v.indexOf(_);L>=0&&v.splice(L,1),_.getNeighborsList().forEach(function(D){if(x.indexOf(D)<0){var B=b.get(D)-1;B==1&&C.push(D),b.set(D,B)}})}x=x.concat(C),v.length!=1&&v.length!=2||(w=!0,T=v[0])}return T},m.prototype.setGraphManager=function(y){this.graphManager=y},r.exports=m},function(r,n,i){function a(){}l(a,"RandomSeed"),a.seed=1,a.x=0,a.nextDouble=function(){return a.x=1e4*Math.sin(a.seed++),a.x-Math.floor(a.x)},r.exports=a},function(r,n,i){var a=i(4);function s(o,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}l(s,"Transform"),s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var u=0,h=this.lworldExtX;return h!=0&&(u=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/h),u},s.prototype.transformY=function(o){var u=0,h=this.lworldExtY;return h!=0&&(u=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/h),u},s.prototype.inverseTransformX=function(o){var u=0,h=this.ldeviceExtX;return h!=0&&(u=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/h),u},s.prototype.inverseTransformY=function(o){var u=0,h=this.ldeviceExtY;return h!=0&&(u=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/h),u},s.prototype.inverseTransformPoint=function(o){return new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y))},r.exports=s},function(r,n,i){function a(g){if(Array.isArray(g)){for(var m=0,y=Array(g.length);m<g.length;m++)y[m]=g[m];return y}return Array.from(g)}l(a,"_toConsumableArray");var s=i(15),o=i(7),u=i(0),h=i(8),d=i(9);function p(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}for(var f in l(p,"FDLayout"),p.prototype=Object.create(s.prototype),s)p[f]=s[f];p.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},p.prototype.calcIdealEdgeLengths=function(){for(var g,m,y,v,x,b,w=this.getGraphManager().getAllEdges(),T=0;T<w.length;T++)(g=w[T]).idealLength=this.idealEdgeLength,g.isInterGraph&&(y=g.getSource(),v=g.getTarget(),x=g.getSourceInLca().getEstimatedSize(),b=g.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(g.idealLength+=x+b-2*u.SIMPLE_NODE_SIZE),m=g.getLca().getInclusionTreeDepth(),g.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(y.getInclusionTreeDepth()+v.getInclusionTreeDepth()-2*m))},p.prototype.initSpringEmbedder=function(){var g=this.getAllNodes().length;this.incremental?(g>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(g-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(g>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(g-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},p.prototype.calcSpringForces=function(){for(var g,m=this.getAllEdges(),y=0;y<m.length;y++)g=m[y],this.calcSpringForce(g,g.idealLength)},p.prototype.calcRepulsionForces=function(){var g,m,y,v,x,b=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],w=arguments.length>1&&arguments[1]!==void 0&&arguments[1],T=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&b&&this.updateGrid(),x=new Set,g=0;g<T.length;g++)y=T[g],this.calculateRepulsionForceOfANode(y,x,b,w),x.add(y);else for(g=0;g<T.length;g++)for(y=T[g],m=g+1;m<T.length;m++)v=T[m],y.getOwner()==v.getOwner()&&this.calcRepulsionForce(y,v)},p.prototype.calcGravitationalForces=function(){for(var g,m=this.getAllNodesToApplyGravitation(),y=0;y<m.length;y++)g=m[y],this.calcGravitationalForce(g)},p.prototype.moveNodes=function(){for(var g=this.getAllNodes(),m=0;m<g.length;m++)g[m].move()},p.prototype.calcSpringForce=function(g,m){var y,v,x,b,w=g.getSource(),T=g.getTarget();if(this.uniformLeafNodeSizes&&w.getChild()==null&&T.getChild()==null)g.updateLengthSimple();else if(g.updateLength(),g.isOverlapingSourceAndTarget)return;(y=g.getLength())!=0&&(x=(v=this.springConstant*(y-m))*(g.lengthX/y),b=v*(g.lengthY/y),w.springForceX+=x,w.springForceY+=b,T.springForceX-=x,T.springForceY-=b)},p.prototype.calcRepulsionForce=function(g,m){var y,v,x,b,w,T,k,R=g.getRect(),C=m.getRect(),E=new Array(2),_=new Array(4);if(R.intersects(C)){h.calcSeparationAmount(R,C,E,o.DEFAULT_EDGE_LENGTH/2),T=2*E[0],k=2*E[1];var L=g.noOfChildren*m.noOfChildren/(g.noOfChildren+m.noOfChildren);g.repulsionForceX-=L*T,g.repulsionForceY-=L*k,m.repulsionForceX+=L*T,m.repulsionForceY+=L*k}else this.uniformLeafNodeSizes&&g.getChild()==null&&m.getChild()==null?(y=C.getCenterX()-R.getCenterX(),v=C.getCenterY()-R.getCenterY()):(h.getIntersection(R,C,_),y=_[2]-_[0],v=_[3]-_[1]),Math.abs(y)<o.MIN_REPULSION_DIST&&(y=d.sign(y)*o.MIN_REPULSION_DIST),Math.abs(v)<o.MIN_REPULSION_DIST&&(v=d.sign(v)*o.MIN_REPULSION_DIST),x=y*y+v*v,b=Math.sqrt(x),T=(w=this.repulsionConstant*g.noOfChildren*m.noOfChildren/x)*y/b,k=w*v/b,g.repulsionForceX-=T,g.repulsionForceY-=k,m.repulsionForceX+=T,m.repulsionForceY+=k},p.prototype.calcGravitationalForce=function(g){var m,y,v,x,b,w,T,k;y=((m=g.getOwner()).getRight()+m.getLeft())/2,v=(m.getTop()+m.getBottom())/2,x=g.getCenterX()-y,b=g.getCenterY()-v,w=Math.abs(x)+g.getWidth()/2,T=Math.abs(b)+g.getHeight()/2,g.getOwner()==this.graphManager.getRoot()?(w>(k=m.getEstimatedSize()*this.gravityRangeFactor)||T>k)&&(g.gravitationForceX=-this.gravityConstant*x,g.gravitationForceY=-this.gravityConstant*b):(w>(k=m.getEstimatedSize()*this.compoundGravityRangeFactor)||T>k)&&(g.gravitationForceX=-this.gravityConstant*x*this.compoundGravityConstant,g.gravitationForceY=-this.gravityConstant*b*this.compoundGravityConstant)},p.prototype.isConverged=function(){var g,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),g=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,g||m},p.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},p.prototype.calcNoOfChildrenForAllNodes=function(){for(var g,m=this.graphManager.getAllNodes(),y=0;y<m.length;y++)(g=m[y]).noOfChildren=g.getNoOfChildren()},p.prototype.calcGrid=function(g){var m,y;m=parseInt(Math.ceil((g.getRight()-g.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((g.getBottom()-g.getTop())/this.repulsionRange));for(var v=new Array(m),x=0;x<m;x++)v[x]=new Array(y);for(x=0;x<m;x++)for(var b=0;b<y;b++)v[x][b]=new Array;return v},p.prototype.addNodeToGrid=function(g,m,y){var v,x,b,w;v=parseInt(Math.floor((g.getRect().x-m)/this.repulsionRange)),x=parseInt(Math.floor((g.getRect().width+g.getRect().x-m)/this.repulsionRange)),b=parseInt(Math.floor((g.getRect().y-y)/this.repulsionRange)),w=parseInt(Math.floor((g.getRect().height+g.getRect().y-y)/this.repulsionRange));for(var T=v;T<=x;T++)for(var k=b;k<=w;k++)this.grid[T][k].push(g),g.setGridCoordinates(v,x,b,w)},p.prototype.updateGrid=function(){var g,m,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),g=0;g<y.length;g++)m=y[g],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},p.prototype.calculateRepulsionForceOfANode=function(g,m,y,v){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&y||v){var x,b=new Set;g.surrounding=new Array;for(var w=this.grid,T=g.startX-1;T<g.finishX+2;T++)for(var k=g.startY-1;k<g.finishY+2;k++)if(!(T<0||k<0||T>=w.length||k>=w[0].length)){for(var R=0;R<w[T][k].length;R++)if(x=w[T][k][R],g.getOwner()==x.getOwner()&&g!=x&&!m.has(x)&&!b.has(x)){var C=Math.abs(g.getCenterX()-x.getCenterX())-(g.getWidth()/2+x.getWidth()/2),E=Math.abs(g.getCenterY()-x.getCenterY())-(g.getHeight()/2+x.getHeight()/2);C<=this.repulsionRange&&E<=this.repulsionRange&&b.add(x)}}g.surrounding=[].concat(a(b))}for(T=0;T<g.surrounding.length;T++)this.calcRepulsionForce(g,g.surrounding[T])},p.prototype.calcRepulsionRange=function(){return 0},r.exports=p},function(r,n,i){var a=i(1),s=i(7);function o(h,d,p){a.call(this,h,d,p),this.idealLength=s.DEFAULT_EDGE_LENGTH}for(var u in l(o,"FDLayoutEdge"),o.prototype=Object.create(a.prototype),a)o[u]=a[u];r.exports=o},function(r,n,i){var a=i(3);function s(u,h,d,p){a.call(this,u,h,d,p),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var o in l(s,"FDLayoutNode"),s.prototype=Object.create(a.prototype),a)s[o]=a[o];s.prototype.setGridCoordinates=function(u,h,d,p){this.startX=u,this.finishX=h,this.startY=d,this.finishY=p},r.exports=s},function(r,n,i){function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}l(a,"DimensionD"),a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,n,i){var a=i(14);function s(){this.map={},this.keys=[]}l(s,"HashMap"),s.prototype.put=function(o,u){var h=a.createID(o);this.contains(h)||(this.map[h]=u,this.keys.push(o))},s.prototype.contains=function(o){return a.createID(o),this.map[o]!=null},s.prototype.get=function(o){var u=a.createID(o);return this.map[u]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,i){var a=i(14);function s(){this.set={}}l(s,"HashSet"),s.prototype.add=function(o){var u=a.createID(o);this.contains(u)||(this.set[u]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var u=Object.keys(this.set),h=u.length,d=0;d<h;d++)o.push(this.set[u[d]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var u=o.length,h=0;h<u;h++){var d=o[h];this.add(d)}},r.exports=s},function(r,n,i){var a=function(){function h(d,p){for(var f=0;f<p.length;f++){var g=p[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return l(h,"defineProperties"),function(d,p,f){return p&&h(d.prototype,p),f&&h(d,f),d}}();function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=i(11),u=function(){function h(d,p){s(this,h),p===null&&p===void 0||(this.compareFunction=this._defaultCompareFunction);var f=void 0;f=d instanceof o?d.size():d.length,this._quicksort(d,0,f-1)}return l(h,"Quicksort"),a(h,[{key:"_quicksort",value:l(function(d,p,f){if(p<f){var g=this._partition(d,p,f);this._quicksort(d,p,g),this._quicksort(d,g+1,f)}},"_quicksort")},{key:"_partition",value:l(function(d,p,f){for(var g=this._get(d,p),m=p,y=f;;){for(;this.compareFunction(g,this._get(d,y));)y--;for(;this.compareFunction(this._get(d,m),g);)m++;if(!(m<y))return y;this._swap(d,m,y),m++,y--}},"_partition")},{key:"_get",value:l(function(d,p){return d instanceof o?d.get_object_at(p):d[p]},"_get")},{key:"_set",value:l(function(d,p,f){d instanceof o?d.set_object_at(p,f):d[p]=f},"_set")},{key:"_swap",value:l(function(d,p,f){var g=this._get(d,p);this._set(d,p,this._get(d,f)),this._set(d,f,g)},"_swap")},{key:"_defaultCompareFunction",value:l(function(d,p){return p>d},"_defaultCompareFunction")}]),h}();r.exports=u},function(r,n,i){var a=function(){function u(h,d){for(var p=0;p<d.length;p++){var f=d[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return l(u,"defineProperties"),function(h,d,p){return d&&u(h.prototype,d),p&&u(h,p),h}}();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=function(){function u(h,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,u),this.sequence1=h,this.sequence2=d,this.match_score=p,this.mismatch_penalty=f,this.gap_penalty=g,this.iMax=h.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[m][y]=0}this.tracebackGrid=new Array(this.iMax);for(var v=0;v<this.iMax;v++){this.tracebackGrid[v]=new Array(this.jMax);for(var x=0;x<this.jMax;x++)this.tracebackGrid[v][x]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return l(u,"NeedlemanWunsch"),a(u,[{key:"getScore",value:l(function(){return this.score},"getScore")},{key:"getAlignments",value:l(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:l(function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var f=1;f<this.jMax;f++){var g=[this.sequence1[p-1]===this.sequence2[f-1]?this.grid[p-1][f-1]+this.match_score:this.grid[p-1][f-1]+this.mismatch_penalty,this.grid[p-1][f]+this.gap_penalty,this.grid[p][f-1]+this.gap_penalty],m=this.arrayAllMaxIndexes(g);this.grid[p][f]=g[m[0]],this.tracebackGrid[p][f]=[m.includes(0),m.includes(1),m.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:l(function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var d=h[0],p=this.tracebackGrid[d.pos[0]][d.pos[1]];p[0]&&h.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),p[1]&&h.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),p[2]&&h.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),h.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:l(function(h,d){for(var p=[],f=-1;(f=h.indexOf(d,f+1))!==-1;)p.push(f);return p},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:l(function(h){return this.getAllIndexes(h,Math.max.apply(null,h))},"arrayAllMaxIndexes")}]),u}();r.exports=o},function(r,n,i){var a=l(function(){},"layoutBase");a.FDLayout=i(18),a.FDLayoutConstants=i(7),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(4),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(24),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(5),a.LEdge=i(1),a.LGraphManager=i(6),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(25),r.exports=a},function(r,n,i){function a(){this.listeners=[]}l(a,"Emitter");var s=a.prototype;s.addListener=function(o,u){this.listeners.push({event:o,callback:u})},s.removeListener=function(o,u){for(var h=this.listeners.length;h>=0;h--){var d=this.listeners[h];d.event===o&&d.callback===u&&this.listeners.splice(h,1)}},s.emit=function(o,u){for(var h=0;h<this.listeners.length;h++){var d=this.listeners[h];o===d.event&&d.callback(u)}},r.exports=a}])})}}),TB=qn({"../../node_modules/.pnpm/cose-base@1.0.3/node_modules/cose-base/cose-base.js"(e,t){l(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n(kB()):typeof define=="function"&&define.amd?define(["layout-base"],n):typeof e=="object"?e.coseBase=n(kB()):r.coseBase=n(r.layoutBase)},"webpackUniversalModuleDefinition")(e,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return l(a,"__webpack_require__"),a.m=n,a.c=i,a.i=function(s){return s},a.d=function(s,o,u){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:u})},a.n=function(s){var o=s&&s.__esModule?l(function(){return s.default},"getDefault"):l(function(){return s},"getModuleExports");return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=7)}([function(n,i){n.exports=r},function(n,i,a){var s=a(0).FDLayoutConstants;function o(){}for(var u in l(o,"CoSEConstants"),s)o[u]=s[u];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=s.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=o},function(n,i,a){var s=a(0).FDLayoutEdge;function o(h,d,p){s.call(this,h,d,p)}for(var u in l(o,"CoSEEdge"),o.prototype=Object.create(s.prototype),s)o[u]=s[u];n.exports=o},function(n,i,a){var s=a(0).LGraph;function o(h,d,p){s.call(this,h,d,p)}for(var u in l(o,"CoSEGraph"),o.prototype=Object.create(s.prototype),s)o[u]=s[u];n.exports=o},function(n,i,a){var s=a(0).LGraphManager;function o(h){s.call(this,h)}for(var u in l(o,"CoSEGraphManager"),o.prototype=Object.create(s.prototype),s)o[u]=s[u];n.exports=o},function(n,i,a){var s=a(0).FDLayoutNode,o=a(0).IMath;function u(d,p,f,g){s.call(this,d,p,f,g)}for(var h in l(u,"CoSENode"),u.prototype=Object.create(s.prototype),s)u[h]=s[h];u.prototype.move=function(){var d=this.graphManager.getLayout();this.displacementX=d.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=d.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementX=d.coolingFactor*d.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementY=d.coolingFactor*d.maxNodeDisplacement*o.sign(this.displacementY)),this.child==null||this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),d.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.propogateDisplacementToChildren=function(d,p){for(var f,g=this.getChild().getNodes(),m=0;m<g.length;m++)(f=g[m]).getChild()==null?(f.moveBy(d,p),f.displacementX+=d,f.displacementY+=p):f.propogateDisplacementToChildren(d,p)},u.prototype.setPred1=function(d){this.pred1=d},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(d){this.next=d},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(d){this.processed=d},u.prototype.isProcessed=function(){return processed},n.exports=u},function(n,i,a){var s=a(0).FDLayout,o=a(4),u=a(3),h=a(5),d=a(2),p=a(1),f=a(0).FDLayoutConstants,g=a(0).LayoutConstants,m=a(0).Point,y=a(0).PointD,v=a(0).Layout,x=a(0).Integer,b=a(0).IGeometry,w=a(0).LGraph,T=a(0).Transform;function k(){s.call(this),this.toBeTiled={}}for(var R in l(k,"CoSELayout"),k.prototype=Object.create(s.prototype),s)k[R]=s[R];k.prototype.newGraphManager=function(){var C=new o(this);return this.graphManager=C,C},k.prototype.newGraph=function(C){return new u(null,this.graphManager,C)},k.prototype.newNode=function(C){return new h(this.graphManager,C)},k.prototype.newEdge=function(C){return new d(null,null,C)},k.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.isSubLayout||(p.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=p.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=p.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=f.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=f.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=f.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=f.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=f.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=f.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/f.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=f.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},k.prototype.layout=function(){return g.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},k.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)p.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),E=new Set(this.getAllNodes()),_=this.nodesWithGravity.filter(function(L){return E.has(L)}),this.graphManager.setAllNodesToApplyGravitation(_));else{var C=this.getFlatForest();if(C.length>0)this.positionNodesRadially(C);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),_=this.nodesWithGravity.filter(function(L){return E.has(L)});this.graphManager.setAllNodesToApplyGravitation(_),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},k.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%f.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var C=new Set(this.getAllNodes()),E=this.nodesWithGravity.filter(function(D){return C.has(D)});this.graphManager.setAllNodesToApplyGravitation(E),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=f.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=f.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var _=!this.isTreeGrowing&&!this.isGrowthFinished,L=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(_,L),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},k.prototype.getPositionsData=function(){for(var C=this.graphManager.getAllNodes(),E={},_=0;_<C.length;_++){var L=C[_].rect,D=C[_].id;E[D]={id:D,x:L.getCenterX(),y:L.getCenterY(),w:L.width,h:L.height}}return E},k.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var C=!1;if(f.ANIMATE==="during")this.emit("layoutstarted");else{for(;!C;)C=this.tick();this.graphManager.updateBounds()}},k.prototype.calculateNodesToApplyGravitationTo=function(){var C,E,_=[],L=this.graphManager.getGraphs(),D=L.length;for(E=0;E<D;E++)(C=L[E]).updateConnected(),C.isConnected||(_=_.concat(C.getNodes()));return _},k.prototype.createBendpoints=function(){var C=[];C=C.concat(this.graphManager.getAllEdges());var E,_=new Set;for(E=0;E<C.length;E++){var L=C[E];if(!_.has(L)){var D=L.getSource(),B=L.getTarget();if(D==B)L.getBendpoints().push(new y),L.getBendpoints().push(new y),this.createDummyNodesForBendpoints(L),_.add(L);else{var S=[];if(S=(S=S.concat(D.getEdgeListToNode(B))).concat(B.getEdgeListToNode(D)),!_.has(S[0])){var N;if(S.length>1)for(N=0;N<S.length;N++){var A=S[N];A.getBendpoints().push(new y),this.createDummyNodesForBendpoints(A)}S.forEach(function(M){_.add(M)})}}}if(_.size==C.length)break}},k.prototype.positionNodesRadially=function(C){for(var E=new m(0,0),_=Math.ceil(Math.sqrt(C.length)),L=0,D=0,B=0,S=new y(0,0),N=0;N<C.length;N++){N%_==0&&(B=0,D=L,N!=0&&(D+=p.DEFAULT_COMPONENT_SEPERATION),L=0);var A=C[N],M=v.findCenterOfTree(A);E.x=B,E.y=D,(S=k.radialLayout(A,M,E)).y>L&&(L=Math.floor(S.y)),B=Math.floor(S.x+p.DEFAULT_COMPONENT_SEPERATION)}this.transform(new y(g.WORLD_CENTER_X-S.x/2,g.WORLD_CENTER_Y-S.y/2))},k.radialLayout=function(C,E,_){var L=Math.max(this.maxDiagonalInTree(C),p.DEFAULT_RADIAL_SEPARATION);k.branchRadialLayout(E,null,0,359,0,L);var D=w.calculateBounds(C),B=new T;B.setDeviceOrgX(D.getMinX()),B.setDeviceOrgY(D.getMinY()),B.setWorldOrgX(_.x),B.setWorldOrgY(_.y);for(var S=0;S<C.length;S++)C[S].transform(B);var N=new y(D.getMaxX(),D.getMaxY());return B.inverseTransformPoint(N)},k.branchRadialLayout=function(C,E,_,L,D,B){var S=(L-_+1)/2;S<0&&(S+=180);var N=(S+_)%360*b.TWO_PI/360,A=D*Math.cos(N),M=D*Math.sin(N);C.setCenter(A,M);var O=[],I=(O=O.concat(C.getEdges())).length;E!=null&&I--;for(var P,$=0,z=O.length,G=C.getEdgesBetween(E);G.length>1;){var q=G[0];G.splice(0,1);var J=O.indexOf(q);J>=0&&O.splice(J,1),z--,I--}P=E!=null?(O.indexOf(G[0])+1)%z:0;for(var ie=Math.abs(L-_)/I,te=P;$!=I;te=++te%z){var W=O[te].getOtherEnd(C);if(W!=E){var H=(_+$*ie)%360,X=(H+ie)%360;k.branchRadialLayout(W,C,H,X,D+B,B),$++}}},k.maxDiagonalInTree=function(C){for(var E=x.MIN_VALUE,_=0;_<C.length;_++){var L=C[_].getDiagonal();L>E&&(E=L)}return E},k.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},k.prototype.groupZeroDegreeMembers=function(){var C=this,E={};this.memberGroups={},this.idToDummyNode={};for(var _=[],L=this.graphManager.getAllNodes(),D=0;D<L.length;D++){var B=(S=L[D]).getParent();this.getNodeDegreeWithChildren(S)!==0||B.id!=null&&this.getToBeTiled(B)||_.push(S)}for(D=0;D<_.length;D++){var S,N=(S=_[D]).getParent().id;E[N]===void 0&&(E[N]=[]),E[N]=E[N].concat(S)}Object.keys(E).forEach(function(A){if(E[A].length>1){var M="DummyCompound_"+A;C.memberGroups[M]=E[A];var O=E[A][0].getParent(),I=new h(C.graphManager);I.id=M,I.paddingLeft=O.paddingLeft||0,I.paddingRight=O.paddingRight||0,I.paddingBottom=O.paddingBottom||0,I.paddingTop=O.paddingTop||0,C.idToDummyNode[M]=I;var P=C.getGraphManager().add(C.newGraph(),I),$=O.getChild();$.add(I);for(var z=0;z<E[A].length;z++){var G=E[A][z];$.remove(G),P.add(G)}}})},k.prototype.clearCompounds=function(){var C={},E={};this.performDFSOnCompounds();for(var _=0;_<this.compoundOrder.length;_++)E[this.compoundOrder[_].id]=this.compoundOrder[_],C[this.compoundOrder[_].id]=[].concat(this.compoundOrder[_].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[_].getChild()),this.compoundOrder[_].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(C,E)},k.prototype.clearZeroDegreeMembers=function(){var C=this,E=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(_){var L=C.idToDummyNode[_];E[_]=C.tileNodes(C.memberGroups[_],L.paddingLeft+L.paddingRight),L.rect.width=E[_].width,L.rect.height=E[_].height})},k.prototype.repopulateCompounds=function(){for(var C=this.compoundOrder.length-1;C>=0;C--){var E=this.compoundOrder[C],_=E.id,L=E.paddingLeft,D=E.paddingTop;this.adjustLocations(this.tiledMemberPack[_],E.rect.x,E.rect.y,L,D)}},k.prototype.repopulateZeroDegreeMembers=function(){var C=this,E=this.tiledZeroDegreePack;Object.keys(E).forEach(function(_){var L=C.idToDummyNode[_],D=L.paddingLeft,B=L.paddingTop;C.adjustLocations(E[_],L.rect.x,L.rect.y,D,B)})},k.prototype.getToBeTiled=function(C){var E=C.id;if(this.toBeTiled[E]!=null)return this.toBeTiled[E];var _=C.getChild();if(_==null)return this.toBeTiled[E]=!1,!1;for(var L=_.getNodes(),D=0;D<L.length;D++){var B=L[D];if(this.getNodeDegree(B)>0)return this.toBeTiled[E]=!1,!1;if(B.getChild()!=null){if(!this.getToBeTiled(B))return this.toBeTiled[E]=!1,!1}else this.toBeTiled[B.id]=!1}return this.toBeTiled[E]=!0,!0},k.prototype.getNodeDegree=function(C){C.id;for(var E=C.getEdges(),_=0,L=0;L<E.length;L++){var D=E[L];D.getSource().id!==D.getTarget().id&&(_+=1)}return _},k.prototype.getNodeDegreeWithChildren=function(C){var E=this.getNodeDegree(C);if(C.getChild()==null)return E;for(var _=C.getChild().getNodes(),L=0;L<_.length;L++){var D=_[L];E+=this.getNodeDegreeWithChildren(D)}return E},k.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},k.prototype.fillCompexOrderByDFS=function(C){for(var E=0;E<C.length;E++){var _=C[E];_.getChild()!=null&&this.fillCompexOrderByDFS(_.getChild().getNodes()),this.getToBeTiled(_)&&this.compoundOrder.push(_)}},k.prototype.adjustLocations=function(C,E,_,L,D){_+=D;for(var B=E+=L,S=0;S<C.rows.length;S++){var N=C.rows[S];E=B;for(var A=0,M=0;M<N.length;M++){var O=N[M];O.rect.x=E,O.rect.y=_,E+=O.rect.width+C.horizontalPadding,O.rect.height>A&&(A=O.rect.height)}_+=A+C.verticalPadding}},k.prototype.tileCompoundMembers=function(C,E){var _=this;this.tiledMemberPack=[],Object.keys(C).forEach(function(L){var D=E[L];_.tiledMemberPack[L]=_.tileNodes(C[L],D.paddingLeft+D.paddingRight),D.rect.width=_.tiledMemberPack[L].width,D.rect.height=_.tiledMemberPack[L].height})},k.prototype.tileNodes=function(C,E){var _={rows:[],rowWidth:[],rowHeight:[],width:0,height:E,verticalPadding:p.TILING_PADDING_VERTICAL,horizontalPadding:p.TILING_PADDING_HORIZONTAL};C.sort(function(B,S){return B.rect.width*B.rect.height>S.rect.width*S.rect.height?-1:B.rect.width*B.rect.height<S.rect.width*S.rect.height?1:0});for(var L=0;L<C.length;L++){var D=C[L];_.rows.length==0?this.insertNodeToRow(_,D,0,E):this.canAddHorizontal(_,D.rect.width,D.rect.height)?this.insertNodeToRow(_,D,this.getShortestRowIndex(_),E):this.insertNodeToRow(_,D,_.rows.length,E),this.shiftToLastRow(_)}return _},k.prototype.insertNodeToRow=function(C,E,_,L){var D=L;_==C.rows.length&&(C.rows.push([]),C.rowWidth.push(D),C.rowHeight.push(0));var B=C.rowWidth[_]+E.rect.width;C.rows[_].length>0&&(B+=C.horizontalPadding),C.rowWidth[_]=B,C.width<B&&(C.width=B);var S=E.rect.height;_>0&&(S+=C.verticalPadding);var N=0;S>C.rowHeight[_]&&(N=C.rowHeight[_],C.rowHeight[_]=S,N=C.rowHeight[_]-N),C.height+=N,C.rows[_].push(E)},k.prototype.getShortestRowIndex=function(C){for(var E=-1,_=Number.MAX_VALUE,L=0;L<C.rows.length;L++)C.rowWidth[L]<_&&(E=L,_=C.rowWidth[L]);return E},k.prototype.getLongestRowIndex=function(C){for(var E=-1,_=Number.MIN_VALUE,L=0;L<C.rows.length;L++)C.rowWidth[L]>_&&(E=L,_=C.rowWidth[L]);return E},k.prototype.canAddHorizontal=function(C,E,_){var L=this.getShortestRowIndex(C);if(L<0)return!0;var D=C.rowWidth[L];if(D+C.horizontalPadding+E<=C.width)return!0;var B,S,N=0;return C.rowHeight[L]<_&&L>0&&(N=_+C.verticalPadding-C.rowHeight[L]),B=C.width-D>=E+C.horizontalPadding?(C.height+N)/(D+E+C.horizontalPadding):(C.height+N)/C.width,N=_+C.verticalPadding,(S=C.width<E?(C.height+N)/E:(C.height+N)/C.width)<1&&(S=1/S),B<1&&(B=1/B),B<S},k.prototype.shiftToLastRow=function(C){var E=this.getLongestRowIndex(C),_=C.rowWidth.length-1,L=C.rows[E],D=L[L.length-1],B=D.width+C.horizontalPadding;if(C.width-C.rowWidth[_]>B&&E!=_){L.splice(-1,1),C.rows[_].push(D),C.rowWidth[E]=C.rowWidth[E]-B,C.rowWidth[_]=C.rowWidth[_]+B,C.width=C.rowWidth[instance.getLongestRowIndex(C)];for(var S=Number.MIN_VALUE,N=0;N<L.length;N++)L[N].height>S&&(S=L[N].height);E>0&&(S+=C.verticalPadding);var A=C.rowHeight[E]+C.rowHeight[_];C.rowHeight[E]=S,C.rowHeight[_]<D.height+C.verticalPadding&&(C.rowHeight[_]=D.height+C.verticalPadding);var M=C.rowHeight[E]+C.rowHeight[_];C.height+=M-A,this.shiftToLastRow(C)}},k.prototype.tilingPreLayout=function(){p.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},k.prototype.tilingPostLayout=function(){p.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},k.prototype.reduceTrees=function(){for(var C,E=[],_=!0;_;){var L=this.graphManager.getAllNodes(),D=[];_=!1;for(var B=0;B<L.length;B++)(C=L[B]).getEdges().length!=1||C.getEdges()[0].isInterGraph||C.getChild()!=null||(D.push([C,C.getEdges()[0],C.getOwner()]),_=!0);if(_==1){for(var S=[],N=0;N<D.length;N++)D[N][0].getEdges().length==1&&(S.push(D[N]),D[N][0].getOwner().remove(D[N][0]));E.push(S),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=E},k.prototype.growTree=function(C){for(var E,_=C[C.length-1],L=0;L<_.length;L++)E=_[L],this.findPlaceforPrunedNode(E),E[2].add(E[0]),E[2].add(E[1],E[1].source,E[1].target);C.splice(C.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},k.prototype.findPlaceforPrunedNode=function(C){var E,_,L=C[0],D=(_=L==C[1].source?C[1].target:C[1].source).startX,B=_.finishX,S=_.startY,N=_.finishY,A=[0,0,0,0];if(S>0)for(var M=D;M<=B;M++)A[0]+=this.grid[M][S-1].length+this.grid[M][S].length-1;if(B<this.grid.length-1)for(M=S;M<=N;M++)A[1]+=this.grid[B+1][M].length+this.grid[B][M].length-1;if(N<this.grid[0].length-1)for(M=D;M<=B;M++)A[2]+=this.grid[M][N+1].length+this.grid[M][N].length-1;if(D>0)for(M=S;M<=N;M++)A[3]+=this.grid[D-1][M].length+this.grid[D][M].length-1;for(var O,I,P=x.MAX_VALUE,$=0;$<A.length;$++)A[$]<P?(P=A[$],O=1,I=$):A[$]==P&&O++;if(O==3&&P==0)A[0]==0&&A[1]==0&&A[2]==0?E=1:A[0]==0&&A[1]==0&&A[3]==0?E=0:A[0]==0&&A[2]==0&&A[3]==0?E=3:A[1]==0&&A[2]==0&&A[3]==0&&(E=2);else if(O==2&&P==0){var z=Math.floor(2*Math.random());E=A[0]==0&&A[1]==0?z==0?0:1:A[0]==0&&A[2]==0?z==0?0:2:A[0]==0&&A[3]==0?z==0?0:3:A[1]==0&&A[2]==0?z==0?1:2:A[1]==0&&A[3]==0?z==0?1:3:z==0?2:3}else O==4&&P==0?E=z=Math.floor(4*Math.random()):E=I;E==0?L.setCenter(_.getCenterX(),_.getCenterY()-_.getHeight()/2-f.DEFAULT_EDGE_LENGTH-L.getHeight()/2):E==1?L.setCenter(_.getCenterX()+_.getWidth()/2+f.DEFAULT_EDGE_LENGTH+L.getWidth()/2,_.getCenterY()):E==2?L.setCenter(_.getCenterX(),_.getCenterY()+_.getHeight()/2+f.DEFAULT_EDGE_LENGTH+L.getHeight()/2):L.setCenter(_.getCenterX()-_.getWidth()/2-f.DEFAULT_EDGE_LENGTH-L.getWidth()/2,_.getCenterY())},n.exports=k},function(n,i,a){var s={};s.layoutBase=a(0),s.CoSEConstants=a(1),s.CoSEEdge=a(2),s.CoSEGraph=a(3),s.CoSEGraphManager=a(4),s.CoSELayout=a(6),s.CoSENode=a(5),n.exports=s}])})}}),_1e=qn({"../../node_modules/.pnpm/cytoscape-cose-bilkent@4.1.0_cytoscape@3.30.2/node_modules/cytoscape-cose-bilkent/cytoscape-cose-bilkent.js"(e,t){l(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n(TB()):typeof define=="function"&&define.amd?define(["cose-base"],n):typeof e=="object"?e.cytoscapeCoseBilkent=n(TB()):r.cytoscapeCoseBilkent=n(r.coseBase)},"webpackUniversalModuleDefinition")(e,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return l(a,"__webpack_require__"),a.m=n,a.c=i,a.i=function(s){return s},a.d=function(s,o,u){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:u})},a.n=function(s){var o=s&&s.__esModule?l(function(){return s.default},"getDefault"):l(function(){return s},"getModuleExports");return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=1)}([function(n,i){n.exports=r},function(n,i,a){var s=a(0).layoutBase.LayoutConstants,o=a(0).layoutBase.FDLayoutConstants,u=a(0).CoSEConstants,h=a(0).CoSELayout,d=a(0).CoSENode,p=a(0).layoutBase.PointD,f=a(0).layoutBase.DimensionD,g={ready:l(function(){},"ready"),stop:l(function(){},"stop"),quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function m(b,w){var T={};for(var k in b)T[k]=b[k];for(var k in w)T[k]=w[k];return T}function y(b){this.options=m(g,b),v(this.options)}l(m,"extend"),l(y,"_CoSELayout");var v=l(function(b){b.nodeRepulsion!=null&&(u.DEFAULT_REPULSION_STRENGTH=o.DEFAULT_REPULSION_STRENGTH=b.nodeRepulsion),b.idealEdgeLength!=null&&(u.DEFAULT_EDGE_LENGTH=o.DEFAULT_EDGE_LENGTH=b.idealEdgeLength),b.edgeElasticity!=null&&(u.DEFAULT_SPRING_STRENGTH=o.DEFAULT_SPRING_STRENGTH=b.edgeElasticity),b.nestingFactor!=null&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=b.nestingFactor),b.gravity!=null&&(u.DEFAULT_GRAVITY_STRENGTH=o.DEFAULT_GRAVITY_STRENGTH=b.gravity),b.numIter!=null&&(u.MAX_ITERATIONS=o.MAX_ITERATIONS=b.numIter),b.gravityRange!=null&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=o.DEFAULT_GRAVITY_RANGE_FACTOR=b.gravityRange),b.gravityCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=b.gravityCompound),b.gravityRangeCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=b.gravityRangeCompound),b.initialEnergyOnIncremental!=null&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=o.DEFAULT_COOLING_FACTOR_INCREMENTAL=b.initialEnergyOnIncremental),b.quality=="draft"?s.QUALITY=0:b.quality=="proof"?s.QUALITY=2:s.QUALITY=1,u.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=b.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=!b.randomize,u.ANIMATE=o.ANIMATE=s.ANIMATE=b.animate,u.TILE=b.tile,u.TILING_PADDING_VERTICAL=typeof b.tilingPaddingVertical=="function"?b.tilingPaddingVertical.call():b.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL=typeof b.tilingPaddingHorizontal=="function"?b.tilingPaddingHorizontal.call():b.tilingPaddingHorizontal},"getUserOptions");y.prototype.run=function(){var b,w,T=this.options;this.idToLNode={};var k=this.layout=new h,R=this;R.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var C=k.newGraphManager();this.gm=C;var E=this.options.eles.nodes(),_=this.options.eles.edges();this.root=C.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(E),k);for(var L=0;L<_.length;L++){var D=_[L],B=this.idToLNode[D.data("source")],S=this.idToLNode[D.data("target")];B!==S&&B.getEdgesBetween(S).length==0&&(C.add(k.newEdge(),B,S).id=D.id())}var N=l(function(M,O){typeof M=="number"&&(M=O);var I=M.data("id"),P=R.idToLNode[I];return{x:P.getRect().getCenterX(),y:P.getRect().getCenterY()}},"getPositions"),A=l(function M(){for(var O,I=l(function(){T.fit&&T.cy.fit(T.eles,T.padding),b||(b=!0,R.cy.one("layoutready",T.ready),R.cy.trigger({type:"layoutready",layout:R}))},"afterReposition"),P=R.options.refresh,$=0;$<P&&!O;$++)O=R.stopped||R.layout.tick();if(O)return k.checkLayoutSuccess()&&!k.isSubLayout&&k.doPostLayout(),k.tilingPostLayout&&k.tilingPostLayout(),k.isLayoutFinished=!0,R.options.eles.nodes().positions(N),I(),R.cy.one("layoutstop",R.options.stop),R.cy.trigger({type:"layoutstop",layout:R}),w&&cancelAnimationFrame(w),void(b=!1);var z=R.layout.getPositionsData();T.eles.nodes().positions(function(G,q){if(typeof G=="number"&&(G=q),!G.isParent()){for(var J=G.id(),ie=z[J],te=G;ie==null&&(ie=z[te.data("parent")]||z["DummyCompound_"+te.data("parent")],z[J]=ie,(te=te.parent()[0])!=null););return ie!=null?{x:ie.x,y:ie.y}:{x:G.position("x"),y:G.position("y")}}}),I(),w=requestAnimationFrame(M)},"iterateAnimated");return k.addListener("layoutstarted",function(){R.options.animate==="during"&&(w=requestAnimationFrame(A))}),k.runLayout(),this.options.animate!=="during"&&(R.options.eles.nodes().not(":parent").layoutPositions(R,R.options,N),b=!1),this},y.prototype.getTopMostNodes=function(b){for(var w={},T=0;T<b.length;T++)w[b[T].id()]=!0;return b.filter(function(k,R){typeof k=="number"&&(k=R);for(var C=k.parent()[0];C!=null;){if(w[C.id()])return!1;C=C.parent()[0]}return!0})},y.prototype.processChildrenList=function(b,w,T){for(var k=w.length,R=0;R<k;R++){var C,E,_=w[R],L=_.children(),D=_.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if((C=_.outerWidth()!=null&&_.outerHeight()!=null?b.add(new d(T.graphManager,new p(_.position("x")-D.w/2,_.position("y")-D.h/2),new f(parseFloat(D.w),parseFloat(D.h)))):b.add(new d(this.graphManager))).id=_.data("id"),C.paddingLeft=parseInt(_.css("padding")),C.paddingTop=parseInt(_.css("padding")),C.paddingRight=parseInt(_.css("padding")),C.paddingBottom=parseInt(_.css("padding")),this.options.nodeDimensionsIncludeLabels&&_.isParent()){var B=_.boundingBox({includeLabels:!0,includeNodes:!1}).w,S=_.boundingBox({includeLabels:!0,includeNodes:!1}).h,N=_.css("text-halign");C.labelWidth=B,C.labelHeight=S,C.labelPos=N}this.idToLNode[_.data("id")]=C,isNaN(C.rect.x)&&(C.rect.x=0),isNaN(C.rect.y)&&(C.rect.y=0),L!=null&&L.length>0&&(E=T.getGraphManager().add(T.newGraph(),C),this.processChildrenList(E,L,T))}},y.prototype.stop=function(){return this.stopped=!0,this};var x=l(function(b){b("layout","cose-bilkent",y)},"register");typeof cytoscape<"u"&&x(cytoscape),n.exports=x}])})}}),mS=function(){var e=l(function(T,k,R,C){for(R=R||{},C=T.length;C--;R[T[C]]=k);return R},"o"),t=[1,4],r=[1,13],n=[1,12],i=[1,15],a=[1,16],s=[1,20],o=[1,19],u=[6,7,8],h=[1,26],d=[1,24],p=[1,25],f=[6,7,11],g=[1,6,13,15,16,19,22],m=[1,33],y=[1,34],v=[1,6,7,11,13,15,16,19,22],x={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:l(function(T,k,R,C,E,_,L){var D=_.length-1;switch(E){case 6:case 7:return C;case 8:C.getLogger().trace("Stop NL ");break;case 9:C.getLogger().trace("Stop EOF ");break;case 11:C.getLogger().trace("Stop NL2 ");break;case 12:C.getLogger().trace("Stop EOF2 ");break;case 15:C.getLogger().info("Node: ",_[D].id),C.addNode(_[D-1].length,_[D].id,_[D].descr,_[D].type);break;case 16:C.getLogger().trace("Icon: ",_[D]),C.decorateNode({icon:_[D]});break;case 17:case 21:C.decorateNode({class:_[D]});break;case 18:C.getLogger().trace("SPACELIST");break;case 19:C.getLogger().trace("Node: ",_[D].id),C.addNode(0,_[D].id,_[D].descr,_[D].type);break;case 20:C.decorateNode({icon:_[D]});break;case 25:C.getLogger().trace("node found ..",_[D-2]),this.$={id:_[D-1],descr:_[D-1],type:C.getType(_[D-2],_[D])};break;case 26:this.$={id:_[D],descr:_[D],type:C.nodeType.DEFAULT};break;case 27:C.getLogger().trace("node found ..",_[D-3]),this.$={id:_[D-3],descr:_[D-1],type:C.getType(_[D-2],_[D])}}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},e(u,[2,3]),{1:[2,2]},e(u,[2,4]),e(u,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},{6:r,9:22,12:11,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},{6:h,7:d,10:23,11:p},e(f,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:s,22:o}),e(f,[2,18]),e(f,[2,19]),e(f,[2,20]),e(f,[2,21]),e(f,[2,23]),e(f,[2,24]),e(f,[2,26],{19:[1,30]}),{20:[1,31]},{6:h,7:d,10:32,11:p},{1:[2,7],6:r,12:21,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},e(g,[2,14],{7:m,11:y}),e(v,[2,8]),e(v,[2,9]),e(v,[2,10]),e(f,[2,15]),e(f,[2,16]),e(f,[2,17]),{20:[1,35]},{21:[1,36]},e(g,[2,13],{7:m,11:y}),e(v,[2,11]),e(v,[2,12]),{21:[1,37]},e(f,[2,25]),e(f,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:l(function(T,k){if(!k.recoverable){var R=new Error(T);throw R.hash=k,R}this.trace(T)},"parseError"),parse:l(function(T){var k=this,R=[0],C=[],E=[null],_=[],L=this.table,D="",B=0,S=0,N=2,A=1,M=_.slice.call(arguments,1),O=Object.create(this.lexer),I={yy:{}};for(var P in this.yy)Object.prototype.hasOwnProperty.call(this.yy,P)&&(I.yy[P]=this.yy[P]);O.setInput(T,I.yy),I.yy.lexer=O,I.yy.parser=this,O.yylloc===void 0&&(O.yylloc={});var $=O.yylloc;_.push($);var z=O.options&&O.options.ranges;function G(j){R.length=R.length-2*j,E.length=E.length-j,_.length=_.length-j}function q(){var j;return typeof(j=C.pop()||O.lex()||A)!="number"&&(j instanceof Array&&(j=(C=j).pop()),j=k.symbols_[j]||j),j}typeof I.yy.parseError=="function"?this.parseError=I.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,l(G,"popStack"),l(q,"lex");for(var J,ie,te,W,H,X,Q,ne,ee={};;){if(ie=R[R.length-1],this.defaultActions[ie]?te=this.defaultActions[ie]:(J==null&&(J=q()),te=L[ie]&&L[ie][J]),te===void 0||!te.length||!te[0]){var pe="";for(H in ne=[],L[ie])this.terminals_[H]&&H>N&&ne.push("'"+this.terminals_[H]+"'");pe=O.showPosition?"Parse error on line "+(B+1)+`:
`+O.showPosition()+`
Expecting `+ne.join(", ")+", got '"+(this.terminals_[J]||J)+"'":"Parse error on line "+(B+1)+": Unexpected "+(J==A?"end of input":"'"+(this.terminals_[J]||J)+"'"),this.parseError(pe,{text:O.match,token:this.terminals_[J]||J,line:O.yylineno,loc:$,expected:ne})}if(te[0]instanceof Array&&te.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ie+", token: "+J);switch(te[0]){case 1:R.push(J),E.push(O.yytext),_.push(O.yylloc),R.push(te[1]),J=null,S=O.yyleng,D=O.yytext,B=O.yylineno,$=O.yylloc;break;case 2:if(X=this.productions_[te[1]][1],ee.$=E[E.length-X],ee._$={first_line:_[_.length-(X||1)].first_line,last_line:_[_.length-1].last_line,first_column:_[_.length-(X||1)].first_column,last_column:_[_.length-1].last_column},z&&(ee._$.range=[_[_.length-(X||1)].range[0],_[_.length-1].range[1]]),(W=this.performAction.apply(ee,[D,S,B,I.yy,te[1],E,_].concat(M)))!==void 0)return W;X&&(R=R.slice(0,-1*X*2),E=E.slice(0,-1*X),_=_.slice(0,-1*X)),R.push(this.productions_[te[1]][0]),E.push(ee.$),_.push(ee._$),Q=L[R[R.length-2]][R[R.length-1]],R.push(Q);break;case 3:return!0}}return!0},"parse")},b=function(){var T={EOF:1,parseError:l(function(k,R){if(!this.yy.parser)throw new Error(k);this.yy.parser.parseError(k,R)},"parseError"),setInput:l(function(k,R){return this.yy=R||this.yy||{},this._input=k,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var k=this._input[0];return this.yytext+=k,this.yyleng++,this.offset++,this.match+=k,this.matched+=k,k.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),k},"input"),unput:l(function(k){var R=k.length,C=k.split(/(?:\r\n?|\n)/g);this._input=k+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-R),this.offset-=R;var E=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),C.length-1&&(this.yylineno-=C.length-1);var _=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:C?(C.length===E.length?this.yylloc.first_column:0)+E[E.length-C.length].length-C[0].length:this.yylloc.first_column-R},this.options.ranges&&(this.yylloc.range=[_[0],_[0]+this.yyleng-R]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:l(function(k){this.unput(this.match.slice(k))},"less"),pastInput:l(function(){var k=this.matched.substr(0,this.matched.length-this.match.length);return(k.length>20?"...":"")+k.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var k=this.match;return k.length<20&&(k+=this._input.substr(0,20-k.length)),(k.substr(0,20)+(k.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var k=this.pastInput(),R=new Array(k.length+1).join("-");return k+this.upcomingInput()+`
`+R+"^"},"showPosition"),test_match:l(function(k,R){var C,E,_;if(this.options.backtrack_lexer&&(_={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(_.yylloc.range=this.yylloc.range.slice(0))),(E=k[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=E.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:E?E[E.length-1].length-E[E.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+k[0].length},this.yytext+=k[0],this.match+=k[0],this.matches=k,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(k[0].length),this.matched+=k[0],C=this.performAction.call(this,this.yy,this,R,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),C)return C;if(this._backtrack){for(var L in _)this[L]=_[L];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;var k,R,C,E;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var _=this._currentRules(),L=0;L<_.length;L++)if((C=this._input.match(this.rules[_[L]]))&&(!R||C[0].length>R[0].length)){if(R=C,E=L,this.options.backtrack_lexer){if((k=this.test_match(C,_[L]))!==!1)return k;if(this._backtrack){R=!1;continue}return!1}if(!this.options.flex)break}return R?(k=this.test_match(R,_[E]))!==!1&&k:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var k=this.next();return k||this.lex()},"lex"),begin:l(function(k){this.conditionStack.push(k)},"begin"),popState:l(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(k){return(k=this.conditionStack.length-1-Math.abs(k||0))>=0?this.conditionStack[k]:"INITIAL"},"topState"),pushState:l(function(k){this.begin(k)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(k,R,C,E){switch(C){case 0:return k.getLogger().trace("Found comment",R.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:case 23:case 26:this.popState();break;case 5:k.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return k.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:k.getLogger().trace("end icon"),this.popState();break;case 10:return k.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return k.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return k.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return k.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:case 15:case 16:case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 24:k.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return k.getLogger().trace("description:",R.yytext),"NODE_DESCR";case 27:return this.popState(),k.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),k.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),k.getLogger().trace("node end ...",R.yytext),"NODE_DEND";case 30:case 33:case 34:return this.popState(),k.getLogger().trace("node end (("),"NODE_DEND";case 31:case 32:return this.popState(),k.getLogger().trace("node end (-"),"NODE_DEND";case 35:case 36:return k.getLogger().trace("Long description:",R.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return T}();function w(){this.yy={}}return x.lexer=b,l(w,"Parser"),w.prototype=x,x.Parser=w,new w}();mS.parser=mS;var E1e=mS,Ss=[],_le=0,gI={},C1e=l(()=>{Ss=[],_le=0,gI={}},"clear"),S1e=l(function(e){for(let t=Ss.length-1;t>=0;t--)if(Ss[t].level<e)return Ss[t];return null},"getParent"),A1e=l(()=>Ss.length>0?Ss[0]:null,"getMindmap"),L1e=l((e,t,r,n)=>{var u,h;re.info("addNode",e,t,r,n);const i=ye();let a=((u=i.mindmap)==null?void 0:u.padding)??lr.mindmap.padding;switch(n){case Rn.ROUNDED_RECT:case Rn.RECT:case Rn.HEXAGON:a*=2}const s={id:_le++,nodeId:Ir(t,i),level:e,descr:Ir(r,i),type:n,children:[],width:((h=i.mindmap)==null?void 0:h.maxNodeWidth)??lr.mindmap.maxNodeWidth,padding:a},o=S1e(e);if(o)o.children.push(s),Ss.push(s);else{if(Ss.length!==0)throw new Error('There can be only one root. No parent could be found for ("'+s.descr+'")');Ss.push(s)}},"addNode"),Rn={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},N1e=l((e,t)=>{switch(re.debug("In get type",e,t),e){case"[":return Rn.RECT;case"(":return t===")"?Rn.ROUNDED_RECT:Rn.CLOUD;case"((":return Rn.CIRCLE;case")":return Rn.CLOUD;case"))":return Rn.BANG;case"{{":return Rn.HEXAGON;default:return Rn.DEFAULT}},"getType"),I1e=l((e,t)=>{gI[e]=t},"setElementForId"),M1e=l(e=>{if(!e)return;const t=ye(),r=Ss[Ss.length-1];e.icon&&(r.icon=Ir(e.icon,t)),e.class&&(r.class=Ir(e.class,t))},"decorateNode"),R1e=l(e=>{switch(e){case Rn.DEFAULT:return"no-border";case Rn.RECT:return"rect";case Rn.ROUNDED_RECT:return"rounded-rect";case Rn.CIRCLE:return"circle";case Rn.CLOUD:return"cloud";case Rn.BANG:return"bang";case Rn.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),D1e=l(()=>re,"getLogger"),O1e=l(e=>gI[e],"getElementById"),P1e={clear:C1e,addNode:L1e,getMindmap:A1e,nodeType:Rn,getType:N1e,setElementForId:I1e,decorateNode:M1e,type2Str:R1e,getLogger:D1e,getElementById:O1e},B1e=Ei(_1e()),$1e=l(function(e,t,r,n){t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 ${r.height-5} v${10-r.height} q0,-5 5,-5 h${r.width-10} q5,0 5,5 v${r.height-5} H0 Z`),t.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",r.height).attr("x2",r.width).attr("y2",r.height)},"defaultBkg"),F1e=l(function(e,t,r){t.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("height",r.height).attr("width",r.width)},"rectBkg"),z1e=l(function(e,t,r){const n=r.width,i=r.height,a=.15*n,s=.25*n,o=.35*n,u=.2*n;t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 0 a${a},${a} 0 0,1 ${.25*n},${-1*n*.1}
      a${o},${o} 1 0,1 ${.4*n},${-1*n*.1}
      a${s},${s} 1 0,1 ${.35*n},${1*n*.2}

      a${a},${a} 1 0,1 ${.15*n},${1*i*.35}
      a${u},${u} 1 0,1 ${-1*n*.15},${1*i*.65}

      a${s},${a} 1 0,1 ${-1*n*.25},${.15*n}
      a${o},${o} 1 0,1 ${-1*n*.5},0
      a${a},${a} 1 0,1 ${-1*n*.25},${-1*n*.15}

      a${a},${a} 1 0,1 ${-1*n*.1},${-1*i*.35}
      a${u},${u} 1 0,1 ${.1*n},${-1*i*.65}

    H0 V0 Z`)},"cloudBkg"),U1e=l(function(e,t,r){const n=r.width,i=r.height,a=.15*n;t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 0 a${a},${a} 1 0,0 ${.25*n},${-1*i*.1}
      a${a},${a} 1 0,0 ${.25*n},0
      a${a},${a} 1 0,0 ${.25*n},0
      a${a},${a} 1 0,0 ${.25*n},${1*i*.1}

      a${a},${a} 1 0,0 ${.15*n},${1*i*.33}
      a${.8*a},${.8*a} 1 0,0 0,${1*i*.34}
      a${a},${a} 1 0,0 ${-1*n*.15},${1*i*.33}

      a${a},${a} 1 0,0 ${-1*n*.25},${.15*i}
      a${a},${a} 1 0,0 ${-1*n*.25},0
      a${a},${a} 1 0,0 ${-1*n*.25},0
      a${a},${a} 1 0,0 ${-1*n*.25},${-1*i*.15}

      a${a},${a} 1 0,0 ${-1*n*.1},${-1*i*.33}
      a${.8*a},${.8*a} 1 0,0 0,${-1*i*.34}
      a${a},${a} 1 0,0 ${.1*n},${-1*i*.33}

    H0 V0 Z`)},"bangBkg"),G1e=l(function(e,t,r){t.append("circle").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("r",r.width/2)},"circleBkg");function Ele(e,t,r,n,i){return e.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("transform","translate("+(i.width-t)/2+", "+r+")")}l(Ele,"insertPolygonShape");var q1e=l(function(e,t,r){const n=r.height,i=n/4,a=r.width-r.padding+2*i;Ele(t,a,n,[{x:i,y:0},{x:a-i,y:0},{x:a,y:-n/2},{x:a-i,y:-n},{x:i,y:-n},{x:0,y:-n/2}],r)},"hexagonBkg"),j1e=l(function(e,t,r){t.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("height",r.height).attr("rx",r.padding).attr("ry",r.padding).attr("width",r.width)},"roundedRectBkg"),Y1e=l(async function(e,t,r,n,i){const a=i.htmlLabels,s=n%11,o=t.append("g");r.section=s;let u="section-"+s;s<0&&(u+=" section-root"),o.attr("class",(r.class?r.class+" ":"")+"mindmap-node "+u);const h=o.append("g"),d=o.append("g"),p=r.descr.replace(/(<br\/*>)/g,`
`);await ls(d,p,{useHtmlLabels:a,width:r.width,classes:"mindmap-node-label"},i),a||d.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");const f=d.node().getBBox(),[g]=yc(i.fontSize);if(r.height=f.height+1.1*g*.5+r.padding,r.width=f.width+2*r.padding,r.icon)if(r.type===e.nodeType.CIRCLE)r.height+=50,r.width+=50,o.append("foreignObject").attr("height","50px").attr("width",r.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+s+" "+r.icon),d.attr("transform","translate("+r.width/2+", "+(r.height/2-1.5*r.padding)+")");else{r.width+=50;const m=r.height;r.height=Math.max(m,60);const y=Math.abs(r.height-m);o.append("foreignObject").attr("width","60px").attr("height",r.height).attr("style","text-align: center;margin-top:"+y/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+s+" "+r.icon),d.attr("transform","translate("+(25+r.width/2)+", "+(y/2+r.padding/2)+")")}else if(a){const m=(r.width-f.width)/2,y=(r.height-f.height)/2;d.attr("transform","translate("+m+", "+y+")")}else{const m=r.width/2,y=r.padding/2;d.attr("transform","translate("+m+", "+y+")")}switch(r.type){case e.nodeType.DEFAULT:$1e(e,h,r,s);break;case e.nodeType.ROUNDED_RECT:j1e(e,h,r,s);break;case e.nodeType.RECT:F1e(e,h,r,s);break;case e.nodeType.CIRCLE:h.attr("transform","translate("+r.width/2+", "+ +r.height/2+")"),G1e(e,h,r,s);break;case e.nodeType.CLOUD:z1e(e,h,r,s);break;case e.nodeType.BANG:U1e(e,h,r,s);break;case e.nodeType.HEXAGON:q1e(e,h,r,s)}return e.setElementForId(r.id,o),r.height},"drawNode"),W1e=l(function(e,t){const r=e.getElementById(t.id),n=t.x||0,i=t.y||0;r.attr("transform","translate("+n+","+i+")")},"positionNode");async function mI(e,t,r,n,i){await Y1e(e,t,r,n,i),r.children&&await Promise.all(r.children.map((a,s)=>mI(e,t,a,n<0?s:n,i)))}function Cle(e,t){t.edges().map((r,n)=>{const i=r.data();if(r[0]._private.bodyBounds){const a=r[0]._private.rscratch;re.trace("Edge: ",n,i),e.insert("path").attr("d",`M ${a.startX},${a.startY} L ${a.midX},${a.midY} L${a.endX},${a.endY} `).attr("class","edge section-edge-"+i.section+" edge-depth-"+i.depth)}})}function yI(e,t,r,n){t.add({group:"nodes",data:{id:e.id.toString(),labelText:e.descr,height:e.height,width:e.width,level:n,nodeId:e.id,padding:e.padding,type:e.type},position:{x:e.x,y:e.y}}),e.children&&e.children.forEach(i=>{yI(i,t,r,n+1),t.add({group:"edges",data:{id:`${e.id}_${i.id}`,source:e.id,target:i.id,depth:n,section:i.section}})})}function Sle(e,t){return new Promise(r=>{const n=Qe("body").append("div").attr("id","cy").attr("style","display:none"),i=Vs({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});n.remove(),yI(e,i,t,0),i.nodes().forEach(function(a){a.layoutDimensions=()=>{const s=a.data();return{w:s.width,h:s.height}}}),i.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),i.ready(a=>{re.info("Ready",a),r(i)})})}function Ale(e,t){t.nodes().map((r,n)=>{const i=r.data();i.x=r.position().x,i.y=r.position().y,W1e(e,i);const a=e.getElementById(i.nodeId);re.info("Id:",n,"Position: (",r.position().x,", ",r.position().y,")",i),a.attr("transform",`translate(${r.position().x-i.width/2}, ${r.position().y-i.height/2})`),a.attr("attr",`apa-${n})`)})}Vs.use(B1e.default),l(mI,"drawNodes"),l(Cle,"drawEdges"),l(yI,"addNodes"),l(Sle,"layoutMindmap"),l(Ale,"positionNodes");var H1e=l(async(e,t,r,n)=>{var p,f;re.debug(`Rendering mindmap diagram
`+e);const i=n.db,a=i.getMindmap();if(!a)return;const s=ye();s.htmlLabels=!1;const o=mc(t),u=o.append("g");u.attr("class","mindmap-edges");const h=o.append("g");h.attr("class","mindmap-nodes"),await mI(i,h,a,-1,s);const d=await Sle(a,s);Cle(u,d),Ale(i,d),v0(void 0,o,((p=s.mindmap)==null?void 0:p.padding)??lr.mindmap.padding,((f=s.mindmap)==null?void 0:f.useMaxWidth)??lr.mindmap.useMaxWidth)},"draw"),V1e={draw:H1e},X1e=l(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],pc(e["lineColor"+r])?e["lineColor"+r]=wt(e["lineColor"+r],20):e["lineColor"+r]=Lt(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),K1e={db:P1e,renderer:V1e,parser:E1e,styles:l(e=>`
  .edge {
    stroke-width: 3;
  }
  ${X1e(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles")},Z1e=Object.freeze({__proto__:null,diagram:K1e}),yS=function(){var e=l(function(C,E,_,L){for(_=_||{},L=C.length;L--;_[C[L]]=E);return _},"o"),t=[1,4],r=[1,13],n=[1,12],i=[1,15],a=[1,16],s=[1,20],o=[1,19],u=[6,7,8],h=[1,26],d=[1,24],p=[1,25],f=[6,7,11],g=[1,31],m=[6,7,11,24],y=[1,6,13,16,17,20,23],v=[1,35],x=[1,36],b=[1,6,7,11,13,16,17,20,23],w=[1,38],T={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:l(function(C,E,_,L,D,B,S){var N=B.length-1;switch(D){case 6:case 7:return L;case 8:L.getLogger().trace("Stop NL ");break;case 9:L.getLogger().trace("Stop EOF ");break;case 11:L.getLogger().trace("Stop NL2 ");break;case 12:L.getLogger().trace("Stop EOF2 ");break;case 15:L.getLogger().info("Node: ",B[N-1].id),L.addNode(B[N-2].length,B[N-1].id,B[N-1].descr,B[N-1].type,B[N]);break;case 16:L.getLogger().info("Node: ",B[N].id),L.addNode(B[N-1].length,B[N].id,B[N].descr,B[N].type);break;case 17:L.getLogger().trace("Icon: ",B[N]),L.decorateNode({icon:B[N]});break;case 18:case 23:L.decorateNode({class:B[N]});break;case 19:L.getLogger().trace("SPACELIST");break;case 20:L.getLogger().trace("Node: ",B[N-1].id),L.addNode(0,B[N-1].id,B[N-1].descr,B[N-1].type,B[N]);break;case 21:L.getLogger().trace("Node: ",B[N].id),L.addNode(0,B[N].id,B[N].descr,B[N].type);break;case 22:L.decorateNode({icon:B[N]});break;case 27:L.getLogger().trace("node found ..",B[N-2]),this.$={id:B[N-1],descr:B[N-1],type:L.getType(B[N-2],B[N])};break;case 28:this.$={id:B[N],descr:B[N],type:0};break;case 29:L.getLogger().trace("node found ..",B[N-3]),this.$={id:B[N-3],descr:B[N-1],type:L.getType(B[N-2],B[N])};break;case 30:this.$=B[N-1]+B[N];break;case 31:this.$=B[N]}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:o},e(u,[2,3]),{1:[2,2]},e(u,[2,4]),e(u,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:o},{6:r,9:22,12:11,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:o},{6:h,7:d,10:23,11:p},e(f,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:s,23:o}),e(f,[2,19]),e(f,[2,21],{15:30,24:g}),e(f,[2,22]),e(f,[2,23]),e(m,[2,25]),e(m,[2,26]),e(m,[2,28],{20:[1,32]}),{21:[1,33]},{6:h,7:d,10:34,11:p},{1:[2,7],6:r,12:21,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:o},e(y,[2,14],{7:v,11:x}),e(b,[2,8]),e(b,[2,9]),e(b,[2,10]),e(f,[2,16],{15:37,24:g}),e(f,[2,17]),e(f,[2,18]),e(f,[2,20],{24:w}),e(m,[2,31]),{21:[1,39]},{22:[1,40]},e(y,[2,13],{7:v,11:x}),e(b,[2,11]),e(b,[2,12]),e(f,[2,15],{24:w}),e(m,[2,30]),{22:[1,41]},e(m,[2,27]),e(m,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:l(function(C,E){if(!E.recoverable){var _=new Error(C);throw _.hash=E,_}this.trace(C)},"parseError"),parse:l(function(C){var E=this,_=[0],L=[],D=[null],B=[],S=this.table,N="",A=0,M=0,O=2,I=1,P=B.slice.call(arguments,1),$=Object.create(this.lexer),z={yy:{}};for(var G in this.yy)Object.prototype.hasOwnProperty.call(this.yy,G)&&(z.yy[G]=this.yy[G]);$.setInput(C,z.yy),z.yy.lexer=$,z.yy.parser=this,$.yylloc===void 0&&($.yylloc={});var q=$.yylloc;B.push(q);var J=$.options&&$.options.ranges;function ie(Ae){_.length=_.length-2*Ae,D.length=D.length-Ae,B.length=B.length-Ae}function te(){var Ae;return typeof(Ae=L.pop()||$.lex()||I)!="number"&&(Ae instanceof Array&&(Ae=(L=Ae).pop()),Ae=E.symbols_[Ae]||Ae),Ae}typeof z.yy.parseError=="function"?this.parseError=z.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,l(ie,"popStack"),l(te,"lex");for(var W,H,X,Q,ne,ee,pe,j,ce={};;){if(H=_[_.length-1],this.defaultActions[H]?X=this.defaultActions[H]:(W==null&&(W=te()),X=S[H]&&S[H][W]),X===void 0||!X.length||!X[0]){var le="";for(ne in j=[],S[H])this.terminals_[ne]&&ne>O&&j.push("'"+this.terminals_[ne]+"'");le=$.showPosition?"Parse error on line "+(A+1)+`:
`+$.showPosition()+`
Expecting `+j.join(", ")+", got '"+(this.terminals_[W]||W)+"'":"Parse error on line "+(A+1)+": Unexpected "+(W==I?"end of input":"'"+(this.terminals_[W]||W)+"'"),this.parseError(le,{text:$.match,token:this.terminals_[W]||W,line:$.yylineno,loc:q,expected:j})}if(X[0]instanceof Array&&X.length>1)throw new Error("Parse Error: multiple actions possible at state: "+H+", token: "+W);switch(X[0]){case 1:_.push(W),D.push($.yytext),B.push($.yylloc),_.push(X[1]),W=null,M=$.yyleng,N=$.yytext,A=$.yylineno,q=$.yylloc;break;case 2:if(ee=this.productions_[X[1]][1],ce.$=D[D.length-ee],ce._$={first_line:B[B.length-(ee||1)].first_line,last_line:B[B.length-1].last_line,first_column:B[B.length-(ee||1)].first_column,last_column:B[B.length-1].last_column},J&&(ce._$.range=[B[B.length-(ee||1)].range[0],B[B.length-1].range[1]]),(Q=this.performAction.apply(ce,[N,M,A,z.yy,X[1],D,B].concat(P)))!==void 0)return Q;ee&&(_=_.slice(0,-1*ee*2),D=D.slice(0,-1*ee),B=B.slice(0,-1*ee)),_.push(this.productions_[X[1]][0]),D.push(ce.$),B.push(ce._$),pe=S[_[_.length-2]][_[_.length-1]],_.push(pe);break;case 3:return!0}}return!0},"parse")},k=function(){var C={EOF:1,parseError:l(function(E,_){if(!this.yy.parser)throw new Error(E);this.yy.parser.parseError(E,_)},"parseError"),setInput:l(function(E,_){return this.yy=_||this.yy||{},this._input=E,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var E=this._input[0];return this.yytext+=E,this.yyleng++,this.offset++,this.match+=E,this.matched+=E,E.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),E},"input"),unput:l(function(E){var _=E.length,L=E.split(/(?:\r\n?|\n)/g);this._input=E+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-_),this.offset-=_;var D=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),L.length-1&&(this.yylineno-=L.length-1);var B=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:L?(L.length===D.length?this.yylloc.first_column:0)+D[D.length-L.length].length-L[0].length:this.yylloc.first_column-_},this.options.ranges&&(this.yylloc.range=[B[0],B[0]+this.yyleng-_]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:l(function(E){this.unput(this.match.slice(E))},"less"),pastInput:l(function(){var E=this.matched.substr(0,this.matched.length-this.match.length);return(E.length>20?"...":"")+E.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var E=this.match;return E.length<20&&(E+=this._input.substr(0,20-E.length)),(E.substr(0,20)+(E.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var E=this.pastInput(),_=new Array(E.length+1).join("-");return E+this.upcomingInput()+`
`+_+"^"},"showPosition"),test_match:l(function(E,_){var L,D,B;if(this.options.backtrack_lexer&&(B={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(B.yylloc.range=this.yylloc.range.slice(0))),(D=E[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=D.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:D?D[D.length-1].length-D[D.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+E[0].length},this.yytext+=E[0],this.match+=E[0],this.matches=E,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(E[0].length),this.matched+=E[0],L=this.performAction.call(this,this.yy,this,_,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),L)return L;if(this._backtrack){for(var S in B)this[S]=B[S];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;var E,_,L,D;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var B=this._currentRules(),S=0;S<B.length;S++)if((L=this._input.match(this.rules[B[S]]))&&(!_||L[0].length>_[0].length)){if(_=L,D=S,this.options.backtrack_lexer){if((E=this.test_match(L,B[S]))!==!1)return E;if(this._backtrack){_=!1;continue}return!1}if(!this.options.flex)break}return _?(E=this.test_match(_,B[D]))!==!1&&E:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var E=this.next();return E||this.lex()},"lex"),begin:l(function(E){this.conditionStack.push(E)},"begin"),popState:l(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(E){return(E=this.conditionStack.length-1-Math.abs(E||0))>=0?this.conditionStack[E]:"INITIAL"},"topState"),pushState:l(function(E){this.begin(E)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(E,_,L,D){switch(L){case 0:return this.pushState("shapeData"),_.yytext="",24;case 1:return this.pushState("shapeDataStr"),24;case 2:return this.popState(),24;case 3:const B=/\n\s*/g;return _.yytext=_.yytext.replace(B,"<br/>"),24;case 4:return 24;case 5:case 10:case 29:case 32:this.popState();break;case 6:return E.getLogger().trace("Found comment",_.yytext),6;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;case 11:E.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return E.getLogger().trace("SPACELINE"),6;case 13:return 7;case 14:return 16;case 15:E.getLogger().trace("end icon"),this.popState();break;case 16:return E.getLogger().trace("Exploding node"),this.begin("NODE"),20;case 17:return E.getLogger().trace("Cloud"),this.begin("NODE"),20;case 18:return E.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;case 19:return E.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;case 20:case 21:case 22:case 23:return this.begin("NODE"),20;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 30:E.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return E.getLogger().trace("description:",_.yytext),"NODE_DESCR";case 33:return this.popState(),E.getLogger().trace("node end ))"),"NODE_DEND";case 34:return this.popState(),E.getLogger().trace("node end )"),"NODE_DEND";case 35:return this.popState(),E.getLogger().trace("node end ...",_.yytext),"NODE_DEND";case 36:case 39:case 40:return this.popState(),E.getLogger().trace("node end (("),"NODE_DEND";case 37:case 38:return this.popState(),E.getLogger().trace("node end (-"),"NODE_DEND";case 41:case 42:return E.getLogger().trace("Long description:",_.yytext),21}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};return C}();function R(){this.yy={}}return T.lexer=k,l(R,"Parser"),R.prototype=T,T.Parser=R,new R}();yS.parser=yS;var Q1e=yS,qa=[],vI=[],vS=0,xI={},J1e=l(()=>{qa=[],vI=[],vS=0,xI={}},"clear"),e9e=l(e=>{if(qa.length===0)return null;const t=qa[0].level;let r=null;for(let n=qa.length-1;n>=0;n--)if(qa[n].level!==t||r||(r=qa[n]),qa[n].level<t)throw new Error('Items without section detected, found section ("'+qa[n].label+'")');return e===(r==null?void 0:r.level)?null:r},"getSection"),Lle=l(function(){return vI},"getSections"),t9e=l(function(){const e=[],t=Lle(),r=ye();for(const n of t){const i={id:n.id,label:Ir(n.label??"",r),isGroup:!0,ticket:n.ticket,shape:"kanbanSection",level:n.level,look:r.look};e.push(i);const a=qa.filter(s=>s.parentId===n.id);for(const s of a){const o={id:s.id,parentId:n.id,label:Ir(s.label??"",r),isGroup:!1,ticket:s==null?void 0:s.ticket,priority:s==null?void 0:s.priority,assigned:s==null?void 0:s.assigned,icon:s==null?void 0:s.icon,shape:"kanbanItem",level:s.level,rx:5,ry:5,cssStyles:["text-align: left"]};e.push(o)}}return{nodes:e,edges:[],other:{},config:ye()}},"getData"),r9e=l((e,t,r,n,i)=>{var h,d;const a=ye();let s=((h=a.mindmap)==null?void 0:h.padding)??lr.mindmap.padding;switch(n){case Dn.ROUNDED_RECT:case Dn.RECT:case Dn.HEXAGON:s*=2}const o={id:Ir(t,a)||"kbn"+vS++,level:e,label:Ir(r,a),width:((d=a.mindmap)==null?void 0:d.maxNodeWidth)??lr.mindmap.maxNodeWidth,padding:s,isGroup:!1};if(i!==void 0){let p;p=i.includes(`
`)?i+`
`:`{
`+i+`
}`;const f=R8(p,{schema:M8});if(f.shape&&(f.shape!==f.shape.toLowerCase()||f.shape.includes("_")))throw new Error(`No such shape: ${f.shape}. Shape names should be lowercase.`);f!=null&&f.shape&&f.shape==="kanbanItem"&&(o.shape=f==null?void 0:f.shape),f!=null&&f.label&&(o.label=f==null?void 0:f.label),f!=null&&f.icon&&(o.icon=f==null?void 0:f.icon.toString()),f!=null&&f.assigned&&(o.assigned=f==null?void 0:f.assigned.toString()),f!=null&&f.ticket&&(o.ticket=f==null?void 0:f.ticket.toString()),f!=null&&f.priority&&(o.priority=f==null?void 0:f.priority)}const u=e9e(e);u?o.parentId=u.id||"kbn"+vS++:vI.push(o),qa.push(o)},"addNode"),Dn={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},n9e=l((e,t)=>{switch(re.debug("In get type",e,t),e){case"[":return Dn.RECT;case"(":return t===")"?Dn.ROUNDED_RECT:Dn.CLOUD;case"((":return Dn.CIRCLE;case")":return Dn.CLOUD;case"))":return Dn.BANG;case"{{":return Dn.HEXAGON;default:return Dn.DEFAULT}},"getType"),i9e=l((e,t)=>{xI[e]=t},"setElementForId"),a9e=l(e=>{if(!e)return;const t=ye(),r=qa[qa.length-1];e.icon&&(r.icon=Ir(e.icon,t)),e.class&&(r.cssClasses=Ir(e.class,t))},"decorateNode"),s9e=l(e=>{switch(e){case Dn.DEFAULT:return"no-border";case Dn.RECT:return"rect";case Dn.ROUNDED_RECT:return"rounded-rect";case Dn.CIRCLE:return"circle";case Dn.CLOUD:return"cloud";case Dn.BANG:return"bang";case Dn.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),o9e=l(()=>re,"getLogger"),l9e=l(e=>xI[e],"getElementById"),c9e={clear:J1e,addNode:r9e,getSections:Lle,getData:t9e,nodeType:Dn,getType:n9e,setElementForId:i9e,decorateNode:a9e,type2Str:s9e,getLogger:o9e,getElementById:l9e},u9e=l(async(e,t,r,n)=>{var m,y,v,x,b;re.debug(`Rendering kanban diagram
`+e);const i=n.db.getData(),a=ye();a.htmlLabels=!1;const s=mc(t),o=s.append("g");o.attr("class","sections");const u=s.append("g");u.attr("class","items");const h=i.nodes.filter(w=>w.isGroup);let d=0;const p=[];let f=25;for(const w of h){const T=((m=a==null?void 0:a.kanban)==null?void 0:m.sectionWidth)||200;d+=1,w.x=T*d+10*(d-1)/2,w.width=T,w.y=0,w.height=3*T,w.rx=5,w.ry=5,w.cssClasses=w.cssClasses+" section-"+d;const k=await lA(o,w);f=Math.max(f,(y=k==null?void 0:k.labelBBox)==null?void 0:y.height),p.push(k)}let g=0;for(const w of h){const T=p[g];g+=1;const k=((v=a==null?void 0:a.kanban)==null?void 0:v.sectionWidth)||200,R=3*-k/2+f;let C=R;const E=i.nodes.filter(D=>D.parentId===w.id);for(const D of E){if(D.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");D.x=w.x,D.width=k-15;const B=(await o6(u,D,{config:a})).node().getBBox();D.y=C+B.height/2,await O_(D),C=D.y+B.height/2+5}const _=T.cluster.select("rect"),L=Math.max(C-R+30,50)+(f-25);_.attr("height",L)}v0(void 0,s,((x=a.mindmap)==null?void 0:x.padding)??lr.kanban.padding,((b=a.mindmap)==null?void 0:b.useMaxWidth)??lr.kanban.useMaxWidth)},"draw"),h9e={draw:u9e},d9e=l(e=>{let t="";for(let n=0;n<e.THEME_COLOR_LIMIT;n++)e["lineColor"+n]=e["lineColor"+n]||e["cScaleInv"+n],pc(e["lineColor"+n])?e["lineColor"+n]=wt(e["lineColor"+n],20):e["lineColor"+n]=Lt(e["lineColor"+n],20);const r=l((n,i)=>e.darkMode?Lt(n,i):wt(n,i),"adjuster");for(let n=0;n<e.THEME_COLOR_LIMIT;n++){const i=""+(17-3*n);t+=`
    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} polygon, .section-${n-1} path  {
      fill: ${r(e["cScale"+n],10)};
      stroke: ${r(e["cScale"+n],10)};

    }
    .section-${n-1} text {
     fill: ${e["cScaleLabel"+n]};
    }
    .node-icon-${n-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+n]};
    }
    .section-edge-${n-1}{
      stroke: ${e["cScale"+n]};
    }
    .edge-depth-${n-1}{
      stroke-width: ${i};
    }
    .section-${n-1} line {
      stroke: ${e["cScaleInv"+n]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    text-decoration: underline;
  }
    `}return t},"genSections"),p9e={db:c9e,renderer:h9e,parser:Q1e,styles:l(e=>`
  .edge {
    stroke-width: 3;
  }
  ${d9e(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${e.textColor};
    fill: ${e.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles")},f9e=Object.freeze({__proto__:null,diagram:p9e}),xS=function(){var e=l(function(o,u,h,d){for(h=h||{},d=o.length;d--;h[o[d]]=u);return h},"o"),t=[1,9],r=[1,10],n=[1,5,10,12],i={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:l(function(o,u,h,d,p,f,g){var m=f.length-1;switch(p){case 7:const y=d.findOrCreateNode(f[m-4].trim().replaceAll('""','"')),v=d.findOrCreateNode(f[m-2].trim().replaceAll('""','"')),x=parseFloat(f[m].trim());d.addLink(y,v,x);break;case 8:case 9:case 11:this.$=f[m];break;case 10:this.$=f[m-1]}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:t,20:r},{1:[2,6],7:11,10:[1,12]},e(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},e(n,[2,8]),e(n,[2,9]),{19:[1,16]},e(n,[2,11]),{1:[2,1]},{1:[2,5]},e(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:t,20:r},{15:18,16:7,17:8,18:t,20:r},{18:[1,19]},e(r,[2,3]),{12:[1,20]},e(n,[2,10]),{15:21,16:7,17:8,18:t,20:r},e([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:l(function(o,u){if(!u.recoverable){var h=new Error(o);throw h.hash=u,h}this.trace(o)},"parseError"),parse:l(function(o){var u=this,h=[0],d=[],p=[null],f=[],g=this.table,m="",y=0,v=0,x=2,b=1,w=f.slice.call(arguments,1),T=Object.create(this.lexer),k={yy:{}};for(var R in this.yy)Object.prototype.hasOwnProperty.call(this.yy,R)&&(k.yy[R]=this.yy[R]);T.setInput(o,k.yy),k.yy.lexer=T,k.yy.parser=this,T.yylloc===void 0&&(T.yylloc={});var C=T.yylloc;f.push(C);var E=T.options&&T.options.ranges;function _(z){h.length=h.length-2*z,p.length=p.length-z,f.length=f.length-z}function L(){var z;return typeof(z=d.pop()||T.lex()||b)!="number"&&(z instanceof Array&&(z=(d=z).pop()),z=u.symbols_[z]||z),z}typeof k.yy.parseError=="function"?this.parseError=k.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,l(_,"popStack"),l(L,"lex");for(var D,B,S,N,A,M,O,I,P={};;){if(B=h[h.length-1],this.defaultActions[B]?S=this.defaultActions[B]:(D==null&&(D=L()),S=g[B]&&g[B][D]),S===void 0||!S.length||!S[0]){var $="";for(A in I=[],g[B])this.terminals_[A]&&A>x&&I.push("'"+this.terminals_[A]+"'");$=T.showPosition?"Parse error on line "+(y+1)+`:
`+T.showPosition()+`
Expecting `+I.join(", ")+", got '"+(this.terminals_[D]||D)+"'":"Parse error on line "+(y+1)+": Unexpected "+(D==b?"end of input":"'"+(this.terminals_[D]||D)+"'"),this.parseError($,{text:T.match,token:this.terminals_[D]||D,line:T.yylineno,loc:C,expected:I})}if(S[0]instanceof Array&&S.length>1)throw new Error("Parse Error: multiple actions possible at state: "+B+", token: "+D);switch(S[0]){case 1:h.push(D),p.push(T.yytext),f.push(T.yylloc),h.push(S[1]),D=null,v=T.yyleng,m=T.yytext,y=T.yylineno,C=T.yylloc;break;case 2:if(M=this.productions_[S[1]][1],P.$=p[p.length-M],P._$={first_line:f[f.length-(M||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(M||1)].first_column,last_column:f[f.length-1].last_column},E&&(P._$.range=[f[f.length-(M||1)].range[0],f[f.length-1].range[1]]),(N=this.performAction.apply(P,[m,v,y,k.yy,S[1],p,f].concat(w)))!==void 0)return N;M&&(h=h.slice(0,-1*M*2),p=p.slice(0,-1*M),f=f.slice(0,-1*M)),h.push(this.productions_[S[1]][0]),p.push(P.$),f.push(P._$),O=g[h[h.length-2]][h[h.length-1]],h.push(O);break;case 3:return!0}}return!0},"parse")},a=function(){var o={EOF:1,parseError:l(function(u,h){if(!this.yy.parser)throw new Error(u);this.yy.parser.parseError(u,h)},"parseError"),setInput:l(function(u,h){return this.yy=h||this.yy||{},this._input=u,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var u=this._input[0];return this.yytext+=u,this.yyleng++,this.offset++,this.match+=u,this.matched+=u,u.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),u},"input"),unput:l(function(u){var h=u.length,d=u.split(/(?:\r\n?|\n)/g);this._input=u+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-h),this.offset-=h;var p=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),d.length-1&&(this.yylineno-=d.length-1);var f=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:d?(d.length===p.length?this.yylloc.first_column:0)+p[p.length-d.length].length-d[0].length:this.yylloc.first_column-h},this.options.ranges&&(this.yylloc.range=[f[0],f[0]+this.yyleng-h]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:l(function(u){this.unput(this.match.slice(u))},"less"),pastInput:l(function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var u=this.match;return u.length<20&&(u+=this._input.substr(0,20-u.length)),(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var u=this.pastInput(),h=new Array(u.length+1).join("-");return u+this.upcomingInput()+`
`+h+"^"},"showPosition"),test_match:l(function(u,h){var d,p,f;if(this.options.backtrack_lexer&&(f={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(f.yylloc.range=this.yylloc.range.slice(0))),(p=u[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=p.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:p?p[p.length-1].length-p[p.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],d=this.performAction.call(this,this.yy,this,h,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),d)return d;if(this._backtrack){for(var g in f)this[g]=f[g];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;var u,h,d,p;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length;g++)if((d=this._input.match(this.rules[f[g]]))&&(!h||d[0].length>h[0].length)){if(h=d,p=g,this.options.backtrack_lexer){if((u=this.test_match(d,f[g]))!==!1)return u;if(this._backtrack){h=!1;continue}return!1}if(!this.options.flex)break}return h?(u=this.test_match(h,f[p]))!==!1&&u:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var u=this.next();return u||this.lex()},"lex"),begin:l(function(u){this.conditionStack.push(u)},"begin"),popState:l(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(u){return(u=this.conditionStack.length-1-Math.abs(u||0))>=0?this.conditionStack[u]:"INITIAL"},"topState"),pushState:l(function(u){this.begin(u)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(u,h,d,p){switch(d){case 0:return this.pushState("csv"),4;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;case 5:return 20;case 6:return this.popState("escaped_text"),18;case 7:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}};return o}();function s(){this.yy={}}return i.lexer=a,l(s,"Parser"),s.prototype=i,i.Parser=s,new s}();xS.parser=xS;var L5=xS,Aw=[],Lw=[],N5=new Map,g9e=l(()=>{Aw=[],Lw=[],N5=new Map,Hn()},"clear"),Ug,m9e=(Ug=class{constructor(t,r,n=0){this.source=t,this.target=r,this.value=n}},l(Ug,"SankeyLink"),Ug),y9e=l((e,t,r)=>{Aw.push(new m9e(e,t,r))},"addLink"),Gg,v9e=(Gg=class{constructor(t){this.ID=t}},l(Gg,"SankeyNode"),Gg),x9e=l(e=>{e=He.sanitizeText(e,ye());let t=N5.get(e);return t===void 0&&(t=new v9e(e),N5.set(e,t),Lw.push(t)),t},"findOrCreateNode"),b9e=l(()=>Lw,"getNodes"),w9e=l(()=>Aw,"getLinks"),k9e=l(()=>({nodes:Lw.map(e=>({id:e.ID})),links:Aw.map(e=>({source:e.source.ID,target:e.target.ID,value:e.value}))}),"getGraph"),T9e={nodesMap:N5,getConfig:l(()=>ye().sankey,"getConfig"),getNodes:b9e,getLinks:w9e,getGraph:k9e,addLink:y9e,findOrCreateNode:x9e,getAccTitle:ci,setAccTitle:Vn,getAccDescription:hi,setAccDescription:ui,getDiagramTitle:di,setDiagramTitle:Fi,clear:g9e};function bS(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function bI(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function wb(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let i of e)(i=+t(i,++n,e))&&(r+=i)}return r}function Nle(e){return e.target.depth}function Ile(e){return e.depth}function Mle(e,t){return t-1-e.height}function wI(e,t){return e.sourceLinks.length?e.depth:t-1}function Rle(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?bI(e.sourceLinks,Nle)-1:0}function Dm(e){return function(){return e}}function wS(e,t){return g2(e.source,t.source)||e.index-t.index}function kS(e,t){return g2(e.target,t.target)||e.index-t.index}function g2(e,t){return e.y0-t.y0}function kb(e){return e.value}function Dle(e){return e.index}function Ole(e){return e.nodes}function Ple(e){return e.links}function TS(e,t){const r=e.get(t);if(!r)throw new Error("missing: "+t);return r}function _S({nodes:e}){for(const t of e){let r=t.y0,n=r;for(const i of t.sourceLinks)i.y0=r+i.width/2,r+=i.width;for(const i of t.targetLinks)i.y1=n+i.width/2,n+=i.width}}function Ble(){let e,t,r,n=0,i=0,a=1,s=1,o=24,u=8,h=Dle,d=wI,p=Ole,f=Ple,g=6;function m(){const A={nodes:p.apply(null,arguments),links:f.apply(null,arguments)};return y(A),v(A),x(A),b(A),k(A),_S(A),A}function y({nodes:A,links:M}){for(const[I,P]of A.entries())P.index=I,P.sourceLinks=[],P.targetLinks=[];const O=new Map(A.map((I,P)=>[h(I,P,A),I]));for(const[I,P]of M.entries()){P.index=I;let{source:$,target:z}=P;typeof $!="object"&&($=P.source=TS(O,$)),typeof z!="object"&&(z=P.target=TS(O,z)),$.sourceLinks.push(P),z.targetLinks.push(P)}if(r!=null)for(const{sourceLinks:I,targetLinks:P}of A)I.sort(r),P.sort(r)}function v({nodes:A}){for(const M of A)M.value=M.fixedValue===void 0?Math.max(wb(M.sourceLinks,kb),wb(M.targetLinks,kb)):M.fixedValue}function x({nodes:A}){const M=A.length;let O=new Set(A),I=new Set,P=0;for(;O.size;){for(const $ of O){$.depth=P;for(const{target:z}of $.sourceLinks)I.add(z)}if(++P>M)throw new Error("circular link");O=I,I=new Set}}function b({nodes:A}){const M=A.length;let O=new Set(A),I=new Set,P=0;for(;O.size;){for(const $ of O){$.height=P;for(const{source:z}of $.targetLinks)I.add(z)}if(++P>M)throw new Error("circular link");O=I,I=new Set}}function w({nodes:A}){const M=bS(A,P=>P.depth)+1,O=(a-n-o)/(M-1),I=new Array(M);for(const P of A){const $=Math.max(0,Math.min(M-1,Math.floor(d.call(null,P,M))));P.layer=$,P.x0=n+$*O,P.x1=P.x0+o,I[$]?I[$].push(P):I[$]=[P]}if(t)for(const P of I)P.sort(t);return I}function T(A){const M=bI(A,O=>(s-i-(O.length-1)*e)/wb(O,kb));for(const O of A){let I=i;for(const P of O){P.y0=I,P.y1=I+P.value*M,I=P.y1+e;for(const $ of P.sourceLinks)$.width=$.value*M}I=(s-I+e)/(O.length+1);for(let P=0;P<O.length;++P){const $=O[P];$.y0+=I*(P+1),$.y1+=I*(P+1)}B(O)}}function k(A){const M=w(A);e=Math.min(u,(s-i)/(bS(M,O=>O.length)-1)),T(M);for(let O=0;O<g;++O){const I=Math.pow(.99,O),P=Math.max(1-I,(O+1)/g);C(M,I,P),R(M,I,P)}}function R(A,M,O){for(let I=1,P=A.length;I<P;++I){const $=A[I];for(const z of $){let G=0,q=0;for(const{source:ie,value:te}of z.targetLinks){let W=te*(z.layer-ie.layer);G+=S(ie,z)*W,q+=W}if(!(q>0))continue;let J=(G/q-z.y0)*M;z.y0+=J,z.y1+=J,D(z)}t===void 0&&$.sort(g2),E($,O)}}function C(A,M,O){for(let I=A.length-2;I>=0;--I){const P=A[I];for(const $ of P){let z=0,G=0;for(const{target:J,value:ie}of $.sourceLinks){let te=ie*(J.layer-$.layer);z+=N($,J)*te,G+=te}if(!(G>0))continue;let q=(z/G-$.y0)*M;$.y0+=q,$.y1+=q,D($)}t===void 0&&P.sort(g2),E(P,O)}}function E(A,M){const O=A.length>>1,I=A[O];L(A,I.y0-e,O-1,M),_(A,I.y1+e,O+1,M),L(A,s,A.length-1,M),_(A,i,0,M)}function _(A,M,O,I){for(;O<A.length;++O){const P=A[O],$=(M-P.y0)*I;$>1e-6&&(P.y0+=$,P.y1+=$),M=P.y1+e}}function L(A,M,O,I){for(;O>=0;--O){const P=A[O],$=(P.y1-M)*I;$>1e-6&&(P.y0-=$,P.y1-=$),M=P.y0-e}}function D({sourceLinks:A,targetLinks:M}){if(r===void 0){for(const{source:{sourceLinks:O}}of M)O.sort(kS);for(const{target:{targetLinks:O}}of A)O.sort(wS)}}function B(A){if(r===void 0)for(const{sourceLinks:M,targetLinks:O}of A)M.sort(kS),O.sort(wS)}function S(A,M){let O=A.y0-(A.sourceLinks.length-1)*e/2;for(const{target:I,width:P}of A.sourceLinks){if(I===M)break;O+=P+e}for(const{source:I,width:P}of M.targetLinks){if(I===A)break;O-=P}return O}function N(A,M){let O=M.y0-(M.targetLinks.length-1)*e/2;for(const{source:I,width:P}of M.targetLinks){if(I===A)break;O+=P+e}for(const{target:I,width:P}of A.sourceLinks){if(I===M)break;O-=P}return O}return l(m,"sankey"),m.update=function(A){return _S(A),A},m.nodeId=function(A){return arguments.length?(h=typeof A=="function"?A:Dm(A),m):h},m.nodeAlign=function(A){return arguments.length?(d=typeof A=="function"?A:Dm(A),m):d},m.nodeSort=function(A){return arguments.length?(t=A,m):t},m.nodeWidth=function(A){return arguments.length?(o=+A,m):o},m.nodePadding=function(A){return arguments.length?(u=e=+A,m):u},m.nodes=function(A){return arguments.length?(p=typeof A=="function"?A:Dm(A),m):p},m.links=function(A){return arguments.length?(f=typeof A=="function"?A:Dm(A),m):f},m.linkSort=function(A){return arguments.length?(r=A,m):r},m.size=function(A){return arguments.length?(n=i=0,a=+A[0],s=+A[1],m):[a-n,s-i]},m.extent=function(A){return arguments.length?(n=+A[0][0],a=+A[1][0],i=+A[0][1],s=+A[1][1],m):[[n,i],[a,s]]},m.iterations=function(A){return arguments.length?(g=+A,m):g},l(y,"computeNodeLinks"),l(v,"computeNodeValues"),l(x,"computeNodeDepths"),l(b,"computeNodeHeights"),l(w,"computeNodeLayers"),l(T,"initializeNodeBreadths"),l(k,"computeNodeBreadths"),l(R,"relaxLeftToRight"),l(C,"relaxRightToLeft"),l(E,"resolveCollisions"),l(_,"resolveCollisionsTopToBottom"),l(L,"resolveCollisionsBottomToTop"),l(D,"reorderNodeLinks"),l(B,"reorderLinks"),l(S,"targetTop"),l(N,"sourceTop"),m}l(bS,"max"),l(bI,"min"),l(wb,"sum"),l(Nle,"targetDepth"),l(Ile,"left"),l(Mle,"right"),l(wI,"justify"),l(Rle,"center"),l(Dm,"constant"),l(wS,"ascendingSourceBreadth"),l(kS,"ascendingTargetBreadth"),l(g2,"ascendingBreadth"),l(kb,"value"),l(Dle,"defaultId"),l(Ole,"defaultNodes"),l(Ple,"defaultLinks"),l(TS,"find"),l(_S,"computeLinkBreadths"),l(Ble,"Sankey");var ES=Math.PI,CS=2*ES,_9e=CS-1e-6;function Tb(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function SS(){return new Tb}l(Tb,"Path"),l(SS,"path"),Tb.prototype=SS.prototype={constructor:Tb,moveTo:l(function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},"moveTo"),closePath:l(function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},"closePath"),lineTo:l(function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},"lineTo"),quadraticCurveTo:l(function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},"quadraticCurveTo"),bezierCurveTo:l(function(e,t,r,n,i,a){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+a)},"bezierCurveTo"),arcTo:l(function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var a=this._x1,s=this._y1,o=r-e,u=n-t,h=a-e,d=s-t,p=h*h+d*d;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>1e-6)if(Math.abs(d*o-u*h)>1e-6&&i){var f=r-a,g=n-s,m=o*o+u*u,y=f*f+g*g,v=Math.sqrt(m),x=Math.sqrt(p),b=i*Math.tan((ES-Math.acos((m+p-y)/(2*v*x)))/2),w=b/x,T=b/v;Math.abs(w-1)>1e-6&&(this._+="L"+(e+w*h)+","+(t+w*d)),this._+="A"+i+","+i+",0,0,"+ +(d*f>h*g)+","+(this._x1=e+T*o)+","+(this._y1=t+T*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},"arcTo"),arc:l(function(e,t,r,n,i,a){e=+e,t=+t,a=!!a;var s=(r=+r)*Math.cos(n),o=r*Math.sin(n),u=e+s,h=t+o,d=1^a,p=a?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+u+","+h:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+u+","+h),r&&(p<0&&(p=p%CS+CS),p>_9e?this._+="A"+r+","+r+",0,1,"+d+","+(e-s)+","+(t-o)+"A"+r+","+r+",0,1,"+d+","+(this._x1=u)+","+(this._y1=h):p>1e-6&&(this._+="A"+r+","+r+",0,"+ +(p>=ES)+","+d+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},"arc"),rect:l(function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},"rect"),toString:l(function(){return this._},"toString")};var E9e=SS;function AS(e){return l(function(){return e},"constant")}function $le(e){return e[0]}function Fle(e){return e[1]}l(AS,"default"),l($le,"x"),l(Fle,"y");var C9e=Array.prototype.slice;function zle(e){return e.source}function Ule(e){return e.target}function Gle(e){var t=zle,r=Ule,n=$le,i=Fle,a=null;function s(){var o,u=C9e.call(arguments),h=t.apply(this,u),d=r.apply(this,u);if(a||(a=o=E9e()),e(a,+n.apply(this,(u[0]=h,u)),+i.apply(this,u),+n.apply(this,(u[0]=d,u)),+i.apply(this,u)),o)return a=null,o+""||null}return l(s,"link"),s.source=function(o){return arguments.length?(t=o,s):t},s.target=function(o){return arguments.length?(r=o,s):r},s.x=function(o){return arguments.length?(n=typeof o=="function"?o:AS(+o),s):n},s.y=function(o){return arguments.length?(i=typeof o=="function"?o:AS(+o),s):i},s.context=function(o){return arguments.length?(a=o??null,s):a},s}function qle(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,i,n,i)}function jle(){return Gle(qle)}function Yle(e){return[e.source.x1,e.y0]}function Wle(e){return[e.target.x0,e.y1]}function Hle(){return jle().source(Yle).target(Wle)}l(zle,"linkSource"),l(Ule,"linkTarget"),l(Gle,"link"),l(qle,"curveHorizontal"),l(jle,"linkHorizontal"),l(Yle,"horizontalSource"),l(Wle,"horizontalTarget"),l(Hle,"default");var Oo,_B=(Oo=class{static next(t){return new Oo(t+ ++Oo.count)}constructor(t){this.id=t,this.href=`#${t}`}toString(){return"url("+this.href+")"}},l(Oo,"Uid"),Oo.count=0,Oo),S9e={left:Ile,right:Mle,center:Rle,justify:wI},A9e=l(function(e,t,r,n){const{securityLevel:i,sankey:a}=ye(),s=p$.sankey;let o;i==="sandbox"&&(o=Qe("#i"+t));const u=Qe(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),h=i==="sandbox"?u.select(`[id="${t}"]`):Qe(`[id="${t}"]`),d=(a==null?void 0:a.width)??s.width,p=(a==null?void 0:a.height)??s.width,f=(a==null?void 0:a.useMaxWidth)??s.useMaxWidth,g=(a==null?void 0:a.nodeAlignment)??s.nodeAlignment,m=(a==null?void 0:a.prefix)??s.prefix,y=(a==null?void 0:a.suffix)??s.suffix,v=(a==null?void 0:a.showValues)??s.showValues,x=n.db.getGraph(),b=S9e[g];Ble().nodeId(_=>_.id).nodeWidth(10).nodePadding(10+(v?15:0)).nodeAlign(b).extent([[0,0],[d,p]])(x);const T=w2(Che);h.append("g").attr("class","nodes").selectAll(".node").data(x.nodes).join("g").attr("class","node").attr("id",_=>(_.uid=_B.next("node-")).id).attr("transform",function(_){return"translate("+_.x0+","+_.y0+")"}).attr("x",_=>_.x0).attr("y",_=>_.y0).append("rect").attr("height",_=>_.y1-_.y0).attr("width",_=>_.x1-_.x0).attr("fill",_=>T(_.id));const k=l(({id:_,value:L})=>v?`${_}
${m}${Math.round(100*L)/100}${y}`:_,"getText");h.append("g").attr("class","node-labels").attr("font-family","sans-serif").attr("font-size",14).selectAll("text").data(x.nodes).join("text").attr("x",_=>_.x0<d/2?_.x1+6:_.x0-6).attr("y",_=>(_.y1+_.y0)/2).attr("dy",(v?"0":"0.35")+"em").attr("text-anchor",_=>_.x0<d/2?"start":"end").text(k);const R=h.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(x.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),C=(a==null?void 0:a.linkColor)??"gradient";if(C==="gradient"){const _=R.append("linearGradient").attr("id",L=>(L.uid=_B.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",L=>L.source.x1).attr("x2",L=>L.target.x0);_.append("stop").attr("offset","0%").attr("stop-color",L=>T(L.source.id)),_.append("stop").attr("offset","100%").attr("stop-color",L=>T(L.target.id))}let E;switch(C){case"gradient":E=l(_=>_.uid,"coloring");break;case"source":E=l(_=>T(_.source.id),"coloring");break;case"target":E=l(_=>T(_.target.id),"coloring");break;default:E=C}R.append("path").attr("d",Hle()).attr("stroke",E).attr("stroke-width",_=>Math.max(1,_.width)),v0(void 0,h,0,f)},"draw"),L9e={draw:A9e},N9e=l(e=>e.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing"),I9e=L5.parse.bind(L5);L5.parse=e=>I9e(N9e(e));var M9e={parser:L5,db:T9e,renderer:L9e},R9e=Object.freeze({__proto__:null,diagram:M9e}),Vle={packet:[]},LS=structuredClone(Vle),D9e=lr.packet,O9e=l(()=>{const e=sl({...D9e,...Zr().packet});return e.showBits&&(e.paddingY+=10),e},"getConfig"),P9e=l(()=>LS.packet,"getPacket"),ed={pushWord:l(e=>{e.length>0&&LS.packet.push(e)},"pushWord"),getPacket:P9e,getConfig:O9e,clear:l(()=>{Hn(),LS=structuredClone(Vle)},"clear"),setAccTitle:Vn,getAccTitle:ci,setDiagramTitle:Fi,getDiagramTitle:di,getAccDescription:hi,setAccDescription:ui},B9e=l(e=>{q2(e,ed);let t=-1,r=[],n=1;const{bitsPerRow:i}=ed.getConfig();for(let{start:a,end:s,label:o}of e.blocks){if(s&&s<a)throw new Error(`Packet block ${a} - ${s} is invalid. End must be greater than start.`);if(a!==t+1)throw new Error(`Packet block ${a} - ${s??a} is not contiguous. It should start from ${t+1}.`);for(t=s??a,re.debug(`Packet block ${a} - ${t} with label ${o}`);r.length<=i+1&&ed.getPacket().length<1e4;){const[u,h]=$9e({start:a,end:s,label:o},n,i);if(r.push(u),u.end+1===n*i&&(ed.pushWord(r),r=[],n++),!h)break;({start:a,end:s,label:o}=h)}}ed.pushWord(r)},"populate"),$9e=l((e,t,r)=>{if(e.end===void 0&&(e.end=e.start),e.start>e.end)throw new Error(`Block start ${e.start} is greater than block end ${e.end}.`);return e.end+1<=t*r?[e,void 0]:[{start:e.start,end:t*r-1,label:e.label},{start:t*r,end:e.end,label:e.label}]},"getNextFittingBlock"),F9e={parse:l(async e=>{const t=await eh("packet",e);re.debug(t),B9e(t)},"parse")},z9e=l((e,t,r,n)=>{const i=n.db,a=i.getConfig(),{rowHeight:s,paddingY:o,bitWidth:u,bitsPerRow:h}=a,d=i.getPacket(),p=i.getDiagramTitle(),f=s+o,g=f*(d.length+1)-(p?0:s),m=u*h+2,y=mc(t);y.attr("viewbox",`0 0 ${m} ${g}`),Ci(y,g,m,a.useMaxWidth);for(const[v,x]of d.entries())U9e(y,x,v,a);y.append("text").text(p).attr("x",m/2).attr("y",g-f/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),U9e=l((e,t,r,{rowHeight:n,paddingX:i,paddingY:a,bitWidth:s,bitsPerRow:o,showBits:u})=>{const h=e.append("g"),d=r*(n+a)+a;for(const p of t){const f=p.start%o*s+1,g=(p.end-p.start+1)*s-i;if(h.append("rect").attr("x",f).attr("y",d).attr("width",g).attr("height",n).attr("class","packetBlock"),h.append("text").attr("x",f+g/2).attr("y",d+n/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(p.label),!u)continue;const m=p.end===p.start,y=d-2;h.append("text").attr("x",f+(m?g/2:0)).attr("y",y).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",m?"middle":"start").text(p.start),m||h.append("text").attr("x",f+g).attr("y",y).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(p.end)}},"drawWord"),G9e={draw:z9e},q9e={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},j9e=l(({packet:e}={})=>{const t=sl(q9e,e);return`
	.packetByte {
		font-size: ${t.byteFontSize};
	}
	.packetByte.start {
		fill: ${t.startByteColor};
	}
	.packetByte.end {
		fill: ${t.endByteColor};
	}
	.packetLabel {
		fill: ${t.labelColor};
		font-size: ${t.labelFontSize};
	}
	.packetTitle {
		fill: ${t.titleColor};
		font-size: ${t.titleFontSize};
	}
	.packetBlock {
		stroke: ${t.blockStrokeColor};
		stroke-width: ${t.blockStrokeWidth};
		fill: ${t.blockFillColor};
	}
	`},"styles"),Y9e={parser:F9e,db:ed,renderer:G9e,styles:j9e},W9e=Object.freeze({__proto__:null,diagram:Y9e}),NS=function(){var e=l(function(w,T,k,R){for(k=k||{},R=w.length;R--;k[w[R]]=T);return k},"o"),t=[1,7],r=[1,13],n=[1,14],i=[1,15],a=[1,19],s=[1,16],o=[1,17],u=[1,18],h=[8,30],d=[8,21,28,29,30,31,32,40,44,47],p=[1,23],f=[1,24],g=[8,15,16,21,28,29,30,31,32,40,44,47],m=[8,15,16,21,27,28,29,30,31,32,40,44,47],y=[1,49],v={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,block:31,NODE_ID:32,nodeShapeNLabel:33,dirList:34,DIR:35,NODE_DSTART:36,NODE_DEND:37,BLOCK_ARROW_START:38,BLOCK_ARROW_END:39,classDef:40,CLASSDEF_ID:41,CLASSDEF_STYLEOPTS:42,DEFAULT:43,class:44,CLASSENTITY_IDS:45,STYLECLASS:46,style:47,STYLE_ENTITY_IDS:48,STYLE_DEFINITION_DATA:49,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"block",32:"NODE_ID",35:"DIR",36:"NODE_DSTART",37:"NODE_DEND",38:"BLOCK_ARROW_START",39:"BLOCK_ARROW_END",40:"classDef",41:"CLASSDEF_ID",42:"CLASSDEF_STYLEOPTS",43:"DEFAULT",44:"class",45:"CLASSENTITY_IDS",46:"STYLECLASS",47:"style",48:"STYLE_ENTITY_IDS",49:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[34,1],[34,2],[33,3],[33,4],[23,3],[23,3],[24,3],[25,3]],performAction:l(function(w,T,k,R,C,E,_){var L=E.length-1;switch(C){case 4:R.getLogger().debug("Rule: separator (NL) ");break;case 5:R.getLogger().debug("Rule: separator (Space) ");break;case 6:R.getLogger().debug("Rule: separator (EOF) ");break;case 7:R.getLogger().debug("Rule: hierarchy: ",E[L-1]),R.setHierarchy(E[L-1]);break;case 8:R.getLogger().debug("Stop NL ");break;case 9:R.getLogger().debug("Stop EOF ");break;case 10:R.getLogger().debug("Stop NL2 ");break;case 11:R.getLogger().debug("Stop EOF2 ");break;case 12:R.getLogger().debug("Rule: statement: ",E[L]),typeof E[L].length=="number"?this.$=E[L]:this.$=[E[L]];break;case 13:R.getLogger().debug("Rule: statement #2: ",E[L-1]),this.$=[E[L-1]].concat(E[L]);break;case 14:R.getLogger().debug("Rule: link: ",E[L],w),this.$={edgeTypeStr:E[L],label:""};break;case 15:R.getLogger().debug("Rule: LABEL link: ",E[L-3],E[L-1],E[L]),this.$={edgeTypeStr:E[L],label:E[L-1]};break;case 18:const D=parseInt(E[L]),B=R.generateId();this.$={id:B,type:"space",label:"",width:D,children:[]};break;case 23:R.getLogger().debug("Rule: (nodeStatement link node) ",E[L-2],E[L-1],E[L]," typestr: ",E[L-1].edgeTypeStr);const S=R.edgeStrToEdgeData(E[L-1].edgeTypeStr);this.$=[{id:E[L-2].id,label:E[L-2].label,type:E[L-2].type,directions:E[L-2].directions},{id:E[L-2].id+"-"+E[L].id,start:E[L-2].id,end:E[L].id,label:E[L-1].label,type:"edge",directions:E[L].directions,arrowTypeEnd:S,arrowTypeStart:"arrow_open"},{id:E[L].id,label:E[L].label,type:R.typeStr2Type(E[L].typeStr),directions:E[L].directions}];break;case 24:R.getLogger().debug("Rule: nodeStatement (abc88 node size) ",E[L-1],E[L]),this.$={id:E[L-1].id,label:E[L-1].label,type:R.typeStr2Type(E[L-1].typeStr),directions:E[L-1].directions,widthInColumns:parseInt(E[L],10)};break;case 25:R.getLogger().debug("Rule: nodeStatement (node) ",E[L]),this.$={id:E[L].id,label:E[L].label,type:R.typeStr2Type(E[L].typeStr),directions:E[L].directions,widthInColumns:1};break;case 26:R.getLogger().debug("APA123",this?this:"na"),R.getLogger().debug("COLUMNS: ",E[L]),this.$={type:"column-setting",columns:E[L]==="auto"?-1:parseInt(E[L])};break;case 27:R.getLogger().debug("Rule: id-block statement : ",E[L-2],E[L-1]),R.generateId(),this.$={...E[L-2],type:"composite",children:E[L-1]};break;case 28:R.getLogger().debug("Rule: blockStatement : ",E[L-2],E[L-1],E[L]);const N=R.generateId();this.$={id:N,type:"composite",label:"",children:E[L-1]};break;case 29:R.getLogger().debug("Rule: node (NODE_ID separator): ",E[L]),this.$={id:E[L]};break;case 30:R.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",E[L-1],E[L]),this.$={id:E[L-1],label:E[L].label,typeStr:E[L].typeStr,directions:E[L].directions};break;case 31:R.getLogger().debug("Rule: dirList: ",E[L]),this.$=[E[L]];break;case 32:R.getLogger().debug("Rule: dirList: ",E[L-1],E[L]),this.$=[E[L-1]].concat(E[L]);break;case 33:R.getLogger().debug("Rule: nodeShapeNLabel: ",E[L-2],E[L-1],E[L]),this.$={typeStr:E[L-2]+E[L],label:E[L-1]};break;case 34:R.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",E[L-3],E[L-2]," #3:",E[L-1],E[L]),this.$={typeStr:E[L-3]+E[L],label:E[L-2],directions:E[L-1]};break;case 35:case 36:this.$={type:"classDef",id:E[L-1].trim(),css:E[L].trim()};break;case 37:this.$={type:"applyClass",id:E[L-1].trim(),styleClass:E[L].trim()};break;case 38:this.$={type:"applyStyles",id:E[L-1].trim(),stylesStr:E[L].trim()}}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{11:3,13:4,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:o,47:u},{8:[1,20]},e(h,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,21:t,28:r,29:n,31:i,32:a,40:s,44:o,47:u}),e(d,[2,16],{14:22,15:p,16:f}),e(d,[2,17]),e(d,[2,18]),e(d,[2,19]),e(d,[2,20]),e(d,[2,21]),e(d,[2,22]),e(g,[2,25],{27:[1,25]}),e(d,[2,26]),{19:26,26:12,32:a},{11:27,13:4,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:o,47:u},{41:[1,28],43:[1,29]},{45:[1,30]},{48:[1,31]},e(m,[2,29],{33:32,36:[1,33],38:[1,34]}),{1:[2,7]},e(h,[2,13]),{26:35,32:a},{32:[2,14]},{17:[1,36]},e(g,[2,24]),{11:37,13:4,14:22,15:p,16:f,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:o,47:u},{30:[1,38]},{42:[1,39]},{42:[1,40]},{46:[1,41]},{49:[1,42]},e(m,[2,30]),{18:[1,43]},{18:[1,44]},e(g,[2,23]),{18:[1,45]},{30:[1,46]},e(d,[2,28]),e(d,[2,35]),e(d,[2,36]),e(d,[2,37]),e(d,[2,38]),{37:[1,47]},{34:48,35:y},{15:[1,50]},e(d,[2,27]),e(m,[2,33]),{39:[1,51]},{34:52,35:y,39:[2,31]},{32:[2,15]},e(m,[2,34]),{39:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:l(function(w,T){if(!T.recoverable){var k=new Error(w);throw k.hash=T,k}this.trace(w)},"parseError"),parse:l(function(w){var T=this,k=[0],R=[],C=[null],E=[],_=this.table,L="",D=0,B=0,S=2,N=1,A=E.slice.call(arguments,1),M=Object.create(this.lexer),O={yy:{}};for(var I in this.yy)Object.prototype.hasOwnProperty.call(this.yy,I)&&(O.yy[I]=this.yy[I]);M.setInput(w,O.yy),O.yy.lexer=M,O.yy.parser=this,M.yylloc===void 0&&(M.yylloc={});var P=M.yylloc;E.push(P);var $=M.options&&M.options.ranges;function z(pe){k.length=k.length-2*pe,C.length=C.length-pe,E.length=E.length-pe}function G(){var pe;return typeof(pe=R.pop()||M.lex()||N)!="number"&&(pe instanceof Array&&(pe=(R=pe).pop()),pe=T.symbols_[pe]||pe),pe}typeof O.yy.parseError=="function"?this.parseError=O.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,l(z,"popStack"),l(G,"lex");for(var q,J,ie,te,W,H,X,Q,ne={};;){if(J=k[k.length-1],this.defaultActions[J]?ie=this.defaultActions[J]:(q==null&&(q=G()),ie=_[J]&&_[J][q]),ie===void 0||!ie.length||!ie[0]){var ee="";for(W in Q=[],_[J])this.terminals_[W]&&W>S&&Q.push("'"+this.terminals_[W]+"'");ee=M.showPosition?"Parse error on line "+(D+1)+`:
`+M.showPosition()+`
Expecting `+Q.join(", ")+", got '"+(this.terminals_[q]||q)+"'":"Parse error on line "+(D+1)+": Unexpected "+(q==N?"end of input":"'"+(this.terminals_[q]||q)+"'"),this.parseError(ee,{text:M.match,token:this.terminals_[q]||q,line:M.yylineno,loc:P,expected:Q})}if(ie[0]instanceof Array&&ie.length>1)throw new Error("Parse Error: multiple actions possible at state: "+J+", token: "+q);switch(ie[0]){case 1:k.push(q),C.push(M.yytext),E.push(M.yylloc),k.push(ie[1]),q=null,B=M.yyleng,L=M.yytext,D=M.yylineno,P=M.yylloc;break;case 2:if(H=this.productions_[ie[1]][1],ne.$=C[C.length-H],ne._$={first_line:E[E.length-(H||1)].first_line,last_line:E[E.length-1].last_line,first_column:E[E.length-(H||1)].first_column,last_column:E[E.length-1].last_column},$&&(ne._$.range=[E[E.length-(H||1)].range[0],E[E.length-1].range[1]]),(te=this.performAction.apply(ne,[L,B,D,O.yy,ie[1],C,E].concat(A)))!==void 0)return te;H&&(k=k.slice(0,-1*H*2),C=C.slice(0,-1*H),E=E.slice(0,-1*H)),k.push(this.productions_[ie[1]][0]),C.push(ne.$),E.push(ne._$),X=_[k[k.length-2]][k[k.length-1]],k.push(X);break;case 3:return!0}}return!0},"parse")},x=function(){var w={EOF:1,parseError:l(function(T,k){if(!this.yy.parser)throw new Error(T);this.yy.parser.parseError(T,k)},"parseError"),setInput:l(function(T,k){return this.yy=k||this.yy||{},this._input=T,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var T=this._input[0];return this.yytext+=T,this.yyleng++,this.offset++,this.match+=T,this.matched+=T,T.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),T},"input"),unput:l(function(T){var k=T.length,R=T.split(/(?:\r\n?|\n)/g);this._input=T+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-k),this.offset-=k;var C=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),R.length-1&&(this.yylineno-=R.length-1);var E=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:R?(R.length===C.length?this.yylloc.first_column:0)+C[C.length-R.length].length-R[0].length:this.yylloc.first_column-k},this.options.ranges&&(this.yylloc.range=[E[0],E[0]+this.yyleng-k]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:l(function(T){this.unput(this.match.slice(T))},"less"),pastInput:l(function(){var T=this.matched.substr(0,this.matched.length-this.match.length);return(T.length>20?"...":"")+T.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var T=this.match;return T.length<20&&(T+=this._input.substr(0,20-T.length)),(T.substr(0,20)+(T.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var T=this.pastInput(),k=new Array(T.length+1).join("-");return T+this.upcomingInput()+`
`+k+"^"},"showPosition"),test_match:l(function(T,k){var R,C,E;if(this.options.backtrack_lexer&&(E={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(E.yylloc.range=this.yylloc.range.slice(0))),(C=T[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=C.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:C?C[C.length-1].length-C[C.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+T[0].length},this.yytext+=T[0],this.match+=T[0],this.matches=T,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(T[0].length),this.matched+=T[0],R=this.performAction.call(this,this.yy,this,k,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),R)return R;if(this._backtrack){for(var _ in E)this[_]=E[_];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;var T,k,R,C;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var E=this._currentRules(),_=0;_<E.length;_++)if((R=this._input.match(this.rules[E[_]]))&&(!k||R[0].length>k[0].length)){if(k=R,C=_,this.options.backtrack_lexer){if((T=this.test_match(R,E[_]))!==!1)return T;if(this._backtrack){k=!1;continue}return!1}if(!this.options.flex)break}return k?(T=this.test_match(k,E[C]))!==!1&&T:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var T=this.next();return T||this.lex()},"lex"),begin:l(function(T){this.conditionStack.push(T)},"begin"),popState:l(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(T){return(T=this.conditionStack.length-1-Math.abs(T||0))>=0?this.conditionStack[T]:"INITIAL"},"topState"),pushState:l(function(T){this.begin(T)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:l(function(T,k,R,C){switch(R){case 0:return 10;case 1:return T.getLogger().debug("Found space-block"),31;case 2:return T.getLogger().debug("Found nl-block"),31;case 3:return T.getLogger().debug("Found space-block"),29;case 4:T.getLogger().debug(".",k.yytext);break;case 5:T.getLogger().debug("_",k.yytext);break;case 6:return 5;case 7:return k.yytext=-1,28;case 8:return k.yytext=k.yytext.replace(/columns\s+/,""),T.getLogger().debug("COLUMNS (LEX)",k.yytext),28;case 9:case 77:case 78:case 100:this.pushState("md_string");break;case 10:return"MD_STR";case 11:case 35:case 80:this.popState();break;case 12:this.pushState("string");break;case 13:T.getLogger().debug("LEX: POPPING STR:",k.yytext),this.popState();break;case 14:return T.getLogger().debug("LEX: STR end:",k.yytext),"STR";case 15:return k.yytext=k.yytext.replace(/space\:/,""),T.getLogger().debug("SPACE NUM (LEX)",k.yytext),21;case 16:return k.yytext="1",T.getLogger().debug("COLUMNS (LEX)",k.yytext),21;case 17:return 43;case 18:return"LINKSTYLE";case 19:return"INTERPOLATE";case 20:return this.pushState("CLASSDEF"),40;case 21:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 22:return this.popState(),this.pushState("CLASSDEFID"),41;case 23:return this.popState(),42;case 24:return this.pushState("CLASS"),44;case 25:return this.popState(),this.pushState("CLASS_STYLE"),45;case 26:return this.popState(),46;case 27:return this.pushState("STYLE_STMNT"),47;case 28:return this.popState(),this.pushState("STYLE_DEFINITION"),48;case 29:return this.popState(),49;case 30:return this.pushState("acc_title"),"acc_title";case 31:return this.popState(),"acc_title_value";case 32:return this.pushState("acc_descr"),"acc_descr";case 33:return this.popState(),"acc_descr_value";case 34:this.pushState("acc_descr_multiline");break;case 36:return"acc_descr_multiline_value";case 37:return 30;case 38:case 39:case 41:case 42:case 45:return this.popState(),T.getLogger().debug("Lex: (("),"NODE_DEND";case 40:return this.popState(),T.getLogger().debug("Lex: ))"),"NODE_DEND";case 43:return this.popState(),T.getLogger().debug("Lex: (-"),"NODE_DEND";case 44:return this.popState(),T.getLogger().debug("Lex: -)"),"NODE_DEND";case 46:return this.popState(),T.getLogger().debug("Lex: ]]"),"NODE_DEND";case 47:return this.popState(),T.getLogger().debug("Lex: ("),"NODE_DEND";case 48:return this.popState(),T.getLogger().debug("Lex: ])"),"NODE_DEND";case 49:case 50:return this.popState(),T.getLogger().debug("Lex: /]"),"NODE_DEND";case 51:return this.popState(),T.getLogger().debug("Lex: )]"),"NODE_DEND";case 52:return this.popState(),T.getLogger().debug("Lex: )"),"NODE_DEND";case 53:return this.popState(),T.getLogger().debug("Lex: ]>"),"NODE_DEND";case 54:return this.popState(),T.getLogger().debug("Lex: ]"),"NODE_DEND";case 55:return T.getLogger().debug("Lexa: -)"),this.pushState("NODE"),36;case 56:return T.getLogger().debug("Lexa: (-"),this.pushState("NODE"),36;case 57:return T.getLogger().debug("Lexa: ))"),this.pushState("NODE"),36;case 58:case 60:case 61:case 62:case 65:return T.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 59:return T.getLogger().debug("Lex: ((("),this.pushState("NODE"),36;case 63:return T.getLogger().debug("Lexc: >"),this.pushState("NODE"),36;case 64:return T.getLogger().debug("Lexa: (["),this.pushState("NODE"),36;case 66:case 67:case 68:case 69:case 70:case 71:case 72:return this.pushState("NODE"),36;case 73:return T.getLogger().debug("Lexa: ["),this.pushState("NODE"),36;case 74:return this.pushState("BLOCK_ARROW"),T.getLogger().debug("LEX ARR START"),38;case 75:return T.getLogger().debug("Lex: NODE_ID",k.yytext),32;case 76:return T.getLogger().debug("Lex: EOF",k.yytext),8;case 79:return"NODE_DESCR";case 81:T.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 82:T.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 83:return T.getLogger().debug("LEX: NODE_DESCR:",k.yytext),"NODE_DESCR";case 84:T.getLogger().debug("LEX POPPING"),this.popState();break;case 85:T.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 86:return k.yytext=k.yytext.replace(/^,\s*/,""),T.getLogger().debug("Lex (right): dir:",k.yytext),"DIR";case 87:return k.yytext=k.yytext.replace(/^,\s*/,""),T.getLogger().debug("Lex (left):",k.yytext),"DIR";case 88:return k.yytext=k.yytext.replace(/^,\s*/,""),T.getLogger().debug("Lex (x):",k.yytext),"DIR";case 89:return k.yytext=k.yytext.replace(/^,\s*/,""),T.getLogger().debug("Lex (y):",k.yytext),"DIR";case 90:return k.yytext=k.yytext.replace(/^,\s*/,""),T.getLogger().debug("Lex (up):",k.yytext),"DIR";case 91:return k.yytext=k.yytext.replace(/^,\s*/,""),T.getLogger().debug("Lex (down):",k.yytext),"DIR";case 92:return k.yytext="]>",T.getLogger().debug("Lex (ARROW_DIR end):",k.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 93:return T.getLogger().debug("Lex: LINK","#"+k.yytext+"#"),15;case 94:case 95:case 96:return T.getLogger().debug("Lex: LINK",k.yytext),15;case 97:case 98:case 99:return T.getLogger().debug("Lex: START_LINK",k.yytext),this.pushState("LLABEL"),16;case 101:return T.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 102:return this.popState(),T.getLogger().debug("Lex: LINK","#"+k.yytext+"#"),15;case 103:case 104:return this.popState(),T.getLogger().debug("Lex: LINK",k.yytext),15;case 105:return T.getLogger().debug("Lex: COLON",k.yytext),k.yytext=k.yytext.slice(1),27}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block\s+)/,/^(?:block\n+)/,/^(?:block:)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[29],inclusive:!1},STYLE_STMNT:{rules:[28],inclusive:!1},CLASSDEFID:{rules:[23],inclusive:!1},CLASSDEF:{rules:[21,22],inclusive:!1},CLASS_STYLE:{rules:[26],inclusive:!1},CLASS:{rules:[25],inclusive:!1},LLABEL:{rules:[100,101,102,103,104],inclusive:!1},ARROW_DIR:{rules:[86,87,88,89,90,91,92],inclusive:!1},BLOCK_ARROW:{rules:[77,82,85],inclusive:!1},NODE:{rules:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,78,81],inclusive:!1},md_string:{rules:[10,11,79,80],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[13,14,83,84],inclusive:!1},acc_descr_multiline:{rules:[35,36],inclusive:!1},acc_descr:{rules:[33],inclusive:!1},acc_title:{rules:[31],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,12,15,16,17,18,19,20,24,27,30,32,34,37,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,93,94,95,96,97,98,99,105],inclusive:!0}}};return w}();function b(){this.yy={}}return v.lexer=x,l(b,"Parser"),b.prototype=v,v.Parser=b,new b}();NS.parser=NS;var H9e=NS,As=new Map,kI=[],IS=new Map,V9e=ye(),I5=new Map,X9e=l(e=>He.sanitizeText(e,V9e),"sanitizeText"),K9e=l(function(e,t=""){let r=I5.get(e);r||(r={id:e,styles:[],textStyles:[]},I5.set(e,r)),t!=null&&t.split(",").forEach(n=>{const i=n.replace(/([^;]*);/,"$1").trim();if(RegExp("color").exec(n)){const a=i.replace("fill","bgFill").replace("color","fill");r.textStyles.push(a)}r.styles.push(i)})},"addStyleClass"),Z9e=l(function(e,t=""){const r=As.get(e);t!=null&&(r.styles=t.split(","))},"addStyle2Node"),Q9e=l(function(e,t){e.split(",").forEach(function(r){let n=As.get(r);if(n===void 0){const i=r.trim();n={id:i,type:"na",children:[]},As.set(i,n)}n.classes||(n.classes=[]),n.classes.push(t)})},"setCssClass"),Xle=l((e,t)=>{const r=e.flat(),n=[];for(const i of r)if(i.label&&(i.label=X9e(i.label)),i.type!=="classDef")if(i.type!=="applyClass")if(i.type!=="applyStyles")if(i.type==="column-setting")t.columns=i.columns??-1;else if(i.type==="edge"){const a=(IS.get(i.id)??0)+1;IS.set(i.id,a),i.id=a+"-"+i.id,kI.push(i)}else{i.label||(i.type==="composite"?i.label="":i.label=i.id);const a=As.get(i.id);if(a===void 0?As.set(i.id,i):(i.type!=="na"&&(a.type=i.type),i.label!==i.id&&(a.label=i.label)),i.children&&Xle(i.children,i),i.type==="space"){const s=i.width??1;for(let o=0;o<s;o++){const u=Un(i);u.id=u.id+"-"+o,As.set(u.id,u),n.push(u)}}else a===void 0&&n.push(i)}else i!=null&&i.stylesStr&&Z9e(i.id,i==null?void 0:i.stylesStr);else Q9e(i.id,(i==null?void 0:i.styleClass)??"");else K9e(i.id,i.css);t.children=n},"populateBlockDatabase"),TI=[],uy={id:"root",type:"composite",children:[],columns:-1},J9e=l(()=>{re.debug("Clear called"),Hn(),uy={id:"root",type:"composite",children:[],columns:-1},As=new Map([["root",uy]]),TI=[],I5=new Map,kI=[],IS=new Map},"clear");function Kle(e){switch(re.debug("typeStr2Type",e),e){case"[]":return"square";case"()":return re.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}function Zle(e){return re.debug("typeStr2Type",e),e==="=="?"thick":"normal"}function Qle(e){switch(e.trim()){case"--x":return"arrow_cross";case"--o":return"arrow_circle";default:return"arrow_point"}}l(Kle,"typeStr2Type"),l(Zle,"edgeTypeStr2Type"),l(Qle,"edgeStrToEdgeData");var EB=0,eLe=l(()=>(EB++,"id-"+Math.random().toString(36).substr(2,12)+"-"+EB),"generateId"),tLe=l(e=>{uy.children=e,Xle(e,uy),TI=uy.children},"setHierarchy"),rLe=l(e=>{const t=As.get(e);return t?t.columns?t.columns:t.children?t.children.length:-1:-1},"getColumns"),nLe=l(()=>[...As.values()],"getBlocksFlat"),iLe=l(()=>TI||[],"getBlocks"),aLe=l(()=>kI,"getEdges"),sLe=l(e=>As.get(e),"getBlock"),oLe=l(e=>{As.set(e.id,e)},"setBlock"),lLe=l(()=>console,"getLogger"),cLe=l(function(){return I5},"getClasses"),uLe={getConfig:l(()=>Zr().block,"getConfig"),typeStr2Type:Kle,edgeTypeStr2Type:Zle,edgeStrToEdgeData:Qle,getLogger:lLe,getBlocksFlat:nLe,getBlocks:iLe,getEdges:aLe,setHierarchy:tLe,getBlock:sLe,setBlock:oLe,getColumns:rLe,getClasses:cLe,clear:J9e,generateId:eLe},hx=l((e,t)=>{const r=KB,n=r(e,"r"),i=r(e,"g"),a=r(e,"b");return mu(n,i,a,t)},"fade"),hLe=l(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span,p {
    color: ${e.titleColor};
  }



  .label text,span,p {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${hx(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${hx(e.mainBkg,.5)};
    fill: ${hx(e.clusterBkg,.5)};
    stroke: ${hx(e.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span,p {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),dLe=l((e,t,r,n)=>{t.forEach(i=>{kLe[i](e,r,n)})},"insertMarkers"),pLe=l((e,t,r)=>{re.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),fLe=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),gLe=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),mLe=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),yLe=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),vLe=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),xLe=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),bLe=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),wLe=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),kLe={extension:pLe,composition:fLe,aggregation:gLe,dependency:mLe,lollipop:yLe,point:vLe,circle:xLe,cross:bLe,barb:wLe},TLe=dLe,$B,FB,gn=((FB=($B=ye())==null?void 0:$B.block)==null?void 0:FB.padding)??8;function Jle(e,t){if(e===0||!Number.isInteger(e))throw new Error("Columns must be an integer !== 0.");if(t<0||!Number.isInteger(t))throw new Error("Position must be a non-negative integer."+t);return e<0?{px:t,py:0}:e===1?{px:0,py:t}:{px:t%e,py:Math.floor(t/e)}}l(Jle,"calculateBlockPosition");var _Le=l(e=>{let t=0,r=0;for(const n of e.children){const{width:i,height:a,x:s,y:o}=n.size??{width:0,height:0,x:0,y:0};re.debug("getMaxChildSize abc95 child:",n.id,"width:",i,"height:",a,"x:",s,"y:",o,n.type),n.type!=="space"&&(i>t&&(t=i/(e.widthInColumns??1)),a>r&&(r=a))}return{width:t,height:r}},"getMaxChildSize");function M5(e,t,r=0,n=0){var s,o,u,h,d,p,f,g,m,y,v;re.debug("setBlockSizes abc95 (start)",e.id,(s=e==null?void 0:e.size)==null?void 0:s.x,"block width =",e==null?void 0:e.size,"sieblingWidth",r),(o=e==null?void 0:e.size)!=null&&o.width||(e.size={width:r,height:n,x:0,y:0});let i=0,a=0;if(((u=e.children)==null?void 0:u.length)>0){for(const E of e.children)M5(E,t);const x=_Le(e);i=x.width,a=x.height,re.debug("setBlockSizes abc95 maxWidth of",e.id,":s children is ",i,a);for(const E of e.children)E.size&&(re.debug(`abc95 Setting size of children of ${e.id} id=${E.id} ${i} ${a} ${JSON.stringify(E.size)}`),E.size.width=i*(E.widthInColumns??1)+gn*((E.widthInColumns??1)-1),E.size.height=a,E.size.x=0,E.size.y=0,re.debug(`abc95 updating size of ${e.id} children child:${E.id} maxWidth:${i} maxHeight:${a}`));for(const E of e.children)M5(E,t,i,a);const b=e.columns??-1;let w=0;for(const E of e.children)w+=E.widthInColumns??1;let T=e.children.length;b>0&&b<w&&(T=b);const k=Math.ceil(w/T);let R=T*(i+gn)+gn,C=k*(a+gn)+gn;if(R<r){re.debug(`Detected to small siebling: abc95 ${e.id} sieblingWidth ${r} sieblingHeight ${n} width ${R}`),R=r,C=n;const E=(r-T*gn-gn)/T,_=(n-k*gn-gn)/k;re.debug("Size indata abc88",e.id,"childWidth",E,"maxWidth",i),re.debug("Size indata abc88",e.id,"childHeight",_,"maxHeight",a),re.debug("Size indata abc88 xSize",T,"padding",gn);for(const L of e.children)L.size&&(L.size.width=E,L.size.height=_,L.size.x=0,L.size.y=0)}if(re.debug(`abc95 (finale calc) ${e.id} xSize ${T} ySize ${k} columns ${b}${e.children.length} width=${Math.max(R,((h=e.size)==null?void 0:h.width)||0)}`),R<(((d=e==null?void 0:e.size)==null?void 0:d.width)||0)){R=((p=e==null?void 0:e.size)==null?void 0:p.width)||0;const E=b>0?Math.min(e.children.length,b):e.children.length;if(E>0){const _=(R-E*gn-gn)/E;re.debug("abc95 (growing to fit) width",e.id,R,(f=e.size)==null?void 0:f.width,_);for(const L of e.children)L.size&&(L.size.width=_)}}e.size={width:R,height:C,x:0,y:0}}re.debug("setBlockSizes abc94 (done)",e.id,(g=e==null?void 0:e.size)==null?void 0:g.x,(m=e==null?void 0:e.size)==null?void 0:m.width,(y=e==null?void 0:e.size)==null?void 0:y.y,(v=e==null?void 0:e.size)==null?void 0:v.height)}function _I(e,t){var n,i,a,s,o,u,h,d,p,f,g,m,y,v,x,b,w;re.debug(`abc85 layout blocks (=>layoutBlocks) ${e.id} x: ${(n=e==null?void 0:e.size)==null?void 0:n.x} y: ${(i=e==null?void 0:e.size)==null?void 0:i.y} width: ${(a=e==null?void 0:e.size)==null?void 0:a.width}`);const r=e.columns??-1;if(re.debug("layoutBlocks columns abc95",e.id,"=>",r,e),e.children&&e.children.length>0){const T=((o=(s=e==null?void 0:e.children[0])==null?void 0:s.size)==null?void 0:o.width)??0,k=e.children.length*T+(e.children.length-1)*gn;re.debug("widthOfChildren 88",k,"posX");let R=0;re.debug("abc91 block?.size?.x",e.id,(u=e==null?void 0:e.size)==null?void 0:u.x);let C=(h=e==null?void 0:e.size)!=null&&h.x?((d=e==null?void 0:e.size)==null?void 0:d.x)+(-((p=e==null?void 0:e.size)==null?void 0:p.width)/2||0):-gn,E=0;for(const _ of e.children){const L=e;if(!_.size)continue;const{width:D,height:B}=_.size,{px:S,py:N}=Jle(r,R);if(N!=E&&(E=N,C=(f=e==null?void 0:e.size)!=null&&f.x?((g=e==null?void 0:e.size)==null?void 0:g.x)+(-((m=e==null?void 0:e.size)==null?void 0:m.width)/2||0):-gn,re.debug("New row in layout for block",e.id," and child ",_.id,E)),re.debug(`abc89 layout blocks (child) id: ${_.id} Pos: ${R} (px, py) ${S},${N} (${(y=L==null?void 0:L.size)==null?void 0:y.x},${(v=L==null?void 0:L.size)==null?void 0:v.y}) parent: ${L.id} width: ${D}${gn}`),L.size){const A=D/2;_.size.x=C+gn+A,re.debug(`abc91 layout blocks (calc) px, pyid:${_.id} startingPos=X${C} new startingPosX${_.size.x} ${A} padding=${gn} width=${D} halfWidth=${A} => x:${_.size.x} y:${_.size.y} ${_.widthInColumns} (width * (child?.w || 1)) / 2 ${D*((_==null?void 0:_.widthInColumns)??1)/2}`),C=_.size.x+A,_.size.y=L.size.y-L.size.height/2+N*(B+gn)+B/2+gn,re.debug(`abc88 layout blocks (calc) px, pyid:${_.id}startingPosX${C}${gn}${A}=>x:${_.size.x}y:${_.size.y}${_.widthInColumns}(width * (child?.w || 1)) / 2${D*((_==null?void 0:_.widthInColumns)??1)/2}`)}_.children&&_I(_),R+=(_==null?void 0:_.widthInColumns)??1,re.debug("abc88 columnsPos",_,R)}}re.debug(`layout blocks (<==layoutBlocks) ${e.id} x: ${(x=e==null?void 0:e.size)==null?void 0:x.x} y: ${(b=e==null?void 0:e.size)==null?void 0:b.y} width: ${(w=e==null?void 0:e.size)==null?void 0:w.width}`)}function EI(e,{minX:t,minY:r,maxX:n,maxY:i}={minX:0,minY:0,maxX:0,maxY:0}){if(e.size&&e.id!=="root"){const{x:a,y:s,width:o,height:u}=e.size;a-o/2<t&&(t=a-o/2),s-u/2<r&&(r=s-u/2),a+o/2>n&&(n=a+o/2),s+u/2>i&&(i=s+u/2)}if(e.children)for(const a of e.children)({minX:t,minY:r,maxX:n,maxY:i}=EI(a,{minX:t,minY:r,maxX:n,maxY:i}));return{minX:t,minY:r,maxX:n,maxY:i}}function ece(e){const t=e.getBlock("root");if(!t)return;M5(t,e,0,0),_I(t),re.debug("getBlocks",JSON.stringify(t,null,2));const{minX:r,minY:n,maxX:i,maxY:a}=EI(t);return{x:r,y:n,width:i-r,height:a-n}}function MS(e,t){t&&e.attr("style",t)}function tce(e){const t=Qe(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=e.label,i=e.isNode?"nodeLabel":"edgeLabel",a=r.append("span");return a.html(n),MS(a,e.labelStyle),a.attr("class",i),MS(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}l(M5,"setBlockSizes"),l(_I,"layoutBlocks"),l(EI,"findBounds"),l(ece,"layout"),l(MS,"applyStyle"),l(tce,"addHtmlLabel");var Ka=l((e,t,r,n)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),Mr(ye().flowchart.htmlLabels))return i=i.replace(/\\n|\n/g,"<br />"),re.debug("vertexText"+i),tce({isNode:n,label:J8(Go(i)),labelStyle:t.replace("fill:","color:")});{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",t.replace("color:","fill:"));let s=[];s=typeof i=="string"?i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?i:[];for(const o of s){const u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),r?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=o.trim(),a.appendChild(u)}return a}},"createLabel"),ELe=l((e,t,r,n,i)=>{t.arrowTypeStart&&CB(e,"start",t.arrowTypeStart,r,n,i),t.arrowTypeEnd&&CB(e,"end",t.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),CLe={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},CB=l((e,t,r,n,i,a)=>{const s=CLe[r];if(!s)return void re.warn(`Unknown arrow type: ${r}`);const o=t==="start"?"Start":"End";e.attr(`marker-${t}`,`url(${n}#${i}_${a}-${s}${o})`)},"addEdgeMarker"),RS={},bi={},SLe=l((e,t)=>{const r=ye(),n=Mr(r.flowchart.htmlLabels),i=t.labelType==="markdown"?ls(e,t.label,{style:t.labelStyle,useHtmlLabels:n,addSvgBackground:!0},r):Ka(t.label,t.labelStyle),a=e.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label");s.node().appendChild(i);let o,u=i.getBBox();if(n){const h=i.children[0],d=Qe(i);u=h.getBoundingClientRect(),d.attr("width",u.width),d.attr("height",u.height)}if(s.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),RS[t.id]=a,t.width=u.width,t.height=u.height,t.startLabelLeft){const h=Ka(t.startLabelLeft,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");o=p.node().appendChild(h);const f=h.getBBox();p.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),bi[t.id]||(bi[t.id]={}),bi[t.id].startLeft=d,Om(o,t.startLabelLeft)}if(t.startLabelRight){const h=Ka(t.startLabelRight,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");o=d.node().appendChild(h),p.node().appendChild(h);const f=h.getBBox();p.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),bi[t.id]||(bi[t.id]={}),bi[t.id].startRight=d,Om(o,t.startLabelRight)}if(t.endLabelLeft){const h=Ka(t.endLabelLeft,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");o=p.node().appendChild(h);const f=h.getBBox();p.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),d.node().appendChild(h),bi[t.id]||(bi[t.id]={}),bi[t.id].endLeft=d,Om(o,t.endLabelLeft)}if(t.endLabelRight){const h=Ka(t.endLabelRight,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");o=p.node().appendChild(h);const f=h.getBBox();p.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),d.node().appendChild(h),bi[t.id]||(bi[t.id]={}),bi[t.id].endRight=d,Om(o,t.endLabelRight)}return i},"insertEdgeLabel");function Om(e,t){ye().flowchart.htmlLabels&&e&&(e.style.width=9*t.length+"px",e.style.height="12px")}l(Om,"setTerminalWidth");var ALe=l((e,t)=>{re.debug("Moving label abc88 ",e.id,e.label,RS[e.id],t);let r=t.updatedPath?t.updatedPath:t.originalPath;const n=ye(),{subGraphTitleTotalMargin:i}=E2(n);if(e.label){const a=RS[e.id];let s=e.x,o=e.y;if(r){const u=Yt.calcLabelPosition(r);re.debug("Moving label "+e.label+" from (",s,",",o,") to (",u.x,",",u.y,") abc88"),t.updatedPath&&(s=u.x,o=u.y)}a.attr("transform",`translate(${s}, ${o+i/2})`)}if(e.startLabelLeft){const a=bi[e.id].startLeft;let s=e.x,o=e.y;if(r){const u=Yt.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.startLabelRight){const a=bi[e.id].startRight;let s=e.x,o=e.y;if(r){const u=Yt.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.endLabelLeft){const a=bi[e.id].endLeft;let s=e.x,o=e.y;if(r){const u=Yt.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.endLabelRight){const a=bi[e.id].endRight;let s=e.x,o=e.y;if(r){const u=Yt.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),LLe=l((e,t)=>{const r=e.x,n=e.y,i=Math.abs(t.x-r),a=Math.abs(t.y-n),s=e.width/2,o=e.height/2;return i>=s||a>=o},"outsideNode"),NLe=l((e,t,r)=>{re.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,i=e.y,a=Math.abs(n-r.x),s=e.width/2;let o=r.x<t.x?s-a:s+a;const u=e.height/2,h=Math.abs(t.y-r.y),d=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*s>Math.abs(n-t.x)*u){let p=r.y<t.y?t.y-u-i:i-u-t.y;o=d*p/h;const f={x:r.x<t.x?r.x+o:r.x-d+o,y:r.y<t.y?r.y+h-p:r.y-h+p};return o===0&&(f.x=t.x,f.y=t.y),d===0&&(f.x=t.x),h===0&&(f.y=t.y),re.debug(`abc89 topp/bott calc, Q ${h}, q ${p}, R ${d}, r ${o}`,f),f}{o=r.x<t.x?t.x-s-n:n-s-t.x;let p=h*o/d,f=r.x<t.x?r.x+d-o:r.x-d+o,g=r.y<t.y?r.y+p:r.y-p;return re.debug(`sides calc abc89, Q ${h}, q ${p}, R ${d}, r ${o}`,{_x:f,_y:g}),o===0&&(f=t.x,g=t.y),d===0&&(f=t.x),h===0&&(g=t.y),{x:f,y:g}}},"intersection"),SB=l((e,t)=>{re.debug("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(a=>{if(LLe(t,a)||i)n=a,i||r.push(a);else{const s=NLe(t,n,a);let o=!1;r.forEach(u=>{o=o||u.x===s.x&&u.y===s.y}),r.some(u=>u.x===s.x&&u.y===s.y)||r.push(s),i=!0}}),r},"cutPathAtIntersect"),ILe=l(function(e,t,r,n,i,a,s){let o=r.points;re.debug("abc88 InsertEdge: edge=",r,"e=",t);let u=!1;const h=a.node(t.v);var d=a.node(t.w);d!=null&&d.intersect&&(h!=null&&h.intersect)&&(o=o.slice(1,r.points.length-1),o.unshift(h.intersect(o[0])),o.push(d.intersect(o[o.length-1]))),r.toCluster&&(re.debug("to cluster abc88",n[r.toCluster]),o=SB(r.points,n[r.toCluster].node),u=!0),r.fromCluster&&(re.debug("from cluster abc88",n[r.fromCluster]),o=SB(o.reverse(),n[r.fromCluster].node).reverse(),u=!0);const p=o.filter(T=>!Number.isNaN(T.y));let f=x0;!r.curve||i!=="graph"&&i!=="flowchart"||(f=r.curve);const{x:g,y:m}=rX(r),y=Xl().x(g).y(m).curve(f);let v;switch(r.thickness){case"normal":v="edge-thickness-normal";break;case"thick":case"invisible":v="edge-thickness-thick";break;default:v=""}switch(r.pattern){case"solid":v+=" edge-pattern-solid";break;case"dotted":v+=" edge-pattern-dotted";break;case"dashed":v+=" edge-pattern-dashed"}const x=e.append("path").attr("d",y(p)).attr("id",r.id).attr("class"," "+v+(r.classes?" "+r.classes:"")).attr("style",r.style);let b="";(ye().flowchart.arrowMarkerAbsolute||ye().state.arrowMarkerAbsolute)&&(b=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,b=b.replace(/\(/g,"\\("),b=b.replace(/\)/g,"\\)")),ELe(x,r,b,s,i);let w={};return u&&(w.updatedPath=o),w.originalPath=r.points,w},"insertEdge"),MLe=l(e=>{const t=new Set;for(const r of e)switch(r){case"x":t.add("right"),t.add("left");break;case"y":t.add("up"),t.add("down");break;default:t.add(r)}return t},"expandAndDeduplicateDirections"),RLe=l((e,t,r)=>{const n=MLe(e),i=t.height+2*r.padding,a=i/2,s=t.width+2*a+r.padding,o=r.padding/2;return n.has("right")&&n.has("left")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:a,y:0},{x:s/2,y:2*o},{x:s-a,y:0},{x:s,y:0},{x:s,y:-i/3},{x:s+2*o,y:-i/2},{x:s,y:-2*i/3},{x:s,y:-i},{x:s-a,y:-i},{x:s/2,y:-i-2*o},{x:a,y:-i},{x:0,y:-i},{x:0,y:-2*i/3},{x:-2*o,y:-i/2},{x:0,y:-i/3}]:n.has("right")&&n.has("left")&&n.has("up")?[{x:a,y:0},{x:s-a,y:0},{x:s,y:-i/2},{x:s-a,y:-i},{x:a,y:-i},{x:0,y:-i/2}]:n.has("right")&&n.has("left")&&n.has("down")?[{x:0,y:0},{x:a,y:-i},{x:s-a,y:-i},{x:s,y:0}]:n.has("right")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:s,y:-a},{x:s,y:-i+a},{x:0,y:-i}]:n.has("left")&&n.has("up")&&n.has("down")?[{x:s,y:0},{x:0,y:-a},{x:0,y:-i+a},{x:s,y:-i}]:n.has("right")&&n.has("left")?[{x:a,y:0},{x:a,y:-o},{x:s-a,y:-o},{x:s-a,y:0},{x:s,y:-i/2},{x:s-a,y:-i},{x:s-a,y:-i+o},{x:a,y:-i+o},{x:a,y:-i},{x:0,y:-i/2}]:n.has("up")&&n.has("down")?[{x:s/2,y:0},{x:0,y:-o},{x:a,y:-o},{x:a,y:-i+o},{x:0,y:-i+o},{x:s/2,y:-i},{x:s,y:-i+o},{x:s-a,y:-i+o},{x:s-a,y:-o},{x:s,y:-o}]:n.has("right")&&n.has("up")?[{x:0,y:0},{x:s,y:-a},{x:0,y:-i}]:n.has("right")&&n.has("down")?[{x:0,y:0},{x:s,y:0},{x:0,y:-i}]:n.has("left")&&n.has("up")?[{x:s,y:0},{x:0,y:-a},{x:s,y:-i}]:n.has("left")&&n.has("down")?[{x:s,y:0},{x:0,y:0},{x:s,y:-i}]:n.has("right")?[{x:a,y:-o},{x:a,y:-o},{x:s-a,y:-o},{x:s-a,y:0},{x:s,y:-i/2},{x:s-a,y:-i},{x:s-a,y:-i+o},{x:a,y:-i+o},{x:a,y:-i+o}]:n.has("left")?[{x:a,y:0},{x:a,y:-o},{x:s-a,y:-o},{x:s-a,y:-i+o},{x:a,y:-i+o},{x:a,y:-i},{x:0,y:-i/2}]:n.has("up")?[{x:a,y:-o},{x:a,y:-i+o},{x:0,y:-i+o},{x:s/2,y:-i},{x:s,y:-i+o},{x:s-a,y:-i+o},{x:s-a,y:-o}]:n.has("down")?[{x:s/2,y:0},{x:0,y:-o},{x:a,y:-o},{x:a,y:-i+o},{x:s-a,y:-i+o},{x:s-a,y:-o},{x:s,y:-o}]:[{x:0,y:0}]},"getArrowPoints");function rce(e,t){return e.intersect(t)}l(rce,"intersectNode");var DLe=rce;function nce(e,t,r,n){var i=e.x,a=e.y,s=i-n.x,o=a-n.y,u=Math.sqrt(t*t*o*o+r*r*s*s),h=Math.abs(t*r*s/u);n.x<i&&(h=-h);var d=Math.abs(t*r*o/u);return n.y<a&&(d=-d),{x:i+h,y:a+d}}l(nce,"intersectEllipse");var ice=nce;function ace(e,t,r){return ice(e,t,t,r)}l(ace,"intersectCircle");var OLe=ace;function sce(e,t,r,n){var i,a,s,o,u,h,d,p,f,g,m,y,v;if(i=t.y-e.y,s=e.x-t.x,u=t.x*e.y-e.x*t.y,f=i*r.x+s*r.y+u,g=i*n.x+s*n.y+u,!(f!==0&&g!==0&&DS(f,g)||(a=n.y-r.y,o=r.x-n.x,h=n.x*r.y-r.x*n.y,d=a*e.x+o*e.y+h,p=a*t.x+o*t.y+h,d!==0&&p!==0&&DS(d,p)||(m=i*o-a*s)==0)))return y=Math.abs(m/2),{x:(v=s*h-o*u)<0?(v-y)/m:(v+y)/m,y:(v=a*u-i*h)<0?(v-y)/m:(v+y)/m}}function DS(e,t){return e*t>0}l(sce,"intersectLine"),l(DS,"sameSign");var PLe=sce,BLe=oce;function oce(e,t,r){var n=e.x,i=e.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(m){s=Math.min(s,m.x),o=Math.min(o,m.y)}):(s=Math.min(s,t.x),o=Math.min(o,t.y));for(var u=n-e.width/2-s,h=i-e.height/2-o,d=0;d<t.length;d++){var p=t[d],f=t[d<t.length-1?d+1:0],g=PLe(e,r,{x:u+p.x,y:h+p.y},{x:u+f.x,y:h+f.y});g&&a.push(g)}return a.length?(a.length>1&&a.sort(function(m,y){var v=m.x-r.x,x=m.y-r.y,b=Math.sqrt(v*v+x*x),w=y.x-r.x,T=y.y-r.y,k=Math.sqrt(w*w+T*T);return b<k?-1:b===k?0:1}),a[0]):e}l(oce,"intersectPolygon");var $Le=l((e,t)=>{var r,n,i=e.x,a=e.y,s=t.x-i,o=t.y-a,u=e.width/2,h=e.height/2;return Math.abs(o)*u>Math.abs(s)*h?(o<0&&(h=-h),r=o===0?0:h*s/o,n=h):(s<0&&(u=-u),r=u,n=s===0?0:u*o/s),{x:i+r,y:a+n}},"intersectRect"),Qr={node:DLe,circle:OLe,ellipse:ice,polygon:BLe,rect:$Le},Kn=l(async(e,t,r,n)=>{const i=ye();let a;const s=t.useHtmlLabels||Mr(i.flowchart.htmlLabels);a=r||"node default";const o=e.insert("g").attr("class",a).attr("id",t.domId||t.id),u=o.insert("g").attr("class","label").attr("style",t.labelStyle);let h;h=t.labelText===void 0?"":typeof t.labelText=="string"?t.labelText:t.labelText[0];const d=u.node();let p;p=t.labelType==="markdown"?ls(u,Ir(Go(h),i),{useHtmlLabels:s,width:t.width||i.flowchart.wrappingWidth,classes:"markdown-node-label"},i):d.appendChild(Ka(Ir(Go(h),i),t.labelStyle,!1,n));let f=p.getBBox();const g=t.padding/2;if(Mr(i.flowchart.htmlLabels)){const m=p.children[0],y=Qe(p),v=m.getElementsByTagName("img");if(v){const x=h.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...v].map(b=>new Promise(w=>{function T(){if(b.style.display="flex",b.style.flexDirection="column",x){const k=i.fontSize?i.fontSize:window.getComputedStyle(document.body).fontSize,R=5,C=parseInt(k,10)*R+"px";b.style.minWidth=C,b.style.maxWidth=C}else b.style.width="100%";w(b)}l(T,"setupImage"),setTimeout(()=>{b.complete&&T()}),b.addEventListener("error",T),b.addEventListener("load",T)})))}f=m.getBoundingClientRect(),y.attr("width",f.width),y.attr("height",f.height)}return s?u.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"):u.attr("transform","translate(0, "+-f.height/2+")"),t.centerLabel&&u.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),u.insert("rect",":first-child"),{shapeSvg:o,bbox:f,halfPadding:g,label:u}},"labelHelper"),pn=l((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds");function $s(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}l($s,"insertPolygonShape");var FLe=l(async(e,t)=>{t.useHtmlLabels||ye().flowchart.htmlLabels||(t.centerLabel=!0);const{shapeSvg:r,bbox:n,halfPadding:i}=await Kn(e,t,"node "+t.classes,!0);re.info("Classes = ",t.classes);const a=r.insert("rect",":first-child");return a.attr("rx",t.rx).attr("ry",t.ry).attr("x",-n.width/2-i).attr("y",-n.height/2-i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),pn(t,a),t.intersect=function(s){return Qr.rect(t,s)},r},"note"),zLe=FLe,AB=l(e=>e?" "+e:"","formatClass"),Na=l((e,t)=>`${t||"node default"}${AB(e.classes)} ${AB(e.class)}`,"getClassesFromNode"),LB=l(async(e,t)=>{const{shapeSvg:r,bbox:n}=await Kn(e,t,Na(t,void 0),!0),i=n.width+t.padding+(n.height+t.padding),a=[{x:i/2,y:0},{x:i,y:-i/2},{x:i/2,y:-i},{x:0,y:-i/2}];re.info("Question main (Circle)");const s=$s(r,i,i,a);return s.attr("style",t.style),pn(t,s),t.intersect=function(o){return re.warn("Intersect called"),Qr.polygon(t,a,o)},r},"question"),ULe=l((e,t)=>{const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}];return r.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(a){return Qr.circle(t,14,a)},r},"choice"),GLe=l(async(e,t)=>{const{shapeSvg:r,bbox:n}=await Kn(e,t,Na(t,void 0),!0),i=n.height+t.padding,a=i/4,s=n.width+2*a+t.padding,o=[{x:a,y:0},{x:s-a,y:0},{x:s,y:-i/2},{x:s-a,y:-i},{x:a,y:-i},{x:0,y:-i/2}],u=$s(r,s,i,o);return u.attr("style",t.style),pn(t,u),t.intersect=function(h){return Qr.polygon(t,o,h)},r},"hexagon"),qLe=l(async(e,t)=>{const{shapeSvg:r,bbox:n}=await Kn(e,t,void 0,!0),i=n.height+2*t.padding,a=i/2,s=n.width+2*a+t.padding,o=RLe(t.directions,n,t),u=$s(r,s,i,o);return u.attr("style",t.style),pn(t,u),t.intersect=function(h){return Qr.polygon(t,o,h)},r},"block_arrow"),jLe=l(async(e,t)=>{const{shapeSvg:r,bbox:n}=await Kn(e,t,Na(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:-a/2,y:0},{x:i,y:0},{x:i,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return $s(r,i,a,s).attr("style",t.style),t.width=i+a,t.height=a,t.intersect=function(o){return Qr.polygon(t,s,o)},r},"rect_left_inv_arrow"),YLe=l(async(e,t)=>{const{shapeSvg:r,bbox:n}=await Kn(e,t,Na(t),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:-2*a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:a/6,y:-a}],o=$s(r,i,a,s);return o.attr("style",t.style),pn(t,o),t.intersect=function(u){return Qr.polygon(t,s,u)},r},"lean_right"),WLe=l(async(e,t)=>{const{shapeSvg:r,bbox:n}=await Kn(e,t,Na(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:2*a/6,y:0},{x:i+a/6,y:0},{x:i-2*a/6,y:-a},{x:-a/6,y:-a}],o=$s(r,i,a,s);return o.attr("style",t.style),pn(t,o),t.intersect=function(u){return Qr.polygon(t,s,u)},r},"lean_left"),HLe=l(async(e,t)=>{const{shapeSvg:r,bbox:n}=await Kn(e,t,Na(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:-2*a/6,y:0},{x:i+2*a/6,y:0},{x:i-a/6,y:-a},{x:a/6,y:-a}],o=$s(r,i,a,s);return o.attr("style",t.style),pn(t,o),t.intersect=function(u){return Qr.polygon(t,s,u)},r},"trapezoid"),VLe=l(async(e,t)=>{const{shapeSvg:r,bbox:n}=await Kn(e,t,Na(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:-2*a/6,y:-a}],o=$s(r,i,a,s);return o.attr("style",t.style),pn(t,o),t.intersect=function(u){return Qr.polygon(t,s,u)},r},"inv_trapezoid"),XLe=l(async(e,t)=>{const{shapeSvg:r,bbox:n}=await Kn(e,t,Na(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:0,y:0},{x:i+a/2,y:0},{x:i,y:-a/2},{x:i+a/2,y:-a},{x:0,y:-a}],o=$s(r,i,a,s);return o.attr("style",t.style),pn(t,o),t.intersect=function(u){return Qr.polygon(t,s,u)},r},"rect_right_inv_arrow"),KLe=l(async(e,t)=>{const{shapeSvg:r,bbox:n}=await Kn(e,t,Na(t,void 0),!0),i=n.width+t.padding,a=i/2,s=a/(2.5+i/50),o=n.height+s+t.padding,u="M 0,"+s+" a "+a+","+s+" 0,0,0 "+i+" 0 a "+a+","+s+" 0,0,0 "+-i+" 0 l 0,"+o+" a "+a+","+s+" 0,0,0 "+i+" 0 l 0,"+-o,h=r.attr("label-offset-y",s).insert("path",":first-child").attr("style",t.style).attr("d",u).attr("transform","translate("+-i/2+","+-(o/2+s)+")");return pn(t,h),t.intersect=function(d){const p=Qr.rect(t,d),f=p.x-t.x;if(a!=0&&(Math.abs(f)<t.width/2||Math.abs(f)==t.width/2&&Math.abs(p.y-t.y)>t.height/2-s)){let g=s*s*(1-f*f/(a*a));g!=0&&(g=Math.sqrt(g)),g=s-g,d.y-t.y>0&&(g=-g),p.y+=g}return p},r},"cylinder"),ZLe=l(async(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Kn(e,t,"node "+t.classes+" "+t.class,!0),a=r.insert("rect",":first-child"),s=t.positioned?t.width:n.width+t.padding,o=t.positioned?t.height:n.height+t.padding,u=t.positioned?-s/2:-n.width/2-i,h=t.positioned?-o/2:-n.height/2-i;if(a.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",u).attr("y",h).attr("width",s).attr("height",o),t.props){const d=new Set(Object.keys(t.props));t.props.borders&&(Nw(a,t.props.borders,s,o),d.delete("borders")),d.forEach(p=>{re.warn(`Unknown node property ${p}`)})}return pn(t,a),t.intersect=function(d){return Qr.rect(t,d)},r},"rect"),QLe=l(async(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Kn(e,t,"node "+t.classes,!0),a=r.insert("rect",":first-child"),s=t.positioned?t.width:n.width+t.padding,o=t.positioned?t.height:n.height+t.padding,u=t.positioned?-s/2:-n.width/2-i,h=t.positioned?-o/2:-n.height/2-i;if(a.attr("class","basic cluster composite label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",u).attr("y",h).attr("width",s).attr("height",o),t.props){const d=new Set(Object.keys(t.props));t.props.borders&&(Nw(a,t.props.borders,s,o),d.delete("borders")),d.forEach(p=>{re.warn(`Unknown node property ${p}`)})}return pn(t,a),t.intersect=function(d){return Qr.rect(t,d)},r},"composite"),JLe=l(async(e,t)=>{const{shapeSvg:r}=await Kn(e,t,"label",!0);re.trace("Classes = ",t.class);const n=r.insert("rect",":first-child");if(n.attr("width",0).attr("height",0),r.attr("class","label edgeLabel"),t.props){const i=new Set(Object.keys(t.props));t.props.borders&&(Nw(n,t.props.borders,0,0),i.delete("borders")),i.forEach(a=>{re.warn(`Unknown node property ${a}`)})}return pn(t,n),t.intersect=function(i){return Qr.rect(t,i)},r},"labelRect");function Nw(e,t,r,n){const i=[],a=l(o=>{i.push(o,0)},"addBorder"),s=l(o=>{i.push(0,o)},"skipBorder");t.includes("t")?(re.debug("add top border"),a(r)):s(r),t.includes("r")?(re.debug("add right border"),a(n)):s(n),t.includes("b")?(re.debug("add bottom border"),a(r)):s(r),t.includes("l")?(re.debug("add left border"),a(n)):s(n),e.attr("stroke-dasharray",i.join(" "))}l(Nw,"applyNodePropertyBorders");var eNe=l((e,t)=>{let r;r=t.classes?"node "+t.classes:"node default";const n=e.insert("g").attr("class",r).attr("id",t.domId||t.id),i=n.insert("rect",":first-child"),a=n.insert("line"),s=n.insert("g").attr("class","label"),o=t.labelText.flat?t.labelText.flat():t.labelText;let u="";u=typeof o=="object"?o[0]:o,re.info("Label text abc79",u,o,typeof o=="object");const h=s.node().appendChild(Ka(u,t.labelStyle,!0,!0));let d={width:0,height:0};if(Mr(ye().flowchart.htmlLabels)){const y=h.children[0],v=Qe(h);d=y.getBoundingClientRect(),v.attr("width",d.width),v.attr("height",d.height)}re.info("Text 2",o);const p=o.slice(1,o.length);let f=h.getBBox();const g=s.node().appendChild(Ka(p.join?p.join("<br/>"):p,t.labelStyle,!0,!0));if(Mr(ye().flowchart.htmlLabels)){const y=g.children[0],v=Qe(g);d=y.getBoundingClientRect(),v.attr("width",d.width),v.attr("height",d.height)}const m=t.padding/2;return Qe(g).attr("transform","translate( "+(d.width>f.width?0:(f.width-d.width)/2)+", "+(f.height+m+5)+")"),Qe(h).attr("transform","translate( "+(d.width<f.width?0:-(f.width-d.width)/2)+", 0)"),d=s.node().getBBox(),s.attr("transform","translate("+-d.width/2+", "+(-d.height/2-m+3)+")"),i.attr("class","outer title-state").attr("x",-d.width/2-m).attr("y",-d.height/2-m).attr("width",d.width+t.padding).attr("height",d.height+t.padding),a.attr("class","divider").attr("x1",-d.width/2-m).attr("x2",d.width/2+m).attr("y1",-d.height/2-m+f.height+m).attr("y2",-d.height/2-m+f.height+m),pn(t,i),t.intersect=function(y){return Qr.rect(t,y)},n},"rectWithTitle"),tNe=l(async(e,t)=>{const{shapeSvg:r,bbox:n}=await Kn(e,t,Na(t,void 0),!0),i=n.height+t.padding,a=n.width+i/4+t.padding,s=r.insert("rect",":first-child").attr("style",t.style).attr("rx",i/2).attr("ry",i/2).attr("x",-a/2).attr("y",-i/2).attr("width",a).attr("height",i);return pn(t,s),t.intersect=function(o){return Qr.rect(t,o)},r},"stadium"),rNe=l(async(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Kn(e,t,Na(t,void 0),!0),a=r.insert("circle",":first-child");return a.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),re.info("Circle main"),pn(t,a),t.intersect=function(s){return re.info("Circle intersect",t,n.width/2+i,s),Qr.circle(t,n.width/2+i,s)},r},"circle"),nNe=l(async(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Kn(e,t,Na(t,void 0),!0),a=r.insert("g",":first-child"),s=a.insert("circle"),o=a.insert("circle");return a.attr("class",t.class),s.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i+5).attr("width",n.width+t.padding+10).attr("height",n.height+t.padding+10),o.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),re.info("DoubleCircle main"),pn(t,s),t.intersect=function(u){return re.info("DoubleCircle intersect",t,n.width/2+i+5,u),Qr.circle(t,n.width/2+i+5,u)},r},"doublecircle"),iNe=l(async(e,t)=>{const{shapeSvg:r,bbox:n}=await Kn(e,t,Na(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:0,y:0},{x:i,y:0},{x:i,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],o=$s(r,i,a,s);return o.attr("style",t.style),pn(t,o),t.intersect=function(u){return Qr.polygon(t,s,u)},r},"subroutine"),aNe=l((e,t)=>{const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),pn(t,n),t.intersect=function(i){return Qr.circle(t,7,i)},r},"start"),NB=l((e,t,r)=>{const n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let i=70,a=10;r==="LR"&&(i=10,a=70);const s=n.append("rect").attr("x",-1*i/2).attr("y",-1*a/2).attr("width",i).attr("height",a).attr("class","fork-join");return pn(t,s),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(o){return Qr.rect(t,o)},n},"forkJoin"),sNe=l((e,t)=>{const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child"),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),pn(t,i),t.intersect=function(a){return Qr.circle(t,7,a)},r},"end"),oNe=l((e,t)=>{var R;const r=t.padding/2;let n;n=t.classes?"node "+t.classes:"node default";const i=e.insert("g").attr("class",n).attr("id",t.domId||t.id),a=i.insert("rect",":first-child"),s=i.insert("line"),o=i.insert("line");let u=0,h=4;const d=i.insert("g").attr("class","label");let p=0;const f=(R=t.classData.annotations)==null?void 0:R[0],g=t.classData.annotations[0]?""+t.classData.annotations[0]+"":"",m=d.node().appendChild(Ka(g,t.labelStyle,!0,!0));let y=m.getBBox();if(Mr(ye().flowchart.htmlLabels)){const C=m.children[0],E=Qe(m);y=C.getBoundingClientRect(),E.attr("width",y.width),E.attr("height",y.height)}t.classData.annotations[0]&&(h+=y.height+4,u+=y.width);let v=t.classData.label;t.classData.type!==void 0&&t.classData.type!==""&&(ye().flowchart.htmlLabels?v+="&lt;"+t.classData.type+"&gt;":v+="<"+t.classData.type+">");const x=d.node().appendChild(Ka(v,t.labelStyle,!0,!0));Qe(x).attr("class","classTitle");let b=x.getBBox();if(Mr(ye().flowchart.htmlLabels)){const C=x.children[0],E=Qe(x);b=C.getBoundingClientRect(),E.attr("width",b.width),E.attr("height",b.height)}h+=b.height+4,b.width>u&&(u=b.width);const w=[];t.classData.members.forEach(C=>{const E=C.getDisplayDetails();let _=E.displayText;ye().flowchart.htmlLabels&&(_=_.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const L=d.node().appendChild(Ka(_,E.cssStyle?E.cssStyle:t.labelStyle,!0,!0));let D=L.getBBox();if(Mr(ye().flowchart.htmlLabels)){const B=L.children[0],S=Qe(L);D=B.getBoundingClientRect(),S.attr("width",D.width),S.attr("height",D.height)}D.width>u&&(u=D.width),h+=D.height+4,w.push(L)}),h+=8;const T=[];if(t.classData.methods.forEach(C=>{const E=C.getDisplayDetails();let _=E.displayText;ye().flowchart.htmlLabels&&(_=_.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const L=d.node().appendChild(Ka(_,E.cssStyle?E.cssStyle:t.labelStyle,!0,!0));let D=L.getBBox();if(Mr(ye().flowchart.htmlLabels)){const B=L.children[0],S=Qe(L);D=B.getBoundingClientRect(),S.attr("width",D.width),S.attr("height",D.height)}D.width>u&&(u=D.width),h+=D.height+4,T.push(L)}),h+=8,f){let C=(u-y.width)/2;Qe(m).attr("transform","translate( "+(-1*u/2+C)+", "+-1*h/2+")"),p=y.height+4}let k=(u-b.width)/2;return Qe(x).attr("transform","translate( "+(-1*u/2+k)+", "+(-1*h/2+p)+")"),p+=b.height+4,s.attr("class","divider").attr("x1",-u/2-r).attr("x2",u/2+r).attr("y1",-h/2-r+8+p).attr("y2",-h/2-r+8+p),p+=8,w.forEach(C=>{Qe(C).attr("transform","translate( "+-u/2+", "+(-1*h/2+p+4)+")");const E=C==null?void 0:C.getBBox();p+=((E==null?void 0:E.height)??0)+4}),p+=8,o.attr("class","divider").attr("x1",-u/2-r).attr("x2",u/2+r).attr("y1",-h/2-r+8+p).attr("y2",-h/2-r+8+p),p+=8,T.forEach(C=>{Qe(C).attr("transform","translate( "+-u/2+", "+(-1*h/2+p)+")");const E=C==null?void 0:C.getBBox();p+=((E==null?void 0:E.height)??0)+4}),a.attr("style",t.style).attr("class","outer title-state").attr("x",-u/2-r).attr("y",-h/2-r).attr("width",u+t.padding).attr("height",h+t.padding),pn(t,a),t.intersect=function(C){return Qr.rect(t,C)},i},"class_box"),IB={rhombus:LB,composite:QLe,question:LB,rect:ZLe,labelRect:JLe,rectWithTitle:eNe,choice:ULe,circle:rNe,doublecircle:nNe,stadium:tNe,hexagon:GLe,block_arrow:qLe,rect_left_inv_arrow:jLe,lean_right:YLe,lean_left:WLe,trapezoid:HLe,inv_trapezoid:VLe,rect_right_inv_arrow:XLe,cylinder:KLe,start:aNe,end:sNe,note:zLe,subroutine:iNe,fork:NB,join:NB,class_box:oNe},_b={},lce=l(async(e,t,r)=>{let n,i;if(t.link){let a;ye().securityLevel==="sandbox"?a="_top":t.linkTarget&&(a=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",a),i=await IB[t.shape](n,t,r)}else i=await IB[t.shape](e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),t.class&&i.attr("class","node default "+t.class),_b[t.id]=n,t.haveCallback&&_b[t.id].attr("class",_b[t.id].attr("class")+" clickable"),n},"insertNode"),lNe=l(e=>{const t=_b[e.id];re.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+r-e.width/2)+", "+(e.y-e.height/2-8)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),r},"positionNode");function CI(e,t,r=!1){var p,f,g;const n=e;let i="default";(((p=n==null?void 0:n.classes)==null?void 0:p.length)||0)>0&&(i=((n==null?void 0:n.classes)??[]).join(" ")),i+=" flowchart-label";let a,s=0,o="";switch(n.type){case"round":s=5,o="rect";break;case"composite":s=0,o="composite",a=0;break;case"square":case"group":default:o="rect";break;case"diamond":o="question";break;case"hexagon":o="hexagon";break;case"block_arrow":o="block_arrow";break;case"odd":case"rect_left_inv_arrow":o="rect_left_inv_arrow";break;case"lean_right":o="lean_right";break;case"lean_left":o="lean_left";break;case"trapezoid":o="trapezoid";break;case"inv_trapezoid":o="inv_trapezoid";break;case"circle":o="circle";break;case"ellipse":o="ellipse";break;case"stadium":o="stadium";break;case"subroutine":o="subroutine";break;case"cylinder":o="cylinder";break;case"doublecircle":o="doublecircle"}const u=G8((n==null?void 0:n.styles)??[]),h=n.label,d=n.size??{width:0,height:0,x:0,y:0};return{labelStyle:u.labelStyle,shape:o,labelText:h,rx:s,ry:s,class:i,style:u.style,id:n.id,directions:n.directions,width:d.width,height:d.height,x:d.x,y:d.y,positioned:r,intersect:void 0,type:n.type,padding:a??((g=(f=Zr())==null?void 0:f.block)==null?void 0:g.padding)??0}}async function cce(e,t,r){const n=CI(t,0,!1);if(n.type==="group")return;const i=Zr(),a=await lce(e,n,{config:i}),s=a.node().getBBox(),o=r.getBlock(n.id);o.size={width:s.width,height:s.height,x:0,y:0,node:a},r.setBlock(o),a.remove()}async function uce(e,t,r){const n=CI(t,0,!0);if(r.getBlock(n.id).type!=="space"){const i=Zr();await lce(e,n,{config:i}),t.intersect=n==null?void 0:n.intersect,lNe(n)}}async function Iw(e,t,r,n){for(const i of t)await n(e,i,r),i.children&&await Iw(e,i.children,r,n)}async function hce(e,t,r){await Iw(e,t,r,cce)}async function dce(e,t,r){await Iw(e,t,r,uce)}async function pce(e,t,r,n,i){const a=new _i({multigraph:!0,compound:!0});a.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(const s of r)s.size&&a.setNode(s.id,{width:s.size.width,height:s.size.height,intersect:s.intersect});for(const s of t)if(s.start&&s.end){const o=n.getBlock(s.start),u=n.getBlock(s.end);if(o!=null&&o.size&&(u!=null&&u.size)){const h=o.size,d=u.size,p=[{x:h.x,y:h.y},{x:h.x+(d.x-h.x)/2,y:h.y+(d.y-h.y)/2},{x:d.x,y:d.y}];ILe(e,{v:s.start,w:s.end,name:s.id},{...s,arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:p,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",a,i),s.label&&(await SLe(e,{...s,label:s.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:p,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),ALe({...s,x:p[1].x,y:p[1].y},{originalPath:p}))}}}l(CI,"getNodeFromBlock"),l(cce,"calculateBlockSize"),l(uce,"insertBlockPositioned"),l(Iw,"performOperations"),l(hce,"calculateBlockSizes"),l(dce,"insertBlocks"),l(pce,"insertEdges");var cNe=l(function(e,t){return t.db.getClasses()},"getClasses"),uNe=l(async function(e,t,r,n){const{securityLevel:i,block:a}=Zr(),s=n.db;let o;i==="sandbox"&&(o=Qe("#i"+t));const u=Qe(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),h=i==="sandbox"?u.select(`[id="${t}"]`):Qe(`[id="${t}"]`);TLe(h,["point","circle","cross"],n.type,t);const d=s.getBlocks(),p=s.getBlocksFlat(),f=s.getEdges(),g=h.insert("g").attr("class","block");await hce(g,d,s);const m=ece(s);if(await dce(g,d,s),await pce(g,f,p,s,t),m){const y=m,v=Math.max(1,Math.round(y.width/y.height*.125)),x=y.height+v+10,b=y.width+10,{useMaxWidth:w}=a;Ci(h,x,b,!!w),re.debug("Here Bounds",m,y),h.attr("viewBox",`${y.x-5} ${y.y-5} ${y.width+10} ${y.height+10}`)}},"draw"),hNe={parser:H9e,db:uLe,renderer:{draw:uNe,getClasses:cNe},styles:hLe},dNe=Object.freeze({__proto__:null,diagram:hNe}),MB=qn({"../../node_modules/.pnpm/layout-base@2.0.1/node_modules/layout-base/layout-base.js"(e,t){l(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n():typeof define=="function"&&define.amd?define([],n):typeof e=="object"?e.layoutBase=n():r.layoutBase=n()},"webpackUniversalModuleDefinition")(e,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return l(i,"__webpack_require__"),i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},i.n=function(a){var s=a&&a.__esModule?l(function(){return a.default},"getDefault"):l(function(){return a},"getModuleExports");return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=28)}([function(r,n,i){function a(){}l(a,"LayoutConstants"),a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,n,i){var a=i(2),s=i(8),o=i(9);function u(d,p,f){a.call(this,f),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=f,this.bendpoints=[],this.source=d,this.target=p}for(var h in l(u,"LEdge"),u.prototype=Object.create(a.prototype),a)u[h]=a[h];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(d,p){for(var f=this.getOtherEnd(d),g=p.getGraphManager().getRoot();;){if(f.getOwner()==p)return f;if(f.getOwner()==g)break;f=f.getOwner().getParent()}return null},u.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,n,i){function a(s){this.vGraphObject=s}l(a,"LGraphObject"),r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(13),u=i(0),h=i(16),d=i(5);function p(g,m,y,v){y==null&&v==null&&(v=m),a.call(this,v),g.graphManager!=null&&(g=g.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=v,this.edges=[],this.graphManager=g,this.rect=y!=null&&m!=null?new o(m.x,m.y,y.width,y.height):new o}for(var f in l(p,"LNode"),p.prototype=Object.create(a.prototype),a)p[f]=a[f];p.prototype.getEdges=function(){return this.edges},p.prototype.getChild=function(){return this.child},p.prototype.getOwner=function(){return this.owner},p.prototype.getWidth=function(){return this.rect.width},p.prototype.setWidth=function(g){this.rect.width=g},p.prototype.getHeight=function(){return this.rect.height},p.prototype.setHeight=function(g){this.rect.height=g},p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},p.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},p.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},p.prototype.getRect=function(){return this.rect},p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},p.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},p.prototype.setRect=function(g,m){this.rect.x=g.x,this.rect.y=g.y,this.rect.width=m.width,this.rect.height=m.height},p.prototype.setCenter=function(g,m){this.rect.x=g-this.rect.width/2,this.rect.y=m-this.rect.height/2},p.prototype.setLocation=function(g,m){this.rect.x=g,this.rect.y=m},p.prototype.moveBy=function(g,m){this.rect.x+=g,this.rect.y+=m},p.prototype.getEdgeListToNode=function(g){var m=[],y=this;return y.edges.forEach(function(v){if(v.target==g){if(v.source!=y)throw"Incorrect edge source!";m.push(v)}}),m},p.prototype.getEdgesBetween=function(g){var m=[],y=this;return y.edges.forEach(function(v){if(v.source!=y&&v.target!=y)throw"Incorrect edge source and/or target";v.target!=g&&v.source!=g||m.push(v)}),m},p.prototype.getNeighborsList=function(){var g=new Set,m=this;return m.edges.forEach(function(y){if(y.source==m)g.add(y.target);else{if(y.target!=m)throw"Incorrect incidency!";g.add(y.source)}}),g},p.prototype.withChildren=function(){var g=new Set;if(g.add(this),this.child!=null)for(var m=this.child.getNodes(),y=0;y<m.length;y++)m[y].withChildren().forEach(function(v){g.add(v)});return g},p.prototype.getNoOfChildren=function(){var g=0;if(this.child==null)g=1;else for(var m=this.child.getNodes(),y=0;y<m.length;y++)g+=m[y].getNoOfChildren();return g==0&&(g=1),g},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},p.prototype.scatter=function(){var g,m,y=-u.INITIAL_WORLD_BOUNDARY,v=u.INITIAL_WORLD_BOUNDARY;g=u.WORLD_CENTER_X+h.nextDouble()*(v-y)+y;var x=-u.INITIAL_WORLD_BOUNDARY,b=u.INITIAL_WORLD_BOUNDARY;m=u.WORLD_CENTER_Y+h.nextDouble()*(b-x)+x,this.rect.x=g,this.rect.y=m},p.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var g=this.getChild();if(g.updateBounds(!0),this.rect.x=g.getLeft(),this.rect.y=g.getTop(),this.setWidth(g.getRight()-g.getLeft()),this.setHeight(g.getBottom()-g.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var m=g.getRight()-g.getLeft(),y=g.getBottom()-g.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(m+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>m?(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(m+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(y+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>y?(this.rect.y-=(this.labelHeight-y)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(y+this.labelHeight))}}},p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},p.prototype.transform=function(g){var m=this.rect.x;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var y=this.rect.y;y>u.WORLD_BOUNDARY?y=u.WORLD_BOUNDARY:y<-u.WORLD_BOUNDARY&&(y=-u.WORLD_BOUNDARY);var v=new d(m,y),x=g.inverseTransformPoint(v);this.setLocation(x.x,x.y)},p.prototype.getLeft=function(){return this.rect.x},p.prototype.getRight=function(){return this.rect.x+this.rect.width},p.prototype.getTop=function(){return this.rect.y},p.prototype.getBottom=function(){return this.rect.y+this.rect.height},p.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=p},function(r,n,i){var a=i(0);function s(){}for(var o in l(s,"FDLayoutConstants"),a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=3*s.MAX_NODE_DISPLACEMENT_INCREMENTAL,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,i){function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}l(a,"PointD"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(0),u=i(7),h=i(3),d=i(1),p=i(13),f=i(12),g=i(11);function m(v,x,b){a.call(this,b),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=v,x!=null&&x instanceof u?this.graphManager=x:x!=null&&x instanceof Layout&&(this.graphManager=x.graphManager)}for(var y in l(m,"LGraph"),m.prototype=Object.create(a.prototype),a)m[y]=a[y];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(v,x,b){if(x==null&&b==null){var w=v;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(w)>-1)throw"Node already in graph!";return w.owner=this,this.getNodes().push(w),w}var T=v;if(!(this.getNodes().indexOf(x)>-1&&this.getNodes().indexOf(b)>-1))throw"Source or target not in graph!";if(x.owner!=b.owner||x.owner!=this)throw"Both owners must be this graph!";return x.owner!=b.owner?null:(T.source=x,T.target=b,T.isInterGraph=!1,this.getEdges().push(T),x.edges.push(T),b!=x&&b.edges.push(T),T)},m.prototype.remove=function(v){var x=v;if(v instanceof h){if(x==null)throw"Node is null!";if(x.owner==null||x.owner!=this)throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var b=x.edges.slice(),w=b.length,T=0;T<w;T++)(k=b[T]).isInterGraph?this.graphManager.remove(k):k.source.owner.remove(k);if((R=this.nodes.indexOf(x))==-1)throw"Node not in owner node list!";this.nodes.splice(R,1)}else if(v instanceof d){var k;if((k=v)==null)throw"Edge is null!";if(k.source==null||k.target==null)throw"Source and/or target is null!";if(k.source.owner==null||k.target.owner==null||k.source.owner!=this||k.target.owner!=this)throw"Source and/or target owner is invalid!";var R,C=k.source.edges.indexOf(k),E=k.target.edges.indexOf(k);if(!(C>-1&&E>-1))throw"Source and/or target doesn't know this edge!";if(k.source.edges.splice(C,1),k.target!=k.source&&k.target.edges.splice(E,1),(R=k.source.owner.getEdges().indexOf(k))==-1)throw"Not in owner's edge list!";k.source.owner.getEdges().splice(R,1)}},m.prototype.updateLeftTop=function(){for(var v,x,b,w=s.MAX_VALUE,T=s.MAX_VALUE,k=this.getNodes(),R=k.length,C=0;C<R;C++){var E=k[C];w>(v=E.getTop())&&(w=v),T>(x=E.getLeft())&&(T=x)}return w==s.MAX_VALUE?null:(b=k[0].getParent().paddingLeft!=null?k[0].getParent().paddingLeft:this.margin,this.left=T-b,this.top=w-b,new f(this.left,this.top))},m.prototype.updateBounds=function(v){for(var x,b,w,T,k,R=s.MAX_VALUE,C=-s.MAX_VALUE,E=s.MAX_VALUE,_=-s.MAX_VALUE,L=this.nodes,D=L.length,B=0;B<D;B++){var S=L[B];v&&S.child!=null&&S.updateBounds(),R>(x=S.getLeft())&&(R=x),C<(b=S.getRight())&&(C=b),E>(w=S.getTop())&&(E=w),_<(T=S.getBottom())&&(_=T)}var N=new p(R,E,C-R,_-E);R==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),k=L[0].getParent().paddingLeft!=null?L[0].getParent().paddingLeft:this.margin,this.left=N.x-k,this.right=N.x+N.width+k,this.top=N.y-k,this.bottom=N.y+N.height+k},m.calculateBounds=function(v){for(var x,b,w,T,k=s.MAX_VALUE,R=-s.MAX_VALUE,C=s.MAX_VALUE,E=-s.MAX_VALUE,_=v.length,L=0;L<_;L++){var D=v[L];k>(x=D.getLeft())&&(k=x),R<(b=D.getRight())&&(R=b),C>(w=D.getTop())&&(C=w),E<(T=D.getBottom())&&(E=T)}return new p(k,C,R-k,E-C)},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var v=0,x=this.nodes,b=x.length,w=0;w<b;w++)v+=x[w].calcEstimatedSize();return this.estimatedSize=v==0?o.EMPTY_COMPOUND_NODE_SIZE:v/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var v=this;if(this.nodes.length!=0){var x,b,w=new g,T=new Set,k=this.nodes[0];for(k.withChildren().forEach(function(_){w.push(_),T.add(_)});w.length!==0;)for(var R=(x=(k=w.shift()).getEdges()).length,C=0;C<R;C++)(b=x[C].getOtherEndInGraph(k,this))!=null&&!T.has(b)&&b.withChildren().forEach(function(_){w.push(_),T.add(_)});if(this.isConnected=!1,T.size>=this.nodes.length){var E=0;T.forEach(function(_){_.owner==v&&E++}),E==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},r.exports=m},function(r,n,i){var a,s=i(1);function o(u){a=i(6),this.layout=u,this.graphs=[],this.edges=[]}l(o,"LGraphManager"),o.prototype.addRoot=function(){var u=this.layout.newGraph(),h=this.layout.newNode(null),d=this.add(u,h);return this.setRootGraph(d),this.rootGraph},o.prototype.add=function(u,h,d,p,f){if(d==null&&p==null&&f==null){if(u==null)throw"Graph is null!";if(h==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(h.child!=null)throw"Already has a child!";return u.parent=h,h.child=u,u}f=d,d=u;var g=(p=h).getOwner(),m=f.getOwner();if(g==null||g.getGraphManager()!=this)throw"Source not in this graph mgr!";if(m==null||m.getGraphManager()!=this)throw"Target not in this graph mgr!";if(g==m)return d.isInterGraph=!1,g.add(d,p,f);if(d.isInterGraph=!0,d.source=p,d.target=f,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),d.source==null||d.target==null)throw"Edge source and/or target is null!";if(d.source.edges.indexOf(d)!=-1||d.target.edges.indexOf(d)!=-1)throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d},o.prototype.remove=function(u){if(u instanceof a){var h=u;if(h.getGraphManager()!=this)throw"Graph not in this graph mgr";if(h!=this.rootGraph&&(h.parent==null||h.parent.graphManager!=this))throw"Invalid parent node!";for(var d,p=[],f=(p=p.concat(h.getEdges())).length,g=0;g<f;g++)d=p[g],h.remove(d);var m,y=[];for(f=(y=y.concat(h.getNodes())).length,g=0;g<f;g++)m=y[g],h.remove(m);h==this.rootGraph&&this.setRootGraph(null);var v=this.graphs.indexOf(h);this.graphs.splice(v,1),h.parent=null}else if(u instanceof s){if((d=u)==null)throw"Edge is null!";if(!d.isInterGraph)throw"Not an inter-graph edge!";if(d.source==null||d.target==null)throw"Source and/or target is null!";if(d.source.edges.indexOf(d)==-1||d.target.edges.indexOf(d)==-1)throw"Source and/or target doesn't know this edge!";if(v=d.source.edges.indexOf(d),d.source.edges.splice(v,1),v=d.target.edges.indexOf(d),d.target.edges.splice(v,1),d.source.owner==null||d.source.owner.getGraphManager()==null)throw"Edge owner graph or owner graph manager is null!";if(d.source.owner.getGraphManager().edges.indexOf(d)==-1)throw"Not in owner graph manager's edge list!";v=d.source.owner.getGraphManager().edges.indexOf(d),d.source.owner.getGraphManager().edges.splice(v,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<d;p++)u=u.concat(h[p].getNodes());this.allNodes=u}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],h=this.getGraphs();h.length;for(var d=0;d<h.length;d++)u=u.concat(h[d].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(u,h){if(u==null||h==null)throw"assert failed";if(u==h)return!0;for(var d,p=u.getOwner();(d=p.getParent())!=null;){if(d==h)return!0;if((p=d.getOwner())==null)break}for(p=h.getOwner();(d=p.getParent())!=null;){if(d==u)return!0;if((p=d.getOwner())==null)break}return!1},o.prototype.calcLowestCommonAncestors=function(){for(var u,h,d,p,f,g=this.getAllEdges(),m=g.length,y=0;y<m;y++)if(h=(u=g[y]).source,d=u.target,u.lca=null,u.sourceInLca=h,u.targetInLca=d,h!=d){for(p=h.getOwner();u.lca==null;){for(u.targetInLca=d,f=d.getOwner();u.lca==null;){if(f==p){u.lca=f;break}if(f==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=f.getParent(),f=u.targetInLca.getOwner()}if(p==this.rootGraph)break;u.lca==null&&(u.sourceInLca=p.getParent(),p=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}else u.lca=h.getOwner()},o.prototype.calcLowestCommonAncestor=function(u,h){if(u==h)return u.getOwner();for(var d=u.getOwner();d!=null;){for(var p=h.getOwner();p!=null;){if(p==d)return p;p=p.getParent().getOwner()}d=d.getParent().getOwner()}return d},o.prototype.calcInclusionTreeDepths=function(u,h){var d;u==null&&h==null&&(u=this.rootGraph,h=1);for(var p=u.getNodes(),f=p.length,g=0;g<f;g++)(d=p[g]).inclusionTreeDepth=h,d.child!=null&&this.calcInclusionTreeDepths(d.child,h+1)},o.prototype.includesInvalidEdge=function(){for(var u,h=[],d=this.edges.length,p=0;p<d;p++)u=this.edges[p],this.isOneAncestorOfOther(u.source,u.target)&&h.push(u);for(p=0;p<h.length;p++)this.remove(h[p]);return!1},r.exports=o},function(r,n,i){var a=i(12);function s(){}l(s,"IGeometry"),s.calcSeparationAmount=function(o,u,h,d){if(!o.intersects(u))throw"assert failed";var p=new Array(2);this.decideDirectionsForOverlappingNodes(o,u,p),h[0]=Math.min(o.getRight(),u.getRight())-Math.max(o.x,u.x),h[1]=Math.min(o.getBottom(),u.getBottom())-Math.max(o.y,u.y),o.getX()<=u.getX()&&o.getRight()>=u.getRight()?h[0]+=Math.min(u.getX()-o.getX(),o.getRight()-u.getRight()):u.getX()<=o.getX()&&u.getRight()>=o.getRight()&&(h[0]+=Math.min(o.getX()-u.getX(),u.getRight()-o.getRight())),o.getY()<=u.getY()&&o.getBottom()>=u.getBottom()?h[1]+=Math.min(u.getY()-o.getY(),o.getBottom()-u.getBottom()):u.getY()<=o.getY()&&u.getBottom()>=o.getBottom()&&(h[1]+=Math.min(o.getY()-u.getY(),u.getBottom()-o.getBottom()));var f=Math.abs((u.getCenterY()-o.getCenterY())/(u.getCenterX()-o.getCenterX()));u.getCenterY()===o.getCenterY()&&u.getCenterX()===o.getCenterX()&&(f=1);var g=f*h[0],m=h[1]/f;h[0]<m?m=h[0]:g=h[1],h[0]=-1*p[0]*(m/2+d),h[1]=-1*p[1]*(g/2+d)},s.decideDirectionsForOverlappingNodes=function(o,u,h){o.getCenterX()<u.getCenterX()?h[0]=-1:h[0]=1,o.getCenterY()<u.getCenterY()?h[1]=-1:h[1]=1},s.getIntersection2=function(o,u,h){var d=o.getCenterX(),p=o.getCenterY(),f=u.getCenterX(),g=u.getCenterY();if(o.intersects(u))return h[0]=d,h[1]=p,h[2]=f,h[3]=g,!0;var m=o.getX(),y=o.getY(),v=o.getRight(),x=o.getX(),b=o.getBottom(),w=o.getRight(),T=o.getWidthHalf(),k=o.getHeightHalf(),R=u.getX(),C=u.getY(),E=u.getRight(),_=u.getX(),L=u.getBottom(),D=u.getRight(),B=u.getWidthHalf(),S=u.getHeightHalf(),N=!1,A=!1;if(d===f){if(p>g)return h[0]=d,h[1]=y,h[2]=f,h[3]=L,!1;if(p<g)return h[0]=d,h[1]=b,h[2]=f,h[3]=C,!1}else if(p===g){if(d>f)return h[0]=m,h[1]=p,h[2]=E,h[3]=g,!1;if(d<f)return h[0]=v,h[1]=p,h[2]=R,h[3]=g,!1}else{var M=o.height/o.width,O=u.height/u.width,I=(g-p)/(f-d),P=void 0,$=void 0,z=void 0,G=void 0,q=void 0,J=void 0;if(-M===I?d>f?(h[0]=x,h[1]=b,N=!0):(h[0]=v,h[1]=y,N=!0):M===I&&(d>f?(h[0]=m,h[1]=y,N=!0):(h[0]=w,h[1]=b,N=!0)),-O===I?f>d?(h[2]=_,h[3]=L,A=!0):(h[2]=E,h[3]=C,A=!0):O===I&&(f>d?(h[2]=R,h[3]=C,A=!0):(h[2]=D,h[3]=L,A=!0)),N&&A)return!1;if(d>f?p>g?(P=this.getCardinalDirection(M,I,4),$=this.getCardinalDirection(O,I,2)):(P=this.getCardinalDirection(-M,I,3),$=this.getCardinalDirection(-O,I,1)):p>g?(P=this.getCardinalDirection(-M,I,1),$=this.getCardinalDirection(-O,I,3)):(P=this.getCardinalDirection(M,I,2),$=this.getCardinalDirection(O,I,4)),!N)switch(P){case 1:G=y,z=d+-k/I,h[0]=z,h[1]=G;break;case 2:z=w,G=p+T*I,h[0]=z,h[1]=G;break;case 3:G=b,z=d+k/I,h[0]=z,h[1]=G;break;case 4:z=x,G=p+-T*I,h[0]=z,h[1]=G}if(!A)switch($){case 1:J=C,q=f+-S/I,h[2]=q,h[3]=J;break;case 2:q=D,J=g+B*I,h[2]=q,h[3]=J;break;case 3:J=L,q=f+S/I,h[2]=q,h[3]=J;break;case 4:q=_,J=g+-B*I,h[2]=q,h[3]=J}}return!1},s.getCardinalDirection=function(o,u,h){return o>u?h:1+h%4},s.getIntersection=function(o,u,h,d){if(d==null)return this.getIntersection2(o,u,h);var p,f,g,m,y,v,x,b=o.x,w=o.y,T=u.x,k=u.y,R=h.x,C=h.y,E=d.x,_=d.y;return(x=(p=k-w)*(m=R-E)-(f=_-C)*(g=b-T))===0?null:new a((g*(v=E*C-R*_)-m*(y=T*w-b*k))/x,(f*y-p*v)/x)},s.angleOfVector=function(o,u,h,d){var p=void 0;return o!==h?(p=Math.atan((d-u)/(h-o)),h<o?p+=Math.PI:d<u&&(p+=this.TWO_PI)):p=d<u?this.ONE_AND_HALF_PI:this.HALF_PI,p},s.doIntersect=function(o,u,h,d){var p=o.x,f=o.y,g=u.x,m=u.y,y=h.x,v=h.y,x=d.x,b=d.y,w=(g-p)*(b-v)-(x-y)*(m-f);if(w===0)return!1;var T=((b-v)*(x-p)+(y-x)*(b-f))/w,k=((f-m)*(x-p)+(g-p)*(b-f))/w;return 0<T&&T<1&&0<k&&k<1},s.findCircleLineIntersections=function(o,u,h,d,p,f,g){var m=(h-o)*(h-o)+(d-u)*(d-u),y=2*((o-p)*(h-o)+(u-f)*(d-u)),v=(o-p)*(o-p)+(u-f)*(u-f)-g*g;if(y*y-4*m*v>=0){var x=(-y+Math.sqrt(y*y-4*m*v))/(2*m),b=(-y-Math.sqrt(y*y-4*m*v))/(2*m);return x>=0&&x<=1?[x]:b>=0&&b<=1?[b]:null}return null},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,i){function a(){}l(a,"IMath"),a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,n,i){function a(){}l(a,"Integer"),a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,n,i){var a=function(){function p(f,g){for(var m=0;m<g.length;m++){var y=g[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}return l(p,"defineProperties"),function(f,g,m){return g&&p(f.prototype,g),m&&p(f,m),f}}();function s(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=l(function(p){return{value:p,next:null,prev:null}},"nodeFrom"),u=l(function(p,f,g,m){return p!==null?p.next=f:m.head=f,g!==null?g.prev=f:m.tail=f,f.prev=p,f.next=g,m.length++,f},"add"),h=l(function(p,f){var g=p.prev,m=p.next;return g!==null?g.next=m:f.head=m,m!==null?m.prev=g:f.tail=g,p.prev=p.next=null,f.length--,p},"_remove"),d=function(){function p(f){var g=this;s(this,p),this.length=0,this.head=null,this.tail=null,f!=null&&f.forEach(function(m){return g.push(m)})}return l(p,"LinkedList"),a(p,[{key:"size",value:l(function(){return this.length},"size")},{key:"insertBefore",value:l(function(f,g){return u(g.prev,o(f),g,this)},"insertBefore")},{key:"insertAfter",value:l(function(f,g){return u(g,o(f),g.next,this)},"insertAfter")},{key:"insertNodeBefore",value:l(function(f,g){return u(g.prev,f,g,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:l(function(f,g){return u(g,f,g.next,this)},"insertNodeAfter")},{key:"push",value:l(function(f){return u(this.tail,o(f),null,this)},"push")},{key:"unshift",value:l(function(f){return u(null,o(f),this.head,this)},"unshift")},{key:"remove",value:l(function(f){return h(f,this)},"remove")},{key:"pop",value:l(function(){return h(this.tail,this).value},"pop")},{key:"popNode",value:l(function(){return h(this.tail,this)},"popNode")},{key:"shift",value:l(function(){return h(this.head,this).value},"shift")},{key:"shiftNode",value:l(function(){return h(this.head,this)},"shiftNode")},{key:"get_object_at",value:l(function(f){if(f<=this.length()){for(var g=1,m=this.head;g<f;)m=m.next,g++;return m.value}},"get_object_at")},{key:"set_object_at",value:l(function(f,g){if(f<=this.length()){for(var m=1,y=this.head;m<f;)y=y.next,m++;y.value=g}},"set_object_at")}]),p}();r.exports=d},function(r,n,i){function a(s,o,u){this.x=null,this.y=null,s==null&&o==null&&u==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&u==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&u==null&&(u=s,this.x=u.x,this.y=u.y)}l(a,"Point"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,u){s.constructor.name=="Point"&&o==null&&u==null?(u=s,this.setLocation(u.x,u.y)):typeof s=="number"&&typeof o=="number"&&u==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,n,i){function a(s,o,u,h){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&u!=null&&h!=null&&(this.x=s,this.y=o,this.width=u,this.height=h)}l(a,"RectangleD"),a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x)&&!(this.getBottom()<s.y)&&!(s.getRight()<this.x)&&!(s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}l(s,"UniqueIDGeneretor"),s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var u=o===void 0?"undefined":a(o);return o==null||u!="object"&&u!="function"},r.exports=s},function(r,n,i){function a(y){if(Array.isArray(y)){for(var v=0,x=Array(y.length);v<y.length;v++)x[v]=y[v];return x}return Array.from(y)}l(a,"_toConsumableArray");var s=i(0),o=i(7),u=i(3),h=i(1),d=i(6),p=i(5),f=i(17),g=i(29);function m(y){g.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}l(m,"Layout"),m.RANDOM_SEED=1,m.prototype=Object.create(g.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var y=new o(this);return this.graphManager=y,y},m.prototype.newGraph=function(y){return new d(null,this.graphManager,y)},m.prototype.newNode=function(y){return new u(this.graphManager,y)},m.prototype.newEdge=function(y){return new h(null,null,y)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){var y;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),y=!this.checkLayoutSuccess()&&this.layout(),s.ANIMATE!=="during"&&(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y=this.graphManager.getAllEdges(),v=0;v<y.length;v++)y[v];var x=this.graphManager.getRoot().getNodes();for(v=0;v<x.length;v++)x[v];this.update(this.graphManager.getRoot())}},m.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof u){var v=y;if(v.getChild()!=null)for(var x=v.getChild().getNodes(),b=0;b<x.length;b++)update(x[b]);v.vGraphObject!=null&&v.vGraphObject.update(v)}else if(y instanceof h){var w=y;w.vGraphObject!=null&&w.vGraphObject.update(w)}else if(y instanceof d){var T=y;T.vGraphObject!=null&&T.vGraphObject.update(T)}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(y){if(y==null)this.transform(new p(0,0));else{var v=new f,x=this.graphManager.getRoot().updateLeftTop();if(x!=null){v.setWorldOrgX(y.x),v.setWorldOrgY(y.y),v.setDeviceOrgX(x.x),v.setDeviceOrgY(x.y);for(var b=this.getAllNodes(),w=0;w<b.length;w++)b[w].transform(v)}}},m.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var v,x,b=y.getNodes(),w=0;w<b.length;w++)(x=(v=b[w]).getChild())==null||x.getNodes().length==0?v.scatter():(this.positionNodesRandomly(x),v.updateBounds())},m.prototype.getFlatForest=function(){for(var y=[],v=!0,x=this.graphManager.getRoot().getNodes(),b=!0,w=0;w<x.length;w++)x[w].getChild()!=null&&(b=!1);if(!b)return y;var T=new Set,k=[],R=new Map,C=[];for(C=C.concat(x);C.length>0&&v;){for(k.push(C[0]);k.length>0&&v;){var E=k[0];k.splice(0,1),T.add(E);var _=E.getEdges();for(w=0;w<_.length;w++){var L=_[w].getOtherEnd(E);if(R.get(E)!=L){if(T.has(L)){v=!1;break}k.push(L),R.set(L,E)}}}if(v){var D=[].concat(a(T));for(y.push(D),w=0;w<D.length;w++){var B=D[w],S=C.indexOf(B);S>-1&&C.splice(S,1)}T=new Set,R=new Map}else y=[]}return y},m.prototype.createDummyNodesForBendpoints=function(y){for(var v=[],x=y.source,b=this.graphManager.calcLowestCommonAncestor(y.source,y.target),w=0;w<y.bendpoints.length;w++){var T=this.newNode(null);T.setRect(new Point(0,0),new Dimension(1,1)),b.add(T);var k=this.newEdge(null);this.graphManager.add(k,x,T),v.add(T),x=T}return k=this.newEdge(null),this.graphManager.add(k,x,y.target),this.edgeToDummyNodes.set(y,v),y.isInterGraph()?this.graphManager.remove(y):b.remove(y),v},m.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(a(this.edgeToDummyNodes.keys())).concat(y);for(var v=0;v<y.length;v++){var x=y[v];if(x.bendpoints.length>0){for(var b=this.edgeToDummyNodes.get(x),w=0;w<b.length;w++){var T=b[w],k=new p(T.getCenterX(),T.getCenterY()),R=x.bendpoints.get(w);R.x=k.x,R.y=k.y,T.getOwner().remove(T)}this.graphManager.add(x,x.source,x.target)}}},m.transform=function(y,v,x,b){if(x!=null&&b!=null){var w=v;return y<=50?w-=(v-v/x)/50*(50-y):w+=(v*b-v)/50*(y-50),w}var T,k;return y<=50?(T=9*v/500,k=v/10):(T=9*v/50,k=-8*v),T*y+k},m.findCenterOfTree=function(y){var v=[];v=v.concat(y);var x=[],b=new Map,w=!1,T=null;v.length!=1&&v.length!=2||(w=!0,T=v[0]);for(var k=0;k<v.length;k++){var R=(_=v[k]).getNeighborsList().size;b.set(_,_.getNeighborsList().size),R==1&&x.push(_)}var C=[];for(C=C.concat(x);!w;){var E=[];for(E=E.concat(C),C=[],k=0;k<v.length;k++){var _=v[k],L=v.indexOf(_);L>=0&&v.splice(L,1),_.getNeighborsList().forEach(function(D){if(x.indexOf(D)<0){var B=b.get(D)-1;B==1&&C.push(D),b.set(D,B)}})}x=x.concat(C),v.length!=1&&v.length!=2||(w=!0,T=v[0])}return T},m.prototype.setGraphManager=function(y){this.graphManager=y},r.exports=m},function(r,n,i){function a(){}l(a,"RandomSeed"),a.seed=1,a.x=0,a.nextDouble=function(){return a.x=1e4*Math.sin(a.seed++),a.x-Math.floor(a.x)},r.exports=a},function(r,n,i){var a=i(5);function s(o,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}l(s,"Transform"),s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var u=0,h=this.lworldExtX;return h!=0&&(u=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/h),u},s.prototype.transformY=function(o){var u=0,h=this.lworldExtY;return h!=0&&(u=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/h),u},s.prototype.inverseTransformX=function(o){var u=0,h=this.ldeviceExtX;return h!=0&&(u=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/h),u},s.prototype.inverseTransformY=function(o){var u=0,h=this.ldeviceExtY;return h!=0&&(u=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/h),u},s.prototype.inverseTransformPoint=function(o){return new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y))},r.exports=s},function(r,n,i){function a(g){if(Array.isArray(g)){for(var m=0,y=Array(g.length);m<g.length;m++)y[m]=g[m];return y}return Array.from(g)}l(a,"_toConsumableArray");var s=i(15),o=i(4),u=i(0),h=i(8),d=i(9);function p(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}for(var f in l(p,"FDLayout"),p.prototype=Object.create(s.prototype),s)p[f]=s[f];p.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},p.prototype.calcIdealEdgeLengths=function(){for(var g,m,y,v,x,b,w,T=this.getGraphManager().getAllEdges(),k=0;k<T.length;k++)m=(g=T[k]).idealLength,g.isInterGraph&&(v=g.getSource(),x=g.getTarget(),b=g.getSourceInLca().getEstimatedSize(),w=g.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(g.idealLength+=b+w-2*u.SIMPLE_NODE_SIZE),y=g.getLca().getInclusionTreeDepth(),g.idealLength+=m*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(v.getInclusionTreeDepth()+x.getInclusionTreeDepth()-2*y))},p.prototype.initSpringEmbedder=function(){var g=this.getAllNodes().length;this.incremental?(g>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(g-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(g>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(g-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},p.prototype.calcSpringForces=function(){for(var g,m=this.getAllEdges(),y=0;y<m.length;y++)g=m[y],this.calcSpringForce(g,g.idealLength)},p.prototype.calcRepulsionForces=function(){var g,m,y,v,x,b=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],w=arguments.length>1&&arguments[1]!==void 0&&arguments[1],T=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&b&&this.updateGrid(),x=new Set,g=0;g<T.length;g++)y=T[g],this.calculateRepulsionForceOfANode(y,x,b,w),x.add(y);else for(g=0;g<T.length;g++)for(y=T[g],m=g+1;m<T.length;m++)v=T[m],y.getOwner()==v.getOwner()&&this.calcRepulsionForce(y,v)},p.prototype.calcGravitationalForces=function(){for(var g,m=this.getAllNodesToApplyGravitation(),y=0;y<m.length;y++)g=m[y],this.calcGravitationalForce(g)},p.prototype.moveNodes=function(){for(var g=this.getAllNodes(),m=0;m<g.length;m++)g[m].move()},p.prototype.calcSpringForce=function(g,m){var y,v,x,b,w=g.getSource(),T=g.getTarget();if(this.uniformLeafNodeSizes&&w.getChild()==null&&T.getChild()==null)g.updateLengthSimple();else if(g.updateLength(),g.isOverlapingSourceAndTarget)return;(y=g.getLength())!=0&&(x=(v=g.edgeElasticity*(y-m))*(g.lengthX/y),b=v*(g.lengthY/y),w.springForceX+=x,w.springForceY+=b,T.springForceX-=x,T.springForceY-=b)},p.prototype.calcRepulsionForce=function(g,m){var y,v,x,b,w,T,k,R=g.getRect(),C=m.getRect(),E=new Array(2),_=new Array(4);if(R.intersects(C)){h.calcSeparationAmount(R,C,E,o.DEFAULT_EDGE_LENGTH/2),T=2*E[0],k=2*E[1];var L=g.noOfChildren*m.noOfChildren/(g.noOfChildren+m.noOfChildren);g.repulsionForceX-=L*T,g.repulsionForceY-=L*k,m.repulsionForceX+=L*T,m.repulsionForceY+=L*k}else this.uniformLeafNodeSizes&&g.getChild()==null&&m.getChild()==null?(y=C.getCenterX()-R.getCenterX(),v=C.getCenterY()-R.getCenterY()):(h.getIntersection(R,C,_),y=_[2]-_[0],v=_[3]-_[1]),Math.abs(y)<o.MIN_REPULSION_DIST&&(y=d.sign(y)*o.MIN_REPULSION_DIST),Math.abs(v)<o.MIN_REPULSION_DIST&&(v=d.sign(v)*o.MIN_REPULSION_DIST),x=y*y+v*v,b=Math.sqrt(x),T=(w=(g.nodeRepulsion/2+m.nodeRepulsion/2)*g.noOfChildren*m.noOfChildren/x)*y/b,k=w*v/b,g.repulsionForceX-=T,g.repulsionForceY-=k,m.repulsionForceX+=T,m.repulsionForceY+=k},p.prototype.calcGravitationalForce=function(g){var m,y,v,x,b,w,T,k;y=((m=g.getOwner()).getRight()+m.getLeft())/2,v=(m.getTop()+m.getBottom())/2,x=g.getCenterX()-y,b=g.getCenterY()-v,w=Math.abs(x)+g.getWidth()/2,T=Math.abs(b)+g.getHeight()/2,g.getOwner()==this.graphManager.getRoot()?(w>(k=m.getEstimatedSize()*this.gravityRangeFactor)||T>k)&&(g.gravitationForceX=-this.gravityConstant*x,g.gravitationForceY=-this.gravityConstant*b):(w>(k=m.getEstimatedSize()*this.compoundGravityRangeFactor)||T>k)&&(g.gravitationForceX=-this.gravityConstant*x*this.compoundGravityConstant,g.gravitationForceY=-this.gravityConstant*b*this.compoundGravityConstant)},p.prototype.isConverged=function(){var g,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),g=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,g||m},p.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},p.prototype.calcNoOfChildrenForAllNodes=function(){for(var g,m=this.graphManager.getAllNodes(),y=0;y<m.length;y++)(g=m[y]).noOfChildren=g.getNoOfChildren()},p.prototype.calcGrid=function(g){var m,y;m=parseInt(Math.ceil((g.getRight()-g.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((g.getBottom()-g.getTop())/this.repulsionRange));for(var v=new Array(m),x=0;x<m;x++)v[x]=new Array(y);for(x=0;x<m;x++)for(var b=0;b<y;b++)v[x][b]=new Array;return v},p.prototype.addNodeToGrid=function(g,m,y){var v,x,b,w;v=parseInt(Math.floor((g.getRect().x-m)/this.repulsionRange)),x=parseInt(Math.floor((g.getRect().width+g.getRect().x-m)/this.repulsionRange)),b=parseInt(Math.floor((g.getRect().y-y)/this.repulsionRange)),w=parseInt(Math.floor((g.getRect().height+g.getRect().y-y)/this.repulsionRange));for(var T=v;T<=x;T++)for(var k=b;k<=w;k++)this.grid[T][k].push(g),g.setGridCoordinates(v,x,b,w)},p.prototype.updateGrid=function(){var g,m,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),g=0;g<y.length;g++)m=y[g],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},p.prototype.calculateRepulsionForceOfANode=function(g,m,y,v){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&y||v){var x,b=new Set;g.surrounding=new Array;for(var w=this.grid,T=g.startX-1;T<g.finishX+2;T++)for(var k=g.startY-1;k<g.finishY+2;k++)if(!(T<0||k<0||T>=w.length||k>=w[0].length)){for(var R=0;R<w[T][k].length;R++)if(x=w[T][k][R],g.getOwner()==x.getOwner()&&g!=x&&!m.has(x)&&!b.has(x)){var C=Math.abs(g.getCenterX()-x.getCenterX())-(g.getWidth()/2+x.getWidth()/2),E=Math.abs(g.getCenterY()-x.getCenterY())-(g.getHeight()/2+x.getHeight()/2);C<=this.repulsionRange&&E<=this.repulsionRange&&b.add(x)}}g.surrounding=[].concat(a(b))}for(T=0;T<g.surrounding.length;T++)this.calcRepulsionForce(g,g.surrounding[T])},p.prototype.calcRepulsionRange=function(){return 0},r.exports=p},function(r,n,i){var a=i(1),s=i(4);function o(h,d,p){a.call(this,h,d,p),this.idealLength=s.DEFAULT_EDGE_LENGTH,this.edgeElasticity=s.DEFAULT_SPRING_STRENGTH}for(var u in l(o,"FDLayoutEdge"),o.prototype=Object.create(a.prototype),a)o[u]=a[u];r.exports=o},function(r,n,i){var a=i(3),s=i(4);function o(h,d,p,f){a.call(this,h,d,p,f),this.nodeRepulsion=s.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var u in l(o,"FDLayoutNode"),o.prototype=Object.create(a.prototype),a)o[u]=a[u];o.prototype.setGridCoordinates=function(h,d,p,f){this.startX=h,this.finishX=d,this.startY=p,this.finishY=f},r.exports=o},function(r,n,i){function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}l(a,"DimensionD"),a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,n,i){var a=i(14);function s(){this.map={},this.keys=[]}l(s,"HashMap"),s.prototype.put=function(o,u){var h=a.createID(o);this.contains(h)||(this.map[h]=u,this.keys.push(o))},s.prototype.contains=function(o){return a.createID(o),this.map[o]!=null},s.prototype.get=function(o){var u=a.createID(o);return this.map[u]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,i){var a=i(14);function s(){this.set={}}l(s,"HashSet"),s.prototype.add=function(o){var u=a.createID(o);this.contains(u)||(this.set[u]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var u=Object.keys(this.set),h=u.length,d=0;d<h;d++)o.push(this.set[u[d]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var u=o.length,h=0;h<u;h++){var d=o[h];this.add(d)}},r.exports=s},function(r,n,i){function a(){}l(a,"Matrix"),a.multMat=function(s,o){for(var u=[],h=0;h<s.length;h++){u[h]=[];for(var d=0;d<o[0].length;d++){u[h][d]=0;for(var p=0;p<s[0].length;p++)u[h][d]+=s[h][p]*o[p][d]}}return u},a.transpose=function(s){for(var o=[],u=0;u<s[0].length;u++){o[u]=[];for(var h=0;h<s.length;h++)o[u][h]=s[h][u]}return o},a.multCons=function(s,o){for(var u=[],h=0;h<s.length;h++)u[h]=s[h]*o;return u},a.minusOp=function(s,o){for(var u=[],h=0;h<s.length;h++)u[h]=s[h]-o[h];return u},a.dotProduct=function(s,o){for(var u=0,h=0;h<s.length;h++)u+=s[h]*o[h];return u},a.mag=function(s){return Math.sqrt(this.dotProduct(s,s))},a.normalize=function(s){for(var o=[],u=this.mag(s),h=0;h<s.length;h++)o[h]=s[h]/u;return o},a.multGamma=function(s){for(var o=[],u=0,h=0;h<s.length;h++)u+=s[h];u*=-1/s.length;for(var d=0;d<s.length;d++)o[d]=u+s[d];return o},a.multL=function(s,o,u){for(var h=[],d=[],p=[],f=0;f<o[0].length;f++){for(var g=0,m=0;m<o.length;m++)g+=-.5*o[m][f]*s[m];d[f]=g}for(var y=0;y<u.length;y++){for(var v=0,x=0;x<u.length;x++)v+=u[y][x]*d[x];p[y]=v}for(var b=0;b<o.length;b++){for(var w=0,T=0;T<o[0].length;T++)w+=o[b][T]*p[T];h[b]=w}return h},r.exports=a},function(r,n,i){var a=function(){function h(d,p){for(var f=0;f<p.length;f++){var g=p[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return l(h,"defineProperties"),function(d,p,f){return p&&h(d.prototype,p),f&&h(d,f),d}}();function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=i(11),u=function(){function h(d,p){s(this,h),p===null&&p===void 0||(this.compareFunction=this._defaultCompareFunction);var f=void 0;f=d instanceof o?d.size():d.length,this._quicksort(d,0,f-1)}return l(h,"Quicksort"),a(h,[{key:"_quicksort",value:l(function(d,p,f){if(p<f){var g=this._partition(d,p,f);this._quicksort(d,p,g),this._quicksort(d,g+1,f)}},"_quicksort")},{key:"_partition",value:l(function(d,p,f){for(var g=this._get(d,p),m=p,y=f;;){for(;this.compareFunction(g,this._get(d,y));)y--;for(;this.compareFunction(this._get(d,m),g);)m++;if(!(m<y))return y;this._swap(d,m,y),m++,y--}},"_partition")},{key:"_get",value:l(function(d,p){return d instanceof o?d.get_object_at(p):d[p]},"_get")},{key:"_set",value:l(function(d,p,f){d instanceof o?d.set_object_at(p,f):d[p]=f},"_set")},{key:"_swap",value:l(function(d,p,f){var g=this._get(d,p);this._set(d,p,this._get(d,f)),this._set(d,f,g)},"_swap")},{key:"_defaultCompareFunction",value:l(function(d,p){return p>d},"_defaultCompareFunction")}]),h}();r.exports=u},function(r,n,i){function a(){}l(a,"SVD"),a.svd=function(s){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=s.length,this.n=s[0].length;var o,u,h=Math.min(this.m,this.n);this.s=function(Xe){for(var Fe=[];Xe-- >0;)Fe.push(0);return Fe}(Math.min(this.m+1,this.n)),this.U=(o=[this.m,h],u=l(function Xe(Fe){if(Fe.length==0)return 0;for(var pt=[],Rt=0;Rt<Fe[0];Rt++)pt.push(Xe(Fe.slice(1)));return pt},"allocate"),u(o)),this.V=function(Xe){var Fe=l(function pt(Rt){if(Rt.length==0)return 0;for(var Ft=[],Sr=0;Sr<Rt[0];Sr++)Ft.push(pt(Rt.slice(1)));return Ft},"allocate");return Fe(Xe)}([this.n,this.n]);for(var d=function(Xe){for(var Fe=[];Xe-- >0;)Fe.push(0);return Fe}(this.n),p=function(Xe){for(var Fe=[];Xe-- >0;)Fe.push(0);return Fe}(this.m),f=Math.min(this.m-1,this.n),g=Math.max(0,Math.min(this.n-2,this.m)),m=0;m<Math.max(f,g);m++){if(m<f){this.s[m]=0;for(var y=m;y<this.m;y++)this.s[m]=a.hypot(this.s[m],s[y][m]);if(this.s[m]!==0){s[m][m]<0&&(this.s[m]=-this.s[m]);for(var v=m;v<this.m;v++)s[v][m]/=this.s[m];s[m][m]+=1}this.s[m]=-this.s[m]}for(var x=m+1;x<this.n;x++){if(function(Xe,Fe){return Xe&&Fe}(m<f,this.s[m]!==0)){for(var b=0,w=m;w<this.m;w++)b+=s[w][m]*s[w][x];b=-b/s[m][m];for(var T=m;T<this.m;T++)s[T][x]+=b*s[T][m]}d[x]=s[m][x]}if(function(Xe,Fe){return Fe}(0,m<f))for(var k=m;k<this.m;k++)this.U[k][m]=s[k][m];if(m<g){d[m]=0;for(var R=m+1;R<this.n;R++)d[m]=a.hypot(d[m],d[R]);if(d[m]!==0){d[m+1]<0&&(d[m]=-d[m]);for(var C=m+1;C<this.n;C++)d[C]/=d[m];d[m+1]+=1}if(d[m]=-d[m],function(Xe,Fe){return Xe&&Fe}(m+1<this.m,d[m]!==0)){for(var E=m+1;E<this.m;E++)p[E]=0;for(var _=m+1;_<this.n;_++)for(var L=m+1;L<this.m;L++)p[L]+=d[_]*s[L][_];for(var D=m+1;D<this.n;D++)for(var B=-d[D]/d[m+1],S=m+1;S<this.m;S++)s[S][D]+=B*p[S]}for(var N=m+1;N<this.n;N++)this.V[N][m]=d[N]}}var A=Math.min(this.n,this.m+1);f<this.n&&(this.s[f]=s[f][f]),this.m<A&&(this.s[A-1]=0),g+1<A&&(d[g]=s[g][A-1]),d[A-1]=0;for(var M=f;M<h;M++){for(var O=0;O<this.m;O++)this.U[O][M]=0;this.U[M][M]=1}for(var I=f-1;I>=0;I--)if(this.s[I]!==0){for(var P=I+1;P<h;P++){for(var $=0,z=I;z<this.m;z++)$+=this.U[z][I]*this.U[z][P];$=-$/this.U[I][I];for(var G=I;G<this.m;G++)this.U[G][P]+=$*this.U[G][I]}for(var q=I;q<this.m;q++)this.U[q][I]=-this.U[q][I];this.U[I][I]=1+this.U[I][I];for(var J=0;J<I-1;J++)this.U[J][I]=0}else{for(var ie=0;ie<this.m;ie++)this.U[ie][I]=0;this.U[I][I]=1}for(var te=this.n-1;te>=0;te--){if(function(Xe,Fe){return Xe&&Fe}(te<g,d[te]!==0))for(var W=te+1;W<h;W++){for(var H=0,X=te+1;X<this.n;X++)H+=this.V[X][te]*this.V[X][W];H=-H/this.V[te+1][te];for(var Q=te+1;Q<this.n;Q++)this.V[Q][W]+=H*this.V[Q][te]}for(var ne=0;ne<this.n;ne++)this.V[ne][te]=0;this.V[te][te]=1}for(var ee=A-1,pe=Math.pow(2,-52),j=Math.pow(2,-966);A>0;){var ce=void 0,le=void 0;for(ce=A-2;ce>=-1&&ce!==-1;ce--)if(Math.abs(d[ce])<=j+pe*(Math.abs(this.s[ce])+Math.abs(this.s[ce+1]))){d[ce]=0;break}if(ce===A-2)le=4;else{var Ae=void 0;for(Ae=A-1;Ae>=ce&&Ae!==ce;Ae--){var Se=(Ae!==A?Math.abs(d[Ae]):0)+(Ae!==ce+1?Math.abs(d[Ae-1]):0);if(Math.abs(this.s[Ae])<=j+pe*Se){this.s[Ae]=0;break}}Ae===ce?le=3:Ae===A-1?le=1:(le=2,ce=Ae)}switch(ce++,le){case 1:var ze=d[A-2];d[A-2]=0;for(var Pe=A-2;Pe>=ce;Pe--){var Ve=a.hypot(this.s[Pe],ze),Ue=this.s[Pe]/Ve,Ge=ze/Ve;this.s[Pe]=Ve,Pe!==ce&&(ze=-Ge*d[Pe-1],d[Pe-1]=Ue*d[Pe-1]);for(var V=0;V<this.n;V++)Ve=Ue*this.V[V][Pe]+Ge*this.V[V][A-1],this.V[V][A-1]=-Ge*this.V[V][Pe]+Ue*this.V[V][A-1],this.V[V][Pe]=Ve}break;case 2:var ue=d[ce-1];d[ce-1]=0;for(var oe=ce;oe<A;oe++){var we=a.hypot(this.s[oe],ue),K=this.s[oe]/we,ve=ue/we;this.s[oe]=we,ue=-ve*d[oe],d[oe]=K*d[oe];for(var Y=0;Y<this.m;Y++)we=K*this.U[Y][oe]+ve*this.U[Y][ce-1],this.U[Y][ce-1]=-ve*this.U[Y][oe]+K*this.U[Y][ce-1],this.U[Y][oe]=we}break;case 3:var he=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[A-1]),Math.abs(this.s[A-2])),Math.abs(d[A-2])),Math.abs(this.s[ce])),Math.abs(d[ce])),se=this.s[A-1]/he,be=this.s[A-2]/he,Te=d[A-2]/he,_e=this.s[ce]/he,Re=d[ce]/he,ke=((be+se)*(be-se)+Te*Te)/2,Be=se*Te*(se*Te),Oe=0;(function(Xe,Fe){return Xe||Fe})(ke!==0,Be!==0)&&(Oe=Math.sqrt(ke*ke+Be),ke<0&&(Oe=-Oe),Oe=Be/(ke+Oe));for(var ft=(_e+se)*(_e-se)+Oe,Et=_e*Re,Ye=ce;Ye<A-1;Ye++){var bt=a.hypot(ft,Et),at=ft/bt,De=Et/bt;Ye!==ce&&(d[Ye-1]=bt),ft=at*this.s[Ye]+De*d[Ye],d[Ye]=at*d[Ye]-De*this.s[Ye],Et=De*this.s[Ye+1],this.s[Ye+1]=at*this.s[Ye+1];for(var rt=0;rt<this.n;rt++)bt=at*this.V[rt][Ye]+De*this.V[rt][Ye+1],this.V[rt][Ye+1]=-De*this.V[rt][Ye]+at*this.V[rt][Ye+1],this.V[rt][Ye]=bt;if(at=ft/(bt=a.hypot(ft,Et)),De=Et/bt,this.s[Ye]=bt,ft=at*d[Ye]+De*this.s[Ye+1],this.s[Ye+1]=-De*d[Ye]+at*this.s[Ye+1],Et=De*d[Ye+1],d[Ye+1]=at*d[Ye+1],Ye<this.m-1)for(var Je=0;Je<this.m;Je++)bt=at*this.U[Je][Ye]+De*this.U[Je][Ye+1],this.U[Je][Ye+1]=-De*this.U[Je][Ye]+at*this.U[Je][Ye+1],this.U[Je][Ye]=bt}d[A-2]=ft;break;case 4:if(this.s[ce]<=0){this.s[ce]=this.s[ce]<0?-this.s[ce]:0;for(var Ze=0;Ze<=ee;Ze++)this.V[Ze][ce]=-this.V[Ze][ce]}for(;ce<ee&&!(this.s[ce]>=this.s[ce+1]);){var ht=this.s[ce];if(this.s[ce]=this.s[ce+1],this.s[ce+1]=ht,ce<this.n-1)for(var mt=0;mt<this.n;mt++)ht=this.V[mt][ce+1],this.V[mt][ce+1]=this.V[mt][ce],this.V[mt][ce]=ht;if(ce<this.m-1)for(var yt=0;yt<this.m;yt++)ht=this.U[yt][ce+1],this.U[yt][ce+1]=this.U[yt][ce],this.U[yt][ce]=ht;ce++}A--}}return{U:this.U,V:this.V,S:this.s}},a.hypot=function(s,o){var u=void 0;return Math.abs(s)>Math.abs(o)?(u=o/s,u=Math.abs(s)*Math.sqrt(1+u*u)):o!=0?(u=s/o,u=Math.abs(o)*Math.sqrt(1+u*u)):u=0,u},r.exports=a},function(r,n,i){var a=function(){function u(h,d){for(var p=0;p<d.length;p++){var f=d[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return l(u,"defineProperties"),function(h,d,p){return d&&u(h.prototype,d),p&&u(h,p),h}}();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=function(){function u(h,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,u),this.sequence1=h,this.sequence2=d,this.match_score=p,this.mismatch_penalty=f,this.gap_penalty=g,this.iMax=h.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[m][y]=0}this.tracebackGrid=new Array(this.iMax);for(var v=0;v<this.iMax;v++){this.tracebackGrid[v]=new Array(this.jMax);for(var x=0;x<this.jMax;x++)this.tracebackGrid[v][x]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return l(u,"NeedlemanWunsch"),a(u,[{key:"getScore",value:l(function(){return this.score},"getScore")},{key:"getAlignments",value:l(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:l(function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var f=1;f<this.jMax;f++){var g=[this.sequence1[p-1]===this.sequence2[f-1]?this.grid[p-1][f-1]+this.match_score:this.grid[p-1][f-1]+this.mismatch_penalty,this.grid[p-1][f]+this.gap_penalty,this.grid[p][f-1]+this.gap_penalty],m=this.arrayAllMaxIndexes(g);this.grid[p][f]=g[m[0]],this.tracebackGrid[p][f]=[m.includes(0),m.includes(1),m.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:l(function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var d=h[0],p=this.tracebackGrid[d.pos[0]][d.pos[1]];p[0]&&h.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),p[1]&&h.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),p[2]&&h.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),h.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:l(function(h,d){for(var p=[],f=-1;(f=h.indexOf(d,f+1))!==-1;)p.push(f);return p},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:l(function(h){return this.getAllIndexes(h,Math.max.apply(null,h))},"arrayAllMaxIndexes")}]),u}();r.exports=o},function(r,n,i){var a=l(function(){},"layoutBase");a.FDLayout=i(18),a.FDLayoutConstants=i(4),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(5),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(25),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(6),a.LEdge=i(1),a.LGraphManager=i(7),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(27),a.Matrix=i(24),a.SVD=i(26),r.exports=a},function(r,n,i){function a(){this.listeners=[]}l(a,"Emitter");var s=a.prototype;s.addListener=function(o,u){this.listeners.push({event:o,callback:u})},s.removeListener=function(o,u){for(var h=this.listeners.length;h>=0;h--){var d=this.listeners[h];d.event===o&&d.callback===u&&this.listeners.splice(h,1)}},s.emit=function(o,u){for(var h=0;h<this.listeners.length;h++){var d=this.listeners[h];o===d.event&&d.callback(u)}},r.exports=a}])})}}),RB=qn({"../../node_modules/.pnpm/cose-base@2.2.0/node_modules/cose-base/cose-base.js"(e,t){l(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n(MB()):typeof define=="function"&&define.amd?define(["layout-base"],n):typeof e=="object"?e.coseBase=n(MB()):r.coseBase=n(r.layoutBase)},"webpackUniversalModuleDefinition")(e,function(r){return(()=>{var n={45:(s,o,u)=>{var h={};h.layoutBase=u(551),h.CoSEConstants=u(806),h.CoSEEdge=u(767),h.CoSEGraph=u(880),h.CoSEGraphManager=u(578),h.CoSELayout=u(765),h.CoSENode=u(991),h.ConstraintHandler=u(902),s.exports=h},806:(s,o,u)=>{var h=u(551).FDLayoutConstants;function d(){}for(var p in l(d,"CoSEConstants"),h)d[p]=h[p];d.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,d.DEFAULT_RADIAL_SEPARATION=h.DEFAULT_EDGE_LENGTH,d.DEFAULT_COMPONENT_SEPERATION=60,d.TILE=!0,d.TILING_PADDING_VERTICAL=10,d.TILING_PADDING_HORIZONTAL=10,d.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,d.ENFORCE_CONSTRAINTS=!0,d.APPLY_LAYOUT=!0,d.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,d.TREE_REDUCTION_ON_INCREMENTAL=!0,d.PURE_INCREMENTAL=d.DEFAULT_INCREMENTAL,s.exports=d},767:(s,o,u)=>{var h=u(551).FDLayoutEdge;function d(f,g,m){h.call(this,f,g,m)}for(var p in l(d,"CoSEEdge"),d.prototype=Object.create(h.prototype),h)d[p]=h[p];s.exports=d},880:(s,o,u)=>{var h=u(551).LGraph;function d(f,g,m){h.call(this,f,g,m)}for(var p in l(d,"CoSEGraph"),d.prototype=Object.create(h.prototype),h)d[p]=h[p];s.exports=d},578:(s,o,u)=>{var h=u(551).LGraphManager;function d(f){h.call(this,f)}for(var p in l(d,"CoSEGraphManager"),d.prototype=Object.create(h.prototype),h)d[p]=h[p];s.exports=d},765:(s,o,u)=>{var h=u(551).FDLayout,d=u(578),p=u(880),f=u(991),g=u(767),m=u(806),y=u(902),v=u(551).FDLayoutConstants,x=u(551).LayoutConstants,b=u(551).Point,w=u(551).PointD,T=u(551).DimensionD,k=u(551).Layout,R=u(551).Integer,C=u(551).IGeometry,E=u(551).LGraph,_=u(551).Transform,L=u(551).LinkedList;function D(){h.call(this),this.toBeTiled={},this.constraints={}}for(var B in l(D,"CoSELayout"),D.prototype=Object.create(h.prototype),h)D[B]=h[B];D.prototype.newGraphManager=function(){var S=new d(this);return this.graphManager=S,S},D.prototype.newGraph=function(S){return new p(null,this.graphManager,S)},D.prototype.newNode=function(S){return new f(this.graphManager,S)},D.prototype.newEdge=function(S){return new g(null,null,S)},D.prototype.initParameters=function(){h.prototype.initParameters.call(this,arguments),this.isSubLayout||(m.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=m.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=m.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=v.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=v.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=v.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},D.prototype.initSpringEmbedder=function(){h.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/v.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},D.prototype.layout=function(){return x.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},D.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)m.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),N=new Set(this.getAllNodes()),A=this.nodesWithGravity.filter(function(M){return N.has(M)}),this.graphManager.setAllNodesToApplyGravitation(A));else{var S=this.getFlatForest();if(S.length>0)this.positionNodesRadially(S);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var N=new Set(this.getAllNodes()),A=this.nodesWithGravity.filter(function(M){return N.has(M)});this.graphManager.setAllNodesToApplyGravitation(A),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(y.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),m.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},D.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%v.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),N=this.nodesWithGravity.filter(function(O){return S.has(O)});this.graphManager.setAllNodesToApplyGravitation(N),this.graphManager.updateBounds(),this.updateGrid(),m.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),m.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var A=!this.isTreeGrowing&&!this.isGrowthFinished,M=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(A,M),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},D.prototype.getPositionsData=function(){for(var S=this.graphManager.getAllNodes(),N={},A=0;A<S.length;A++){var M=S[A].rect,O=S[A].id;N[O]={id:O,x:M.getCenterX(),y:M.getCenterY(),w:M.width,h:M.height}}return N},D.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var S=!1;if(v.ANIMATE==="during")this.emit("layoutstarted");else{for(;!S;)S=this.tick();this.graphManager.updateBounds()}},D.prototype.moveNodes=function(){for(var S=this.getAllNodes(),N=0;N<S.length;N++)S[N].calculateDisplacement();for(Object.keys(this.constraints).length>0&&this.updateDisplacements(),N=0;N<S.length;N++)S[N].move()},D.prototype.initConstraintVariables=function(){var S=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var N=this.graphManager.getAllNodes(),A=0;A<N.length;A++){var M=N[A];this.idToNodeMap.set(M.id,M)}var O=l(function H(X){for(var Q,ne=X.getChild().getNodes(),ee=0,pe=0;pe<ne.length;pe++)(Q=ne[pe]).getChild()==null?S.fixedNodeSet.has(Q.id)&&(ee+=100):ee+=H(Q);return ee},"calculateCompoundWeight");if(this.constraints.fixedNodeConstraint){for(this.constraints.fixedNodeConstraint.forEach(function(H){S.fixedNodeSet.add(H.nodeId)}),N=this.graphManager.getAllNodes(),A=0;A<N.length;A++)if((M=N[A]).getChild()!=null){var I=O(M);I>0&&(M.fixedNodeWeight=I)}}if(this.constraints.relativePlacementConstraint){var P=new Map,$=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(H){S.fixedNodesOnHorizontal.add(H),S.fixedNodesOnVertical.add(H)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var z=this.constraints.alignmentConstraint.vertical;for(A=0;A<z.length;A++)this.dummyToNodeForVerticalAlignment.set("dummy"+A,[]),z[A].forEach(function(H){P.set(H,"dummy"+A),S.dummyToNodeForVerticalAlignment.get("dummy"+A).push(H),S.fixedNodeSet.has(H)&&S.fixedNodesOnHorizontal.add("dummy"+A)})}if(this.constraints.alignmentConstraint.horizontal){var G=this.constraints.alignmentConstraint.horizontal;for(A=0;A<G.length;A++)this.dummyToNodeForHorizontalAlignment.set("dummy"+A,[]),G[A].forEach(function(H){$.set(H,"dummy"+A),S.dummyToNodeForHorizontalAlignment.get("dummy"+A).push(H),S.fixedNodeSet.has(H)&&S.fixedNodesOnVertical.add("dummy"+A)})}}if(m.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(H){var X,Q,ne;for(ne=H.length-1;ne>=2*H.length/3;ne--)X=Math.floor(Math.random()*(ne+1)),Q=H[ne],H[ne]=H[X],H[X]=Q;return H},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(H){if(H.left){var X=P.has(H.left)?P.get(H.left):H.left,Q=P.has(H.right)?P.get(H.right):H.right;S.nodesInRelativeHorizontal.includes(X)||(S.nodesInRelativeHorizontal.push(X),S.nodeToRelativeConstraintMapHorizontal.set(X,[]),S.dummyToNodeForVerticalAlignment.has(X)?S.nodeToTempPositionMapHorizontal.set(X,S.idToNodeMap.get(S.dummyToNodeForVerticalAlignment.get(X)[0]).getCenterX()):S.nodeToTempPositionMapHorizontal.set(X,S.idToNodeMap.get(X).getCenterX())),S.nodesInRelativeHorizontal.includes(Q)||(S.nodesInRelativeHorizontal.push(Q),S.nodeToRelativeConstraintMapHorizontal.set(Q,[]),S.dummyToNodeForVerticalAlignment.has(Q)?S.nodeToTempPositionMapHorizontal.set(Q,S.idToNodeMap.get(S.dummyToNodeForVerticalAlignment.get(Q)[0]).getCenterX()):S.nodeToTempPositionMapHorizontal.set(Q,S.idToNodeMap.get(Q).getCenterX())),S.nodeToRelativeConstraintMapHorizontal.get(X).push({right:Q,gap:H.gap}),S.nodeToRelativeConstraintMapHorizontal.get(Q).push({left:X,gap:H.gap})}else{var ne=$.has(H.top)?$.get(H.top):H.top,ee=$.has(H.bottom)?$.get(H.bottom):H.bottom;S.nodesInRelativeVertical.includes(ne)||(S.nodesInRelativeVertical.push(ne),S.nodeToRelativeConstraintMapVertical.set(ne,[]),S.dummyToNodeForHorizontalAlignment.has(ne)?S.nodeToTempPositionMapVertical.set(ne,S.idToNodeMap.get(S.dummyToNodeForHorizontalAlignment.get(ne)[0]).getCenterY()):S.nodeToTempPositionMapVertical.set(ne,S.idToNodeMap.get(ne).getCenterY())),S.nodesInRelativeVertical.includes(ee)||(S.nodesInRelativeVertical.push(ee),S.nodeToRelativeConstraintMapVertical.set(ee,[]),S.dummyToNodeForHorizontalAlignment.has(ee)?S.nodeToTempPositionMapVertical.set(ee,S.idToNodeMap.get(S.dummyToNodeForHorizontalAlignment.get(ee)[0]).getCenterY()):S.nodeToTempPositionMapVertical.set(ee,S.idToNodeMap.get(ee).getCenterY())),S.nodeToRelativeConstraintMapVertical.get(ne).push({bottom:ee,gap:H.gap}),S.nodeToRelativeConstraintMapVertical.get(ee).push({top:ne,gap:H.gap})}});else{var q=new Map,J=new Map;this.constraints.relativePlacementConstraint.forEach(function(H){if(H.left){var X=P.has(H.left)?P.get(H.left):H.left,Q=P.has(H.right)?P.get(H.right):H.right;q.has(X)?q.get(X).push(Q):q.set(X,[Q]),q.has(Q)?q.get(Q).push(X):q.set(Q,[X])}else{var ne=$.has(H.top)?$.get(H.top):H.top,ee=$.has(H.bottom)?$.get(H.bottom):H.bottom;J.has(ne)?J.get(ne).push(ee):J.set(ne,[ee]),J.has(ee)?J.get(ee).push(ne):J.set(ee,[ne])}});var ie=l(function(H,X){var Q=[],ne=[],ee=new L,pe=new Set,j=0;return H.forEach(function(ce,le){if(!pe.has(le)){Q[j]=[],ne[j]=!1;var Ae=le;for(ee.push(Ae),pe.add(Ae),Q[j].push(Ae);ee.length!=0;)Ae=ee.shift(),X.has(Ae)&&(ne[j]=!0),H.get(Ae).forEach(function(Se){pe.has(Se)||(ee.push(Se),pe.add(Se),Q[j].push(Se))});j++}}),{components:Q,isFixed:ne}},"constructComponents"),te=ie(q,S.fixedNodesOnHorizontal);this.componentsOnHorizontal=te.components,this.fixedComponentsOnHorizontal=te.isFixed;var W=ie(J,S.fixedNodesOnVertical);this.componentsOnVertical=W.components,this.fixedComponentsOnVertical=W.isFixed}}},D.prototype.updateDisplacements=function(){var S=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(W){var H=S.idToNodeMap.get(W.nodeId);H.displacementX=0,H.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var N=this.constraints.alignmentConstraint.vertical,A=0;A<N.length;A++){for(var M=0,O=0;O<N[A].length;O++){if(this.fixedNodeSet.has(N[A][O])){M=0;break}M+=this.idToNodeMap.get(N[A][O]).displacementX}var I=M/N[A].length;for(O=0;O<N[A].length;O++)this.idToNodeMap.get(N[A][O]).displacementX=I}if(this.constraints.alignmentConstraint.horizontal){var P=this.constraints.alignmentConstraint.horizontal;for(A=0;A<P.length;A++){var $=0;for(O=0;O<P[A].length;O++){if(this.fixedNodeSet.has(P[A][O])){$=0;break}$+=this.idToNodeMap.get(P[A][O]).displacementY}var z=$/P[A].length;for(O=0;O<P[A].length;O++)this.idToNodeMap.get(P[A][O]).displacementY=z}}}if(this.constraints.relativePlacementConstraint)if(m.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(W){if(!S.fixedNodesOnHorizontal.has(W)){var H=0;H=S.dummyToNodeForVerticalAlignment.has(W)?S.idToNodeMap.get(S.dummyToNodeForVerticalAlignment.get(W)[0]).displacementX:S.idToNodeMap.get(W).displacementX,S.nodeToRelativeConstraintMapHorizontal.get(W).forEach(function(X){var Q;X.right?(Q=S.nodeToTempPositionMapHorizontal.get(X.right)-S.nodeToTempPositionMapHorizontal.get(W)-H)<X.gap&&(H-=X.gap-Q):(Q=S.nodeToTempPositionMapHorizontal.get(W)-S.nodeToTempPositionMapHorizontal.get(X.left)+H)<X.gap&&(H+=X.gap-Q)}),S.nodeToTempPositionMapHorizontal.set(W,S.nodeToTempPositionMapHorizontal.get(W)+H),S.dummyToNodeForVerticalAlignment.has(W)?S.dummyToNodeForVerticalAlignment.get(W).forEach(function(X){S.idToNodeMap.get(X).displacementX=H}):S.idToNodeMap.get(W).displacementX=H}}),this.nodesInRelativeVertical.forEach(function(W){if(!S.fixedNodesOnHorizontal.has(W)){var H=0;H=S.dummyToNodeForHorizontalAlignment.has(W)?S.idToNodeMap.get(S.dummyToNodeForHorizontalAlignment.get(W)[0]).displacementY:S.idToNodeMap.get(W).displacementY,S.nodeToRelativeConstraintMapVertical.get(W).forEach(function(X){var Q;X.bottom?(Q=S.nodeToTempPositionMapVertical.get(X.bottom)-S.nodeToTempPositionMapVertical.get(W)-H)<X.gap&&(H-=X.gap-Q):(Q=S.nodeToTempPositionMapVertical.get(W)-S.nodeToTempPositionMapVertical.get(X.top)+H)<X.gap&&(H+=X.gap-Q)}),S.nodeToTempPositionMapVertical.set(W,S.nodeToTempPositionMapVertical.get(W)+H),S.dummyToNodeForHorizontalAlignment.has(W)?S.dummyToNodeForHorizontalAlignment.get(W).forEach(function(X){S.idToNodeMap.get(X).displacementY=H}):S.idToNodeMap.get(W).displacementY=H}});else{for(A=0;A<this.componentsOnHorizontal.length;A++){var G=this.componentsOnHorizontal[A];if(this.fixedComponentsOnHorizontal[A])for(O=0;O<G.length;O++)this.dummyToNodeForVerticalAlignment.has(G[O])?this.dummyToNodeForVerticalAlignment.get(G[O]).forEach(function(W){S.idToNodeMap.get(W).displacementX=0}):this.idToNodeMap.get(G[O]).displacementX=0;else{var q=0,J=0;for(O=0;O<G.length;O++)this.dummyToNodeForVerticalAlignment.has(G[O])?(q+=(te=this.dummyToNodeForVerticalAlignment.get(G[O])).length*this.idToNodeMap.get(te[0]).displacementX,J+=te.length):(q+=this.idToNodeMap.get(G[O]).displacementX,J++);var ie=q/J;for(O=0;O<G.length;O++)this.dummyToNodeForVerticalAlignment.has(G[O])?this.dummyToNodeForVerticalAlignment.get(G[O]).forEach(function(W){S.idToNodeMap.get(W).displacementX=ie}):this.idToNodeMap.get(G[O]).displacementX=ie}}for(A=0;A<this.componentsOnVertical.length;A++)if(G=this.componentsOnVertical[A],this.fixedComponentsOnVertical[A])for(O=0;O<G.length;O++)this.dummyToNodeForHorizontalAlignment.has(G[O])?this.dummyToNodeForHorizontalAlignment.get(G[O]).forEach(function(W){S.idToNodeMap.get(W).displacementY=0}):this.idToNodeMap.get(G[O]).displacementY=0;else{for(q=0,J=0,O=0;O<G.length;O++){var te;this.dummyToNodeForHorizontalAlignment.has(G[O])?(q+=(te=this.dummyToNodeForHorizontalAlignment.get(G[O])).length*this.idToNodeMap.get(te[0]).displacementY,J+=te.length):(q+=this.idToNodeMap.get(G[O]).displacementY,J++)}for(ie=q/J,O=0;O<G.length;O++)this.dummyToNodeForHorizontalAlignment.has(G[O])?this.dummyToNodeForHorizontalAlignment.get(G[O]).forEach(function(W){S.idToNodeMap.get(W).displacementY=ie}):this.idToNodeMap.get(G[O]).displacementY=ie}}},D.prototype.calculateNodesToApplyGravitationTo=function(){var S,N,A=[],M=this.graphManager.getGraphs(),O=M.length;for(N=0;N<O;N++)(S=M[N]).updateConnected(),S.isConnected||(A=A.concat(S.getNodes()));return A},D.prototype.createBendpoints=function(){var S=[];S=S.concat(this.graphManager.getAllEdges());var N,A=new Set;for(N=0;N<S.length;N++){var M=S[N];if(!A.has(M)){var O=M.getSource(),I=M.getTarget();if(O==I)M.getBendpoints().push(new w),M.getBendpoints().push(new w),this.createDummyNodesForBendpoints(M),A.add(M);else{var P=[];if(P=(P=P.concat(O.getEdgeListToNode(I))).concat(I.getEdgeListToNode(O)),!A.has(P[0])){var $;if(P.length>1)for($=0;$<P.length;$++){var z=P[$];z.getBendpoints().push(new w),this.createDummyNodesForBendpoints(z)}P.forEach(function(G){A.add(G)})}}}if(A.size==S.length)break}},D.prototype.positionNodesRadially=function(S){for(var N=new b(0,0),A=Math.ceil(Math.sqrt(S.length)),M=0,O=0,I=0,P=new w(0,0),$=0;$<S.length;$++){$%A==0&&(I=0,O=M,$!=0&&(O+=m.DEFAULT_COMPONENT_SEPERATION),M=0);var z=S[$],G=k.findCenterOfTree(z);N.x=I,N.y=O,(P=D.radialLayout(z,G,N)).y>M&&(M=Math.floor(P.y)),I=Math.floor(P.x+m.DEFAULT_COMPONENT_SEPERATION)}this.transform(new w(x.WORLD_CENTER_X-P.x/2,x.WORLD_CENTER_Y-P.y/2))},D.radialLayout=function(S,N,A){var M=Math.max(this.maxDiagonalInTree(S),m.DEFAULT_RADIAL_SEPARATION);D.branchRadialLayout(N,null,0,359,0,M);var O=E.calculateBounds(S),I=new _;I.setDeviceOrgX(O.getMinX()),I.setDeviceOrgY(O.getMinY()),I.setWorldOrgX(A.x),I.setWorldOrgY(A.y);for(var P=0;P<S.length;P++)S[P].transform(I);var $=new w(O.getMaxX(),O.getMaxY());return I.inverseTransformPoint($)},D.branchRadialLayout=function(S,N,A,M,O,I){var P=(M-A+1)/2;P<0&&(P+=180);var $=(P+A)%360*C.TWO_PI/360,z=O*Math.cos($),G=O*Math.sin($);S.setCenter(z,G);var q=[],J=(q=q.concat(S.getEdges())).length;N!=null&&J--;for(var ie,te=0,W=q.length,H=S.getEdgesBetween(N);H.length>1;){var X=H[0];H.splice(0,1);var Q=q.indexOf(X);Q>=0&&q.splice(Q,1),W--,J--}ie=N!=null?(q.indexOf(H[0])+1)%W:0;for(var ne=Math.abs(M-A)/J,ee=ie;te!=J;ee=++ee%W){var pe=q[ee].getOtherEnd(S);if(pe!=N){var j=(A+te*ne)%360,ce=(j+ne)%360;D.branchRadialLayout(pe,S,j,ce,O+I,I),te++}}},D.maxDiagonalInTree=function(S){for(var N=R.MIN_VALUE,A=0;A<S.length;A++){var M=S[A].getDiagonal();M>N&&(N=M)}return N},D.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},D.prototype.groupZeroDegreeMembers=function(){var S=this,N={};this.memberGroups={},this.idToDummyNode={};for(var A=[],M=this.graphManager.getAllNodes(),O=0;O<M.length;O++){var I=(P=M[O]).getParent();this.getNodeDegreeWithChildren(P)!==0||I.id!=null&&this.getToBeTiled(I)||A.push(P)}for(O=0;O<A.length;O++){var P,$=(P=A[O]).getParent().id;N[$]===void 0&&(N[$]=[]),N[$]=N[$].concat(P)}Object.keys(N).forEach(function(z){if(N[z].length>1){var G="DummyCompound_"+z;S.memberGroups[G]=N[z];var q=N[z][0].getParent(),J=new f(S.graphManager);J.id=G,J.paddingLeft=q.paddingLeft||0,J.paddingRight=q.paddingRight||0,J.paddingBottom=q.paddingBottom||0,J.paddingTop=q.paddingTop||0,S.idToDummyNode[G]=J;var ie=S.getGraphManager().add(S.newGraph(),J),te=q.getChild();te.add(J);for(var W=0;W<N[z].length;W++){var H=N[z][W];te.remove(H),ie.add(H)}}})},D.prototype.clearCompounds=function(){var S={},N={};this.performDFSOnCompounds();for(var A=0;A<this.compoundOrder.length;A++)N[this.compoundOrder[A].id]=this.compoundOrder[A],S[this.compoundOrder[A].id]=[].concat(this.compoundOrder[A].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[A].getChild()),this.compoundOrder[A].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(S,N)},D.prototype.clearZeroDegreeMembers=function(){var S=this,N=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(A){var M=S.idToDummyNode[A];if(N[A]=S.tileNodes(S.memberGroups[A],M.paddingLeft+M.paddingRight),M.rect.width=N[A].width,M.rect.height=N[A].height,M.setCenter(N[A].centerX,N[A].centerY),M.labelMarginLeft=0,M.labelMarginTop=0,m.NODE_DIMENSIONS_INCLUDE_LABELS){var O=M.rect.width,I=M.rect.height;M.labelWidth&&(M.labelPosHorizontal=="left"?(M.rect.x-=M.labelWidth,M.setWidth(O+M.labelWidth),M.labelMarginLeft=M.labelWidth):M.labelPosHorizontal=="center"&&M.labelWidth>O?(M.rect.x-=(M.labelWidth-O)/2,M.setWidth(M.labelWidth),M.labelMarginLeft=(M.labelWidth-O)/2):M.labelPosHorizontal=="right"&&M.setWidth(O+M.labelWidth)),M.labelHeight&&(M.labelPosVertical=="top"?(M.rect.y-=M.labelHeight,M.setHeight(I+M.labelHeight),M.labelMarginTop=M.labelHeight):M.labelPosVertical=="center"&&M.labelHeight>I?(M.rect.y-=(M.labelHeight-I)/2,M.setHeight(M.labelHeight),M.labelMarginTop=(M.labelHeight-I)/2):M.labelPosVertical=="bottom"&&M.setHeight(I+M.labelHeight))}})},D.prototype.repopulateCompounds=function(){for(var S=this.compoundOrder.length-1;S>=0;S--){var N=this.compoundOrder[S],A=N.id,M=N.paddingLeft,O=N.paddingTop,I=N.labelMarginLeft,P=N.labelMarginTop;this.adjustLocations(this.tiledMemberPack[A],N.rect.x,N.rect.y,M,O,I,P)}},D.prototype.repopulateZeroDegreeMembers=function(){var S=this,N=this.tiledZeroDegreePack;Object.keys(N).forEach(function(A){var M=S.idToDummyNode[A],O=M.paddingLeft,I=M.paddingTop,P=M.labelMarginLeft,$=M.labelMarginTop;S.adjustLocations(N[A],M.rect.x,M.rect.y,O,I,P,$)})},D.prototype.getToBeTiled=function(S){var N=S.id;if(this.toBeTiled[N]!=null)return this.toBeTiled[N];var A=S.getChild();if(A==null)return this.toBeTiled[N]=!1,!1;for(var M=A.getNodes(),O=0;O<M.length;O++){var I=M[O];if(this.getNodeDegree(I)>0)return this.toBeTiled[N]=!1,!1;if(I.getChild()!=null){if(!this.getToBeTiled(I))return this.toBeTiled[N]=!1,!1}else this.toBeTiled[I.id]=!1}return this.toBeTiled[N]=!0,!0},D.prototype.getNodeDegree=function(S){S.id;for(var N=S.getEdges(),A=0,M=0;M<N.length;M++){var O=N[M];O.getSource().id!==O.getTarget().id&&(A+=1)}return A},D.prototype.getNodeDegreeWithChildren=function(S){var N=this.getNodeDegree(S);if(S.getChild()==null)return N;for(var A=S.getChild().getNodes(),M=0;M<A.length;M++){var O=A[M];N+=this.getNodeDegreeWithChildren(O)}return N},D.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},D.prototype.fillCompexOrderByDFS=function(S){for(var N=0;N<S.length;N++){var A=S[N];A.getChild()!=null&&this.fillCompexOrderByDFS(A.getChild().getNodes()),this.getToBeTiled(A)&&this.compoundOrder.push(A)}},D.prototype.adjustLocations=function(S,N,A,M,O,I,P){A+=O+P;for(var $=N+=M+I,z=0;z<S.rows.length;z++){var G=S.rows[z];N=$;for(var q=0,J=0;J<G.length;J++){var ie=G[J];ie.rect.x=N,ie.rect.y=A,N+=ie.rect.width+S.horizontalPadding,ie.rect.height>q&&(q=ie.rect.height)}A+=q+S.verticalPadding}},D.prototype.tileCompoundMembers=function(S,N){var A=this;this.tiledMemberPack=[],Object.keys(S).forEach(function(M){var O=N[M];if(A.tiledMemberPack[M]=A.tileNodes(S[M],O.paddingLeft+O.paddingRight),O.rect.width=A.tiledMemberPack[M].width,O.rect.height=A.tiledMemberPack[M].height,O.setCenter(A.tiledMemberPack[M].centerX,A.tiledMemberPack[M].centerY),O.labelMarginLeft=0,O.labelMarginTop=0,m.NODE_DIMENSIONS_INCLUDE_LABELS){var I=O.rect.width,P=O.rect.height;O.labelWidth&&(O.labelPosHorizontal=="left"?(O.rect.x-=O.labelWidth,O.setWidth(I+O.labelWidth),O.labelMarginLeft=O.labelWidth):O.labelPosHorizontal=="center"&&O.labelWidth>I?(O.rect.x-=(O.labelWidth-I)/2,O.setWidth(O.labelWidth),O.labelMarginLeft=(O.labelWidth-I)/2):O.labelPosHorizontal=="right"&&O.setWidth(I+O.labelWidth)),O.labelHeight&&(O.labelPosVertical=="top"?(O.rect.y-=O.labelHeight,O.setHeight(P+O.labelHeight),O.labelMarginTop=O.labelHeight):O.labelPosVertical=="center"&&O.labelHeight>P?(O.rect.y-=(O.labelHeight-P)/2,O.setHeight(O.labelHeight),O.labelMarginTop=(O.labelHeight-P)/2):O.labelPosVertical=="bottom"&&O.setHeight(P+O.labelHeight))}})},D.prototype.tileNodes=function(S,N){var A=this.tileNodesByFavoringDim(S,N,!0),M=this.tileNodesByFavoringDim(S,N,!1),O=this.getOrgRatio(A);return this.getOrgRatio(M)<O?M:A},D.prototype.getOrgRatio=function(S){var N=S.width/S.height;return N<1&&(N=1/N),N},D.prototype.calcIdealRowWidth=function(S,N){var A=m.TILING_PADDING_VERTICAL,M=m.TILING_PADDING_HORIZONTAL,O=S.length,I=0,P=0,$=0;S.forEach(function(W){I+=W.getWidth(),P+=W.getHeight(),W.getWidth()>$&&($=W.getWidth())});var z,G=I/O,q=P/O,J=Math.pow(A-M,2)+4*(G+M)*(q+A)*O,ie=(M-A+Math.sqrt(J))/(2*(G+M));N?(z=Math.ceil(ie))==ie&&z++:z=Math.floor(ie);var te=z*(G+M)-M;return $>te&&(te=$),te+=2*M},D.prototype.tileNodesByFavoringDim=function(S,N,A){var M=m.TILING_PADDING_VERTICAL,O=m.TILING_PADDING_HORIZONTAL,I=m.TILING_COMPARE_BY,P={rows:[],rowWidth:[],rowHeight:[],width:0,height:N,verticalPadding:M,horizontalPadding:O,centerX:0,centerY:0};I&&(P.idealRowWidth=this.calcIdealRowWidth(S,A));var $=l(function(W){return W.rect.width*W.rect.height},"getNodeArea"),z=l(function(W,H){return $(H)-$(W)},"areaCompareFcn");S.sort(function(W,H){var X=z;return P.idealRowWidth?(X=I)(W.id,H.id):X(W,H)});for(var G=0,q=0,J=0;J<S.length;J++)G+=(ie=S[J]).getCenterX(),q+=ie.getCenterY();for(P.centerX=G/S.length,P.centerY=q/S.length,J=0;J<S.length;J++){var ie=S[J];if(P.rows.length==0)this.insertNodeToRow(P,ie,0,N);else if(this.canAddHorizontal(P,ie.rect.width,ie.rect.height)){var te=P.rows.length-1;P.idealRowWidth||(te=this.getShortestRowIndex(P)),this.insertNodeToRow(P,ie,te,N)}else this.insertNodeToRow(P,ie,P.rows.length,N);this.shiftToLastRow(P)}return P},D.prototype.insertNodeToRow=function(S,N,A,M){var O=M;A==S.rows.length&&(S.rows.push([]),S.rowWidth.push(O),S.rowHeight.push(0));var I=S.rowWidth[A]+N.rect.width;S.rows[A].length>0&&(I+=S.horizontalPadding),S.rowWidth[A]=I,S.width<I&&(S.width=I);var P=N.rect.height;A>0&&(P+=S.verticalPadding);var $=0;P>S.rowHeight[A]&&($=S.rowHeight[A],S.rowHeight[A]=P,$=S.rowHeight[A]-$),S.height+=$,S.rows[A].push(N)},D.prototype.getShortestRowIndex=function(S){for(var N=-1,A=Number.MAX_VALUE,M=0;M<S.rows.length;M++)S.rowWidth[M]<A&&(N=M,A=S.rowWidth[M]);return N},D.prototype.getLongestRowIndex=function(S){for(var N=-1,A=Number.MIN_VALUE,M=0;M<S.rows.length;M++)S.rowWidth[M]>A&&(N=M,A=S.rowWidth[M]);return N},D.prototype.canAddHorizontal=function(S,N,A){if(S.idealRowWidth){var M=S.rows.length-1;return S.rowWidth[M]+N+S.horizontalPadding<=S.idealRowWidth}var O=this.getShortestRowIndex(S);if(O<0)return!0;var I=S.rowWidth[O];if(I+S.horizontalPadding+N<=S.width)return!0;var P,$,z=0;return S.rowHeight[O]<A&&O>0&&(z=A+S.verticalPadding-S.rowHeight[O]),P=S.width-I>=N+S.horizontalPadding?(S.height+z)/(I+N+S.horizontalPadding):(S.height+z)/S.width,z=A+S.verticalPadding,($=S.width<N?(S.height+z)/N:(S.height+z)/S.width)<1&&($=1/$),P<1&&(P=1/P),P<$},D.prototype.shiftToLastRow=function(S){var N=this.getLongestRowIndex(S),A=S.rowWidth.length-1,M=S.rows[N],O=M[M.length-1],I=O.width+S.horizontalPadding;if(S.width-S.rowWidth[A]>I&&N!=A){M.splice(-1,1),S.rows[A].push(O),S.rowWidth[N]=S.rowWidth[N]-I,S.rowWidth[A]=S.rowWidth[A]+I,S.width=S.rowWidth[instance.getLongestRowIndex(S)];for(var P=Number.MIN_VALUE,$=0;$<M.length;$++)M[$].height>P&&(P=M[$].height);N>0&&(P+=S.verticalPadding);var z=S.rowHeight[N]+S.rowHeight[A];S.rowHeight[N]=P,S.rowHeight[A]<O.height+S.verticalPadding&&(S.rowHeight[A]=O.height+S.verticalPadding);var G=S.rowHeight[N]+S.rowHeight[A];S.height+=G-z,this.shiftToLastRow(S)}},D.prototype.tilingPreLayout=function(){m.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},D.prototype.tilingPostLayout=function(){m.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},D.prototype.reduceTrees=function(){for(var S,N=[],A=!0;A;){var M=this.graphManager.getAllNodes(),O=[];A=!1;for(var I=0;I<M.length;I++)if((S=M[I]).getEdges().length==1&&!S.getEdges()[0].isInterGraph&&S.getChild()==null){if(m.PURE_INCREMENTAL){var P=S.getEdges()[0].getOtherEnd(S),$=new T(S.getCenterX()-P.getCenterX(),S.getCenterY()-P.getCenterY());O.push([S,S.getEdges()[0],S.getOwner(),$])}else O.push([S,S.getEdges()[0],S.getOwner()]);A=!0}if(A==1){for(var z=[],G=0;G<O.length;G++)O[G][0].getEdges().length==1&&(z.push(O[G]),O[G][0].getOwner().remove(O[G][0]));N.push(z),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=N},D.prototype.growTree=function(S){for(var N,A=S[S.length-1],M=0;M<A.length;M++)N=A[M],this.findPlaceforPrunedNode(N),N[2].add(N[0]),N[2].add(N[1],N[1].source,N[1].target);S.splice(S.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},D.prototype.findPlaceforPrunedNode=function(S){var N,A,M=S[0];if(A=M==S[1].source?S[1].target:S[1].source,m.PURE_INCREMENTAL)M.setCenter(A.getCenterX()+S[3].getWidth(),A.getCenterY()+S[3].getHeight());else{var O=A.startX,I=A.finishX,P=A.startY,$=A.finishY,z=[0,0,0,0];if(P>0)for(var G=O;G<=I;G++)z[0]+=this.grid[G][P-1].length+this.grid[G][P].length-1;if(I<this.grid.length-1)for(G=P;G<=$;G++)z[1]+=this.grid[I+1][G].length+this.grid[I][G].length-1;if($<this.grid[0].length-1)for(G=O;G<=I;G++)z[2]+=this.grid[G][$+1].length+this.grid[G][$].length-1;if(O>0)for(G=P;G<=$;G++)z[3]+=this.grid[O-1][G].length+this.grid[O][G].length-1;for(var q,J,ie=R.MAX_VALUE,te=0;te<z.length;te++)z[te]<ie?(ie=z[te],q=1,J=te):z[te]==ie&&q++;if(q==3&&ie==0)z[0]==0&&z[1]==0&&z[2]==0?N=1:z[0]==0&&z[1]==0&&z[3]==0?N=0:z[0]==0&&z[2]==0&&z[3]==0?N=3:z[1]==0&&z[2]==0&&z[3]==0&&(N=2);else if(q==2&&ie==0){var W=Math.floor(2*Math.random());N=z[0]==0&&z[1]==0?W==0?0:1:z[0]==0&&z[2]==0?W==0?0:2:z[0]==0&&z[3]==0?W==0?0:3:z[1]==0&&z[2]==0?W==0?1:2:z[1]==0&&z[3]==0?W==0?1:3:W==0?2:3}else q==4&&ie==0?N=W=Math.floor(4*Math.random()):N=J;N==0?M.setCenter(A.getCenterX(),A.getCenterY()-A.getHeight()/2-v.DEFAULT_EDGE_LENGTH-M.getHeight()/2):N==1?M.setCenter(A.getCenterX()+A.getWidth()/2+v.DEFAULT_EDGE_LENGTH+M.getWidth()/2,A.getCenterY()):N==2?M.setCenter(A.getCenterX(),A.getCenterY()+A.getHeight()/2+v.DEFAULT_EDGE_LENGTH+M.getHeight()/2):M.setCenter(A.getCenterX()-A.getWidth()/2-v.DEFAULT_EDGE_LENGTH-M.getWidth()/2,A.getCenterY())}},s.exports=D},991:(s,o,u)=>{var h=u(551).FDLayoutNode,d=u(551).IMath;function p(g,m,y,v){h.call(this,g,m,y,v)}for(var f in l(p,"CoSENode"),p.prototype=Object.create(h.prototype),h)p[f]=h[f];p.prototype.calculateDisplacement=function(){var g=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=g.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=g.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=g.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=g.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>g.coolingFactor*g.maxNodeDisplacement&&(this.displacementX=g.coolingFactor*g.maxNodeDisplacement*d.sign(this.displacementX)),Math.abs(this.displacementY)>g.coolingFactor*g.maxNodeDisplacement&&(this.displacementY=g.coolingFactor*g.maxNodeDisplacement*d.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},p.prototype.propogateDisplacementToChildren=function(g,m){for(var y,v=this.getChild().getNodes(),x=0;x<v.length;x++)(y=v[x]).getChild()==null?(y.displacementX+=g,y.displacementY+=m):y.propogateDisplacementToChildren(g,m)},p.prototype.move=function(){var g=this.graphManager.getLayout();this.child!=null&&this.child.getNodes().length!=0||(this.moveBy(this.displacementX,this.displacementY),g.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},p.prototype.setPred1=function(g){this.pred1=g},p.prototype.getPred1=function(){return pred1},p.prototype.getPred2=function(){return pred2},p.prototype.setNext=function(g){this.next=g},p.prototype.getNext=function(){return next},p.prototype.setProcessed=function(g){this.processed=g},p.prototype.isProcessed=function(){return processed},s.exports=p},902:(s,o,u)=>{function h(y){if(Array.isArray(y)){for(var v=0,x=Array(y.length);v<y.length;v++)x[v]=y[v];return x}return Array.from(y)}l(h,"_toConsumableArray");var d=u(806),p=u(551).LinkedList,f=u(551).Matrix,g=u(551).SVD;function m(){}l(m,"ConstraintHandler"),m.handleConstraints=function(y){var v={};v.fixedNodeConstraint=y.constraints.fixedNodeConstraint,v.alignmentConstraint=y.constraints.alignmentConstraint,v.relativePlacementConstraint=y.constraints.relativePlacementConstraint;for(var x=new Map,b=new Map,w=[],T=[],k=y.getAllNodes(),R=0,C=0;C<k.length;C++){var E=k[C];E.getChild()==null&&(b.set(E.id,R++),w.push(E.getCenterX()),T.push(E.getCenterY()),x.set(E.id,E))}v.relativePlacementConstraint&&v.relativePlacementConstraint.forEach(function(he){he.gap||he.gap==0||(he.left?he.gap=d.DEFAULT_EDGE_LENGTH+x.get(he.left).getWidth()/2+x.get(he.right).getWidth()/2:he.gap=d.DEFAULT_EDGE_LENGTH+x.get(he.top).getHeight()/2+x.get(he.bottom).getHeight()/2)});var _=l(function(he,se){return{x:he.x-se.x,y:he.y-se.y}},"calculatePositionDiff"),L=l(function(he){var se=0,be=0;return he.forEach(function(Te){se+=w[b.get(Te)],be+=T[b.get(Te)]}),{x:se/he.size,y:be/he.size}},"calculateAvgPosition"),D=l(function(he,se,be,Te,_e){function Re(at,De){var rt=new Set(at),Je=!0,Ze=!1,ht=void 0;try{for(var mt,yt=De[Symbol.iterator]();!(Je=(mt=yt.next()).done);Je=!0){var Xe=mt.value;rt.add(Xe)}}catch(Fe){Ze=!0,ht=Fe}finally{try{!Je&&yt.return&&yt.return()}finally{if(Ze)throw ht}}return rt}l(Re,"setUnion");var ke=new Map;he.forEach(function(at,De){ke.set(De,0)}),he.forEach(function(at,De){at.forEach(function(rt){ke.set(rt.id,ke.get(rt.id)+1)})});var Be=new Map,Oe=new Map,ft=new p;ke.forEach(function(at,De){at==0?(ft.push(De),be||(se=="horizontal"?Be.set(De,b.has(De)?w[b.get(De)]:Te.get(De)):Be.set(De,b.has(De)?T[b.get(De)]:Te.get(De)))):Be.set(De,Number.NEGATIVE_INFINITY),be&&Oe.set(De,new Set([De]))}),be&&_e.forEach(function(at){var De=[];if(at.forEach(function(Ze){be.has(Ze)&&De.push(Ze)}),De.length>0){var rt=0;De.forEach(function(Ze){se=="horizontal"?(Be.set(Ze,b.has(Ze)?w[b.get(Ze)]:Te.get(Ze)),rt+=Be.get(Ze)):(Be.set(Ze,b.has(Ze)?T[b.get(Ze)]:Te.get(Ze)),rt+=Be.get(Ze))}),rt/=De.length,at.forEach(function(Ze){be.has(Ze)||Be.set(Ze,rt)})}else{var Je=0;at.forEach(function(Ze){Je+=se=="horizontal"?b.has(Ze)?w[b.get(Ze)]:Te.get(Ze):b.has(Ze)?T[b.get(Ze)]:Te.get(Ze)}),Je/=at.length,at.forEach(function(Ze){Be.set(Ze,Je)})}});for(var Et=l(function(){var at=ft.shift();he.get(at).forEach(function(De){if(Be.get(De.id)<Be.get(at)+De.gap)if(be&&be.has(De.id)){var rt=void 0;if(rt=se=="horizontal"?b.has(De.id)?w[b.get(De.id)]:Te.get(De.id):b.has(De.id)?T[b.get(De.id)]:Te.get(De.id),Be.set(De.id,rt),rt<Be.get(at)+De.gap){var Je=Be.get(at)+De.gap-rt;Oe.get(at).forEach(function(Ze){Be.set(Ze,Be.get(Ze)-Je)})}}else Be.set(De.id,Be.get(at)+De.gap);ke.set(De.id,ke.get(De.id)-1),ke.get(De.id)==0&&ft.push(De.id),be&&Oe.set(De.id,Re(Oe.get(at),Oe.get(De.id)))})},"_loop");ft.length!=0;)Et();if(be){var Ye=new Set;he.forEach(function(at,De){at.length==0&&Ye.add(De)});var bt=[];Oe.forEach(function(at,De){if(Ye.has(De)){var rt=!1,Je=!0,Ze=!1,ht=void 0;try{for(var mt,yt=at[Symbol.iterator]();!(Je=(mt=yt.next()).done);Je=!0){var Xe=mt.value;be.has(Xe)&&(rt=!0)}}catch(Rt){Ze=!0,ht=Rt}finally{try{!Je&&yt.return&&yt.return()}finally{if(Ze)throw ht}}if(!rt){var Fe=!1,pt=void 0;bt.forEach(function(Rt,Ft){Rt.has([].concat(h(at))[0])&&(Fe=!0,pt=Ft)}),Fe?at.forEach(function(Rt){bt[pt].add(Rt)}):bt.push(new Set(at))}}}),bt.forEach(function(at,De){var rt=Number.POSITIVE_INFINITY,Je=Number.POSITIVE_INFINITY,Ze=Number.NEGATIVE_INFINITY,ht=Number.NEGATIVE_INFINITY,mt=!0,yt=!1,Xe=void 0;try{for(var Fe,pt=at[Symbol.iterator]();!(mt=(Fe=pt.next()).done);mt=!0){var Rt=Fe.value,Ft=void 0;Ft=se=="horizontal"?b.has(Rt)?w[b.get(Rt)]:Te.get(Rt):b.has(Rt)?T[b.get(Rt)]:Te.get(Rt);var Sr=Be.get(Rt);Ft<rt&&(rt=Ft),Ft>Ze&&(Ze=Ft),Sr<Je&&(Je=Sr),Sr>ht&&(ht=Sr)}}catch(me){yt=!0,Xe=me}finally{try{!mt&&pt.return&&pt.return()}finally{if(yt)throw Xe}}var wn=(rt+Ze)/2-(Je+ht)/2,Wt=!0,Zt=!1,Or=void 0;try{for(var rr,Hr=at[Symbol.iterator]();!(Wt=(rr=Hr.next()).done);Wt=!0){var Tr=rr.value;Be.set(Tr,Be.get(Tr)+wn)}}catch(me){Zt=!0,Or=me}finally{try{!Wt&&Hr.return&&Hr.return()}finally{if(Zt)throw Or}}})}return Be},"findAppropriatePositionForRelativePlacement"),B=l(function(he){var se=0,be=0,Te=0,_e=0;if(he.forEach(function(Oe){Oe.left?w[b.get(Oe.left)]-w[b.get(Oe.right)]>=0?se++:be++:T[b.get(Oe.top)]-T[b.get(Oe.bottom)]>=0?Te++:_e++}),se>be&&Te>_e)for(var Re=0;Re<b.size;Re++)w[Re]=-1*w[Re],T[Re]=-1*T[Re];else if(se>be)for(var ke=0;ke<b.size;ke++)w[ke]=-1*w[ke];else if(Te>_e)for(var Be=0;Be<b.size;Be++)T[Be]=-1*T[Be]},"applyReflectionForRelativePlacement"),S=l(function(he){var se=[],be=new p,Te=new Set,_e=0;return he.forEach(function(Re,ke){if(!Te.has(ke)){se[_e]=[];var Be=ke;for(be.push(Be),Te.add(Be),se[_e].push(Be);be.length!=0;)Be=be.shift(),he.get(Be).forEach(function(Oe){Te.has(Oe.id)||(be.push(Oe.id),Te.add(Oe.id),se[_e].push(Oe.id))});_e++}}),se},"findComponents"),N=l(function(he){var se=new Map;return he.forEach(function(be,Te){se.set(Te,[])}),he.forEach(function(be,Te){be.forEach(function(_e){se.get(Te).push(_e),se.get(_e.id).push({id:Te,gap:_e.gap,direction:_e.direction})})}),se},"dagToUndirected"),A=l(function(he){var se=new Map;return he.forEach(function(be,Te){se.set(Te,[])}),he.forEach(function(be,Te){be.forEach(function(_e){se.get(_e.id).push({id:Te,gap:_e.gap,direction:_e.direction})})}),se},"dagToReversed"),M=[],O=[],I=!1,P=!1,$=new Set,z=new Map,G=new Map,q=[];if(v.fixedNodeConstraint&&v.fixedNodeConstraint.forEach(function(he){$.add(he.nodeId)}),v.relativePlacementConstraint&&(v.relativePlacementConstraint.forEach(function(he){he.left?(z.has(he.left)?z.get(he.left).push({id:he.right,gap:he.gap,direction:"horizontal"}):z.set(he.left,[{id:he.right,gap:he.gap,direction:"horizontal"}]),z.has(he.right)||z.set(he.right,[])):(z.has(he.top)?z.get(he.top).push({id:he.bottom,gap:he.gap,direction:"vertical"}):z.set(he.top,[{id:he.bottom,gap:he.gap,direction:"vertical"}]),z.has(he.bottom)||z.set(he.bottom,[]))}),G=N(z),q=S(G)),d.TRANSFORM_ON_CONSTRAINT_HANDLING){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>1)v.fixedNodeConstraint.forEach(function(he,se){M[se]=[he.position.x,he.position.y],O[se]=[w[b.get(he.nodeId)],T[b.get(he.nodeId)]]}),I=!0;else if(v.alignmentConstraint)(function(){var he=0;if(v.alignmentConstraint.vertical){for(var se=v.alignmentConstraint.vertical,be=l(function(Be){var Oe=new Set;se[Be].forEach(function(Ye){Oe.add(Ye)});var ft=new Set([].concat(h(Oe)).filter(function(Ye){return $.has(Ye)})),Et=void 0;Et=ft.size>0?w[b.get(ft.values().next().value)]:L(Oe).x,se[Be].forEach(function(Ye){M[he]=[Et,T[b.get(Ye)]],O[he]=[w[b.get(Ye)],T[b.get(Ye)]],he++})},"_loop2"),Te=0;Te<se.length;Te++)be(Te);I=!0}if(v.alignmentConstraint.horizontal){for(var _e=v.alignmentConstraint.horizontal,Re=l(function(Be){var Oe=new Set;_e[Be].forEach(function(Ye){Oe.add(Ye)});var ft=new Set([].concat(h(Oe)).filter(function(Ye){return $.has(Ye)})),Et=void 0;Et=ft.size>0?w[b.get(ft.values().next().value)]:L(Oe).y,_e[Be].forEach(function(Ye){M[he]=[w[b.get(Ye)],Et],O[he]=[w[b.get(Ye)],T[b.get(Ye)]],he++})},"_loop3"),ke=0;ke<_e.length;ke++)Re(ke);I=!0}v.relativePlacementConstraint&&(P=!0)})();else if(v.relativePlacementConstraint){for(var J=0,ie=0,te=0;te<q.length;te++)q[te].length>J&&(J=q[te].length,ie=te);if(J<G.size/2)B(v.relativePlacementConstraint),I=!1,P=!1;else{var W=new Map,H=new Map,X=[];q[ie].forEach(function(he){z.get(he).forEach(function(se){se.direction=="horizontal"?(W.has(he)?W.get(he).push(se):W.set(he,[se]),W.has(se.id)||W.set(se.id,[]),X.push({left:he,right:se.id})):(H.has(he)?H.get(he).push(se):H.set(he,[se]),H.has(se.id)||H.set(se.id,[]),X.push({top:he,bottom:se.id}))})}),B(X),P=!1;var Q=D(W,"horizontal"),ne=D(H,"vertical");q[ie].forEach(function(he,se){O[se]=[w[b.get(he)],T[b.get(he)]],M[se]=[],Q.has(he)?M[se][0]=Q.get(he):M[se][0]=w[b.get(he)],ne.has(he)?M[se][1]=ne.get(he):M[se][1]=T[b.get(he)]}),I=!0}}if(I){for(var ee,pe=f.transpose(M),j=f.transpose(O),ce=0;ce<pe.length;ce++)pe[ce]=f.multGamma(pe[ce]),j[ce]=f.multGamma(j[ce]);var le=f.multMat(pe,f.transpose(j)),Ae=g.svd(le);ee=f.multMat(Ae.V,f.transpose(Ae.U));for(var Se=0;Se<b.size;Se++){var ze=[w[Se],T[Se]],Pe=[ee[0][0],ee[1][0]],Ve=[ee[0][1],ee[1][1]];w[Se]=f.dotProduct(ze,Pe),T[Se]=f.dotProduct(ze,Ve)}P&&B(v.relativePlacementConstraint)}}if(d.ENFORCE_CONSTRAINTS){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>0){var Ue={x:0,y:0};v.fixedNodeConstraint.forEach(function(he,se){var be={x:w[b.get(he.nodeId)],y:T[b.get(he.nodeId)]},Te=he.position,_e=_(Te,be);Ue.x+=_e.x,Ue.y+=_e.y}),Ue.x/=v.fixedNodeConstraint.length,Ue.y/=v.fixedNodeConstraint.length,w.forEach(function(he,se){w[se]+=Ue.x}),T.forEach(function(he,se){T[se]+=Ue.y}),v.fixedNodeConstraint.forEach(function(he){w[b.get(he.nodeId)]=he.position.x,T[b.get(he.nodeId)]=he.position.y})}if(v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var Ge=v.alignmentConstraint.vertical,V=l(function(he){var se=new Set;Ge[he].forEach(function(_e){se.add(_e)});var be=new Set([].concat(h(se)).filter(function(_e){return $.has(_e)})),Te=void 0;Te=be.size>0?w[b.get(be.values().next().value)]:L(se).x,se.forEach(function(_e){$.has(_e)||(w[b.get(_e)]=Te)})},"_loop4"),ue=0;ue<Ge.length;ue++)V(ue);if(v.alignmentConstraint.horizontal)for(var oe=v.alignmentConstraint.horizontal,we=l(function(he){var se=new Set;oe[he].forEach(function(_e){se.add(_e)});var be=new Set([].concat(h(se)).filter(function(_e){return $.has(_e)})),Te=void 0;Te=be.size>0?T[b.get(be.values().next().value)]:L(se).y,se.forEach(function(_e){$.has(_e)||(T[b.get(_e)]=Te)})},"_loop5"),K=0;K<oe.length;K++)we(K)}v.relativePlacementConstraint&&function(){var he=new Map,se=new Map,be=new Map,Te=new Map,_e=new Map,Re=new Map,ke=new Set,Be=new Set;if($.forEach(function(We){ke.add(We),Be.add(We)}),v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var Oe=v.alignmentConstraint.vertical,ft=l(function(We){be.set("dummy"+We,[]),Oe[We].forEach(function($e){he.set($e,"dummy"+We),be.get("dummy"+We).push($e),$.has($e)&&ke.add("dummy"+We)}),_e.set("dummy"+We,w[b.get(Oe[We][0])])},"_loop6"),Et=0;Et<Oe.length;Et++)ft(Et);if(v.alignmentConstraint.horizontal)for(var Ye=v.alignmentConstraint.horizontal,bt=l(function(We){Te.set("dummy"+We,[]),Ye[We].forEach(function($e){se.set($e,"dummy"+We),Te.get("dummy"+We).push($e),$.has($e)&&Be.add("dummy"+We)}),Re.set("dummy"+We,T[b.get(Ye[We][0])])},"_loop7"),at=0;at<Ye.length;at++)bt(at)}var De=new Map,rt=new Map,Je=l(function(We){z.get(We).forEach(function($e){var Ht=void 0,de=void 0;$e.direction=="horizontal"?(Ht=he.get(We)?he.get(We):We,de=he.get($e.id)?{id:he.get($e.id),gap:$e.gap,direction:$e.direction}:$e,De.has(Ht)?De.get(Ht).push(de):De.set(Ht,[de]),De.has(de.id)||De.set(de.id,[])):(Ht=se.get(We)?se.get(We):We,de=se.get($e.id)?{id:se.get($e.id),gap:$e.gap,direction:$e.direction}:$e,rt.has(Ht)?rt.get(Ht).push(de):rt.set(Ht,[de]),rt.has(de.id)||rt.set(de.id,[]))})},"_loop8"),Ze=!0,ht=!1,mt=void 0;try{for(var yt,Xe=z.keys()[Symbol.iterator]();!(Ze=(yt=Xe.next()).done);Ze=!0)Je(yt.value)}catch(We){ht=!0,mt=We}finally{try{!Ze&&Xe.return&&Xe.return()}finally{if(ht)throw mt}}var Fe=N(De),pt=N(rt),Rt=S(Fe),Ft=S(pt),Sr=A(De),wn=A(rt),Wt=[],Zt=[];Rt.forEach(function(We,$e){Wt[$e]=[],We.forEach(function(Ht){Sr.get(Ht).length==0&&Wt[$e].push(Ht)})}),Ft.forEach(function(We,$e){Zt[$e]=[],We.forEach(function(Ht){wn.get(Ht).length==0&&Zt[$e].push(Ht)})});var Or=D(De,"horizontal",ke,_e,Wt),rr=D(rt,"vertical",Be,Re,Zt),Hr=l(function(We){be.get(We)?be.get(We).forEach(function($e){w[b.get($e)]=Or.get(We)}):w[b.get(We)]=Or.get(We)},"_loop9"),Tr=!0,me=!1,ot=void 0;try{for(var tt,er=Or.keys()[Symbol.iterator]();!(Tr=(tt=er.next()).done);Tr=!0)Hr(tt.value)}catch(We){me=!0,ot=We}finally{try{!Tr&&er.return&&er.return()}finally{if(me)throw ot}}var vr=l(function(We){Te.get(We)?Te.get(We).forEach(function($e){T[b.get($e)]=rr.get(We)}):T[b.get(We)]=rr.get(We)},"_loop10"),dr=!0,ma=!1,Zn=void 0;try{for(var Vr,st=rr.keys()[Symbol.iterator]();!(dr=(Vr=st.next()).done);dr=!0)vr(Vr.value)}catch(We){ma=!0,Zn=We}finally{try{!dr&&st.return&&st.return()}finally{if(ma)throw Zn}}}()}for(var ve=0;ve<k.length;ve++){var Y=k[ve];Y.getChild()==null&&Y.setCenter(w[b.get(Y.id)],T[b.get(Y.id)])}},s.exports=m},551:s=>{s.exports=r}},i={};function a(s){var o=i[s];if(o!==void 0)return o.exports;var u=i[s]={exports:{}};return n[s](u,u.exports,a),u.exports}return l(a,"__webpack_require__"),a(45)})()})}}),pNe=qn({"../../node_modules/.pnpm/cytoscape-fcose@2.2.0_cytoscape@3.30.2/node_modules/cytoscape-fcose/cytoscape-fcose.js"(e,t){l(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n(RB()):typeof define=="function"&&define.amd?define(["cose-base"],n):typeof e=="object"?e.cytoscapeFcose=n(RB()):r.cytoscapeFcose=n(r.coseBase)},"webpackUniversalModuleDefinition")(e,function(r){return(()=>{var n={658:s=>{s.exports=Object.assign!=null?Object.assign.bind(Object):function(o){for(var u=arguments.length,h=Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];return h.forEach(function(p){Object.keys(p).forEach(function(f){return o[f]=p[f]})}),o}},548:(s,o,u)=>{var h=function(){function f(g,m){var y=[],v=!0,x=!1,b=void 0;try{for(var w,T=g[Symbol.iterator]();!(v=(w=T.next()).done)&&(y.push(w.value),!m||y.length!==m);v=!0);}catch(k){x=!0,b=k}finally{try{!v&&T.return&&T.return()}finally{if(x)throw b}}return y}return l(f,"sliceIterator"),function(g,m){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return f(g,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=u(140).layoutBase.LinkedList,p={getTopMostNodes:function(f){for(var g={},m=0;m<f.length;m++)g[f[m].id()]=!0;return f.filter(function(y,v){typeof y=="number"&&(y=v);for(var x=y.parent()[0];x!=null;){if(g[x.id()])return!1;x=x.parent()[0]}return!0})},connectComponents:function(f,g,m,y){var v=new d,x=new Set,b=[],w=void 0,T=void 0,k=void 0,R=!1,C=1,E=[],_=[],L=l(function(){var D=f.collection();_.push(D);var B=m[0],S=f.collection();S.merge(B).merge(B.descendants().intersection(g)),b.push(B),S.forEach(function(M){v.push(M),x.add(M),D.merge(M)});for(var N=l(function(){B=v.shift();var M=f.collection();B.neighborhood().nodes().forEach(function(P){g.intersection(B.edgesWith(P)).length>0&&M.merge(P)});for(var O=0;O<M.length;O++){var I=M[O];(w=m.intersection(I.union(I.ancestors())))!=null&&!x.has(w[0])&&w.union(w.descendants()).forEach(function(P){v.push(P),x.add(P),D.merge(P),m.has(P)&&b.push(P)})}},"_loop2");v.length!=0;)N();if(D.forEach(function(M){g.intersection(M.connectedEdges()).forEach(function(O){D.has(O.source())&&D.has(O.target())&&D.merge(O)})}),b.length==m.length&&(R=!0),!R||R&&C>1){T=b[0],k=T.connectedEdges().length,b.forEach(function(M){M.connectedEdges().length<k&&(k=M.connectedEdges().length,T=M)}),E.push(T.id());var A=f.collection();A.merge(b[0]),b.forEach(function(M){A.merge(M)}),b=[],m=m.difference(A),C++}},"_loop");do L();while(!R);return y&&E.length>0&&y.set("dummy"+(y.size+1),E),_},relocateComponent:function(f,g,m){if(!m.fixedNodeConstraint){var y=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,x=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY;if(m.quality=="draft"){var w=!0,T=!1,k=void 0;try{for(var R,C=g.nodeIndexes[Symbol.iterator]();!(w=(R=C.next()).done);w=!0){var E=R.value,_=h(E,2),L=_[0],D=_[1],B=m.cy.getElementById(L);if(B){var S=B.boundingBox(),N=g.xCoords[D]-S.w/2,A=g.xCoords[D]+S.w/2,M=g.yCoords[D]-S.h/2,O=g.yCoords[D]+S.h/2;N<y&&(y=N),A>v&&(v=A),M<x&&(x=M),O>b&&(b=O)}}}catch(G){T=!0,k=G}finally{try{!w&&C.return&&C.return()}finally{if(T)throw k}}var I=f.x-(v+y)/2,P=f.y-(b+x)/2;g.xCoords=g.xCoords.map(function(G){return G+I}),g.yCoords=g.yCoords.map(function(G){return G+P})}else{Object.keys(g).forEach(function(G){var q=g[G],J=q.getRect().x,ie=q.getRect().x+q.getRect().width,te=q.getRect().y,W=q.getRect().y+q.getRect().height;J<y&&(y=J),ie>v&&(v=ie),te<x&&(x=te),W>b&&(b=W)});var $=f.x-(v+y)/2,z=f.y-(b+x)/2;Object.keys(g).forEach(function(G){var q=g[G];q.setCenter(q.getCenterX()+$,q.getCenterY()+z)})}}},calcBoundingBox:function(f,g,m,y){for(var v=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER,b=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER,T=void 0,k=void 0,R=void 0,C=void 0,E=f.descendants().not(":parent"),_=E.length,L=0;L<_;L++){var D=E[L];v>(T=g[y.get(D.id())]-D.width()/2)&&(v=T),x<(k=g[y.get(D.id())]+D.width()/2)&&(x=k),b>(R=m[y.get(D.id())]-D.height()/2)&&(b=R),w<(C=m[y.get(D.id())]+D.height()/2)&&(w=C)}var B={};return B.topLeftX=v,B.topLeftY=b,B.width=x-v,B.height=w-b,B},calcParentsWithoutChildren:function(f,g){var m=f.collection();return g.nodes(":parent").forEach(function(y){var v=!1;y.children().forEach(function(x){x.css("display")!="none"&&(v=!0)}),v||m.merge(y)}),m}};s.exports=p},816:(s,o,u)=>{var h=u(548),d=u(140).CoSELayout,p=u(140).CoSENode,f=u(140).layoutBase.PointD,g=u(140).layoutBase.DimensionD,m=u(140).layoutBase.LayoutConstants,y=u(140).layoutBase.FDLayoutConstants,v=u(140).CoSEConstants,x=l(function(b,w){var T=b.cy,k=b.eles,R=k.nodes(),C=k.edges(),E=void 0,_=void 0,L=void 0,D={};b.randomize&&(E=w.nodeIndexes,_=w.xCoords,L=w.yCoords);var B=l(function($){return typeof $=="function"},"isFn"),S=l(function($,z){return B($)?$(z):$},"optFn"),N=h.calcParentsWithoutChildren(T,k),A=l(function $(z,G,q,J){for(var ie=G.length,te=0;te<ie;te++){var W=G[te],H=null;W.intersection(N).length==0&&(H=W.children());var X=void 0,Q=W.layoutDimensions({nodeDimensionsIncludeLabels:J.nodeDimensionsIncludeLabels});if(W.outerWidth()!=null&&W.outerHeight()!=null)if(J.randomize)if(W.isParent()){var ne=h.calcBoundingBox(W,_,L,E);X=W.intersection(N).length==0?z.add(new p(q.graphManager,new f(ne.topLeftX,ne.topLeftY),new g(ne.width,ne.height))):z.add(new p(q.graphManager,new f(ne.topLeftX,ne.topLeftY),new g(parseFloat(Q.w),parseFloat(Q.h))))}else X=z.add(new p(q.graphManager,new f(_[E.get(W.id())]-Q.w/2,L[E.get(W.id())]-Q.h/2),new g(parseFloat(Q.w),parseFloat(Q.h))));else X=z.add(new p(q.graphManager,new f(W.position("x")-Q.w/2,W.position("y")-Q.h/2),new g(parseFloat(Q.w),parseFloat(Q.h))));else X=z.add(new p(this.graphManager));X.id=W.data("id"),X.nodeRepulsion=S(J.nodeRepulsion,W),X.paddingLeft=parseInt(W.css("padding")),X.paddingTop=parseInt(W.css("padding")),X.paddingRight=parseInt(W.css("padding")),X.paddingBottom=parseInt(W.css("padding")),J.nodeDimensionsIncludeLabels&&(X.labelWidth=W.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,X.labelHeight=W.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,X.labelPosVertical=W.css("text-valign"),X.labelPosHorizontal=W.css("text-halign")),D[W.data("id")]=X,isNaN(X.rect.x)&&(X.rect.x=0),isNaN(X.rect.y)&&(X.rect.y=0),H!=null&&H.length>0&&$(q.getGraphManager().add(q.newGraph(),X),H,q,J)}},"processChildrenList"),M=l(function($,z,G){for(var q=0,J=0,ie=0;ie<G.length;ie++){var te=G[ie],W=D[te.data("source")],H=D[te.data("target")];if(W&&H&&W!==H&&W.getEdgesBetween(H).length==0){var X=z.add($.newEdge(),W,H);X.id=te.id(),X.idealLength=S(b.idealEdgeLength,te),X.edgeElasticity=S(b.edgeElasticity,te),q+=X.idealLength,J++}}b.idealEdgeLength!=null&&(J>0?v.DEFAULT_EDGE_LENGTH=y.DEFAULT_EDGE_LENGTH=q/J:B(b.idealEdgeLength)?v.DEFAULT_EDGE_LENGTH=y.DEFAULT_EDGE_LENGTH=50:v.DEFAULT_EDGE_LENGTH=y.DEFAULT_EDGE_LENGTH=b.idealEdgeLength,v.MIN_REPULSION_DIST=y.MIN_REPULSION_DIST=y.DEFAULT_EDGE_LENGTH/10,v.DEFAULT_RADIAL_SEPARATION=y.DEFAULT_EDGE_LENGTH)},"processEdges"),O=l(function($,z){z.fixedNodeConstraint&&($.constraints.fixedNodeConstraint=z.fixedNodeConstraint),z.alignmentConstraint&&($.constraints.alignmentConstraint=z.alignmentConstraint),z.relativePlacementConstraint&&($.constraints.relativePlacementConstraint=z.relativePlacementConstraint)},"processConstraints");b.nestingFactor!=null&&(v.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=y.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=b.nestingFactor),b.gravity!=null&&(v.DEFAULT_GRAVITY_STRENGTH=y.DEFAULT_GRAVITY_STRENGTH=b.gravity),b.numIter!=null&&(v.MAX_ITERATIONS=y.MAX_ITERATIONS=b.numIter),b.gravityRange!=null&&(v.DEFAULT_GRAVITY_RANGE_FACTOR=y.DEFAULT_GRAVITY_RANGE_FACTOR=b.gravityRange),b.gravityCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_STRENGTH=y.DEFAULT_COMPOUND_GRAVITY_STRENGTH=b.gravityCompound),b.gravityRangeCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=y.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=b.gravityRangeCompound),b.initialEnergyOnIncremental!=null&&(v.DEFAULT_COOLING_FACTOR_INCREMENTAL=y.DEFAULT_COOLING_FACTOR_INCREMENTAL=b.initialEnergyOnIncremental),b.tilingCompareBy!=null&&(v.TILING_COMPARE_BY=b.tilingCompareBy),b.quality=="proof"?m.QUALITY=2:m.QUALITY=0,v.NODE_DIMENSIONS_INCLUDE_LABELS=y.NODE_DIMENSIONS_INCLUDE_LABELS=m.NODE_DIMENSIONS_INCLUDE_LABELS=b.nodeDimensionsIncludeLabels,v.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=m.DEFAULT_INCREMENTAL=!b.randomize,v.ANIMATE=y.ANIMATE=m.ANIMATE=b.animate,v.TILE=b.tile,v.TILING_PADDING_VERTICAL=typeof b.tilingPaddingVertical=="function"?b.tilingPaddingVertical.call():b.tilingPaddingVertical,v.TILING_PADDING_HORIZONTAL=typeof b.tilingPaddingHorizontal=="function"?b.tilingPaddingHorizontal.call():b.tilingPaddingHorizontal,v.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=m.DEFAULT_INCREMENTAL=!0,v.PURE_INCREMENTAL=!b.randomize,m.DEFAULT_UNIFORM_LEAF_NODE_SIZES=b.uniformNodeDimensions,b.step=="transformed"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!1),b.step=="enforced"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!1),b.step=="cose"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!0),b.step=="all"&&(b.randomize?v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!0),b.fixedNodeConstraint||b.alignmentConstraint||b.relativePlacementConstraint?v.TREE_REDUCTION_ON_INCREMENTAL=!1:v.TREE_REDUCTION_ON_INCREMENTAL=!0;var I=new d,P=I.newGraphManager();return A(P.addRoot(),h.getTopMostNodes(R),I,b),M(I,P,C),O(I,b),I.runLayout(),D},"coseLayout");s.exports={coseLayout:x}},212:(s,o,u)=>{var h=function(){function x(b,w){for(var T=0;T<w.length;T++){var k=w[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return l(x,"defineProperties"),function(b,w,T){return w&&x(b.prototype,w),T&&x(b,T),b}}();function d(x,b){if(!(x instanceof b))throw new TypeError("Cannot call a class as a function")}l(d,"_classCallCheck");var p=u(658),f=u(548),g=u(657).spectralLayout,m=u(816).coseLayout,y=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:l(function(x){return 4500},"nodeRepulsion"),idealEdgeLength:l(function(x){return 50},"idealEdgeLength"),edgeElasticity:l(function(x){return .45},"edgeElasticity"),nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:l(function(){},"ready"),stop:l(function(){},"stop")}),v=function(){function x(b){d(this,x),this.options=p({},y,b)}return l(x,"Layout"),h(x,[{key:"run",value:l(function(){var b=this.options,w=b.cy,T=b.eles,k=[],R=[],C=void 0,E=[];!b.fixedNodeConstraint||Array.isArray(b.fixedNodeConstraint)&&b.fixedNodeConstraint.length!=0||(b.fixedNodeConstraint=void 0),b.alignmentConstraint&&(!b.alignmentConstraint.vertical||Array.isArray(b.alignmentConstraint.vertical)&&b.alignmentConstraint.vertical.length!=0||(b.alignmentConstraint.vertical=void 0),!b.alignmentConstraint.horizontal||Array.isArray(b.alignmentConstraint.horizontal)&&b.alignmentConstraint.horizontal.length!=0||(b.alignmentConstraint.horizontal=void 0)),!b.relativePlacementConstraint||Array.isArray(b.relativePlacementConstraint)&&b.relativePlacementConstraint.length!=0||(b.relativePlacementConstraint=void 0),(b.fixedNodeConstraint||b.alignmentConstraint||b.relativePlacementConstraint)&&(b.tile=!1,b.packComponents=!1);var _=void 0,L=!1;if(w.layoutUtilities&&b.packComponents&&((_=w.layoutUtilities("get"))||(_=w.layoutUtilities()),L=!0),T.nodes().length>0)if(L){var D=f.getTopMostNodes(b.eles.nodes());if((C=f.connectComponents(w,b.eles,D)).forEach(function(H){var X=H.boundingBox();E.push({x:X.x1+X.w/2,y:X.y1+X.h/2})}),b.randomize&&C.forEach(function(H){b.eles=H,k.push(g(b))}),b.quality=="default"||b.quality=="proof"){var B=w.collection();if(b.tile){var S=0,N={nodeIndexes:new Map,xCoords:[],yCoords:[]},A=[];if(C.forEach(function(H,X){H.edges().length==0&&(H.nodes().forEach(function(Q,ne){B.merge(H.nodes()[ne]),Q.isParent()||(N.nodeIndexes.set(H.nodes()[ne].id(),S++),N.xCoords.push(H.nodes()[0].position().x),N.yCoords.push(H.nodes()[0].position().y))}),A.push(X))}),B.length>1){var M=B.boundingBox();E.push({x:M.x1+M.w/2,y:M.y1+M.h/2}),C.push(B),k.push(N);for(var O=A.length-1;O>=0;O--)C.splice(A[O],1),k.splice(A[O],1),E.splice(A[O],1)}}C.forEach(function(H,X){b.eles=H,R.push(m(b,k[X])),f.relocateComponent(E[X],R[X],b)})}else C.forEach(function(H,X){f.relocateComponent(E[X],k[X],b)});var I=new Set;if(C.length>1){var P=[],$=T.filter(function(H){return H.css("display")=="none"});C.forEach(function(H,X){var Q=void 0;if(b.quality=="draft"&&(Q=k[X].nodeIndexes),H.nodes().not($).length>0){var ne={edges:[],nodes:[]},ee=void 0;H.nodes().not($).forEach(function(pe){if(b.quality=="draft")if(pe.isParent()){var j=f.calcBoundingBox(pe,k[X].xCoords,k[X].yCoords,Q);ne.nodes.push({x:j.topLeftX,y:j.topLeftY,width:j.width,height:j.height})}else ee=Q.get(pe.id()),ne.nodes.push({x:k[X].xCoords[ee]-pe.boundingbox().w/2,y:k[X].yCoords[ee]-pe.boundingbox().h/2,width:pe.boundingbox().w,height:pe.boundingbox().h});else R[X][pe.id()]&&ne.nodes.push({x:R[X][pe.id()].getLeft(),y:R[X][pe.id()].getTop(),width:R[X][pe.id()].getWidth(),height:R[X][pe.id()].getHeight()})}),H.edges().forEach(function(pe){var j=pe.source(),ce=pe.target();if(j.css("display")!="none"&&ce.css("display")!="none")if(b.quality=="draft"){var le=Q.get(j.id()),Ae=Q.get(ce.id()),Se=[],ze=[];if(j.isParent()){var Pe=f.calcBoundingBox(j,k[X].xCoords,k[X].yCoords,Q);Se.push(Pe.topLeftX+Pe.width/2),Se.push(Pe.topLeftY+Pe.height/2)}else Se.push(k[X].xCoords[le]),Se.push(k[X].yCoords[le]);if(ce.isParent()){var Ve=f.calcBoundingBox(ce,k[X].xCoords,k[X].yCoords,Q);ze.push(Ve.topLeftX+Ve.width/2),ze.push(Ve.topLeftY+Ve.height/2)}else ze.push(k[X].xCoords[Ae]),ze.push(k[X].yCoords[Ae]);ne.edges.push({startX:Se[0],startY:Se[1],endX:ze[0],endY:ze[1]})}else R[X][j.id()]&&R[X][ce.id()]&&ne.edges.push({startX:R[X][j.id()].getCenterX(),startY:R[X][j.id()].getCenterY(),endX:R[X][ce.id()].getCenterX(),endY:R[X][ce.id()].getCenterY()})}),ne.nodes.length>0&&(P.push(ne),I.add(X))}});var z=_.packComponents(P,b.randomize).shifts;if(b.quality=="draft")k.forEach(function(H,X){var Q=H.xCoords.map(function(ee){return ee+z[X].dx}),ne=H.yCoords.map(function(ee){return ee+z[X].dy});H.xCoords=Q,H.yCoords=ne});else{var G=0;I.forEach(function(H){Object.keys(R[H]).forEach(function(X){var Q=R[H][X];Q.setCenter(Q.getCenterX()+z[G].dx,Q.getCenterY()+z[G].dy)}),G++})}}}else{var q=b.eles.boundingBox();if(E.push({x:q.x1+q.w/2,y:q.y1+q.h/2}),b.randomize){var J=g(b);k.push(J)}b.quality=="default"||b.quality=="proof"?(R.push(m(b,k[0])),f.relocateComponent(E[0],R[0],b)):f.relocateComponent(E[0],k[0],b)}var ie=l(function(H,X){if(b.quality=="default"||b.quality=="proof"){typeof H=="number"&&(H=X);var Q=void 0,ne=void 0,ee=H.data("id");return R.forEach(function(j){ee in j&&(Q={x:j[ee].getRect().getCenterX(),y:j[ee].getRect().getCenterY()},ne=j[ee])}),b.nodeDimensionsIncludeLabels&&(ne.labelWidth&&(ne.labelPosHorizontal=="left"?Q.x+=ne.labelWidth/2:ne.labelPosHorizontal=="right"&&(Q.x-=ne.labelWidth/2)),ne.labelHeight&&(ne.labelPosVertical=="top"?Q.y+=ne.labelHeight/2:ne.labelPosVertical=="bottom"&&(Q.y-=ne.labelHeight/2))),Q==null&&(Q={x:H.position("x"),y:H.position("y")}),{x:Q.x,y:Q.y}}var pe=void 0;return k.forEach(function(j){var ce=j.nodeIndexes.get(H.id());ce!=null&&(pe={x:j.xCoords[ce],y:j.yCoords[ce]})}),pe==null&&(pe={x:H.position("x"),y:H.position("y")}),{x:pe.x,y:pe.y}},"getPositions");if(b.quality=="default"||b.quality=="proof"||b.randomize){var te=f.calcParentsWithoutChildren(w,T),W=T.filter(function(H){return H.css("display")=="none"});b.eles=T.not(W),T.nodes().not(":parent").not(W).layoutPositions(this,b,ie),te.length>0&&te.forEach(function(H){H.position(ie(H))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")},"run")}]),x}();s.exports=v},657:(s,o,u)=>{var h=u(548),d=u(140).layoutBase.Matrix,p=u(140).layoutBase.SVD,f=l(function(g){var m=g.cy,y=g.eles,v=y.nodes(),x=y.nodes(":parent"),b=new Map,w=new Map,T=new Map,k=[],R=[],C=[],E=[],_=[],L=[],D=[],B=[],S=void 0,N=1e8,A=1e-9,M=g.piTol,O=g.samplingType,I=g.nodeSeparation,P=void 0,$=l(function(){for(var K=0,ve=0,Y=!1;ve<P;){K=Math.floor(Math.random()*S),Y=!1;for(var he=0;he<ve;he++)if(E[he]==K){Y=!0;break}Y||(E[ve]=K,ve++)}},"randomSampleCR"),z=l(function(K,ve,Y){for(var he=[],se=0,be=0,Te=0,_e=void 0,Re=[],ke=0,Be=1,Oe=0;Oe<S;Oe++)Re[Oe]=N;for(he[be]=K,Re[K]=0;be>=se;){Te=he[se++];for(var ft=k[Te],Et=0;Et<ft.length;Et++)Re[_e=w.get(ft[Et])]==N&&(Re[_e]=Re[Te]+1,he[++be]=_e);L[Te][ve]=Re[Te]*I}if(Y){for(var Ye=0;Ye<S;Ye++)L[Ye][ve]<_[Ye]&&(_[Ye]=L[Ye][ve]);for(var bt=0;bt<S;bt++)_[bt]>ke&&(ke=_[bt],Be=bt)}return Be},"BFS"),G=l(function(K){var ve=void 0;if(K){ve=Math.floor(Math.random()*S);for(var Y=0;Y<S;Y++)_[Y]=N;for(var he=0;he<P;he++)E[he]=ve,ve=z(ve,he,K)}else{$();for(var se=0;se<P;se++)z(E[se],se,K,!1)}for(var be=0;be<S;be++)for(var Te=0;Te<P;Te++)L[be][Te]*=L[be][Te];for(var _e=0;_e<P;_e++)D[_e]=[];for(var Re=0;Re<P;Re++)for(var ke=0;ke<P;ke++)D[Re][ke]=L[E[ke]][Re]},"allBFS"),q=l(function(){for(var K=p.svd(D),ve=K.S,Y=K.U,he=K.V,se=ve[0]*ve[0]*ve[0],be=[],Te=0;Te<P;Te++){be[Te]=[];for(var _e=0;_e<P;_e++)be[Te][_e]=0,Te==_e&&(be[Te][_e]=ve[Te]/(ve[Te]*ve[Te]+se/(ve[Te]*ve[Te])))}B=d.multMat(d.multMat(he,be),d.transpose(Y))},"sample"),J=l(function(){for(var K=void 0,ve=void 0,Y=[],he=[],se=[],be=[],Te=0;Te<S;Te++)Y[Te]=Math.random(),he[Te]=Math.random();Y=d.normalize(Y),he=d.normalize(he);for(var _e=A,Re=A,ke=void 0;;){for(var Be=0;Be<S;Be++)se[Be]=Y[Be];if(Y=d.multGamma(d.multL(d.multGamma(se),L,B)),K=d.dotProduct(se,Y),Y=d.normalize(Y),_e=d.dotProduct(se,Y),(ke=Math.abs(_e/Re))<=1+M&&ke>=1)break;Re=_e}for(var Oe=0;Oe<S;Oe++)se[Oe]=Y[Oe];for(Re=A;;){for(var ft=0;ft<S;ft++)be[ft]=he[ft];if(be=d.minusOp(be,d.multCons(se,d.dotProduct(se,be))),he=d.multGamma(d.multL(d.multGamma(be),L,B)),ve=d.dotProduct(be,he),he=d.normalize(he),_e=d.dotProduct(be,he),(ke=Math.abs(_e/Re))<=1+M&&ke>=1)break;Re=_e}for(var Et=0;Et<S;Et++)be[Et]=he[Et];R=d.multCons(se,Math.sqrt(Math.abs(K))),C=d.multCons(be,Math.sqrt(Math.abs(ve)))},"powerIteration");h.connectComponents(m,y,h.getTopMostNodes(v),b),x.forEach(function(K){h.connectComponents(m,y,h.getTopMostNodes(K.descendants().intersection(y)),b)});for(var ie=0,te=0;te<v.length;te++)v[te].isParent()||w.set(v[te].id(),ie++);var W=!0,H=!1,X=void 0;try{for(var Q,ne=b.keys()[Symbol.iterator]();!(W=(Q=ne.next()).done);W=!0){var ee=Q.value;w.set(ee,ie++)}}catch(K){H=!0,X=K}finally{try{!W&&ne.return&&ne.return()}finally{if(H)throw X}}for(var pe=0;pe<w.size;pe++)k[pe]=[];x.forEach(function(K){for(var ve=K.children().intersection(y);ve.nodes(":childless").length==0;)ve=ve.nodes()[0].children().intersection(y);var Y=0,he=ve.nodes(":childless")[0].connectedEdges().length;ve.nodes(":childless").forEach(function(se,be){se.connectedEdges().length<he&&(he=se.connectedEdges().length,Y=be)}),T.set(K.id(),ve.nodes(":childless")[Y].id())}),v.forEach(function(K){var ve=void 0;ve=K.isParent()?w.get(T.get(K.id())):w.get(K.id()),K.neighborhood().nodes().forEach(function(Y){y.intersection(K.edgesWith(Y)).length>0&&(Y.isParent()?k[ve].push(T.get(Y.id())):k[ve].push(Y.id()))})});var j=l(function(K){var ve=w.get(K),Y=void 0;b.get(K).forEach(function(he){Y=m.getElementById(he).isParent()?T.get(he):he,k[ve].push(Y),k[w.get(Y)].push(K)})},"_loop"),ce=!0,le=!1,Ae=void 0;try{for(var Se,ze=b.keys()[Symbol.iterator]();!(ce=(Se=ze.next()).done);ce=!0)j(Se.value)}catch(K){le=!0,Ae=K}finally{try{!ce&&ze.return&&ze.return()}finally{if(le)throw Ae}}var Pe=void 0;if((S=w.size)>2){P=S<g.sampleSize?S:g.sampleSize;for(var Ve=0;Ve<S;Ve++)L[Ve]=[];for(var Ue=0;Ue<P;Ue++)B[Ue]=[];return g.quality=="draft"||g.step=="all"?(G(O),q(),J(),Pe={nodeIndexes:w,xCoords:R,yCoords:C}):(w.forEach(function(K,ve){R.push(m.getElementById(ve).position("x")),C.push(m.getElementById(ve).position("y"))}),Pe={nodeIndexes:w,xCoords:R,yCoords:C}),Pe}var Ge=w.keys(),V=m.getElementById(Ge.next().value),ue=V.position(),oe=V.outerWidth();if(R.push(ue.x),C.push(ue.y),S==2){var we=m.getElementById(Ge.next().value).outerWidth();R.push(ue.x+oe/2+we/2+g.idealEdgeLength),C.push(ue.y)}return Pe={nodeIndexes:w,xCoords:R,yCoords:C}},"spectralLayout");s.exports={spectralLayout:f}},579:(s,o,u)=>{var h=u(212),d=l(function(p){p&&p("layout","fcose",h)},"register");typeof cytoscape<"u"&&d(cytoscape),s.exports=d},140:s=>{s.exports=r}},i={};function a(s){var o=i[s];if(o!==void 0)return o.exports;var u=i[s]={exports:{}};return n[s](u,u.exports,a),u.exports}return l(a,"__webpack_require__"),a(579)})()})}}),DB={L:"left",R:"right",T:"top",B:"bottom"},OB={L:l(e=>`${e},${e/2} 0,${e} 0,0`,"L"),R:l(e=>`0,${e/2} ${e},0 ${e},${e}`,"R"),T:l(e=>`0,0 ${e},0 ${e/2},${e}`,"T"),B:l(e=>`${e/2},0 ${e},${e} 0,${e}`,"B")},dx={L:l((e,t)=>e-t+2,"L"),R:l((e,t)=>e-2,"R"),T:l((e,t)=>e-t+2,"T"),B:l((e,t)=>e-2,"B")},fNe=l(function(e){return Vi(e)?e==="L"?"R":"L":e==="T"?"B":"T"},"getOppositeArchitectureDirection"),PB=l(function(e){return e==="L"||e==="R"||e==="T"||e==="B"},"isArchitectureDirection"),Vi=l(function(e){return e==="L"||e==="R"},"isArchitectureDirectionX"),dc=l(function(e){return e==="T"||e==="B"},"isArchitectureDirectionY"),fce=l(function(e,t){const r=Vi(e)&&dc(t),n=dc(e)&&Vi(t);return r||n},"isArchitectureDirectionXY"),gNe=l(function(e){const t=e[0],r=e[1],n=Vi(t)&&dc(r),i=dc(t)&&Vi(r);return n||i},"isArchitecturePairXY"),mNe=l(function(e){return e!=="LL"&&e!=="RR"&&e!=="TT"&&e!=="BB"},"isValidArchitectureDirectionPair"),OS=l(function(e,t){const r=`${e}${t}`;return mNe(r)?r:void 0},"getArchitectureDirectionPair"),yNe=l(function([e,t],r){const n=r[0],i=r[1];return Vi(n)?dc(i)?[e+(n==="L"?-1:1),t+(i==="T"?1:-1)]:[e+(n==="L"?-1:1),t]:Vi(i)?[e+(i==="L"?1:-1),t+(n==="T"?1:-1)]:[e,t+(n==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),vNe=l(function(e){return e==="LT"||e==="TL"?[1,1]:e==="BL"||e==="LB"?[1,-1]:e==="BR"||e==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),xNe=l(function(e){return e.type==="service"},"isArchitectureService"),bNe=l(function(e){return e.type==="junction"},"isArchitectureJunction"),gce=l(e=>e.data(),"edgeData"),ud=l(e=>e.data(),"nodeData"),mce=lr.architecture,Vt=new h1(()=>({nodes:{},groups:{},edges:[],registeredIds:{},config:mce,dataStructures:void 0,elements:{}})),wNe=l(()=>{Vt.reset(),Hn()},"clear"),kNe=l(function({id:e,icon:t,in:r,title:n,iconText:i}){if(Vt.records.registeredIds[e]!==void 0)throw new Error(`The service id [${e}] is already in use by another ${Vt.records.registeredIds[e]}`);if(r!==void 0){if(e===r)throw new Error(`The service [${e}] cannot be placed within itself`);if(Vt.records.registeredIds[r]===void 0)throw new Error(`The service [${e}]'s parent does not exist. Please make sure the parent is created before this service`);if(Vt.records.registeredIds[r]==="node")throw new Error(`The service [${e}]'s parent is not a group`)}Vt.records.registeredIds[e]="node",Vt.records.nodes[e]={id:e,type:"service",icon:t,iconText:i,title:n,edges:[],in:r}},"addService"),TNe=l(()=>Object.values(Vt.records.nodes).filter(xNe),"getServices"),_Ne=l(function({id:e,in:t}){Vt.records.registeredIds[e]="node",Vt.records.nodes[e]={id:e,type:"junction",edges:[],in:t}},"addJunction"),ENe=l(()=>Object.values(Vt.records.nodes).filter(bNe),"getJunctions"),CNe=l(()=>Object.values(Vt.records.nodes),"getNodes"),SNe=l(e=>Vt.records.nodes[e],"getNode"),ANe=l(function({id:e,icon:t,in:r,title:n}){if(Vt.records.registeredIds[e]!==void 0)throw new Error(`The group id [${e}] is already in use by another ${Vt.records.registeredIds[e]}`);if(r!==void 0){if(e===r)throw new Error(`The group [${e}] cannot be placed within itself`);if(Vt.records.registeredIds[r]===void 0)throw new Error(`The group [${e}]'s parent does not exist. Please make sure the parent is created before this group`);if(Vt.records.registeredIds[r]==="node")throw new Error(`The group [${e}]'s parent is not a group`)}Vt.records.registeredIds[e]="group",Vt.records.groups[e]={id:e,icon:t,title:n,in:r}},"addGroup"),LNe=l(()=>Object.values(Vt.records.groups),"getGroups"),NNe=l(function({lhsId:e,rhsId:t,lhsDir:r,rhsDir:n,lhsInto:i,rhsInto:a,lhsGroup:s,rhsGroup:o,title:u}){if(!PB(r))throw new Error(`Invalid direction given for left hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${r}`);if(!PB(n))throw new Error(`Invalid direction given for right hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${n}`);if(Vt.records.nodes[e]===void 0&&Vt.records.groups[e]===void 0)throw new Error(`The left-hand id [${e}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(Vt.records.nodes[t]===void 0&&Vt.records.groups[e]===void 0)throw new Error(`The right-hand id [${t}] does not yet exist. Please create the service/group before declaring an edge to it.`);const h=Vt.records.nodes[e].in,d=Vt.records.nodes[t].in;if(s&&h&&d&&h==d)throw new Error(`The left-hand id [${e}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(o&&h&&d&&h==d)throw new Error(`The right-hand id [${t}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);const p={lhsId:e,lhsDir:r,lhsInto:i,lhsGroup:s,rhsId:t,rhsDir:n,rhsInto:a,rhsGroup:o,title:u};Vt.records.edges.push(p),Vt.records.nodes[e]&&Vt.records.nodes[t]&&(Vt.records.nodes[e].edges.push(Vt.records.edges[Vt.records.edges.length-1]),Vt.records.nodes[t].edges.push(Vt.records.edges[Vt.records.edges.length-1]))},"addEdge"),INe=l(()=>Vt.records.edges,"getEdges"),MNe=l(()=>{if(Vt.records.dataStructures===void 0){const e=Object.entries(Vt.records.nodes).reduce((s,[o,u])=>(s[o]=u.edges.reduce((h,d)=>{if(d.lhsId===o){const p=OS(d.lhsDir,d.rhsDir);p&&(h[p]=d.rhsId)}else{const p=OS(d.rhsDir,d.lhsDir);p&&(h[p]=d.lhsId)}return h},{}),s),{}),t=Object.keys(e)[0],r={[t]:1},n=Object.keys(e).reduce((s,o)=>o===t?s:{...s,[o]:1},{}),i=l(s=>{const o={[s]:[0,0]},u=[s];for(;u.length>0;){const h=u.shift();if(h){r[h]=1,delete n[h];const d=e[h],[p,f]=o[h];Object.entries(d).forEach(([g,m])=>{r[m]||(o[m]=yNe([p,f],g),u.push(m))})}}return o},"BFS"),a=[i(t)];for(;Object.keys(n).length>0;)a.push(i(Object.keys(n)[0]));Vt.records.dataStructures={adjList:e,spatialMaps:a}}return Vt.records.dataStructures},"getDataStructures"),RNe=l((e,t)=>{Vt.records.elements[e]=t},"setElementForId"),DNe=l(e=>Vt.records.elements[e],"getElementById"),R5={clear:wNe,setDiagramTitle:Fi,getDiagramTitle:di,setAccTitle:Vn,getAccTitle:ci,setAccDescription:ui,getAccDescription:hi,addService:kNe,getServices:TNe,addJunction:_Ne,getJunctions:ENe,getNodes:CNe,getNode:SNe,addGroup:ANe,getGroups:LNe,addEdge:NNe,getEdges:INe,setElementForId:RNe,getElementById:DNe,getDataStructures:MNe};function Fn(e){const t=ye().architecture;return t!=null&&t[e]?t[e]:mce[e]}l(Fn,"getConfigField");var ONe=l((e,t)=>{q2(e,t),e.groups.map(t.addGroup),e.services.map(r=>t.addService({...r,type:"service"})),e.junctions.map(r=>t.addJunction({...r,type:"junction"})),e.edges.map(t.addEdge)},"populateDb"),PNe={parse:l(async e=>{const t=await eh("architecture",e);re.debug(t),ONe(t,R5)},"parse")},BNe=l(e=>`
  .edge {
    stroke-width: ${e.archEdgeWidth};
    stroke: ${e.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${e.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${e.archGroupBorderColor};
    stroke-width: ${e.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),$Ne=Ei(pNe()),Ph=l(e=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${e}</g>`,"wrapIcon"),m2={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:Ph('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:Ph('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:Ph('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:Ph('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:Ph('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:vY,blank:{body:Ph("")}}},FNe=l(async function(e,t){const r=Fn("padding"),n=Fn("iconSize"),i=n/2,a=n/6,s=a/2;await Promise.all(t.edges().map(async o=>{var E,_;const{source:u,sourceDir:h,sourceArrow:d,sourceGroup:p,target:f,targetDir:g,targetArrow:m,targetGroup:y,label:v}=gce(o);let{x,y:b}=o[0].sourceEndpoint();const{x:w,y:T}=o[0].midpoint();let{x:k,y:R}=o[0].targetEndpoint();const C=r+4;if(p&&(Vi(h)?x+=h==="L"?-C:C:b+=h==="T"?-C:C+18),y&&(Vi(g)?k+=g==="L"?-C:C:R+=g==="T"?-C:C+18),p||((E=R5.getNode(u))==null?void 0:E.type)!=="junction"||(Vi(h)?x+=h==="L"?i:-i:b+=h==="T"?i:-i),y||((_=R5.getNode(f))==null?void 0:_.type)!=="junction"||(Vi(g)?k+=g==="L"?i:-i:R+=g==="T"?i:-i),o[0]._private.rscratch){const L=e.insert("g");if(L.insert("path").attr("d",`M ${x},${b} L ${w},${T} L${k},${R} `).attr("class","edge"),d){const D=Vi(h)?dx[h](x,a):x-s,B=dc(h)?dx[h](b,a):b-s;L.insert("polygon").attr("points",OB[h](a)).attr("transform",`translate(${D},${B})`).attr("class","arrow")}if(m){const D=Vi(g)?dx[g](k,a):k-s,B=dc(g)?dx[g](R,a):R-s;L.insert("polygon").attr("points",OB[g](a)).attr("transform",`translate(${D},${B})`).attr("class","arrow")}if(v){const D=fce(h,g)?"XY":Vi(h)?"X":"Y";let B=0;B=D==="X"?Math.abs(x-k):D==="Y"?Math.abs(b-R)/1.5:Math.abs(x-k)/2;const S=L.append("g");if(await ls(S,v,{useHtmlLabels:!1,width:B,classes:"architecture-service-label"},ye()),S.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),D==="X")S.attr("transform","translate("+w+", "+T+")");else if(D==="Y")S.attr("transform","translate("+w+", "+T+") rotate(-90)");else if(D==="XY"){const N=OS(h,g);if(N&&gNe(N)){const A=S.node().getBoundingClientRect(),[M,O]=vNe(N);S.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*M*O*45})`);const I=S.node().getBoundingClientRect();S.attr("transform",`
                translate(${w}, ${T-A.height/2})
                translate(${M*I.width/2}, ${O*I.height/2})
                rotate(${-1*M*O*45}, 0, ${A.height/2})
              `)}}}}}))},"drawEdges"),zNe=l(async function(e,t){const r=.75*Fn("padding"),n=Fn("fontSize"),i=Fn("iconSize")/2;await Promise.all(t.nodes().map(async a=>{const s=ud(a);if(s.type==="group"){const{h:o,w:u,x1:h,y1:d}=a.boundingBox();e.append("rect").attr("x",h+i).attr("y",d+i).attr("width",u).attr("height",o).attr("class","node-bkg");const p=e.append("g");let f=h,g=d;if(s.icon){const m=p.append("g");m.html(`<g>${await Wu(s.icon,{height:r,width:r,fallbackPrefix:m2.prefix})}</g>`),m.attr("transform","translate("+(f+i+1)+", "+(g+i+1)+")"),f+=r,g+=n/2-1-2}if(s.label){const m=p.append("g");await ls(m,s.label,{useHtmlLabels:!1,width:u,classes:"architecture-service-label"},ye()),m.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),m.attr("transform","translate("+(f+i+4)+", "+(g+i+2)+")")}}}))},"drawGroups"),UNe=l(async function(e,t,r){for(const n of r){const i=t.append("g"),a=Fn("iconSize");if(n.title){const h=i.append("g");await ls(h,n.title,{useHtmlLabels:!1,width:1.5*a,classes:"architecture-service-label"},ye()),h.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),h.attr("transform","translate("+a/2+", "+a+")")}const s=i.append("g");if(n.icon)s.html(`<g>${await Wu(n.icon,{height:a,width:a,fallbackPrefix:m2.prefix})}</g>`);else if(n.iconText){s.html(`<g>${await Wu("blank",{height:a,width:a,fallbackPrefix:m2.prefix})}</g>`);const h=s.append("g").append("foreignObject").attr("width",a).attr("height",a).append("div").attr("class","node-icon-text").attr("style",`height: ${a}px;`).append("div").html(n.iconText),d=parseInt(window.getComputedStyle(h.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;h.attr("style",`-webkit-line-clamp: ${Math.floor((a-2)/d)};`)}else s.append("path").attr("class","node-bkg").attr("id","node-"+n.id).attr("d",`M0 ${a} v${-a} q0,-5 5,-5 h${a} q5,0 5,5 v${a} H0 Z`);i.attr("class","architecture-service");const{width:o,height:u}=i._groups[0][0].getBBox();n.width=o,n.height=u,e.setElementForId(n.id,i)}return 0},"drawServices"),GNe=l(function(e,t,r){r.forEach(n=>{const i=t.append("g"),a=Fn("iconSize");i.append("g").append("rect").attr("id","node-"+n.id).attr("fill-opacity","0").attr("width",a).attr("height",a),i.attr("class","architecture-junction");const{width:s,height:o}=i._groups[0][0].getBBox();i.width=s,i.height=o,e.setElementForId(n.id,i)})},"drawJunctions");function yce(e,t){e.forEach(r=>{t.add({group:"nodes",data:{type:"service",id:r.id,icon:r.icon,label:r.title,parent:r.in,width:Fn("iconSize"),height:Fn("iconSize")},classes:"node-service"})})}function vce(e,t){e.forEach(r=>{t.add({group:"nodes",data:{type:"junction",id:r.id,parent:r.in,width:Fn("iconSize"),height:Fn("iconSize")},classes:"node-junction"})})}function xce(e,t){t.nodes().map(r=>{const n=ud(r);n.type!=="group"&&(n.x=r.position().x,n.y=r.position().y,e.getElementById(n.id).attr("transform","translate("+(n.x||0)+","+(n.y||0)+")"))})}function bce(e,t){e.forEach(r=>{t.add({group:"nodes",data:{type:"group",id:r.id,icon:r.icon,label:r.title,parent:r.in},classes:"node-group"})})}function wce(e,t){e.forEach(r=>{const{lhsId:n,rhsId:i,lhsInto:a,lhsGroup:s,rhsInto:o,lhsDir:u,rhsDir:h,rhsGroup:d,title:p}=r,f=fce(r.lhsDir,r.rhsDir)?"segments":"straight",g={id:`${n}-${i}`,label:p,source:n,sourceDir:u,sourceArrow:a,sourceGroup:s,sourceEndpoint:u==="L"?"0 50%":u==="R"?"100% 50%":u==="T"?"50% 0":"50% 100%",target:i,targetDir:h,targetArrow:o,targetGroup:d,targetEndpoint:h==="L"?"0 50%":h==="R"?"100% 50%":h==="T"?"50% 0":"50% 100%"};t.add({group:"edges",data:g,classes:f})})}function kce(e){const t=e.map(i=>{const a={},s={};return Object.entries(i).forEach(([o,[u,h]])=>{a[h]||(a[h]=[]),s[u]||(s[u]=[]),a[h].push(o),s[u].push(o)}),{horiz:Object.values(a).filter(o=>o.length>1),vert:Object.values(s).filter(o=>o.length>1)}}),[r,n]=t.reduce(([i,a],{horiz:s,vert:o})=>[[...i,...s],[...a,...o]],[[],[]]);return{horizontal:r,vertical:n}}function Tce(e){const t=[],r=l(i=>`${i[0]},${i[1]}`,"posToStr"),n=l(i=>i.split(",").map(a=>parseInt(a)),"strToPos");return e.forEach(i=>{const a=Object.fromEntries(Object.entries(i).map(([h,d])=>[r(d),h])),s=[r([0,0])],o={},u={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;s.length>0;){const h=s.shift();if(h){o[h]=1;const d=a[h];if(d){const p=n(h);Object.entries(u).forEach(([f,g])=>{const m=r([p[0]+g[0],p[1]+g[1]]),y=a[m];y&&!o[m]&&(s.push(m),t.push({[DB[f]]:y,[DB[fNe(f)]]:d,gap:1.5*Fn("iconSize")}))})}}}}),t}function _ce(e,t,r,n,{spatialMaps:i}){return new Promise(a=>{const s=Qe("body").append("div").attr("id","cy").attr("style","display:none"),o=Vs({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${Fn("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${Fn("padding")}px`}}]});s.remove(),bce(r,o),yce(e,o),vce(t,o),wce(n,o);const u=kce(i),h=Tce(i),d=o.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(p){const[f,g]=p.connectedNodes(),{parent:m}=ud(f),{parent:y}=ud(g);return m===y?1.5*Fn("iconSize"):.5*Fn("iconSize")},edgeElasticity(p){const[f,g]=p.connectedNodes(),{parent:m}=ud(f),{parent:y}=ud(g);return m===y?.45:.001},alignmentConstraint:u,relativePlacementConstraint:h});d.one("layoutstop",()=>{var f;function p(g,m,y,v){let x,b;const{x:w,y:T}=g,{x:k,y:R}=m;b=(v-T+(w-y)*(T-R)/(w-k))/Math.sqrt(1+Math.pow((T-R)/(w-k),2)),x=Math.sqrt(Math.pow(v-T,2)+Math.pow(y-w,2)-Math.pow(b,2)),x/=Math.sqrt(Math.pow(k-w,2)+Math.pow(R-T,2));let C=(k-w)*(v-T)-(R-T)*(y-w);switch(!0){case C>=0:C=1;break;case C<0:C=-1}let E=(k-w)*(y-w)+(R-T)*(v-T);switch(!0){case E>=0:E=1;break;case E<0:E=-1}return b=Math.abs(b)*C,x*=E,{distances:b,weights:x}}l(p,"getSegmentWeights"),o.startBatch();for(const g of Object.values(o.edges()))if((f=g.data)!=null&&f.call(g)){const{x:m,y}=g.source().position(),{x:v,y:x}=g.target().position();if(m!==v&&y!==x){const b=g.sourceEndpoint(),w=g.targetEndpoint(),{sourceDir:T}=gce(g),[k,R]=dc(T)?[b.x,w.y]:[w.x,b.y],{weights:C,distances:E}=p(b,w,k,R);g.style("segment-distances",E),g.style("segment-weights",C)}}o.endBatch(),d.run()}),d.run(),o.ready(p=>{re.info("Ready",p),a(o)})})}bY([{name:m2.prefix,icons:m2}]),Vs.use($Ne.default),l(yce,"addServices"),l(vce,"addJunctions"),l(xce,"positionNodes"),l(bce,"addGroups"),l(wce,"addEdges"),l(kce,"getAlignments"),l(Tce,"getRelativeConstraints"),l(_ce,"layoutArchitecture");var qNe=l(async(e,t,r,n)=>{const i=n.db,a=i.getServices(),s=i.getJunctions(),o=i.getGroups(),u=i.getEdges(),h=i.getDataStructures(),d=mc(t),p=d.append("g");p.attr("class","architecture-edges");const f=d.append("g");f.attr("class","architecture-services");const g=d.append("g");g.attr("class","architecture-groups"),await UNe(i,f,a),GNe(i,f,s);const m=await _ce(a,s,o,u,h);await FNe(p,m),await zNe(g,m),xce(i,m),v0(void 0,d,Fn("padding"),Fn("useMaxWidth"))},"draw"),jNe={parser:PNe,db:R5,renderer:{draw:qNe},styles:BNe},YNe=Object.freeze({__proto__:null,diagram:jNe}),WNe=Object.freeze({__proto__:null,InfoModule:eie,createInfoServices:lC}),HNe=Object.freeze({__proto__:null,PacketModule:tie,createPacketServices:cC}),VNe=Object.freeze({__proto__:null,PieModule:Zne,createPieServices:aC}),XNe=Object.freeze({__proto__:null,ArchitectureModule:Qne,createArchitectureServices:sC}),KNe=Object.freeze({__proto__:null,GitGraphModule:Jne,createGitGraphServices:oC});export{QNe as default};
