(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{444:function(e,t,r){e.exports=r.p+"img/logo-06.8c72d74.svg"},492:function(e,t,r){var content=r(622);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(62).default)("ca553d30",content,!0,{sourceMap:!1})},619:function(e,t,r){e.exports=r.p+"img/photo.cac05f9.svg"},620:function(e,t,r){e.exports=r.p+"img/telecharger.782c01b.png"},621:function(e,t,r){"use strict";r(492)},622:function(e,t,r){var o=r(61)(!1);o.push([e.i,"#wedding-design-system[data-v-bd1cf8b2]{background-color:var(--color-background-strong);width:100%;height:100%}.title[data-v-bd1cf8b2]{height:10vh;justify-content:center}.title[data-v-bd1cf8b2],form[data-v-bd1cf8b2]{display:flex;align-items:center}form[data-v-bd1cf8b2]{height:90vh;flex-direction:column;justify-content:space-around}.background-img[data-v-bd1cf8b2]{width:75%;margin-bottom:1rem}.action[data-v-bd1cf8b2]{display:flex;flex-wrap:wrap;grid-gap:2rem;gap:2rem;align-items:center;justify-content:space-around;padding-bottom:1rem;padding-top:1rem}#imageUpload+label.noAnimate[data-v-bd1cf8b2]{-webkit-animation:none;animation:none}#imageInput[data-v-bd1cf8b2],#imageUpload[data-v-bd1cf8b2]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}#imageInput+label[data-v-bd1cf8b2],#imageUpload+label[data-v-bd1cf8b2]{display:flex;flex-direction:column;align-items:center;cursor:pointer;-webkit-animation:blink 1s infinite alternate;animation:blink 1s infinite alternate}#imageInput+label[data-v-bd1cf8b2]{-webkit-animation-delay:.5s;animation-delay:.5s}#imageInput+label[data-v-bd1cf8b2]:focus,#imageInput+label[data-v-bd1cf8b2]:hover,#imageUpload+label[data-v-bd1cf8b2]:focus,#imageUpload+label[data-v-bd1cf8b2]:hover{background-color:var(--color-primary);color:var(--color-white)}#imageInput+label img[data-v-bd1cf8b2],#imageUpload+label img[data-v-bd1cf8b2]{height:3rem}#imageInput+label:focus img[data-v-bd1cf8b2],#imageInput+label:hover img[data-v-bd1cf8b2],#imageUpload+label:focus img[data-v-bd1cf8b2],#imageUpload+label:hover img[data-v-bd1cf8b2]{filter:invert(1)}.preview-container[data-v-bd1cf8b2]{width:80vw;height:70%;border:1px solid var(--color-black);overflow-y:scroll;border-radius:.25rem}.preview-item[data-v-bd1cf8b2]{display:flex;align-items:center;justify-content:space-between;box-sizing:border-box;padding:.75rem;grid-gap:.5rem;gap:.5rem}.preview-img[data-v-bd1cf8b2]{-o-object-fit:cover;object-fit:cover;overflow:hidden;height:30vw;width:30vw;border-radius:.5rem}.preview-progression-container[data-v-bd1cf8b2]{display:flex;flex-direction:column;align-items:center;justify-content:center;grid-gap:.25rem;gap:.25rem;width:30vw}.preview-progression[data-v-bd1cf8b2]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:.5rem;height:.5rem;width:30vw}.preview-progression[data-v-bd1cf8b2]::-webkit-progress-bar{background-color:var(--color-background-light);border-radius:.5rem}.preview-progression[data-v-bd1cf8b2]::-webkit-progress-value{background-color:var(--color-primary);border-radius:.5rem;-webkit-transition:all .3s ease;transition:all .3s ease}.preview-progression[data-v-bd1cf8b2]::-moz-progress-bar{background-color:var(--color-primary);border-radius:.5rem;-moz-transition:all .3s ease;transition:all .3s ease}@media (orientation:landscape){.background-img[data-v-bd1cf8b2]{height:50%;width:auto}}",""]),e.exports=o},690:function(e,t,r){"use strict";r.r(t);r(52);var o=r(18),n=r(162),c=(r(51),r(35),r(16),r(43),r(46),r(37),r(22),r(127),r(38),r(616),r(165),r(30),r(36),r(27),r(54),r(55),r(480)),l=r(509),d=r(444),f=r.n(d),m=r(619),v=r.n(m),h=r(620),w=r.n(h);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var I={layout:"mariage",data:function(){return{assets:[],Logo:f.a,firebaseApp:null,firebaseStorage:null,PhotoIcon:v.a,UploadIcon:w.a,isCaptureSupported:!1}},head:function(){return{htmlAttrs:{lang:this.$i18n.locale},title:"Mariage AgnÃ¨s et Florent - 19 AoÃ»t 2022"}},mounted:function(){var e={apiKey:this.$config.FIREBASE_API_KEY,authDomain:this.$config.FIREBASE_AUTH_DOMAIN,projectId:this.$config.FIREBASE_PROJECT_ID,storageBucket:this.$config.FIREBASE_STORAGE_BUCKET,messagingSenderId:this.$config.FIREBASE_MESSAGING_SENDER_ID,appId:this.$config.FIREBASE_APP_ID};this.firebaseApp=Object(c.a)(e),this.firebaseStorage=Object(l.b)(this.firebaseApp);var t=document.createElement("input");this.isCaptureSupported=void 0!==t.capture},methods:{handleImageChange:function(e){var t=this;this.assets=[].concat(Object(n.a)(this.assets),Object(n.a)(Array.from(e.target.files).map((function(e){var r="/photos/".concat(e.lastModified,"-").concat(e.name);return t.assets.find((function(e){return e.firestoreUrl===r}))?null:{firestoreUrl:r,objectUrl:URL.createObjectURL(e),rawFile:e,status:"starting",uploadPct:0}})).filter(Boolean))),this.assets.filter((function(e){return"starting"===e.status})).forEach((function(e){t.uploadOnePhoto(e)}))},uploadOnePhoto:function(e){var t,r=this,o=Object(l.d)(this.firebaseStorage,e.firestoreUrl),n=Object(l.e)(o,e.rawFile,{customMetadata:{userAgent:window.navigator.userAgent,lastModified:e.rawFile.lastModified,lastModifiedDate:null===(t=e.rawFile.lastModifiedDate)||void 0===t?void 0:t.toISOString(),originalName:e.rawFile.name}});this.assets=this.assets.map((function(a){return e.firestoreUrl===a.firestoreUrl?_(_({},a),{},{status:"running"}):a})),n.on("state_changed",(function(t){r.assets=r.assets.map((function(a){return e.firestoreUrl===a.firestoreUrl?_(_({},a),{},{status:t.state,uploadPct:t.bytesTransferred/t.totalBytes*100}):a}))}),(function(t){r.assets=r.assets.map((function(a){return e.firestoreUrl===a.firestoreUrl?_(_({},a),{},{status:"error",error:t}):a}))}),(function(){r.assets=r.assets.map((function(a){return e.firestoreUrl===a.firestoreUrl?_(_({},a),{},{status:"success"}):a}))}))},handleUploadingPhoto:function(){}}},U=(r(621),r(50)),component=Object(U.a)(I,(function(){var e=this,t=e._self._c;return t("main",{attrs:{id:"wedding-design-system"}},[t("h1",{staticClass:"title typography-title-2"},[e._v("Partage de photos et vidÃ©os")]),e._v(" "),t("form",{on:{submit:function(t){return t.preventDefault(),e.handleUploadingPhoto.apply(null,arguments)}}},[e.assets.length?e._e():t("img",{staticClass:"background-img",attrs:{src:e.Logo,alt:""}}),e._v(" "),e.assets.length?t("section",{staticClass:"preview-container"},e._l(e.assets,(function(r){return t("article",{key:r.firestoreUrl,staticClass:"preview-item"},[t("img",{staticClass:"preview-img",attrs:{src:r.objectUrl,alt:""}}),e._v(" "),["starting","running","paused"].includes(r.status)?t("div",{staticClass:"preview-progression-container"},[t("span",{staticClass:"typography-paragraph"},[e._v(e._s("paused"===r.status?"En pause":"En cours"))]),e._v(" "),t("progress",{staticClass:"preview-progression",attrs:{max:"100"},domProps:{value:r.uploadPct}})]):e._e(),e._v(" "),"error"===r.status?t("div",{staticClass:"preview-progression-container"},[e._v("\n          Une erreur est survenu.\n          "+e._s(r.error.message)+"\n        ")]):e._e(),e._v(" "),"success"===r.status?t("div",{staticClass:"preview-progression-container"},[e._v("\n          ChargÃ© ! ðŸŽ‰\n        ")]):e._e()])})),0):e._e(),e._v(" "),t("div",{staticClass:"action"},[t("input",{attrs:{id:"imageUpload",type:"file",accept:"video/*,image/*",multiple:""},on:{change:e.handleImageChange}}),e._v(" "),t("label",{class:{noAnimate:e.isCaptureSupported,button:!0},attrs:{for:"imageUpload"}},[t("img",{attrs:{alt:"",src:e.UploadIcon}}),e._v("\n        Partager photos & vidÃ©os\n      ")]),e._v(" "),e.isCaptureSupported?t("input",{attrs:{id:"imageInput",type:"file",accept:"image/*",capture:"user"},on:{change:e.handleImageChange}}):e._e(),e._v(" "),e.isCaptureSupported?t("label",{staticClass:"button",attrs:{for:"imageInput"}},[t("img",{attrs:{alt:"",src:e.PhotoIcon}}),e._v("\n        Prendre une photo\n      ")]):e._e()])])])}),[],!1,null,"bd1cf8b2",null);t.default=component.exports}}]);